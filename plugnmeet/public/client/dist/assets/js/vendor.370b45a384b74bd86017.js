/*! For license information please see vendor.370b45a384b74bd86017.js.LICENSE.txt */
(self.webpackChunkplugnmeet_client=self.webpackChunkplugnmeet_client||[]).push([[736],{60290:(e,t,n)=>{var r,i;self,e.exports=(r=n(67294),i=n(73935),function(){var e,t,n,a,o={7945:function(e,t,n){e.exports=n(1602)},45:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:function(){return i}})},6233:function(e,t){var n;n=function(e){e.version="0.3.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}(),n="undefined"!=typeof Buffer;function r(e){for(var n=-1,r=0,i=e.length-7;r<i;)n=(n=(n=(n=(n=(n=(n=(n=n>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])];for(;r<i+7;)n=n>>>8^t[255&(n^e[r++])];return-1^n}e.table=t,e.bstr=function(e){if(e.length>32768&&n)return r(new Buffer(e));for(var i=-1,a=e.length-1,o=0;o<a;)i=t[255&(i^e.charCodeAt(o++))]^i>>>8,i=t[255&(i^e.charCodeAt(o++))]^i>>>8;return o===a&&(i=i>>>8^t[255&(i^e.charCodeAt(o))]),-1^i},e.buf=function(e){if(e.length>1e4)return r(e);for(var n=-1,i=0,a=e.length-3;i<a;)n=(n=(n=(n=n>>>8^t[255&(n^e[i++])])>>>8^t[255&(n^e[i++])])>>>8^t[255&(n^e[i++])])>>>8^t[255&(n^e[i++])];for(;i<a+3;)n=n>>>8^t[255&(n^e[i++])];return-1^n},e.str=function(e){for(var n,r,i=-1,a=0,o=e.length;a<o;)(n=e.charCodeAt(a++))<128?i=i>>>8^t[255&(i^n)]:n<2048?i=(i=i>>>8^t[255&(i^(192|n>>6&31))])>>>8^t[255&(i^(128|63&n))]:n>=55296&&n<57344?(n=64+(1023&n),r=1023&e.charCodeAt(a++),i=(i=(i=(i=i>>>8^t[255&(i^(240|n>>8&7))])>>>8^t[255&(i^(128|n>>2&63))])>>>8^t[255&(i^(128|r>>6&15|3&n))])>>>8^t[255&(i^(128|63&r))]):i=(i=(i=i>>>8^t[255&(i^(224|n>>12&15))])>>>8^t[255&(i^(128|n>>6&63))])>>>8^t[255&(i^(128|63&n))];return-1^i}},"undefined"==typeof DO_NOT_EXPORT_CRC?n(t):n({})},4739:function(e,t,n){"use strict";n.d(t,{KO:function(){return H},Vv:function(){return _},cn:function(){return B},zt:function(){return L}});var r=n(9787);const i=Symbol(),a=e=>!!e[i],o=e=>{var t,n;null==(n=(t=e[i]).c)||n.call(t)},s=(e,t)=>{const n=e[i].o,r=t[i].o;return n===r||e===r||a(n)&&s(n,t)},l=e=>{const t={o:e,c:null},n=new Promise((n=>{t.c=()=>{t.c=null,n()},e.then(t.c,t.c)}));return n[i]=t,n};var u=Object.defineProperty,c=Object.defineProperties,d=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const g=e=>"init"in e,v="r",y="w",b="c",w="s",S=e=>{const t=new WeakMap,n=new WeakMap,r=new Map;let u,S;if(u=new Set,S=new Set,e)for(const[i,a]of e){const e={v:a,r:0,d:new Map};Object.freeze(e),g(i)||console.warn("Found initial value for derived atom which can cause unexpected behavior",i),t.set(i,e)}const _=new WeakMap,x=new WeakMap,T=e=>{let t=x.get(e);return t||(t=new Map,x.set(e,t)),t},k=(e,n)=>{if(e){const t=T(e);let r=t.get(n);return r||(r=k(e.p,n),r&&("p"in r&&r.p.then((()=>t.delete(n))),t.set(n,r))),r}return t.get(n)},E=(e,n,i)=>{if(Object.freeze(i),e)T(e).set(n,i);else{const e=t.get(n);t.set(n,i),r.has(n)||r.set(n,e)}},C=(e,t=new Map,n)=>{if(!n)return t;const r=new Map;let i=!1;return n.forEach((n=>{var a;const o=(null==(a=k(e,n))?void 0:a.r)||0;r.set(n,o),t.get(n)!==o&&(i=!0)})),t.size!==r.size||i?r:t},O=(e,t,n,r,i)=>{const a=k(e,t);if(a){if(i&&(!("p"in a)||!s(a.p,i)))return a;"p"in a&&o(a.p)}const l={v:n,r:(null==a?void 0:a.r)||0,d:C(e,null==a?void 0:a.d,r)};return a&&"v"in a&&Object.is(a.v,n)?l.d===a.d||l.d.size===a.d.size&&Array.from(l.d.keys()).every((e=>a.d.has(e)))||Promise.resolve().then((()=>{z(e)})):(++l.r,l.d.has(t)&&(l.d=new Map(l.d).set(t,l.r))),E(e,t,l),l},P=(e,t,n,r,i)=>{const a=k(e,t);if(a){if(i&&(!("p"in a)||!s(a.p,i)))return a;"p"in a&&o(a.p)}const l={e:n,r:(null==a?void 0:a.r)||0,d:C(e,null==a?void 0:a.d,r)};return E(e,t,l),l},I=(e,t,n,r)=>{const i=k(e,t);if(i&&"p"in i){if(s(i.p,n))return i;o(i.p)}((e,t,n)=>{let r=_.get(t);r||(r=new Map,_.set(t,r)),n.then((()=>{r.get(e)===n&&(r.delete(e),r.size||_.delete(t))})),r.set(e,n)})(e,t,n);const a={p:n,r:(null==i?void 0:i.r)||0,d:C(e,null==i?void 0:i.d,r)};return E(e,t,a),a},A=(e,t,n,r)=>{if(n instanceof Promise){const i=l(n.then((n=>{O(e,t,n,r,i),z(e)})).catch((n=>{if(n instanceof Promise)return a(n)?n.then((()=>{M(e,t,!0)})):n;P(e,t,n,r,i),z(e)})));return I(e,t,i,r)}return O(e,t,n,r)},D=(e,t)=>{const n=k(e,t);if(n){"p"in n&&o(n.p);const a=(r=((e,t)=>{for(var n in t||(t={}))p.call(t,n)&&m(e,n,t[n]);if(f)for(var n of f(t))h.call(t,n)&&m(e,n,t[n]);return e})({},n),i={i:n.r},c(r,d(i)));E(e,t,a)}else console.warn("[Bug] could not invalidate non existing atom",t);var r,i},M=(e,t,r)=>{if(!r){const r=k(e,t);if(r){if(r.r!==r.i&&"p"in r&&r.p[i].c)return r;if(r.d.forEach(((r,i)=>{if(i!==t)if(n.has(i)){const t=k(e,i);t&&t.r===t.i&&M(e,i)}else M(e,i)})),Array.from(r.d).every((([t,n])=>{const r=k(e,t);return r&&"v"in r&&r.r===n})))return r}}const a=new Set;try{const n=t.read((n=>{a.add(n);const r=n===t?k(e,n):M(e,n);if(r){if("e"in r)throw r.e;if("p"in r)throw r.p;return r.v}if(g(n))return n.init;throw new Error("no atom init")}));return A(e,t,n,a)}catch(n){if(n instanceof Promise){const i=l(n);return I(e,t,i,a)}return P(e,t,n,a)}},R=(e,t)=>M(t,e),N=(e,t)=>!t.l.size&&(!t.t.size||1===t.t.size&&t.t.has(e)),L=(e,t)=>{const r=n.get(t);null==r||r.t.forEach((n=>{n!==t&&(D(e,n),L(e,n))}))},j=(e,t,n)=>{let r=!0;const i=(t,n)=>{const r=M(e,t);if("e"in r)throw r.e;if("p"in r){if(null==n?void 0:n.unstable_promise)return r.p.then((()=>i(t,n)));throw console.info("Reading pending atom state in write operation. We throw a promise for now.",t),r.p}if("v"in r)return r.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",t),new Error("no value found")},a=t.write(i,((n,i)=>{let a;if(n===t){if(!g(n))throw new Error("atom not writable");const t=(e=>{const t=new Set,n=_.get(e);return n&&(_.delete(e),n.forEach(((e,n)=>{o(e),t.add(n)}))),t})(n);t.forEach((t=>{t!==e&&A(t,n,i)})),A(e,n,i),L(e,n)}else a=j(e,n,i);return r||z(e),a}),n);return r=!1,e=void 0,a},B=(e,t,n)=>{const r=j(n,e,t);return z(n),r},F=(e,t)=>{const r={t:new Set(t&&[t]),l:new Set};if(n.set(e,r),S.add(e),M(void 0,e).d.forEach(((t,r)=>{const i=n.get(r);i?i.t.add(e):r!==e&&F(r,e)})),(e=>!!e.write)(e)&&e.onMount){const t=t=>B(e,t),n=e.onMount(t);n&&(r.u=n)}return r},U=e=>{var t;const r=null==(t=n.get(e))?void 0:t.u;r&&r(),n.delete(e),S.delete(e);const i=k(void 0,e);i?i.d.forEach(((t,r)=>{if(r!==e){const t=n.get(r);t&&(t.t.delete(e),N(r,t)&&U(r))}})):console.warn("[Bug] could not find atom state to unmount",e)},H=(e,t,r)=>{const i=new Set(t.d.keys());null==r||r.forEach(((t,r)=>{if(i.has(r))return void i.delete(r);const a=n.get(r);a&&(a.t.delete(e),N(r,a)&&U(r))})),i.forEach((t=>{const r=n.get(t);r?r.t.add(e):n.has(e)&&F(t,e)}))},z=e=>{if(e)T(e).forEach(((r,i)=>{if(r!==t.get(i)){const t=n.get(i);null==t||t.l.forEach((t=>t(e)))}}));else{for(;r.size;){const e=Array.from(r);r.clear(),e.forEach((([e,t])=>{const r=k(void 0,e);r&&r.d!==(null==t?void 0:t.d)&&H(e,r,null==t?void 0:t.d);const i=n.get(e);null==i||i.l.forEach((e=>e()))}))}u.forEach((e=>e()))}},V=(e,n)=>{n&&(e=>{T(e).forEach(((e,n)=>{const r=t.get(n);(e.r>((null==r?void 0:r.r)||0)||"v"in e&&e.r===(null==r?void 0:r.r)&&e.d!==(null==r?void 0:r.d))&&(t.set(n,e),e.d!==(null==r?void 0:r.d)&&H(n,e,null==r?void 0:r.d))}))})(n),z(void 0)},$=(e,t)=>{const r=(e=>{let t=n.get(e);return t||(t=F(e)),t})(e).l;return r.add(t),()=>{r.delete(t),(e=>{const t=n.get(e);t&&N(e,t)&&U(e)})(e)}},G=(e,t)=>{for(const[n,r]of e)g(n)&&(A(t,n,r),L(t,n));z(t)};return{[v]:R,[y]:B,[b]:V,[w]:$,h:G,n:e=>(u.add(e),()=>{u.delete(e)}),l:()=>S.values(),a:e=>t.get(e),m:e=>n.get(e)}},_=e=>{const t=S(e),n=e=>new Promise(((r,i)=>{const a=t.r(e);"e"in a?i(a.e):r("p"in a?a.p.then((()=>n(e))):a.v)}));return{get:e=>{const n=t.r(e);if("e"in n)throw n.e;if(!("p"in n))return n.v},asyncGet:n,set:(e,n)=>t.w(e,n),sub:(e,n)=>t.s(e,n),SECRET_INTERNAL_store:t}},x=(e,t)=>({s:t?t(e).SECRET_INTERNAL_store:S(e)}),T=new Map,k=e=>(T.has(e)||T.set(e,(0,r.createContext)(x())),T.get(e));var E=Object.defineProperty,C=Object.defineProperties,O=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,D=(e,t,n)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M=(e,t)=>{for(var n in t||(t={}))I.call(t,n)&&D(e,n,t[n]);if(P)for(var n of P(t))A.call(t,n)&&D(e,n,t[n]);return e};const R=e=>e.debugLabel||e.toString(),N=([e,t])=>Object.fromEntries(t.flatMap((t=>{var n,r;const i=null==(n=e.m)?void 0:n.call(e,t);if(!i)return[];const a=i.t,o=(null==(r=e.a)?void 0:r.call(e,t))||{};return[[R(t),(s=M(M(M({},"e"in o&&{error:o.e}),"p"in o&&{promise:o.p}),"v"in o&&{value:o.v}),l={dependents:Array.from(a).map(R)},C(s,O(l)))]];var s,l}))),L=({children:e,initialValues:t,scope:n,unstable_createStore:i,unstable_enableVersionedWrite:a})=>{const[o,s]=(0,r.useState)();(0,r.useEffect)((()=>{o&&(l.current.s.c(null,o),delete o.p)}),[o]);const l=(0,r.useRef)();l.current||(l.current=x(t,i),a&&(l.current.w=e=>{s((t=>{const n=t?{p:t}:{};return e(n),n}))})),a||(e=>{const{s:t}=e,[n,i]=(0,r.useState)([]);(0,r.useEffect)((()=>{var e;const n=()=>{var e;i(Array.from((null==(e=t.l)?void 0:e.call(t))||[]))},r=null==(e=t.n)?void 0:e.call(t,n);return n(),r}),[t]),(0,r.useDebugValue)([t,n],N)})(l.current);const u=k(n);return(0,r.createElement)(u.Provider,{value:l.current},e)};let j=0;function B(e,t){const n="atom"+ ++j,r={toString:()=>n};return"function"==typeof e?r.read=e:(r.init=e,r.read=e=>e(r),r.write=(e,t,n)=>t(r,"function"==typeof n?n(e(r)):n)),t&&(r.write=t),r}function F(e,t){const n=k(t),{s:i}=(0,r.useContext)(n),a=(0,r.useCallback)((t=>{const n=i.r(e,t);if("e"in n)throw n.e;if("p"in n)throw n.p;if("v"in n)return n.v;throw new Error("no atom value")}),[i,e]),[[o,s,l],u]=(0,r.useReducer)((0,r.useCallback)(((t,n)=>{const r=a(n);return Object.is(t[1],r)&&t[2]===e?t:[n,r,e]}),[a,e]),void 0,(()=>{const t=void 0;return[t,a(t),e]}));return l!==e&&u(void 0),(0,r.useEffect)((()=>{const t=i.s(e,u);return u(void 0),t}),[i,e]),(0,r.useEffect)((()=>{i.c(e,o)})),(0,r.useDebugValue)(s),s}function U(e,t){const n=k(t),{s:i,w:a}=(0,r.useContext)(n);return(0,r.useCallback)((t=>{if(!("write"in e))throw new Error("not writable atom");const n=n=>i.w(e,t,n);return a?a(n):n()}),[i,a,e])}function H(e,t){return"scope"in e&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),t=e.scope),[F(e,t),U(e,t)]}},200:function(e,t,n){var r="Expected a function",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),f=Object.prototype.toString,p=Math.max,h=Math.min,m=function(){return d.Date.now()};function g(e,t,n){var i,a,o,s,l,u,c=0,d=!1,f=!1,g=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=i,r=a;return i=a=void 0,c=t,s=e.apply(r,n)}function w(e){return c=e,l=setTimeout(_,t),d?b(e):s}function S(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-c>=o}function _(){var e=m();if(S(e))return x(e);l=setTimeout(_,function(e){var n=t-(e-u);return f?h(n,o-(e-c)):n}(e))}function x(e){return l=void 0,g&&i?b(e):(i=a=void 0,s)}function T(){var e=m(),n=S(e);if(i=arguments,a=this,u=e,n){if(void 0===l)return w(u);if(f)return l=setTimeout(_,t),b(u)}return void 0===l&&(l=setTimeout(_,t)),s}return t=y(t)||0,v(n)&&(d=!!n.leading,o=(f="maxWait"in n)?p(y(n.maxWait)||0,t):o,g="trailing"in n?!!n.trailing:g),T.cancel=function(){void 0!==l&&clearTimeout(l),c=0,i=u=a=l=void 0},T.flush=function(){return void 0===l?s:x(m())},T}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=o.test(e);return n||s.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError(r);return v(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),g(e,t,{leading:i,maxWait:t,trailing:a})}},2891:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,u=32,c=64,d=128,f=256,p=1/0,h=9007199254740991,m=NaN,g=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",u],["partialRight",c],["rearg",f]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",S="[object Date]",_="[object Error]",x="[object Function]",T="[object GeneratorFunction]",k="[object Map]",E="[object Number]",C="[object Object]",O="[object Promise]",P="[object RegExp]",I="[object Set]",A="[object String]",D="[object Symbol]",M="[object WeakMap]",R="[object ArrayBuffer]",N="[object DataView]",L="[object Float32Array]",j="[object Float64Array]",B="[object Int8Array]",F="[object Int16Array]",U="[object Int32Array]",H="[object Uint8Array]",z="[object Uint8ClampedArray]",V="[object Uint16Array]",$="[object Uint32Array]",G=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Z=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,X=RegExp(Z.source),Y=RegExp(K.source),Q=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,Se=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Te="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Oe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['\u2019]",Ie="[\\ud800-\\udfff]",Ae="["+Oe+"]",De="["+Te+"]",Me="\\d+",Re="[\\u2700-\\u27bf]",Ne="["+ke+"]",Le="[^\\ud800-\\udfff"+Oe+Me+"\\u2700-\\u27bf"+ke+Ee+"]",je="\\ud83c[\\udffb-\\udfff]",Be="[^\\ud800-\\udfff]",Fe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Ee+"]",ze="(?:"+Ne+"|"+Le+")",Ve="(?:"+He+"|"+Le+")",$e="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ge="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",We="(?:"+De+"|"+je+")?",qe="[\\ufe0e\\ufe0f]?",Ze=qe+We+"(?:\\u200d(?:"+[Be,Fe,Ue].join("|")+")"+qe+We+")*",Ke="(?:"+[Re,Fe,Ue].join("|")+")"+Ze,Xe="(?:"+[Be+De+"?",De,Fe,Ue,Ie].join("|")+")",Ye=RegExp(Pe,"g"),Qe=RegExp(De,"g"),Je=RegExp(je+"(?="+je+")|"+Xe+Ze,"g"),et=RegExp([He+"?"+Ne+"+"+$e+"(?="+[Ae,He,"$"].join("|")+")",Ve+"+"+Ge+"(?="+[Ae,He+ze,"$"].join("|")+")",He+"?"+ze+"+"+$e,He+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Ke].join("|"),"g"),tt=RegExp("[\\u200d\\ud800-\\udfff"+Te+Ce+"]"),nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,at={};at[L]=at[j]=at[B]=at[F]=at[U]=at[H]=at[z]=at[V]=at[$]=!0,at[y]=at[b]=at[R]=at[w]=at[N]=at[S]=at[_]=at[x]=at[k]=at[E]=at[C]=at[P]=at[I]=at[A]=at[M]=!1;var ot={};ot[y]=ot[b]=ot[R]=ot[N]=ot[w]=ot[S]=ot[L]=ot[j]=ot[B]=ot[F]=ot[U]=ot[k]=ot[E]=ot[C]=ot[P]=ot[I]=ot[A]=ot[D]=ot[H]=ot[z]=ot[V]=ot[$]=!0,ot[_]=ot[x]=ot[M]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ut=parseInt,ct="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,dt="object"==typeof self&&self&&self.Object===Object&&self,ft=ct||dt||Function("return this")(),pt=t&&!t.nodeType&&t,ht=pt&&e&&!e.nodeType&&e,mt=ht&&ht.exports===pt,gt=mt&&ct.process,vt=function(){try{return ht&&ht.require&&ht.require("util").types||gt&&gt.binding&&gt.binding("util")}catch(e){}}(),yt=vt&&vt.isArrayBuffer,bt=vt&&vt.isDate,wt=vt&&vt.isMap,St=vt&&vt.isRegExp,_t=vt&&vt.isSet,xt=vt&&vt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function kt(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function Et(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function It(e,t){return!(null==e||!e.length)&&Ut(e,t,0)>-1}function At(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Mt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Rt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Nt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var jt=$t("length");function Bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ft(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Ut(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ft(e,zt,n)}function Ht(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function zt(e){return e!=e}function Vt(e,t){var n=null==e?0:e.length;return n?qt(e,t)/n:m}function $t(e){return function(t){return null==t?i:t[e]}}function Gt(e){return function(t){return null==e?i:e[t]}}function Wt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function qt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Kt(e){return e?e.slice(0,hn(e)+1).replace(oe,""):e}function Xt(e){return function(t){return e(t)}}function Yt(e,t){return Dt(t,(function(t){return e[t]}))}function Qt(e,t){return e.has(t)}function Jt(e,t){for(var n=-1,r=e.length;++n<r&&Ut(t,e[n],0)>-1;);return n}function en(e,t){for(var n=e.length;n--&&Ut(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var nn=Gt({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),rn=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+st[e]}function on(e){return tt.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function un(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==s||(e[n]=s,a[i++]=n)}return a}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function fn(e){return on(e)?function(e){for(var t=Je.lastIndex=0;Je.test(e);)++t;return t}(e):jt(e)}function pn(e){return on(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.split("")}(e)}function hn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var mn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gn=function e(t){var n,r=(t=null==t?ft:gn.defaults(ft.Object(),t,gn.pick(ft,rt))).Array,se=t.Date,Te=t.Error,ke=t.Function,Ee=t.Math,Ce=t.Object,Oe=t.RegExp,Pe=t.String,Ie=t.TypeError,Ae=r.prototype,De=ke.prototype,Me=Ce.prototype,Re=t["__core-js_shared__"],Ne=De.toString,Le=Me.hasOwnProperty,je=0,Be=(n=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Fe=Me.toString,Ue=Ne.call(Ce),He=ft._,ze=Oe("^"+Ne.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=mt?t.Buffer:i,$e=t.Symbol,Ge=t.Uint8Array,We=Ve?Ve.allocUnsafe:i,qe=ln(Ce.getPrototypeOf,Ce),Ze=Ce.create,Ke=Me.propertyIsEnumerable,Xe=Ae.splice,Je=$e?$e.isConcatSpreadable:i,tt=$e?$e.iterator:i,st=$e?$e.toStringTag:i,ct=function(){try{var e=pa(Ce,"defineProperty");return e({},"",{}),e}catch(e){}}(),dt=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,pt=se&&se.now!==ft.Date.now&&se.now,ht=t.setTimeout!==ft.setTimeout&&t.setTimeout,gt=Ee.ceil,vt=Ee.floor,jt=Ce.getOwnPropertySymbols,Gt=Ve?Ve.isBuffer:i,vn=t.isFinite,yn=Ae.join,bn=ln(Ce.keys,Ce),wn=Ee.max,Sn=Ee.min,_n=se.now,xn=t.parseInt,Tn=Ee.random,kn=Ae.reverse,En=pa(t,"DataView"),Cn=pa(t,"Map"),On=pa(t,"Promise"),Pn=pa(t,"Set"),In=pa(t,"WeakMap"),An=pa(Ce,"create"),Dn=In&&new In,Mn={},Rn=Ua(En),Nn=Ua(Cn),Ln=Ua(On),jn=Ua(Pn),Bn=Ua(In),Fn=$e?$e.prototype:i,Un=Fn?Fn.valueOf:i,Hn=Fn?Fn.toString:i;function zn(e){if(is(e)&&!qo(e)&&!(e instanceof Wn)){if(e instanceof Gn)return e;if(Le.call(e,"__wrapped__"))return Ha(e)}return new Gn(e)}var Vn=function(){function e(){}return function(t){if(!rs(t))return{};if(Ze)return Ze(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function $n(){}function Gn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Zn(e);this.size=t.size}function Qn(e,t){var n=qo(e),r=!n&&Wo(e),i=!n&&!r&&Yo(e),a=!n&&!r&&!i&&fs(e),o=n||r||i||a,s=o?Zt(e.length,Pe):[],l=s.length;for(var u in e)!t&&!Le.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||wa(u,l))||s.push(u);return s}function Jn(e){var t=e.length;return t?e[Xr(0,t-1)]:i}function er(e,t){return ja(Ai(e),ur(t,0,e.length))}function tr(e){return ja(Ai(e))}function nr(e,t,n){(n!==i&&!Vo(e[t],n)||n===i&&!(t in e))&&sr(e,t,n)}function rr(e,t,n){var r=e[t];Le.call(e,t)&&Vo(r,n)&&(n!==i||t in e)||sr(e,t,n)}function ir(e,t){for(var n=e.length;n--;)if(Vo(e[n][0],t))return n;return-1}function ar(e,t,n,r){return hr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function or(e,t){return e&&Di(t,Rs(t),e)}function sr(e,t,n){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function lr(e,t){for(var n=-1,a=t.length,o=r(a),s=null==e;++n<a;)o[n]=s?i:Ps(e,t[n]);return o}function ur(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,a,o){var s,l=1&t,u=2&t,c=4&t;if(n&&(s=a?n(e,r,a,o):n(e)),s!==i)return s;if(!rs(e))return e;var d=qo(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return Ai(e,s)}else{var f=ga(e),p=f==x||f==T;if(Yo(e))return ki(e,l);if(f==C||f==y||p&&!a){if(s=u||p?{}:ya(e),!l)return u?function(e,t){return Di(e,ma(e),t)}(e,function(e,t){return e&&Di(t,Ns(t),e)}(s,e)):function(e,t){return Di(e,ha(e),t)}(e,or(s,e))}else{if(!ot[f])return a?e:{};s=function(e,t,n){var r,i=e.constructor;switch(t){case R:return Ei(e);case w:case S:return new i(+e);case N:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case j:case B:case F:case U:case H:case z:case V:case $:return Ci(e,n);case k:case I:return new i;case E:case A:return new i(e);case P:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case D:return r=e,Un?Ce(Un.call(r)):{}}}(e,f,l)}}o||(o=new Yn);var h=o.get(e);if(h)return h;o.set(e,s),us(e)?e.forEach((function(r){s.add(cr(r,t,n,r,e,o))})):as(e)&&e.forEach((function(r,i){s.set(i,cr(r,t,n,i,e,o))}));var m=d?i:(c?u?oa:aa:u?Ns:Rs)(e);return Et(m||e,(function(r,i){m&&(r=e[i=r]),rr(s,i,cr(r,t,n,i,e,o))})),s}function dr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ce(e);r--;){var a=n[r],o=t[a],s=e[a];if(s===i&&!(a in e)||!o(s))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Ie(a);return Ma((function(){e.apply(i,n)}),t)}function pr(e,t,n,r){var i=-1,a=It,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=Dt(t,Xt(n))),r?(a=At,o=!1):t.length>=200&&(a=Qt,o=!1,t=new Xn(t));e:for(;++i<s;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,o&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;l.push(c)}else a(t,d,r)||l.push(c)}return l}zn.templateSettings={escape:Q,evaluate:J,interpolate:ee,variable:"",imports:{_:zn}},zn.prototype=$n.prototype,zn.prototype.constructor=zn,Gn.prototype=Vn($n.prototype),Gn.prototype.constructor=Gn,Wn.prototype=Vn($n.prototype),Wn.prototype.constructor=Wn,qn.prototype.clear=function(){this.__data__=An?An(null):{},this.size=0},qn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qn.prototype.get=function(e){var t=this.__data__;if(An){var n=t[e];return n===o?i:n}return Le.call(t,e)?t[e]:i},qn.prototype.has=function(e){var t=this.__data__;return An?t[e]!==i:Le.call(t,e)},qn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=An&&t===i?o:t,this},Zn.prototype.clear=function(){this.__data__=[],this.size=0},Zn.prototype.delete=function(e){var t=this.__data__,n=ir(t,e);return!(n<0)&&(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,!0)},Zn.prototype.get=function(e){var t=this.__data__,n=ir(t,e);return n<0?i:t[n][1]},Zn.prototype.has=function(e){return ir(this.__data__,e)>-1},Zn.prototype.set=function(e,t){var n=this.__data__,r=ir(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(Cn||Zn),string:new qn}},Kn.prototype.delete=function(e){var t=da(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return da(this,e).get(e)},Kn.prototype.has=function(e){return da(this,e).has(e)},Kn.prototype.set=function(e,t){var n=da(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Xn.prototype.add=Xn.prototype.push=function(e){return this.__data__.set(e,o),this},Xn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Zn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Zn){var r=n.__data__;if(!Cn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var hr=Ni(_r),mr=Ni(xr,!0);function gr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],s=t(o);if(null!=s&&(l===i?s==s&&!ds(s):n(s,l)))var l=s,u=o}return u}function yr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function br(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ba),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?br(s,t-1,n,r,i):Mt(i,s):r||(i[i.length]=s)}return i}var wr=Li(),Sr=Li(!0);function _r(e,t){return e&&wr(e,t,Rs)}function xr(e,t){return e&&Sr(e,t,Rs)}function Tr(e,t){return Pt(t,(function(t){return es(e[t])}))}function kr(e,t){for(var n=0,r=(t=Si(t,e)).length;null!=e&&n<r;)e=e[Fa(t[n++])];return n&&n==r?e:i}function Er(e,t,n){var r=t(e);return qo(e)?r:Mt(r,n(e))}function Cr(e){return null==e?e===i?"[object Undefined]":"[object Null]":st&&st in Ce(e)?function(e){var t=Le.call(e,st),n=e[st];try{e[st]=i;var r=!0}catch(e){}var a=Fe.call(e);return r&&(t?e[st]=n:delete e[st]),a}(e):function(e){return Fe.call(e)}(e)}function Or(e,t){return e>t}function Pr(e,t){return null!=e&&Le.call(e,t)}function Ir(e,t){return null!=e&&t in Ce(e)}function Ar(e,t,n){for(var a=n?At:It,o=e[0].length,s=e.length,l=s,u=r(s),c=1/0,d=[];l--;){var f=e[l];l&&t&&(f=Dt(f,Xt(t))),c=Sn(f.length,c),u[l]=!n&&(t||o>=120&&f.length>=120)?new Xn(l&&f):i}f=e[0];var p=-1,h=u[0];e:for(;++p<o&&d.length<c;){var m=f[p],g=t?t(m):m;if(m=n||0!==m?m:0,!(h?Qt(h,g):a(d,g,n))){for(l=s;--l;){var v=u[l];if(!(v?Qt(v,g):a(e[l],g,n)))continue e}h&&h.push(g),d.push(m)}}return d}function Dr(e,t,n){var r=null==(e=Pa(e,t=Si(t,e)))?e:e[Fa(Qa(t))];return null==r?i:Tt(r,e,n)}function Mr(e){return is(e)&&Cr(e)==y}function Rr(e,t,n,r,a){return e===t||(null==e||null==t||!is(e)&&!is(t)?e!=e&&t!=t:function(e,t,n,r,a,o){var s=qo(e),l=qo(t),u=s?b:ga(e),c=l?b:ga(t),d=(u=u==y?C:u)==C,f=(c=c==y?C:c)==C,p=u==c;if(p&&Yo(e)){if(!Yo(t))return!1;s=!0,d=!1}if(p&&!d)return o||(o=new Yn),s||fs(e)?ra(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case N:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!a(new Ge(e),new Ge(t)));case w:case S:case E:return Vo(+e,+t);case _:return e.name==t.name&&e.message==t.message;case P:case A:return e==t+"";case k:var s=sn;case I:var l=1&r;if(s||(s=cn),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=ra(s(e),s(t),r,i,a,o);return o.delete(e),c;case D:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,u,n,r,a,o);if(!(1&n)){var h=d&&Le.call(e,"__wrapped__"),m=f&&Le.call(t,"__wrapped__");if(h||m){var g=h?e.value():e,v=m?t.value():t;return o||(o=new Yn),a(g,v,n,r,o)}}return!!p&&(o||(o=new Yn),function(e,t,n,r,a,o){var s=1&n,l=aa(e),u=l.length;if(u!=aa(t).length&&!s)return!1;for(var c=u;c--;){var d=l[c];if(!(s?d in t:Le.call(t,d)))return!1}var f=o.get(e),p=o.get(t);if(f&&p)return f==t&&p==e;var h=!0;o.set(e,t),o.set(t,e);for(var m=s;++c<u;){var g=e[d=l[c]],v=t[d];if(r)var y=s?r(v,g,d,t,e,o):r(g,v,d,e,t,o);if(!(y===i?g===v||a(g,v,n,r,o):y)){h=!1;break}m||(m="constructor"==d)}if(h&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,a,o))}(e,t,n,r,Rr,a))}function Nr(e,t,n,r){var a=n.length,o=a,s=!r;if(null==e)return!o;for(e=Ce(e);a--;){var l=n[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var u=(l=n[a])[0],c=e[u],d=l[1];if(s&&l[2]){if(c===i&&!(u in e))return!1}else{var f=new Yn;if(r)var p=r(c,d,u,e,t,f);if(!(p===i?Rr(d,c,3,r,f):p))return!1}}return!0}function Lr(e){return!(!rs(e)||(t=e,Be&&Be in t))&&(es(e)?ze:ye).test(Ua(e));var t}function jr(e){return"function"==typeof e?e:null==e?ol:"object"==typeof e?qo(e)?Vr(e[0],e[1]):zr(e):ml(e)}function Br(e){if(!ka(e))return bn(e);var t=[];for(var n in Ce(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!rs(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=ka(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function Hr(e,t){var n=-1,i=Ko(e)?r(e.length):[];return hr(e,(function(e,r,a){i[++n]=t(e,r,a)})),i}function zr(e){var t=fa(e);return 1==t.length&&t[0][2]?Ca(t[0][0],t[0][1]):function(n){return n===e||Nr(n,e,t)}}function Vr(e,t){return _a(e)&&Ea(t)?Ca(Fa(e),t):function(n){var r=Ps(n,e);return r===i&&r===t?Is(n,e):Rr(t,r,3)}}function $r(e,t,n,r,a){e!==t&&wr(t,(function(o,s){if(a||(a=new Yn),rs(o))!function(e,t,n,r,a,o,s){var l=Aa(e,n),u=Aa(t,n),c=s.get(u);if(c)nr(e,n,c);else{var d=o?o(l,u,n+"",e,t,s):i,f=d===i;if(f){var p=qo(u),h=!p&&Yo(u),m=!p&&!h&&fs(u);d=u,p||h||m?qo(l)?d=l:Xo(l)?d=Ai(l):h?(f=!1,d=ki(u,!0)):m?(f=!1,d=Ci(u,!0)):d=[]:ss(u)||Wo(u)?(d=l,Wo(l)?d=ws(l):rs(l)&&!es(l)||(d=ya(u))):f=!1}f&&(s.set(u,d),a(d,u,r,o,s),s.delete(u)),nr(e,n,d)}}(e,t,s,n,$r,r,a);else{var l=r?r(Aa(e,s),o,s+"",e,t,a):i;l===i&&(l=o),nr(e,s,l)}}),Ns)}function Gr(e,t){var n=e.length;if(n)return wa(t+=t<0?n:0,n)?e[t]:i}function Wr(e,t,n){t=t.length?Dt(t,(function(e){return qo(e)?function(t){return kr(t,1===e.length?e[0]:e)}:e})):[ol];var r=-1;t=Dt(t,Xt(ca()));var i=Hr(e,(function(e,n,i){var a=Dt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=Oi(i[r],a[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function qr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=kr(e,o);n(s,o)&&ti(a,Si(o,e),s)}return a}function Zr(e,t,n,r){var i=r?Ht:Ut,a=-1,o=t.length,s=e;for(e===t&&(t=Ai(t)),n&&(s=Dt(e,Xt(n)));++a<o;)for(var l=0,u=t[a],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Xe.call(s,l,1),Xe.call(e,l,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;wa(i)?Xe.call(e,i,1):pi(e,i)}}return e}function Xr(e,t){return e+vt(Tn()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Qr(e,t){return Ra(Oa(e,t,ol),e+"")}function Jr(e){return Jn(Vs(e))}function ei(e,t){var n=Vs(e);return ja(n,ur(t,0,n.length))}function ti(e,t,n,r){if(!rs(e))return e;for(var a=-1,o=(t=Si(t,e)).length,s=o-1,l=e;null!=l&&++a<o;){var u=Fa(t[a]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(a!=s){var d=l[u];(c=r?r(d,u,l):i)===i&&(c=rs(d)?d:wa(t[a+1])?[]:{})}rr(l,u,c),l=l[u]}return e}var ni=Dn?function(e,t){return Dn.set(e,t),e}:ol,ri=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:rl(t),writable:!0})}:ol;function ii(e){return ja(Vs(e))}function ai(e,t,n){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=r(a);++i<a;)o[i]=e[i+t];return o}function oi(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function si(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!ds(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return li(e,t,ol,n)}function li(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,l=null===t,u=ds(t),c=t===i;a<o;){var d=vt((a+o)/2),f=n(e[d]),p=f!==i,h=null===f,m=f==f,g=ds(f);if(s)var v=r||m;else v=c?m&&(r||p):l?m&&p&&(r||!h):u?m&&p&&!h&&(r||!g):!h&&!g&&(r?f<=t:f<t);v?a=d+1:o=d}return Sn(o,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Vo(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function ci(e){return"number"==typeof e?e:ds(e)?m:+e}function di(e){if("string"==typeof e)return e;if(qo(e))return Dt(e,di)+"";if(ds(e))return Hn?Hn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=It,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=At;else if(a>=200){var u=t?null:Yi(e);if(u)return cn(u);o=!1,i=Qt,l=new Xn}else l=t?[]:s;e:for(;++r<a;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,o&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}function pi(e,t){return null==(e=Pa(e,t=Si(t,e)))||delete e[Fa(Qa(t))]}function hi(e,t,n,r){return ti(e,t,n(kr(e,t)),r)}function mi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ai(e,r?0:a,r?a+1:i):ai(e,r?a+1:0,r?i:a)}function gi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),n)}function vi(e,t,n){var i=e.length;if(i<2)return i?fi(e[0]):[];for(var a=-1,o=r(i);++a<i;)for(var s=e[a],l=-1;++l<i;)l!=a&&(o[a]=pr(o[a]||s,e[l],t,n));return fi(br(o,1),t,n)}function yi(e,t,n){for(var r=-1,a=e.length,o=t.length,s={};++r<a;){var l=r<o?t[r]:i;n(s,e[r],l)}return s}function bi(e){return Xo(e)?e:[]}function wi(e){return"function"==typeof e?e:ol}function Si(e,t){return qo(e)?e:_a(e,t)?[e]:Ba(Ss(e))}var _i=Qr;function xi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ai(e,t,n)}var Ti=dt||function(e){return ft.clearTimeout(e)};function ki(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new Ge(t).set(new Ge(e)),t}function Ci(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Oi(e,t){if(e!==t){var n=e!==i,r=null===e,a=e==e,o=ds(e),s=t!==i,l=null===t,u=t==t,c=ds(t);if(!l&&!c&&!o&&e>t||o&&s&&u&&!l&&!c||r&&s&&u||!n&&u||!a)return 1;if(!r&&!o&&!c&&e<t||c&&n&&a&&!r&&!o||l&&n&&a||!s&&a||!u)return-1}return 0}function Pi(e,t,n,i){for(var a=-1,o=e.length,s=n.length,l=-1,u=t.length,c=wn(o-s,0),d=r(u+c),f=!i;++l<u;)d[l]=t[l];for(;++a<s;)(f||a<o)&&(d[n[a]]=e[a]);for(;c--;)d[l++]=e[a++];return d}function Ii(e,t,n,i){for(var a=-1,o=e.length,s=-1,l=n.length,u=-1,c=t.length,d=wn(o-l,0),f=r(d+c),p=!i;++a<d;)f[a]=e[a];for(var h=a;++u<c;)f[h+u]=t[u];for(;++s<l;)(p||a<o)&&(f[h+n[s]]=e[a++]);return f}function Ai(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Di(e,t,n,r){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var l=t[o],u=r?r(n[l],e[l],l,n,e):i;u===i&&(u=e[l]),a?sr(n,l,u):rr(n,l,u)}return n}function Mi(e,t){return function(n,r){var i=qo(n)?kt:ar,a=t?t():{};return i(n,e,ca(r,2),a)}}function Ri(e){return Qr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,s=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,s&&Sa(n[0],n[1],s)&&(o=a<3?i:o,a=1),t=Ce(t);++r<a;){var l=n[r];l&&e(t,l,r,o)}return t}))}function Ni(e,t){return function(n,r){if(null==n)return n;if(!Ko(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Ce(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Li(e){return function(t,n,r){for(var i=-1,a=Ce(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}function ji(e){return function(t){var n=on(t=Ss(t))?pn(t):i,r=n?n[0]:t.charAt(0),a=n?xi(n,1).join(""):t.slice(1);return r[e]()+a}}function Bi(e){return function(t){return Rt(el(Ws(t).replace(Ye,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Vn(e.prototype),r=e.apply(n,t);return rs(r)?r:n}}function Ui(e){return function(t,n,r){var a=Ce(t);if(!Ko(t)){var o=ca(n,3);t=Rs(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,r);return s>-1?a[o?t[s]:s]:i}}function Hi(e){return ia((function(t){var n=t.length,r=n,o=Gn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ie(a);if(o&&!l&&"wrapper"==la(s))var l=new Gn([],!0)}for(r=l?r:n;++r<n;){var u=la(s=t[r]),c="wrapper"==u?sa(s):i;l=c&&xa(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[la(c[0])].apply(l,c[3]):1==s.length&&xa(s)?l[u]():l.thru(s)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&qo(r))return l.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function zi(e,t,n,a,o,s,l,u,c,f){var p=t&d,h=1&t,m=2&t,g=24&t,v=512&t,y=m?i:Fi(e);return function i(){for(var d=arguments.length,b=r(d),w=d;w--;)b[w]=arguments[w];if(g)var S=ua(i),_=tn(b,S);if(a&&(b=Pi(b,a,o,g)),s&&(b=Ii(b,s,l,g)),d-=_,g&&d<f){var x=un(b,S);return Ki(e,t,zi,i.placeholder,n,b,x,u,c,f-d)}var T=h?n:this,k=m?T[e]:e;return d=b.length,u?b=Ia(b,u):v&&d>1&&b.reverse(),p&&c<d&&(b.length=c),this&&this!==ft&&this instanceof i&&(k=y||Fi(k)),k.apply(T,b)}}function Vi(e,t){return function(n,r){return function(e,t,n,r){return _r(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function $i(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=di(n),r=di(r)):(n=ci(n),r=ci(r)),a=e(n,r)}return a}}function Gi(e){return ia((function(t){return t=Dt(t,Xt(ca())),Qr((function(n){var r=this;return e(t,(function(e){return Tt(e,r,n)}))}))}))}function Wi(e,t){var n=(t=t===i?" ":di(t)).length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,gt(e/fn(t)));return on(t)?xi(pn(r),0,e).join(""):r.slice(0,e)}function qi(e){return function(t,n,a){return a&&"number"!=typeof a&&Sa(t,n,a)&&(n=a=i),t=gs(t),n===i?(n=t,t=0):n=gs(n),function(e,t,n,i){for(var a=-1,o=wn(gt((t-e)/(n||1)),0),s=r(o);o--;)s[i?o:++a]=e,e+=n;return s}(t,n,a=a===i?t<n?1:-1:gs(a),e)}}function Zi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=bs(t),n=bs(n)),e(t,n)}}function Ki(e,t,n,r,a,o,s,l,d,f){var p=8&t;t|=p?u:c,4&(t&=~(p?c:u))||(t&=-4);var h=[e,t,a,p?o:i,p?s:i,p?i:o,p?i:s,l,d,f],m=n.apply(i,h);return xa(e)&&Da(m,h),m.placeholder=r,Na(m,e,t)}function Xi(e){var t=Ee[e];return function(e,n){if(e=bs(e),(n=null==n?0:Sn(vs(n),292))&&vn(e)){var r=(Ss(e)+"e").split("e");return+((r=(Ss(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yi=Pn&&1/cn(new Pn([,-0]))[1]==p?function(e){return new Pn(e)}:dl;function Qi(e){return function(t){var n=ga(t);return n==k?sn(t):n==I?dn(t):function(e,t){return Dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,n,o,p,h,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Ie(a);var y=o?o.length:0;if(y||(t&=-97,o=p=i),m=m===i?m:wn(vs(m),0),g=g===i?g:vs(g),y-=p?p.length:0,t&c){var b=o,w=p;o=p=i}var S=v?i:sa(e),_=[e,t,n,o,p,b,w,h,m,g];if(S&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==d&&8==n||r==d&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?Pi(u,l,t[4]):l,e[4]=u?un(e[3],s):t[4]}(l=t[5])&&(u=e[5],e[5]=u?Ii(u,l,t[6]):l,e[6]=u?un(e[5],s):t[6]),(l=t[7])&&(e[7]=l),r&d&&(e[8]=null==e[8]?t[8]:Sn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(_,S),e=_[0],t=_[1],n=_[2],o=_[3],p=_[4],!(g=_[9]=_[9]===i?v?0:e.length:wn(_[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==l?function(e,t,n){var a=Fi(e);return function o(){for(var s=arguments.length,l=r(s),u=s,c=ua(o);u--;)l[u]=arguments[u];var d=s<3&&l[0]!==c&&l[s-1]!==c?[]:un(l,c);return(s-=d.length)<n?Ki(e,t,zi,o.placeholder,i,l,d,i,i,n-s):Tt(this&&this!==ft&&this instanceof o?a:e,this,l)}}(e,t,g):t!=u&&33!=t||p.length?zi.apply(i,_):function(e,t,n,i){var a=1&t,o=Fi(e);return function t(){for(var s=-1,l=arguments.length,u=-1,c=i.length,d=r(c+l),f=this&&this!==ft&&this instanceof t?o:e;++u<c;)d[u]=i[u];for(;l--;)d[u++]=arguments[++s];return Tt(f,a?n:this,d)}}(e,t,n,o);else var x=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==ft&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Na((S?ni:Da)(x,_),e,t)}function ea(e,t,n,r){return e===i||Vo(e,Me[n])&&!Le.call(r,n)?t:e}function ta(e,t,n,r,a,o){return rs(e)&&rs(t)&&(o.set(t,e),$r(e,t,i,ta,o),o.delete(t)),e}function na(e){return ss(e)?i:e}function ra(e,t,n,r,a,o){var s=1&n,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=o.get(e),d=o.get(t);if(c&&d)return c==t&&d==e;var f=-1,p=!0,h=2&n?new Xn:i;for(o.set(e,t),o.set(t,e);++f<l;){var m=e[f],g=t[f];if(r)var v=s?r(g,m,f,t,e,o):r(m,g,f,e,t,o);if(v!==i){if(v)continue;p=!1;break}if(h){if(!Lt(t,(function(e,t){if(!Qt(h,t)&&(m===e||a(m,e,n,r,o)))return h.push(t)}))){p=!1;break}}else if(m!==g&&!a(m,g,n,r,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function ia(e){return Ra(Oa(e,i,qa),e+"")}function aa(e){return Er(e,Rs,ha)}function oa(e){return Er(e,Ns,ma)}var sa=Dn?function(e){return Dn.get(e)}:dl;function la(e){for(var t=e.name+"",n=Mn[t],r=Le.call(Mn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function ua(e){return(Le.call(zn,"placeholder")?zn:e).placeholder}function ca(){var e=zn.iteratee||sl;return e=e===sl?jr:e,arguments.length?e(arguments[0],arguments[1]):e}function da(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function fa(e){for(var t=Rs(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ea(i)]}return t}function pa(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Lr(n)?n:i}var ha=jt?function(e){return null==e?[]:(e=Ce(e),Pt(jt(e),(function(t){return Ke.call(e,t)})))}:yl,ma=jt?function(e){for(var t=[];e;)Mt(t,ha(e)),e=qe(e);return t}:yl,ga=Cr;function va(e,t,n){for(var r=-1,i=(t=Si(t,e)).length,a=!1;++r<i;){var o=Fa(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&ns(i)&&wa(o,i)&&(qo(e)||Wo(e))}function ya(e){return"function"!=typeof e.constructor||ka(e)?{}:Vn(qe(e))}function ba(e){return qo(e)||Wo(e)||!!(Je&&e&&e[Je])}function wa(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function Sa(e,t,n){if(!rs(n))return!1;var r=typeof t;return!!("number"==r?Ko(n)&&wa(t,n.length):"string"==r&&t in n)&&Vo(n[t],e)}function _a(e,t){if(qo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ds(e))||ne.test(e)||!te.test(e)||null!=t&&e in Ce(t)}function xa(e){var t=la(e),n=zn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=sa(n);return!!r&&e===r[0]}(En&&ga(new En(new ArrayBuffer(1)))!=N||Cn&&ga(new Cn)!=k||On&&ga(On.resolve())!=O||Pn&&ga(new Pn)!=I||In&&ga(new In)!=M)&&(ga=function(e){var t=Cr(e),n=t==C?e.constructor:i,r=n?Ua(n):"";if(r)switch(r){case Rn:return N;case Nn:return k;case Ln:return O;case jn:return I;case Bn:return M}return t});var Ta=Re?es:bl;function ka(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function Ea(e){return e==e&&!rs(e)}function Ca(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Ce(n))}}function Oa(e,t,n){return t=wn(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=wn(i.length-t,0),s=r(o);++a<o;)s[a]=i[t+a];a=-1;for(var l=r(t+1);++a<t;)l[a]=i[a];return l[t]=n(s),Tt(e,this,l)}}function Pa(e,t){return t.length<2?e:kr(e,ai(t,0,-1))}function Ia(e,t){for(var n=e.length,r=Sn(t.length,n),a=Ai(e);r--;){var o=t[r];e[r]=wa(o,n)?a[o]:i}return e}function Aa(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Da=La(ni),Ma=ht||function(e,t){return ft.setTimeout(e,t)},Ra=La(ri);function Na(e,t,n){var r=t+"";return Ra(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Et(v,(function(n){var r="_."+n[0];t&n[1]&&!It(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ce):[]}(r),n)))}function La(e){var t=0,n=0;return function(){var r=_n(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function ja(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Xr(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Ba=function(e){var t=jo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(pe,"$1"):n||e)})),t}));function Fa(e){if("string"==typeof e||ds(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ua(e){if(null!=e){try{return Ne.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ha(e){if(e instanceof Wn)return e.clone();var t=new Gn(e.__wrapped__,e.__chain__);return t.__actions__=Ai(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var za=Qr((function(e,t){return Xo(e)?pr(e,br(t,1,Xo,!0)):[]})),Va=Qr((function(e,t){var n=Qa(t);return Xo(n)&&(n=i),Xo(e)?pr(e,br(t,1,Xo,!0),ca(n,2)):[]})),$a=Qr((function(e,t){var n=Qa(t);return Xo(n)&&(n=i),Xo(e)?pr(e,br(t,1,Xo,!0),i,n):[]}));function Ga(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=wn(r+i,0)),Ft(e,ca(t,3),i)}function Wa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=vs(n),a=n<0?wn(r+a,0):Sn(a,r-1)),Ft(e,ca(t,3),a,!0)}function qa(e){return null!=e&&e.length?br(e,1):[]}function Za(e){return e&&e.length?e[0]:i}var Ka=Qr((function(e){var t=Dt(e,bi);return t.length&&t[0]===e[0]?Ar(t):[]})),Xa=Qr((function(e){var t=Qa(e),n=Dt(e,bi);return t===Qa(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ar(n,ca(t,2)):[]})),Ya=Qr((function(e){var t=Qa(e),n=Dt(e,bi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Ar(n,i,t):[]}));function Qa(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ja=Qr(eo);function eo(e,t){return e&&e.length&&t&&t.length?Zr(e,t):e}var to=ia((function(e,t){var n=null==e?0:e.length,r=lr(e,t);return Kr(e,Dt(t,(function(e){return wa(e,n)?+e:e})).sort(Oi)),r}));function no(e){return null==e?e:kn.call(e)}var ro=Qr((function(e){return fi(br(e,1,Xo,!0))})),io=Qr((function(e){var t=Qa(e);return Xo(t)&&(t=i),fi(br(e,1,Xo,!0),ca(t,2))})),ao=Qr((function(e){var t=Qa(e);return t="function"==typeof t?t:i,fi(br(e,1,Xo,!0),i,t)}));function oo(e){if(!e||!e.length)return[];var t=0;return e=Pt(e,(function(e){if(Xo(e))return t=wn(e.length,t),!0})),Zt(t,(function(t){return Dt(e,$t(t))}))}function so(e,t){if(!e||!e.length)return[];var n=oo(e);return null==t?n:Dt(n,(function(e){return Tt(t,i,e)}))}var lo=Qr((function(e,t){return Xo(e)?pr(e,t):[]})),uo=Qr((function(e){return vi(Pt(e,Xo))})),co=Qr((function(e){var t=Qa(e);return Xo(t)&&(t=i),vi(Pt(e,Xo),ca(t,2))})),fo=Qr((function(e){var t=Qa(e);return t="function"==typeof t?t:i,vi(Pt(e,Xo),i,t)})),po=Qr(oo),ho=Qr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,so(e,n)}));function mo(e){var t=zn(e);return t.__chain__=!0,t}function go(e,t){return t(e)}var vo=ia((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return lr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&wa(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:go,args:[a],thisArg:i}),new Gn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)})),yo=Mi((function(e,t,n){Le.call(e,n)?++e[n]:sr(e,n,1)})),bo=Ui(Ga),wo=Ui(Wa);function So(e,t){return(qo(e)?Et:hr)(e,ca(t,3))}function _o(e,t){return(qo(e)?Ct:mr)(e,ca(t,3))}var xo=Mi((function(e,t,n){Le.call(e,n)?e[n].push(t):sr(e,n,[t])})),To=Qr((function(e,t,n){var i=-1,a="function"==typeof t,o=Ko(e)?r(e.length):[];return hr(e,(function(e){o[++i]=a?Tt(t,e,n):Dr(e,t,n)})),o})),ko=Mi((function(e,t,n){sr(e,n,t)}));function Eo(e,t){return(qo(e)?Dt:Hr)(e,ca(t,3))}var Co=Mi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Oo=Qr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Sa(e,t[0],t[1])?t=[]:n>2&&Sa(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,br(t,1),[])})),Po=pt||function(){return ft.Date.now()};function Io(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,d,i,i,i,i,t)}function Ao(e,t){var n;if("function"!=typeof t)throw new Ie(a);return e=vs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Do=Qr((function(e,t,n){var r=1;if(n.length){var i=un(n,ua(Do));r|=u}return Ji(e,r,t,n,i)})),Mo=Qr((function(e,t,n){var r=3;if(n.length){var i=un(n,ua(Mo));r|=u}return Ji(t,r,e,n,i)}));function Ro(e,t,n){var r,o,s,l,u,c,d=0,f=!1,p=!1,h=!0;if("function"!=typeof e)throw new Ie(a);function m(t){var n=r,a=o;return r=o=i,d=t,l=e.apply(a,n)}function g(e){return d=e,u=Ma(y,t),f?m(e):l}function v(e){var n=e-c;return c===i||n>=t||n<0||p&&e-d>=s}function y(){var e=Po();if(v(e))return b(e);u=Ma(y,function(e){var n=t-(e-c);return p?Sn(n,s-(e-d)):n}(e))}function b(e){return u=i,h&&r?m(e):(r=o=i,l)}function w(){var e=Po(),n=v(e);if(r=arguments,o=this,c=e,n){if(u===i)return g(c);if(p)return Ti(u),u=Ma(y,t),m(c)}return u===i&&(u=Ma(y,t)),l}return t=bs(t)||0,rs(n)&&(f=!!n.leading,s=(p="maxWait"in n)?wn(bs(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),w.cancel=function(){u!==i&&Ti(u),d=0,r=c=o=u=i},w.flush=function(){return u===i?l:b(Po())},w}var No=Qr((function(e,t){return fr(e,1,t)})),Lo=Qr((function(e,t,n){return fr(e,bs(t)||0,n)}));function jo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(a);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(jo.Cache||Kn),n}function Bo(e){if("function"!=typeof e)throw new Ie(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}jo.Cache=Kn;var Fo=_i((function(e,t){var n=(t=1==t.length&&qo(t[0])?Dt(t[0],Xt(ca())):Dt(br(t,1),Xt(ca()))).length;return Qr((function(r){for(var i=-1,a=Sn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return Tt(e,this,r)}))})),Uo=Qr((function(e,t){var n=un(t,ua(Uo));return Ji(e,u,i,t,n)})),Ho=Qr((function(e,t){var n=un(t,ua(Ho));return Ji(e,c,i,t,n)})),zo=ia((function(e,t){return Ji(e,f,i,i,i,t)}));function Vo(e,t){return e===t||e!=e&&t!=t}var $o=Zi(Or),Go=Zi((function(e,t){return e>=t})),Wo=Mr(function(){return arguments}())?Mr:function(e){return is(e)&&Le.call(e,"callee")&&!Ke.call(e,"callee")},qo=r.isArray,Zo=yt?Xt(yt):function(e){return is(e)&&Cr(e)==R};function Ko(e){return null!=e&&ns(e.length)&&!es(e)}function Xo(e){return is(e)&&Ko(e)}var Yo=Gt||bl,Qo=bt?Xt(bt):function(e){return is(e)&&Cr(e)==S};function Jo(e){if(!is(e))return!1;var t=Cr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ss(e)}function es(e){if(!rs(e))return!1;var t=Cr(e);return t==x||t==T||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ts(e){return"number"==typeof e&&e==vs(e)}function ns(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function rs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function is(e){return null!=e&&"object"==typeof e}var as=wt?Xt(wt):function(e){return is(e)&&ga(e)==k};function os(e){return"number"==typeof e||is(e)&&Cr(e)==E}function ss(e){if(!is(e)||Cr(e)!=C)return!1;var t=qe(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ne.call(n)==Ue}var ls=St?Xt(St):function(e){return is(e)&&Cr(e)==P},us=_t?Xt(_t):function(e){return is(e)&&ga(e)==I};function cs(e){return"string"==typeof e||!qo(e)&&is(e)&&Cr(e)==A}function ds(e){return"symbol"==typeof e||is(e)&&Cr(e)==D}var fs=xt?Xt(xt):function(e){return is(e)&&ns(e.length)&&!!at[Cr(e)]},ps=Zi(Ur),hs=Zi((function(e,t){return e<=t}));function ms(e){if(!e)return[];if(Ko(e))return cs(e)?pn(e):Ai(e);if(tt&&e[tt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[tt]());var t=ga(e);return(t==k?sn:t==I?cn:Vs)(e)}function gs(e){return e?(e=bs(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function vs(e){var t=gs(e),n=t%1;return t==t?n?t-n:t:0}function ys(e){return e?ur(vs(e),0,g):0}function bs(e){if("number"==typeof e)return e;if(ds(e))return m;if(rs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var n=ve.test(e);return n||be.test(e)?ut(e.slice(2),n?2:8):ge.test(e)?m:+e}function ws(e){return Di(e,Ns(e))}function Ss(e){return null==e?"":di(e)}var _s=Ri((function(e,t){if(ka(t)||Ko(t))Di(t,Rs(t),e);else for(var n in t)Le.call(t,n)&&rr(e,n,t[n])})),xs=Ri((function(e,t){Di(t,Ns(t),e)})),Ts=Ri((function(e,t,n,r){Di(t,Ns(t),e,r)})),ks=Ri((function(e,t,n,r){Di(t,Rs(t),e,r)})),Es=ia(lr),Cs=Qr((function(e,t){e=Ce(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&Sa(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],s=Ns(o),l=-1,u=s.length;++l<u;){var c=s[l],d=e[c];(d===i||Vo(d,Me[c])&&!Le.call(e,c))&&(e[c]=o[c])}return e})),Os=Qr((function(e){return e.push(i,ta),Tt(js,i,e)}));function Ps(e,t,n){var r=null==e?i:kr(e,t);return r===i?n:r}function Is(e,t){return null!=e&&va(e,t,Ir)}var As=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),rl(ol)),Ds=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),ca),Ms=Qr(Dr);function Rs(e){return Ko(e)?Qn(e):Br(e)}function Ns(e){return Ko(e)?Qn(e,!0):Fr(e)}var Ls=Ri((function(e,t,n){$r(e,t,n)})),js=Ri((function(e,t,n,r){$r(e,t,n,r)})),Bs=ia((function(e,t){var n={};if(null==e)return n;var r=!1;t=Dt(t,(function(t){return t=Si(t,e),r||(r=t.length>1),t})),Di(e,oa(e),n),r&&(n=cr(n,7,na));for(var i=t.length;i--;)pi(n,t[i]);return n})),Fs=ia((function(e,t){return null==e?{}:function(e,t){return qr(e,t,(function(t,n){return Is(e,n)}))}(e,t)}));function Us(e,t){if(null==e)return{};var n=Dt(oa(e),(function(e){return[e]}));return t=ca(t),qr(e,n,(function(e,n){return t(e,n[0])}))}var Hs=Qi(Rs),zs=Qi(Ns);function Vs(e){return null==e?[]:Yt(e,Rs(e))}var $s=Bi((function(e,t,n){return t=t.toLowerCase(),e+(n?Gs(t):t)}));function Gs(e){return Js(Ss(e).toLowerCase())}function Ws(e){return(e=Ss(e))&&e.replace(Se,nn).replace(Qe,"")}var qs=Bi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Zs=Bi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ks=ji("toLowerCase"),Xs=Bi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ys=Bi((function(e,t,n){return e+(n?" ":"")+Js(t)})),Qs=Bi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Js=ji("toUpperCase");function el(e,t,n){return e=Ss(e),(t=n?i:t)===i?function(e){return nt.test(e)}(e)?function(e){return e.match(et)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var tl=Qr((function(e,t){try{return Tt(e,i,t)}catch(e){return Jo(e)?e:new Te(e)}})),nl=ia((function(e,t){return Et(t,(function(t){t=Fa(t),sr(e,t,Do(e[t],e))})),e}));function rl(e){return function(){return e}}var il=Hi(),al=Hi(!0);function ol(e){return e}function sl(e){return jr("function"==typeof e?e:cr(e,1))}var ll=Qr((function(e,t){return function(n){return Dr(n,e,t)}})),ul=Qr((function(e,t){return function(n){return Dr(e,n,t)}}));function cl(e,t,n){var r=Rs(t),i=Tr(t,r);null!=n||rs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Tr(t,Rs(t)));var a=!(rs(n)&&"chain"in n&&!n.chain),o=es(e);return Et(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Ai(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Mt([this.value()],arguments))})})),e}function dl(){}var fl=Gi(Dt),pl=Gi(Ot),hl=Gi(Lt);function ml(e){return _a(e)?$t(Fa(e)):function(e){return function(t){return kr(t,e)}}(e)}var gl=qi(),vl=qi(!0);function yl(){return[]}function bl(){return!1}var wl,Sl=$i((function(e,t){return e+t}),0),_l=Xi("ceil"),xl=$i((function(e,t){return e/t}),1),Tl=Xi("floor"),kl=$i((function(e,t){return e*t}),1),El=Xi("round"),Cl=$i((function(e,t){return e-t}),0);return zn.after=function(e,t){if("function"!=typeof t)throw new Ie(a);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},zn.ary=Io,zn.assign=_s,zn.assignIn=xs,zn.assignInWith=Ts,zn.assignWith=ks,zn.at=Es,zn.before=Ao,zn.bind=Do,zn.bindAll=nl,zn.bindKey=Mo,zn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qo(e)?e:[e]},zn.chain=mo,zn.chunk=function(e,t,n){t=(n?Sa(e,t,n):t===i)?1:wn(vs(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,s=0,l=r(gt(a/t));o<a;)l[s++]=ai(e,o,o+=t);return l},zn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},zn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Mt(qo(n)?Ai(n):[n],br(t,1))},zn.cond=function(e){var t=null==e?0:e.length,n=ca();return e=t?Dt(e,(function(e){if("function"!=typeof e[1])throw new Ie(a);return[n(e[0]),e[1]]})):[],Qr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Tt(i[0],this,n))return Tt(i[1],this,n)}}))},zn.conforms=function(e){return function(e){var t=Rs(e);return function(n){return dr(n,e,t)}}(cr(e,1))},zn.constant=rl,zn.countBy=yo,zn.create=function(e,t){var n=Vn(e);return null==t?n:or(n,t)},zn.curry=function e(t,n,r){var a=Ji(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},zn.curryRight=function e(t,n,r){var a=Ji(t,l,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},zn.debounce=Ro,zn.defaults=Cs,zn.defaultsDeep=Os,zn.defer=No,zn.delay=Lo,zn.difference=za,zn.differenceBy=Va,zn.differenceWith=$a,zn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ai(e,(t=n||t===i?1:vs(t))<0?0:t,r):[]},zn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ai(e,0,(t=r-(t=n||t===i?1:vs(t)))<0?0:t):[]},zn.dropRightWhile=function(e,t){return e&&e.length?mi(e,ca(t,3),!0,!0):[]},zn.dropWhile=function(e,t){return e&&e.length?mi(e,ca(t,3),!0):[]},zn.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&Sa(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=vs(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:vs(r))<0&&(r+=a),r=n>r?0:ys(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},zn.filter=function(e,t){return(qo(e)?Pt:yr)(e,ca(t,3))},zn.flatMap=function(e,t){return br(Eo(e,t),1)},zn.flatMapDeep=function(e,t){return br(Eo(e,t),p)},zn.flatMapDepth=function(e,t,n){return n=n===i?1:vs(n),br(Eo(e,t),n)},zn.flatten=qa,zn.flattenDeep=function(e){return null!=e&&e.length?br(e,p):[]},zn.flattenDepth=function(e,t){return null!=e&&e.length?br(e,t=t===i?1:vs(t)):[]},zn.flip=function(e){return Ji(e,512)},zn.flow=il,zn.flowRight=al,zn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},zn.functions=function(e){return null==e?[]:Tr(e,Rs(e))},zn.functionsIn=function(e){return null==e?[]:Tr(e,Ns(e))},zn.groupBy=xo,zn.initial=function(e){return null!=e&&e.length?ai(e,0,-1):[]},zn.intersection=Ka,zn.intersectionBy=Xa,zn.intersectionWith=Ya,zn.invert=As,zn.invertBy=Ds,zn.invokeMap=To,zn.iteratee=sl,zn.keyBy=ko,zn.keys=Rs,zn.keysIn=Ns,zn.map=Eo,zn.mapKeys=function(e,t){var n={};return t=ca(t,3),_r(e,(function(e,r,i){sr(n,t(e,r,i),e)})),n},zn.mapValues=function(e,t){var n={};return t=ca(t,3),_r(e,(function(e,r,i){sr(n,r,t(e,r,i))})),n},zn.matches=function(e){return zr(cr(e,1))},zn.matchesProperty=function(e,t){return Vr(e,cr(t,1))},zn.memoize=jo,zn.merge=Ls,zn.mergeWith=js,zn.method=ll,zn.methodOf=ul,zn.mixin=cl,zn.negate=Bo,zn.nthArg=function(e){return e=vs(e),Qr((function(t){return Gr(t,e)}))},zn.omit=Bs,zn.omitBy=function(e,t){return Us(e,Bo(ca(t)))},zn.once=function(e){return Ao(2,e)},zn.orderBy=function(e,t,n,r){return null==e?[]:(qo(t)||(t=null==t?[]:[t]),qo(n=r?i:n)||(n=null==n?[]:[n]),Wr(e,t,n))},zn.over=fl,zn.overArgs=Fo,zn.overEvery=pl,zn.overSome=hl,zn.partial=Uo,zn.partialRight=Ho,zn.partition=Co,zn.pick=Fs,zn.pickBy=Us,zn.property=ml,zn.propertyOf=function(e){return function(t){return null==e?i:kr(e,t)}},zn.pull=Ja,zn.pullAll=eo,zn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Zr(e,t,ca(n,2)):e},zn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Zr(e,t,i,n):e},zn.pullAt=to,zn.range=gl,zn.rangeRight=vl,zn.rearg=zo,zn.reject=function(e,t){return(qo(e)?Pt:yr)(e,Bo(ca(t,3)))},zn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ca(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Kr(e,i),n},zn.rest=function(e,t){if("function"!=typeof e)throw new Ie(a);return Qr(e,t=t===i?t:vs(t))},zn.reverse=no,zn.sampleSize=function(e,t,n){return t=(n?Sa(e,t,n):t===i)?1:vs(t),(qo(e)?er:ei)(e,t)},zn.set=function(e,t,n){return null==e?e:ti(e,t,n)},zn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ti(e,t,n,r)},zn.shuffle=function(e){return(qo(e)?tr:ii)(e)},zn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Sa(e,t,n)?(t=0,n=r):(t=null==t?0:vs(t),n=n===i?r:vs(n)),ai(e,t,n)):[]},zn.sortBy=Oo,zn.sortedUniq=function(e){return e&&e.length?ui(e):[]},zn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,ca(t,2)):[]},zn.split=function(e,t,n){return n&&"number"!=typeof n&&Sa(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=Ss(e))&&("string"==typeof t||null!=t&&!ls(t))&&!(t=di(t))&&on(e)?xi(pn(e),0,n):e.split(t,n):[]},zn.spread=function(e,t){if("function"!=typeof e)throw new Ie(a);return t=null==t?0:wn(vs(t),0),Qr((function(n){var r=n[t],i=xi(n,0,t);return r&&Mt(i,r),Tt(e,this,i)}))},zn.tail=function(e){var t=null==e?0:e.length;return t?ai(e,1,t):[]},zn.take=function(e,t,n){return e&&e.length?ai(e,0,(t=n||t===i?1:vs(t))<0?0:t):[]},zn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ai(e,(t=r-(t=n||t===i?1:vs(t)))<0?0:t,r):[]},zn.takeRightWhile=function(e,t){return e&&e.length?mi(e,ca(t,3),!1,!0):[]},zn.takeWhile=function(e,t){return e&&e.length?mi(e,ca(t,3)):[]},zn.tap=function(e,t){return t(e),e},zn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ie(a);return rs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ro(e,t,{leading:r,maxWait:t,trailing:i})},zn.thru=go,zn.toArray=ms,zn.toPairs=Hs,zn.toPairsIn=zs,zn.toPath=function(e){return qo(e)?Dt(e,Fa):ds(e)?[e]:Ai(Ba(Ss(e)))},zn.toPlainObject=ws,zn.transform=function(e,t,n){var r=qo(e),i=r||Yo(e)||fs(e);if(t=ca(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:rs(e)&&es(a)?Vn(qe(e)):{}}return(i?Et:_r)(e,(function(e,r,i){return t(n,e,r,i)})),n},zn.unary=function(e){return Io(e,1)},zn.union=ro,zn.unionBy=io,zn.unionWith=ao,zn.uniq=function(e){return e&&e.length?fi(e):[]},zn.uniqBy=function(e,t){return e&&e.length?fi(e,ca(t,2)):[]},zn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fi(e,i,t):[]},zn.unset=function(e,t){return null==e||pi(e,t)},zn.unzip=oo,zn.unzipWith=so,zn.update=function(e,t,n){return null==e?e:hi(e,t,wi(n))},zn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,wi(n),r)},zn.values=Vs,zn.valuesIn=function(e){return null==e?[]:Yt(e,Ns(e))},zn.without=lo,zn.words=el,zn.wrap=function(e,t){return Uo(wi(t),e)},zn.xor=uo,zn.xorBy=co,zn.xorWith=fo,zn.zip=po,zn.zipObject=function(e,t){return yi(e||[],t||[],rr)},zn.zipObjectDeep=function(e,t){return yi(e||[],t||[],ti)},zn.zipWith=ho,zn.entries=Hs,zn.entriesIn=zs,zn.extend=xs,zn.extendWith=Ts,cl(zn,zn),zn.add=Sl,zn.attempt=tl,zn.camelCase=$s,zn.capitalize=Gs,zn.ceil=_l,zn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=bs(n))==n?n:0),t!==i&&(t=(t=bs(t))==t?t:0),ur(bs(e),t,n)},zn.clone=function(e){return cr(e,4)},zn.cloneDeep=function(e){return cr(e,5)},zn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},zn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},zn.conformsTo=function(e,t){return null==t||dr(e,t,Rs(t))},zn.deburr=Ws,zn.defaultTo=function(e,t){return null==e||e!=e?t:e},zn.divide=xl,zn.endsWith=function(e,t,n){e=Ss(e),t=di(t);var r=e.length,a=n=n===i?r:ur(vs(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},zn.eq=Vo,zn.escape=function(e){return(e=Ss(e))&&Y.test(e)?e.replace(K,rn):e},zn.escapeRegExp=function(e){return(e=Ss(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},zn.every=function(e,t,n){var r=qo(e)?Ot:gr;return n&&Sa(e,t,n)&&(t=i),r(e,ca(t,3))},zn.find=bo,zn.findIndex=Ga,zn.findKey=function(e,t){return Bt(e,ca(t,3),_r)},zn.findLast=wo,zn.findLastIndex=Wa,zn.findLastKey=function(e,t){return Bt(e,ca(t,3),xr)},zn.floor=Tl,zn.forEach=So,zn.forEachRight=_o,zn.forIn=function(e,t){return null==e?e:wr(e,ca(t,3),Ns)},zn.forInRight=function(e,t){return null==e?e:Sr(e,ca(t,3),Ns)},zn.forOwn=function(e,t){return e&&_r(e,ca(t,3))},zn.forOwnRight=function(e,t){return e&&xr(e,ca(t,3))},zn.get=Ps,zn.gt=$o,zn.gte=Go,zn.has=function(e,t){return null!=e&&va(e,t,Pr)},zn.hasIn=Is,zn.head=Za,zn.identity=ol,zn.includes=function(e,t,n,r){e=Ko(e)?e:Vs(e),n=n&&!r?vs(n):0;var i=e.length;return n<0&&(n=wn(i+n,0)),cs(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ut(e,t,n)>-1},zn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=wn(r+i,0)),Ut(e,t,i)},zn.inRange=function(e,t,n){return t=gs(t),n===i?(n=t,t=0):n=gs(n),function(e,t,n){return e>=Sn(t,n)&&e<wn(t,n)}(e=bs(e),t,n)},zn.invoke=Ms,zn.isArguments=Wo,zn.isArray=qo,zn.isArrayBuffer=Zo,zn.isArrayLike=Ko,zn.isArrayLikeObject=Xo,zn.isBoolean=function(e){return!0===e||!1===e||is(e)&&Cr(e)==w},zn.isBuffer=Yo,zn.isDate=Qo,zn.isElement=function(e){return is(e)&&1===e.nodeType&&!ss(e)},zn.isEmpty=function(e){if(null==e)return!0;if(Ko(e)&&(qo(e)||"string"==typeof e||"function"==typeof e.splice||Yo(e)||fs(e)||Wo(e)))return!e.length;var t=ga(e);if(t==k||t==I)return!e.size;if(ka(e))return!Br(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},zn.isEqual=function(e,t){return Rr(e,t)},zn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Rr(e,t,i,n):!!r},zn.isError=Jo,zn.isFinite=function(e){return"number"==typeof e&&vn(e)},zn.isFunction=es,zn.isInteger=ts,zn.isLength=ns,zn.isMap=as,zn.isMatch=function(e,t){return e===t||Nr(e,t,fa(t))},zn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Nr(e,t,fa(t),n)},zn.isNaN=function(e){return os(e)&&e!=+e},zn.isNative=function(e){if(Ta(e))throw new Te("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},zn.isNil=function(e){return null==e},zn.isNull=function(e){return null===e},zn.isNumber=os,zn.isObject=rs,zn.isObjectLike=is,zn.isPlainObject=ss,zn.isRegExp=ls,zn.isSafeInteger=function(e){return ts(e)&&e>=-9007199254740991&&e<=h},zn.isSet=us,zn.isString=cs,zn.isSymbol=ds,zn.isTypedArray=fs,zn.isUndefined=function(e){return e===i},zn.isWeakMap=function(e){return is(e)&&ga(e)==M},zn.isWeakSet=function(e){return is(e)&&"[object WeakSet]"==Cr(e)},zn.join=function(e,t){return null==e?"":yn.call(e,t)},zn.kebabCase=qs,zn.last=Qa,zn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=vs(n))<0?wn(r+a,0):Sn(a,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Ft(e,zt,a,!0)},zn.lowerCase=Zs,zn.lowerFirst=Ks,zn.lt=ps,zn.lte=hs,zn.max=function(e){return e&&e.length?vr(e,ol,Or):i},zn.maxBy=function(e,t){return e&&e.length?vr(e,ca(t,2),Or):i},zn.mean=function(e){return Vt(e,ol)},zn.meanBy=function(e,t){return Vt(e,ca(t,2))},zn.min=function(e){return e&&e.length?vr(e,ol,Ur):i},zn.minBy=function(e,t){return e&&e.length?vr(e,ca(t,2),Ur):i},zn.stubArray=yl,zn.stubFalse=bl,zn.stubObject=function(){return{}},zn.stubString=function(){return""},zn.stubTrue=function(){return!0},zn.multiply=kl,zn.nth=function(e,t){return e&&e.length?Gr(e,vs(t)):i},zn.noConflict=function(){return ft._===this&&(ft._=He),this},zn.noop=dl,zn.now=Po,zn.pad=function(e,t,n){e=Ss(e);var r=(t=vs(t))?fn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Wi(vt(i),n)+e+Wi(gt(i),n)},zn.padEnd=function(e,t,n){e=Ss(e);var r=(t=vs(t))?fn(e):0;return t&&r<t?e+Wi(t-r,n):e},zn.padStart=function(e,t,n){e=Ss(e);var r=(t=vs(t))?fn(e):0;return t&&r<t?Wi(t-r,n)+e:e},zn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(Ss(e).replace(oe,""),t||0)},zn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Sa(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=gs(e),t===i?(t=e,e=0):t=gs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=Tn();return Sn(e+a*(t-e+lt("1e-"+((a+"").length-1))),t)}return Xr(e,t)},zn.reduce=function(e,t,n){var r=qo(e)?Rt:Wt,i=arguments.length<3;return r(e,ca(t,4),n,i,hr)},zn.reduceRight=function(e,t,n){var r=qo(e)?Nt:Wt,i=arguments.length<3;return r(e,ca(t,4),n,i,mr)},zn.repeat=function(e,t,n){return t=(n?Sa(e,t,n):t===i)?1:vs(t),Yr(Ss(e),t)},zn.replace=function(){var e=arguments,t=Ss(e[0]);return e.length<3?t:t.replace(e[1],e[2])},zn.result=function(e,t,n){var r=-1,a=(t=Si(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Fa(t[r])];o===i&&(r=a,o=n),e=es(o)?o.call(e):o}return e},zn.round=El,zn.runInContext=e,zn.sample=function(e){return(qo(e)?Jn:Jr)(e)},zn.size=function(e){if(null==e)return 0;if(Ko(e))return cs(e)?fn(e):e.length;var t=ga(e);return t==k||t==I?e.size:Br(e).length},zn.snakeCase=Xs,zn.some=function(e,t,n){var r=qo(e)?Lt:oi;return n&&Sa(e,t,n)&&(t=i),r(e,ca(t,3))},zn.sortedIndex=function(e,t){return si(e,t)},zn.sortedIndexBy=function(e,t,n){return li(e,t,ca(n,2))},zn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=si(e,t);if(r<n&&Vo(e[r],t))return r}return-1},zn.sortedLastIndex=function(e,t){return si(e,t,!0)},zn.sortedLastIndexBy=function(e,t,n){return li(e,t,ca(n,2),!0)},zn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=si(e,t,!0)-1;if(Vo(e[n],t))return n}return-1},zn.startCase=Ys,zn.startsWith=function(e,t,n){return e=Ss(e),n=null==n?0:ur(vs(n),0,e.length),t=di(t),e.slice(n,n+t.length)==t},zn.subtract=Cl,zn.sum=function(e){return e&&e.length?qt(e,ol):0},zn.sumBy=function(e,t){return e&&e.length?qt(e,ca(t,2)):0},zn.template=function(e,t,n){var r=zn.templateSettings;n&&Sa(e,t,n)&&(t=i),e=Ss(e),t=Ts({},t,r,ea);var a,o,s=Ts({},t.imports,r.imports,ea),l=Rs(s),u=Yt(s,l),c=0,d=t.interpolate||_e,f="__p += '",p=Oe((t.escape||_e).source+"|"+d.source+"|"+(d===ee?he:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),h="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(p,(function(t,n,r,i,s,l){return r||(r=i),f+=e.slice(c,l).replace(xe,an),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),f+="';\n";var m=Le.call(t,"variable")&&t.variable;if(m){if(fe.test(m))throw new Te("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(G,""):f).replace(W,"$1").replace(q,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=tl((function(){return ke(l,h+"return "+f).apply(i,u)}));if(g.source=f,Jo(g))throw g;return g},zn.times=function(e,t){if((e=vs(e))<1||e>h)return[];var n=g,r=Sn(e,g);t=ca(t),e-=g;for(var i=Zt(r,t);++n<e;)t(n);return i},zn.toFinite=gs,zn.toInteger=vs,zn.toLength=ys,zn.toLower=function(e){return Ss(e).toLowerCase()},zn.toNumber=bs,zn.toSafeInteger=function(e){return e?ur(vs(e),-9007199254740991,h):0===e?e:0},zn.toString=Ss,zn.toUpper=function(e){return Ss(e).toUpperCase()},zn.trim=function(e,t,n){if((e=Ss(e))&&(n||t===i))return Kt(e);if(!e||!(t=di(t)))return e;var r=pn(e),a=pn(t);return xi(r,Jt(r,a),en(r,a)+1).join("")},zn.trimEnd=function(e,t,n){if((e=Ss(e))&&(n||t===i))return e.slice(0,hn(e)+1);if(!e||!(t=di(t)))return e;var r=pn(e);return xi(r,0,en(r,pn(t))+1).join("")},zn.trimStart=function(e,t,n){if((e=Ss(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=di(t)))return e;var r=pn(e);return xi(r,Jt(r,pn(t))).join("")},zn.truncate=function(e,t){var n=30,r="...";if(rs(t)){var a="separator"in t?t.separator:a;n="length"in t?vs(t.length):n,r="omission"in t?di(t.omission):r}var o=(e=Ss(e)).length;if(on(e)){var s=pn(e);o=s.length}if(n>=o)return e;var l=n-fn(r);if(l<1)return r;var u=s?xi(s,0,l).join(""):e.slice(0,l);if(a===i)return u+r;if(s&&(l+=u.length-l),ls(a)){if(e.slice(l).search(a)){var c,d=u;for(a.global||(a=Oe(a.source,Ss(me.exec(a))+"g")),a.lastIndex=0;c=a.exec(d);)var f=c.index;u=u.slice(0,f===i?l:f)}}else if(e.indexOf(di(a),l)!=l){var p=u.lastIndexOf(a);p>-1&&(u=u.slice(0,p))}return u+r},zn.unescape=function(e){return(e=Ss(e))&&X.test(e)?e.replace(Z,mn):e},zn.uniqueId=function(e){var t=++je;return Ss(e)+t},zn.upperCase=Qs,zn.upperFirst=Js,zn.each=So,zn.eachRight=_o,zn.first=Za,cl(zn,(wl={},_r(zn,(function(e,t){Le.call(zn.prototype,t)||(wl[t]=e)})),wl),{chain:!1}),zn.VERSION="4.17.21",Et(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){zn[e].placeholder=zn})),Et(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===i?1:wn(vs(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=Sn(n,r.__takeCount__):r.__views__.push({size:Sn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Et(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ca(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Et(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),Et(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(ol)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Qr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Dr(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Bo(ca(e)))},Wn.prototype.slice=function(e,t){e=vs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=vs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(g)},_r(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=zn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(zn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,l=t instanceof Wn,u=s[0],c=l||qo(t),d=function(e){var t=a.apply(zn,Mt([e],s));return r&&f?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var f=this.__chain__,p=!!this.__actions__.length,h=o&&!f,m=l&&!p;if(!o&&c){t=m?t:new Wn(this);var g=e.apply(t,s);return g.__actions__.push({func:go,args:[d],thisArg:i}),new Gn(g,f)}return h&&m?e.apply(this,s):(g=this.thru(d),h?r?g.value()[0]:g.value():g)})})),Et(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ae[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);zn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(qo(i)?i:[],e)}return this[n]((function(n){return t.apply(qo(n)?n:[],e)}))}})),_r(Wn.prototype,(function(e,t){var n=zn[t];if(n){var r=n.name+"";Le.call(Mn,r)||(Mn[r]=[]),Mn[r].push({name:t,func:n})}})),Mn[zi(i,2).name]=[{name:"wrapper",func:i}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Ai(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ai(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ai(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=qo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Sn(t,e+o);break;case"takeRight":e=wn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=r?s:o-1,c=this.__iteratees__,d=c.length,f=0,p=Sn(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return gi(e,this.__actions__);var h=[];e:for(;l--&&f<p;){for(var m=-1,g=e[u+=t];++m<d;){var v=c[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}h[f++]=g}return h},zn.prototype.at=vo,zn.prototype.chain=function(){return mo(this)},zn.prototype.commit=function(){return new Gn(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===i&&(this.__values__=ms(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},zn.prototype.plant=function(e){for(var t,n=this;n instanceof $n;){var r=Ha(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},zn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:go,args:[no],thisArg:i}),new Gn(t,this.__chain__)}return this.thru(no)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,tt&&(zn.prototype[tt]=function(){return this}),zn}();ft._=gn,(r=function(){return gn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},4516:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,a){for(var o,s,l=i(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))n.call(o,c)&&(l[c]=o[c]);if(t){s=t(o);for(var d=0;d<s.length;d++)r.call(o,s[d])&&(l[s[d]]=o[s[d]])}}return l}},2744:function(e,t,n){"use strict";var r={};(0,n(9187).assign)(r,n(4395),n(578),n(2684)),e.exports=r},4395:function(e,t,n){"use strict";var r=n(7651),i=n(9187),a=n(8592),o=n(5604),s=n(249),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,c)))throw new Error(o[n]);this._dict_set=!0}}function c(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}u.prototype.push=function(e,t){var n,o,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,o))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==o||(this.onEnd(0),s.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=u,t.deflate=c,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},578:function(e,t,n){"use strict";var r=n(7823),i=n(9187),a=n(8592),o=n(2684),s=n(5604),l=n(249),u=n(9968),c=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=a.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==o.Z_OK))throw new Error(s[n])}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,l,u,d,f=this.strm,p=this.options.chunkSize,h=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?f.input=a.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(p),f.next_out=0,f.avail_out=p),(n=r.inflate(f,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&h&&(n=r.inflateSetDictionary(this.strm,h)),n===o.Z_BUF_ERROR&&!0===m&&(n=o.Z_OK,m=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==o.Z_STREAM_END&&(0!==f.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=a.utf8border(f.output,f.next_out),u=f.next_out-l,d=a.buf2string(f.output,l),f.next_out=u,f.avail_out=p-u,u&&i.arraySet(f.output,f.output,l,u,0),this.onData(d)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),f.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=d,t.inflate=f,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.ungzip=f},9187:function(e,t){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(n)},8592:function(e,t,n){"use strict";var r=n(9187),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new r.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,t.string2buf=function(e){var t,n,i,a,o,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),o=0,a=0;o<l;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,a,s=t||e.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)u[r++]=i;else if((a=o[i])>4)u[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&n<s;)i=i<<6|63&e[n++],a--;a>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},3693:function(e){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(i=i+t[r++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}},2684:function(e){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function(e){"use strict";var t=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,n,r,i){var a=t,o=i+r;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^n[s])];return-1^e}},7651:function(e,t,n){"use strict";var r,i=n(9187),a=n(8676),o=n(3693),s=n(8464),l=n(5604),u=-2,c=258,d=262,f=103,p=113,h=666;function m(e,t){return e.msg=l[t],t}function g(e){return(e<<1)-(e>4?9:0)}function v(e){for(var t=e.length;--t>=0;)e[t]=0}function y(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function b(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,y(e.strm)}function w(e,t){e.pending_buf[e.pending++]=t}function S(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function _(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-d?e.strstart-(e.w_size-d):0,u=e.window,f=e.w_mask,p=e.prev,h=e.strstart+c,m=u[a+o-1],g=u[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+o]===g&&u[n+o-1]===m&&u[n]===u[a]&&u[++n]===u[a+1]){a+=2,n++;do{}while(u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&a<h);if(r=c-(h-a),a=h-c,r>o){if(e.match_start=t,o=r,r>=s)break;m=u[a+o-1],g=u[a+o]}}}while((t=p[t&f])>l&&0!=--i);return o<=e.lookahead?o:e.lookahead}function x(e){var t,n,r,a,l,u,c,f,p,h,m=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-d)){i.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=m?r-m:0}while(--n);t=n=m;do{r=e.prev[--t],e.prev[t]=r>=m?r-m:0}while(--n);a+=m}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,f=e.strstart+e.lookahead,p=a,h=void 0,(h=u.avail_in)>p&&(h=p),n=0===h?0:(u.avail_in-=h,i.arraySet(c,u.input,u.next_in,h,f),1===u.state.wrap?u.adler=o(u.adler,c,h,f):2===u.state.wrap&&(u.adler=s(u.adler,c,h,f)),u.next_in+=h,u.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<d&&0!==e.strm.avail_in)}function T(e,t){for(var n,r;;){if(e.lookahead<d){if(x(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-d&&(e.match_length=_(e,n)),e.match_length>=3)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function k(e,t){for(var n,r,i;;){if(e.lookahead<d){if(x(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-d&&(e.match_length=_(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function E(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function C(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),v(this.dyn_ltree),v(this.dyn_dtree),v(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),v(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),v(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function O(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:p,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):m(e,u)}function P(e){var t,n=O(e);return 0===n&&((t=e.state).window_size=2*t.w_size,v(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function I(e,t,n,r,a,o){if(!e)return u;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>9||8!==n||r<8||r>15||t<0||t>9||o<0||o>4)return m(e,u);8===r&&(r=9);var l=new C;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,P(e)}r=[new E(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(x(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-d&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new E(4,4,8,4,T),new E(4,5,16,8,T),new E(4,6,32,32,T),new E(4,4,16,16,k),new E(8,16,32,32,k),new E(8,16,128,128,k),new E(8,32,128,256,k),new E(32,128,258,1024,k),new E(32,258,258,4096,k)],t.deflateInit=function(e,t){return I(e,t,8,15,8,0)},t.deflateInit2=I,t.deflateReset=P,t.deflateResetKeep=O,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,0):u},t.deflate=function(e,t){var n,i,o,l;if(!e||!e.state||t>5||t<0)return e?m(e,u):u;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===h&&4!==t)return m(e,0===e.avail_out?-5:u);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,w(i,31),w(i,139),w(i,8),i.gzhead?(w(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),w(i,255&i.gzhead.time),w(i,i.gzhead.time>>8&255),w(i,i.gzhead.time>>16&255),w(i,i.gzhead.time>>24&255),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(w(i,255&i.gzhead.extra.length),w(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(w(i,0),w(i,0),w(i,0),w(i,0),w(i,0),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,3),i.status=p);else{var d=8+(i.w_bits-8<<4)<<8;d|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(d|=32),d+=31-d%31,i.status=p,S(i,d),0!==i.strstart&&(S(i,e.adler>>>16),S(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),y(e),o=i.pending,i.pending!==i.pending_buf_size));)w(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),y(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,w(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),y(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,w(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.status=f)}else i.status=f;if(i.status===f&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&y(e),i.pending+2<=i.pending_buf_size&&(w(i,255&e.adler),w(i,e.adler>>8&255),e.adler=0,i.status=p)):i.status=p),0!==i.pending){if(y(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&g(t)<=g(n)&&4!==t)return m(e,-5);if(i.status===h&&0!==e.avail_in)return m(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==h){var _=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(x(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=c){if(x(e),e.lookahead<=c&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=e.strstart+c;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=c-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==_&&4!==_||(i.status=h),1===_||3===_)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===_&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(v(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),y(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(w(i,255&e.adler),w(i,e.adler>>8&255),w(i,e.adler>>16&255),w(i,e.adler>>24&255),w(i,255&e.total_in),w(i,e.total_in>>8&255),w(i,e.total_in>>16&255),w(i,e.total_in>>24&255)):(S(i,e.adler>>>16),S(i,65535&e.adler)),y(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==f&&t!==p&&t!==h?m(e,u):(e.state=null,t===p?m(e,-3):0):u},t.deflateSetDictionary=function(e,t){var n,r,a,s,l,c,d,f,p=t.length;if(!e||!e.state)return u;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return u;for(1===s&&(e.adler=o(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(v(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,t,p-n.w_size,n.w_size,0),t=f,p=n.w_size),l=e.avail_in,c=e.next_in,d=e.input,e.avail_in=p,e.next_in=0,e.input=t,x(n);n.lookahead>=3;){r=n.strstart,a=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--a);n.strstart=r,n.lookahead=2,x(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=c,e.input=d,e.avail_in=l,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},9968:function(e){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function(e){"use strict";e.exports=function(e,t){var n,r,i,a,o,s,l,u,c,d,f,p,h,m,g,v,y,b,w,S,_,x,T,k,E;n=e.state,r=e.next_in,k=e.input,i=r+(e.avail_in-5),a=e.next_out,E=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,d=n.wnext,f=n.window,p=n.hold,h=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{h<15&&(p+=k[r++]<<h,h+=8,p+=k[r++]<<h,h+=8),b=m[p&v];t:for(;;){if(p>>>=w=b>>>24,h-=w,0===(w=b>>>16&255))E[a++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(p&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}S=65535&b,(w&=15)&&(h<w&&(p+=k[r++]<<h,h+=8),S+=p&(1<<w)-1,p>>>=w,h-=w),h<15&&(p+=k[r++]<<h,h+=8,p+=k[r++]<<h,h+=8),b=g[p&y];n:for(;;){if(p>>>=w=b>>>24,h-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(p&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(_=65535&b,h<(w&=15)&&(p+=k[r++]<<h,(h+=8)<w&&(p+=k[r++]<<h,h+=8)),(_+=p&(1<<w)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=w,h-=w,_>(w=a-o)){if((w=_-w)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(x=0,T=f,0===d){if(x+=u-w,w<S){S-=w;do{E[a++]=f[x++]}while(--w);x=a-_,T=E}}else if(d<w){if(x+=u+d-w,(w-=d)<S){S-=w;do{E[a++]=f[x++]}while(--w);if(x=0,d<S){S-=w=d;do{E[a++]=f[x++]}while(--w);x=a-_,T=E}}}else if(x+=d-w,w<S){S-=w;do{E[a++]=f[x++]}while(--w);x=a-_,T=E}for(;S>2;)E[a++]=T[x++],E[a++]=T[x++],E[a++]=T[x++],S-=3;S&&(E[a++]=T[x++],S>1&&(E[a++]=T[x++]))}else{x=a-_;do{E[a++]=E[x++],E[a++]=E[x++],E[a++]=E[x++],S-=3}while(S>2);S&&(E[a++]=E[x++],S>1&&(E[a++]=E[x++]))}break}}break}}while(r<i&&a<s);r-=S=h>>3,p&=(1<<(h-=S<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=p,n.bits=h}},7823:function(e,t,n){"use strict";var r=n(9187),i=n(3693),a=n(8464),o=n(9365),s=n(6446),l=-2,u=12,c=30;function d(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function p(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):l}function h(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,p(e)):l}function m(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?l:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,h(e))):l}function g(e,t){var n,r;return e?(r=new f,e.state=r,r.window=null,0!==(n=m(e,t))&&(e.state=null),n):l}var v,y,b=!0;function w(e){if(b){var t;for(v=new r.Buf32(512),y=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,v,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,y,0,e.work,{bits:5}),b=!1}e.lencode=v,e.lenbits=9,e.distcode=y,e.distbits=5}function S(e,t,n,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>i&&(a=i),r.arraySet(o.window,t,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}t.inflateReset=h,t.inflateReset2=m,t.inflateResetKeep=p,t.inflateInit=function(e){return g(e,15)},t.inflateInit2=g,t.inflate=function(e,t){var n,f,p,h,m,g,v,y,b,_,x,T,k,E,C,O,P,I,A,D,M,R,N,L,j=0,B=new r.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;(n=e.state).mode===u&&(n.mode=13),m=e.next_out,p=e.output,v=e.avail_out,h=e.next_in,f=e.input,g=e.avail_in,y=n.hold,b=n.bits,_=g,x=v,R=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}if(2&n.wrap&&35615===y){n.check=0,B[0]=255&y,B[1]=y>>>8&255,n.check=a(n.check,B,2,0),y=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",n.mode=c;break}if(8!=(15&y)){e.msg="unknown compression method",n.mode=c;break}if(b-=4,M=8+(15&(y>>>=4)),0===n.wbits)n.wbits=M;else if(M>n.wbits){e.msg="invalid window size",n.mode=c;break}n.dmax=1<<M,e.adler=n.check=1,n.mode=512&y?10:u,y=0,b=0;break;case 2:for(;b<16;){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}if(n.flags=y,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=c;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=c;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=a(n.check,B,2,0)),y=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}n.head&&(n.head.time=y),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,B[2]=y>>>16&255,B[3]=y>>>24&255,n.check=a(n.check,B,4,0)),y=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=a(n.check,B,2,0)),y=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=a(n.check,B,2,0)),y=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((T=n.length)>g&&(T=g),T&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,f,h,T,M)),512&n.flags&&(n.check=a(n.check,f,T,h)),g-=T,h+=T,n.length-=T),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===g)break e;T=0;do{M=f[h+T++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M))}while(M&&T<g);if(512&n.flags&&(n.check=a(n.check,f,T,h)),g-=T,h+=T,M)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===g)break e;T=0;do{M=f[h+T++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M))}while(M&&T<g);if(512&n.flags&&(n.check=a(n.check,f,T,h)),g-=T,h+=T,M)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}if(y!==(65535&n.check)){e.msg="header crc mismatch",n.mode=c;break}y=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=u;break;case 10:for(;b<32;){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}e.adler=n.check=d(y),y=0,b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=m,e.avail_out=v,e.next_in=h,e.avail_in=g,n.hold=y,n.bits=b,2;e.adler=n.check=1,n.mode=u;case u:if(5===t||6===t)break e;case 13:if(n.last){y>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}switch(n.last=1&y,b-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(w(n),n.mode=20,6===t){y>>>=2,b-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=c}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",n.mode=c;break}if(n.length=65535&y,y=0,b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(T=n.length){if(T>g&&(T=g),T>v&&(T=v),0===T)break e;r.arraySet(p,f,h,T,m),g-=T,h+=T,v-=T,m+=T,n.length-=T;break}n.mode=u;break;case 17:for(;b<14;){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}if(n.nlen=257+(31&y),y>>>=5,b-=5,n.ndist=1+(31&y),y>>>=5,b-=5,n.ncode=4+(15&y),y>>>=4,b-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=c;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}n.lens[F[n.have++]]=7&y,y>>>=3,b-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},R=s(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,R){e.msg="invalid code lengths set",n.mode=c;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;O=(j=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,P=65535&j,!((C=j>>>24)<=b);){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}if(P<16)y>>>=C,b-=C,n.lens[n.have++]=P;else{if(16===P){for(L=C+2;b<L;){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}if(y>>>=C,b-=C,0===n.have){e.msg="invalid bit length repeat",n.mode=c;break}M=n.lens[n.have-1],T=3+(3&y),y>>>=2,b-=2}else if(17===P){for(L=C+3;b<L;){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}b-=C,M=0,T=3+(7&(y>>>=C)),y>>>=3,b-=3}else{for(L=C+7;b<L;){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}b-=C,M=0,T=11+(127&(y>>>=C)),y>>>=7,b-=7}if(n.have+T>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=c;break}for(;T--;)n.lens[n.have++]=M}}if(n.mode===c)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=c;break}if(n.lenbits=9,N={bits:n.lenbits},R=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,R){e.msg="invalid literal/lengths set",n.mode=c;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},R=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,R){e.msg="invalid distances set",n.mode=c;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(g>=6&&v>=258){e.next_out=m,e.avail_out=v,e.next_in=h,e.avail_in=g,n.hold=y,n.bits=b,o(e,x),m=e.next_out,p=e.output,v=e.avail_out,h=e.next_in,f=e.input,g=e.avail_in,y=n.hold,b=n.bits,n.mode===u&&(n.back=-1);break}for(n.back=0;O=(j=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,P=65535&j,!((C=j>>>24)<=b);){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}if(O&&0==(240&O)){for(I=C,A=O,D=P;O=(j=n.lencode[D+((y&(1<<I+A)-1)>>I)])>>>16&255,P=65535&j,!(I+(C=j>>>24)<=b);){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}y>>>=I,b-=I,n.back+=I}if(y>>>=C,b-=C,n.back+=C,n.length=P,0===O){n.mode=26;break}if(32&O){n.back=-1,n.mode=u;break}if(64&O){e.msg="invalid literal/length code",n.mode=c;break}n.extra=15&O,n.mode=22;case 22:if(n.extra){for(L=n.extra;b<L;){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;O=(j=n.distcode[y&(1<<n.distbits)-1])>>>16&255,P=65535&j,!((C=j>>>24)<=b);){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}if(0==(240&O)){for(I=C,A=O,D=P;O=(j=n.distcode[D+((y&(1<<I+A)-1)>>I)])>>>16&255,P=65535&j,!(I+(C=j>>>24)<=b);){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}y>>>=I,b-=I,n.back+=I}if(y>>>=C,b-=C,n.back+=C,64&O){e.msg="invalid distance code",n.mode=c;break}n.offset=P,n.extra=15&O,n.mode=24;case 24:if(n.extra){for(L=n.extra;b<L;){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=c;break}n.mode=25;case 25:if(0===v)break e;if(T=x-v,n.offset>T){if((T=n.offset-T)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=c;break}T>n.wnext?(T-=n.wnext,k=n.wsize-T):k=n.wnext-T,T>n.length&&(T=n.length),E=n.window}else E=p,k=m-n.offset,T=n.length;T>v&&(T=v),v-=T,n.length-=T;do{p[m++]=E[k++]}while(--T);0===n.length&&(n.mode=21);break;case 26:if(0===v)break e;p[m++]=n.length,v--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===g)break e;g--,y|=f[h++]<<b,b+=8}if(x-=v,e.total_out+=x,n.total+=x,x&&(e.adler=n.check=n.flags?a(n.check,p,x,m-x):i(n.check,p,x,m-x)),x=v,(n.flags?y:d(y))!==n.check){e.msg="incorrect data check",n.mode=c;break}y=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===g)break e;g--,y+=f[h++]<<b,b+=8}if(y!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=c;break}y=0,b=0}n.mode=29;case 29:R=1;break e;case c:R=-3;break e;case 31:return-4;default:return l}return e.next_out=m,e.avail_out=v,e.next_in=h,e.avail_in=g,n.hold=y,n.bits=b,(n.wsize||x!==e.avail_out&&n.mode<c&&(n.mode<27||4!==t))&&S(e,e.output,e.next_out,x-e.avail_out)?(n.mode=31,-4):(_-=e.avail_in,x-=e.avail_out,e.total_in+=_,e.total_out+=x,n.total+=x,n.wrap&&x&&(e.adler=n.check=n.flags?a(n.check,p,x,e.next_out-x):i(n.check,p,x,e.next_out-x)),e.data_type=n.bits+(n.last?64:0)+(n.mode===u?128:0)+(20===n.mode||15===n.mode?256:0),(0===_&&0===x||4===t)&&0===R&&(R=-5),R)},t.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?l:(n.head=t,t.done=!1,0):l},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?l:11===n.mode&&i(1,t,r,0)!==n.check?-3:S(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):l},t.inflateInfo="pako inflate (from Nodeca project)"},6446:function(e,t,n){"use strict";var r=n(9187),i=15,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,u,c,d,f,p){var h,m,g,v,y,b,w,S,_,x=p.bits,T=0,k=0,E=0,C=0,O=0,P=0,I=0,A=0,D=0,M=0,R=null,N=0,L=new r.Buf16(16),j=new r.Buf16(16),B=null,F=0;for(T=0;T<=i;T++)L[T]=0;for(k=0;k<u;k++)L[t[n+k]]++;for(O=x,C=i;C>=1&&0===L[C];C--);if(O>C&&(O=C),0===C)return c[d++]=20971520,c[d++]=20971520,p.bits=1,0;for(E=1;E<C&&0===L[E];E++);for(O<E&&(O=E),A=1,T=1;T<=i;T++)if(A<<=1,(A-=L[T])<0)return-1;if(A>0&&(0===e||1!==C))return-1;for(j[1]=0,T=1;T<i;T++)j[T+1]=j[T]+L[T];for(k=0;k<u;k++)0!==t[n+k]&&(f[j[t[n+k]]++]=k);if(0===e?(R=B=f,b=19):1===e?(R=a,N-=257,B=o,F-=257,b=256):(R=s,B=l,b=-1),M=0,k=0,T=E,y=d,P=O,I=0,g=-1,v=(D=1<<O)-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){w=T-I,f[k]<b?(S=0,_=f[k]):f[k]>b?(S=B[F+f[k]],_=R[N+f[k]]):(S=96,_=0),h=1<<T-I,E=m=1<<P;do{c[y+(M>>I)+(m-=h)]=w<<24|S<<16|_|0}while(0!==m);for(h=1<<T-1;M&h;)h>>=1;if(0!==h?(M&=h-1,M+=h):M=0,k++,0==--L[T]){if(T===C)break;T=t[n+f[k]]}if(T>O&&(M&v)!==g){for(0===I&&(I=O),y+=E,A=1<<(P=T-I);P+I<C&&!((A-=L[P+I])<=0);)P++,A<<=1;if(D+=1<<P,1===e&&D>852||2===e&&D>592)return 1;c[g=M&v]=O<<24|P<<16|y-d|0}}return 0!==M&&(c[y+M]=T-I<<24|64<<16|0),p.bits=O,0}},5604:function(e){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function(e,t,n){"use strict";var r=n(9187);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var a=256,o=286,s=30,l=15,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],f=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=new Array(576);i(p);var h=new Array(60);i(h);var m=new Array(512);i(m);var g=new Array(256);i(g);var v=new Array(29);i(v);var y,b,w,S=new Array(s);function _(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function x(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function T(e){return e<256?m[e]:m[256+(e>>>7)]}function k(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function E(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,k(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function C(e,t,n){E(e,n[2*t],n[2*t+1])}function O(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function P(e,t,n){var r,i,a=new Array(16),o=0;for(r=1;r<=l;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=O(a[s]++,s))}}function I(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function A(e){e.bi_valid>8?k(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function D(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function M(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&D(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!D(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function R(e,t,n){var r,i,o,s,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===r?C(e,i,t):(C(e,(o=g[i])+a+1,t),0!==(s=u[o])&&E(e,i-=v[o],s),C(e,o=T(--r),n),0!==(s=c[o])&&E(e,r-=S[o],s))}while(l<e.last_lit);C(e,256,t)}function N(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==a[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)M(e,a,n);i=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],M(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,M(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,a,o,s,u=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,f=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(a=0;a<=l;a++)e.bl_count[a]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(a=u[2*u[2*(r=e.heap[n])+1]+1]+1)>m&&(a=m,g++),u[2*r+1]=a,r>c||(e.bl_count[a]++,o=0,r>=h&&(o=p[r-h]),s=u[2*r],e.opt_len+=s*(a+o),f&&(e.static_len+=s*(d[2*r+1]+o)));if(0!==g){do{for(a=m-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[m]--,g-=2}while(g>0);for(a=m;0!==a;a--)for(r=e.bl_count[a];0!==r;)(i=e.heap[--n])>c||(u[2*i+1]!==a&&(e.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),r--)}}(e,t),P(a,c,e.bl_count)}function L(e,t,n){var r,i,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++s<l&&i===o||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=i,0===o?(l=138,u=3):i===o?(l=6,u=3):(l=7,u=4))}function j(e,t,n){var r,i,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++s<l&&i===o)){if(s<u)do{C(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(C(e,i,e.bl_tree),s--),C(e,16,e.bl_tree),E(e,s-3,2)):s<=10?(C(e,17,e.bl_tree),E(e,s-3,3)):(C(e,18,e.bl_tree),E(e,s-11,7));s=0,a=i,0===o?(l=138,u=3):i===o?(l=6,u=3):(l=7,u=4)}}i(S);var B=!1;function F(e,t,n,i){E(e,0+(i?1:0),3),function(e,t,n,i){A(e),i&&(k(e,n),k(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){B||(function(){var e,t,n,r,i,a=new Array(16);for(n=0,r=0;r<28;r++)for(v[r]=n,e=0;e<1<<u[r];e++)g[n++]=r;for(g[n-1]=r,i=0,r=0;r<16;r++)for(S[r]=i,e=0;e<1<<c[r];e++)m[i++]=r;for(i>>=7;r<s;r++)for(S[r]=i<<7,e=0;e<1<<c[r]-7;e++)m[256+i++]=r;for(t=0;t<=l;t++)a[t]=0;for(e=0;e<=143;)p[2*e+1]=8,e++,a[8]++;for(;e<=255;)p[2*e+1]=9,e++,a[9]++;for(;e<=279;)p[2*e+1]=7,e++,a[7]++;for(;e<=287;)p[2*e+1]=8,e++,a[8]++;for(P(p,287,a),e=0;e<s;e++)h[2*e+1]=5,h[2*e]=O(e,5);y=new _(p,u,257,o,l),b=new _(h,c,0,s,l),w=new _(new Array(0),d,0,19,7)}(),B=!0),e.l_desc=new x(e.dyn_ltree,y),e.d_desc=new x(e.dyn_dtree,b),e.bl_desc=new x(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,I(e)},t._tr_stored_block=F,t._tr_flush_block=function(e,t,n,r){var i,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),N(e,e.l_desc),N(e,e.d_desc),s=function(e){var t;for(L(e,e.dyn_ltree,e.l_desc.max_code),L(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*f[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?F(e,t,n,r):4===e.strategy||o===i?(E(e,2+(r?1:0),3),R(e,p,h)):(E(e,4+(r?1:0),3),function(e,t,n,r){var i;for(E(e,t-257,5),E(e,n-1,5),E(e,r-4,4),i=0;i<r;i++)E(e,e.bl_tree[2*f[i]+1],3);j(e,e.dyn_ltree,t-1),j(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),R(e,e.dyn_ltree,e.dyn_dtree)),I(e),r&&A(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(g[n]+a+1)]++,e.dyn_dtree[2*T(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){E(e,2,3),C(e,256,p),function(e){16===e.bi_valid?(k(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},249:function(e){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function(e){e.exports=function(e){e.data&&e.name&&(e=e.data);for(var t=!0,n="",r="",i=0;i<e.length;i++){var a=e[i];if(t)a?r+=String.fromCharCode(a):t=!1;else{if(!a)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");n+=String.fromCharCode(a)}}return{keyword:r,text:n}}},9686:function(e){e.exports=function(e,t){if(e=String(e),t=String(t),!/^[\x00-\xFF]+$/.test(e)||!/^[\x00-\xFF]+$/.test(t))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(e.length>=80)throw new Error('Keyword "'+e+'" is longer than the 79-character limit imposed by the PNG specification');for(var n,r=e.length+t.length+1,i=new Uint8Array(r),a=0,o=0;o<e.length;o++){if(!(n=e.charCodeAt(o)))throw new Error("0x00 character is not permitted in tEXt keywords");i[a++]=n}i[a++]=0;for(var s=0;s<t.length;s++){if(!(n=t.charCodeAt(s)))throw new Error("0x00 character is not permitted in tEXt content");i[a++]=n}return{name:"tEXt",data:i}}},1194:function(e,t,n){t.encode=n(9686),t.decode=n(9066)},3434:function(e,t,n){var r=n(5714),i=n(6233);e.exports=function(e){var t,n=8,l=n;for(t=0;t<e.length;t++)n+=e[t].data.length,n+=12;var u=new Uint8Array(n);for(u[0]=137,u[1]=80,u[2]=78,u[3]=71,u[4]=13,u[5]=10,u[6]=26,u[7]=10,t=0;t<e.length;t++){var c=e[t],d=c.name,f=c.data,p=f.length,h=[d.charCodeAt(0),d.charCodeAt(1),d.charCodeAt(2),d.charCodeAt(3)];s[0]=p,u[l++]=a[3],u[l++]=a[2],u[l++]=a[1],u[l++]=a[0],u[l++]=h[0],u[l++]=h[1],u[l++]=h[2],u[l++]=h[3];for(var m=0;m<p;)u[l++]=f[m++];var g=h.concat(r(f)),v=i.buf(g);o[0]=v,u[l++]=a[3],u[l++]=a[2],u[l++]=a[1],u[l++]=a[0]}return u};var a=new Uint8Array(4),o=new Int32Array(a.buffer),s=new Uint32Array(a.buffer)},2983:function(e,t,n){var r=n(6233);e.exports=function(e){if(137!==e[0])throw new Error("Invalid .png file header");if(80!==e[1])throw new Error("Invalid .png file header");if(78!==e[2])throw new Error("Invalid .png file header");if(71!==e[3])throw new Error("Invalid .png file header");if(13!==e[4])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(10!==e[5])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(26!==e[6])throw new Error("Invalid .png file header");if(10!==e[7])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var t=!1,n=[],s=8;s<e.length;){i[3]=e[s++],i[2]=e[s++],i[1]=e[s++],i[0]=e[s++];var l=o[0]+4,u=new Uint8Array(l);u[0]=e[s++],u[1]=e[s++],u[2]=e[s++],u[3]=e[s++];var c=String.fromCharCode(u[0])+String.fromCharCode(u[1])+String.fromCharCode(u[2])+String.fromCharCode(u[3]);if(!n.length&&"IHDR"!==c)throw new Error("IHDR header missing");if("IEND"===c){t=!0,n.push({name:c,data:new Uint8Array(0)});break}for(var d=4;d<l;d++)u[d]=e[s++];i[3]=e[s++],i[2]=e[s++],i[1]=e[s++],i[0]=e[s++];var f=a[0];if(r.buf(u)!==f)throw new Error("CRC values for "+c+" header do not match, PNG file is likely corrupted");var p=new Uint8Array(u.buffer.slice(4));n.push({name:c,data:p})}if(!t)throw new Error(".png file ended prematurely: no IEND header was found");return n};var i=new Uint8Array(4),a=new Int32Array(i.buffer),o=new Uint32Array(i.buffer)},1493:function(e,t,n){"use strict";function r(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function i(e,t,n){const i=r(t,n);if(0===i)return r(e,t);let o=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/i;return o=Math.max(0,Math.min(1,o)),r(e,a(t,n,o))}function a(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function o(e,t,n,i){const s=i||[];if(function(e,t){const n=e[t+0],r=e[t+1],i=e[t+2],a=e[t+3];let o=3*r[0]-2*n[0]-a[0];o*=o;let s=3*r[1]-2*n[1]-a[1];s*=s;let l=3*i[0]-2*a[0]-n[0];l*=l;let u=3*i[1]-2*a[1]-n[1];return u*=u,o<l&&(o=l),s<u&&(s=u),o+s}(e,t)<n){const n=e[t+0];s.length?(l=s[s.length-1],u=n,Math.sqrt(r(l,u))>1&&s.push(n)):s.push(n),s.push(e[t+3])}else{const r=.5,i=e[t+0],l=e[t+1],u=e[t+2],c=e[t+3],d=a(i,l,r),f=a(l,u,r),p=a(u,c,r),h=a(d,f,r),m=a(f,p,r),g=a(h,m,r);o([i,d,h,g],0,n,s),o([g,m,p,c],0,n,s)}var l,u;return s}function s(e,t){return l(e,0,e.length,t)}function l(e,t,n,r,a){const o=a||[],s=e[t],u=e[n-1];let c=0,d=1;for(let l=t+1;l<n-1;++l){const t=i(e[l],s,u);t>c&&(c=t,d=l)}return Math.sqrt(c)>r?(l(e,t,d+1,r,o),l(e,d,n,r,o)):(o.length||o.push(s),o.push(u)),o}function u(e,t=.15,n){const r=[],i=(e.length-1)/3;for(let a=0;a<i;a++)o(e,3*a,t,r);return n&&n>0?l(r,0,r.length,n):r}n.d(t,{o:function(){return s},s:function(){return u}})},6094:function(e,t,n){"use strict";n(4516);var r=n(9787),i=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:o.current}}t.jsx=u,t.jsxs=u},4512:function(e,t,n){"use strict";e.exports=n(6094)},1602:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(e,t,n){var r=d;return function(i,a){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?h:f,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=h,n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={};function g(){}function v(){}function y(){}var b={};b[a]=function(){return this};var w=Object.getPrototypeOf,S=w&&w(w(P([])));S&&S!==n&&r.call(S,a)&&(b=S);var _=y.prototype=g.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,a,o,s){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:I}}function I(){return{value:t,done:!0}}return v.prototype=_.constructor=y,y.constructor=v,v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(T.prototype),T.prototype[o]=function(){return this},e.AsyncIterator=T,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new T(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),l(_,s,"Generator"),_[a]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},8152:function(e,t,n){"use strict";function r(){return Math.floor(Math.random()*2**31)}n.d(t,{W:function(){return r},k:function(){return i}});class i{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}},8234:function(e,t,n){"use strict";function r(e,t,n){if(e&&e.length){const[r,i]=t,a=Math.PI/180*n,o=Math.cos(a),s=Math.sin(a);e.forEach((e=>{const[t,n]=e;e[0]=(t-r)*o-(n-i)*s+r,e[1]=(t-r)*s+(n-i)*o+i}))}}function i(e){const t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}function a(e,t){const n=t.hachureAngle+90;let i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.max(i,.1);const a=[0,0];if(n)for(const s of e)r(s,a,n);const o=function(e,t){const n=[];for(const s of e){const e=[...s];e[0].join(",")!==e[e.length-1].join(",")&&e.push([e[0][0],e[0][1]]),e.length>2&&n.push(e)}const r=[];t=Math.max(t,.1);const i=[];for(const s of n)for(let e=0;e<s.length-1;e++){const t=s[e],n=s[e+1];if(t[1]!==n[1]){const e=Math.min(t[1],n[1]);i.push({ymin:e,ymax:Math.max(t[1],n[1]),x:e===t[1]?t[0]:n[0],islope:(n[0]-t[0])/(n[1]-t[1])})}}if(i.sort(((e,t)=>e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax))),!i.length)return r;let a=[],o=i[0].ymin;for(;a.length||i.length;){if(i.length){let e=-1;for(let t=0;t<i.length&&!(i[t].ymin>o);t++)e=t;i.splice(0,e+1).forEach((e=>{a.push({s:o,edge:e})}))}if(a=a.filter((e=>!(e.edge.ymax<=o))),a.sort(((e,t)=>e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x))),a.length>1)for(let e=0;e<a.length;e+=2){const t=e+1;if(t>=a.length)break;const n=a[e].edge,i=a[t].edge;r.push([[Math.round(n.x),o],[Math.round(i.x),o]])}o+=t,a.forEach((e=>{e.edge.x=e.edge.x+t*e.edge.islope}))}return r}(e,i);if(n){for(const t of e)r(t,a,-n);!function(e,t,n){const i=[];e.forEach((e=>i.push(...e))),r(i,t,n)}(o,a,-n)}return o}n.d(t,{Z:function(){return Z}});class o{constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){const n=a(e,t);return{type:"fillSketch",ops:this.renderLines(n,t)}}renderLines(e,t){const n=[];for(const r of e)n.push(...this.helper.doubleLineOps(r[0][0],r[0][1],r[1][0],r[1][1],t));return n}}class s extends o{fillPolygons(e,t){let n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);const r=a(e,Object.assign({},t,{hachureGap:n})),o=Math.PI/180*t.hachureAngle,s=[],l=.5*n*Math.cos(o),u=.5*n*Math.sin(o);for(const[a,c]of r)i([a,c])&&s.push([[a[0]-l,a[1]+u],[...c]],[[a[0]+l,a[1]-u],[...c]]);return{type:"fillSketch",ops:this.renderLines(s,t)}}}class l extends o{fillPolygons(e,t){const n=this._fillPolygons(e,t),r=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),i=this._fillPolygons(e,r);return n.ops=n.ops.concat(i.ops),n}}class u{constructor(e){this.helper=e}fillPolygons(e,t){const n=a(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(n,t)}dotsOnLines(e,t){const n=[];let r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);let a=t.fillWeight;a<0&&(a=t.strokeWidth/2);const o=r/4;for(const s of e){const e=i(s),l=e/r,u=Math.ceil(l)-1,c=e-u*r,d=(s[0][0]+s[1][0])/2-r/4,f=Math.min(s[0][1],s[1][1]);for(let i=0;i<u;i++){const e=f+c+i*r,s=d-o+2*Math.random()*o,l=e-o+2*Math.random()*o,u=this.helper.ellipse(s,l,a,a,t);n.push(...u.ops)}}return{type:"fillSketch",ops:n}}}class c{constructor(e){this.helper=e}fillPolygons(e,t){const n=a(e,t);return{type:"fillSketch",ops:this.dashedLine(n,t)}}dashedLine(e,t){const n=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,r=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,a=[];return e.forEach((e=>{const o=i(e),s=Math.floor(o/(n+r)),l=(o+r-s*(n+r))/2;let u=e[0],c=e[1];u[0]>c[0]&&(u=e[1],c=e[0]);const d=Math.atan((c[1]-u[1])/(c[0]-u[0]));for(let i=0;i<s;i++){const e=i*(n+r),o=e+n,s=[u[0]+e*Math.cos(d)+l*Math.cos(d),u[1]+e*Math.sin(d)+l*Math.sin(d)],c=[u[0]+o*Math.cos(d)+l*Math.cos(d),u[1]+o*Math.sin(d)+l*Math.sin(d)];a.push(...this.helper.doubleLineOps(s[0],s[1],c[0],c[1],t))}})),a}}class d{constructor(e){this.helper=e}fillPolygons(e,t){const n=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,r=t.zigzagOffset<0?n:t.zigzagOffset,i=a(e,t=Object.assign({},t,{hachureGap:n+r}));return{type:"fillSketch",ops:this.zigzagLines(i,r,t)}}zigzagLines(e,t,n){const r=[];return e.forEach((e=>{const a=i(e),o=Math.round(a/(2*t));let s=e[0],l=e[1];s[0]>l[0]&&(s=e[1],l=e[0]);const u=Math.atan((l[1]-s[1])/(l[0]-s[0]));for(let i=0;i<o;i++){const e=2*i*t,a=2*(i+1)*t,o=Math.sqrt(2*Math.pow(t,2)),l=[s[0]+e*Math.cos(u),s[1]+e*Math.sin(u)],c=[s[0]+a*Math.cos(u),s[1]+a*Math.sin(u)],d=[l[0]+o*Math.cos(u+Math.PI/4),l[1]+o*Math.sin(u+Math.PI/4)];r.push(...this.helper.doubleLineOps(l[0],l[1],d[0],d[1],n),...this.helper.doubleLineOps(d[0],d[1],c[0],c[1],n))}})),r}}const f={};var p=n(8152);const h={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function m(e,t){return e.type===t}function g(e){const t=[],n=function(e){const t=new Array;for(;""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:0,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:1,text:`${parseFloat(RegExp.$1)}`},e=e.substr(RegExp.$1.length)}return t[t.length]={type:2,text:""},t}(e);let r="BOD",i=0,a=n[i];for(;!m(a,2);){let o=0;const s=[];if("BOD"===r){if("M"!==a.text&&"m"!==a.text)return g("M0,0"+e);i++,o=h[a.text],r=a.text}else m(a,1)?o=h[r]:(i++,o=h[a.text],r=a.text);if(!(i+o<n.length))throw new Error("Path data ended short");for(let e=i;e<i+o;e++){const t=n[e];if(!m(t,1))throw new Error("Param not a number: "+r+","+t.text);s[s.length]=+t.text}if("number"!=typeof h[r])throw new Error("Bad segment: "+r);{const e={key:r,data:s};t.push(e),i+=o,a=n[i],"M"===r&&(r="L"),"m"===r&&(r="l")}}return t}function v(e){let t=0,n=0,r=0,i=0;const a=[];for(const{key:o,data:s}of e)switch(o){case"M":a.push({key:"M",data:[...s]}),[t,n]=s,[r,i]=s;break;case"m":t+=s[0],n+=s[1],a.push({key:"M",data:[t,n]}),r=t,i=n;break;case"L":a.push({key:"L",data:[...s]}),[t,n]=s;break;case"l":t+=s[0],n+=s[1],a.push({key:"L",data:[t,n]});break;case"C":a.push({key:"C",data:[...s]}),t=s[4],n=s[5];break;case"c":{const e=s.map(((e,r)=>r%2?e+n:e+t));a.push({key:"C",data:e}),t=e[4],n=e[5];break}case"Q":a.push({key:"Q",data:[...s]}),t=s[2],n=s[3];break;case"q":{const e=s.map(((e,r)=>r%2?e+n:e+t));a.push({key:"Q",data:e}),t=e[2],n=e[3];break}case"A":a.push({key:"A",data:[...s]}),t=s[5],n=s[6];break;case"a":t+=s[5],n+=s[6],a.push({key:"A",data:[s[0],s[1],s[2],s[3],s[4],t,n]});break;case"H":a.push({key:"H",data:[...s]}),t=s[0];break;case"h":t+=s[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:[...s]}),n=s[0];break;case"v":n+=s[0],a.push({key:"V",data:[n]});break;case"S":a.push({key:"S",data:[...s]}),t=s[2],n=s[3];break;case"s":{const e=s.map(((e,r)=>r%2?e+n:e+t));a.push({key:"S",data:e}),t=e[2],n=e[3];break}case"T":a.push({key:"T",data:[...s]}),t=s[0],n=s[1];break;case"t":t+=s[0],n+=s[1],a.push({key:"T",data:[t,n]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=r,n=i}return a}function y(e){const t=[];let n="",r=0,i=0,a=0,o=0,s=0,l=0;for(const{key:u,data:c}of e){switch(u){case"M":t.push({key:"M",data:[...c]}),[r,i]=c,[a,o]=c;break;case"C":t.push({key:"C",data:[...c]}),r=c[4],i=c[5],s=c[2],l=c[3];break;case"L":t.push({key:"L",data:[...c]}),[r,i]=c;break;case"H":r=c[0],t.push({key:"L",data:[r,i]});break;case"V":i=c[0],t.push({key:"L",data:[r,i]});break;case"S":{let e=0,a=0;"C"===n||"S"===n?(e=r+(r-s),a=i+(i-l)):(e=r,a=i),t.push({key:"C",data:[e,a,...c]}),s=c[0],l=c[1],r=c[2],i=c[3];break}case"T":{const[e,a]=c;let o=0,u=0;"Q"===n||"T"===n?(o=r+(r-s),u=i+(i-l)):(o=r,u=i);const d=r+2*(o-r)/3,f=i+2*(u-i)/3,p=e+2*(o-e)/3,h=a+2*(u-a)/3;t.push({key:"C",data:[d,f,p,h,e,a]}),s=o,l=u,r=e,i=a;break}case"Q":{const[e,n,a,o]=c,u=r+2*(e-r)/3,d=i+2*(n-i)/3,f=a+2*(e-a)/3,p=o+2*(n-o)/3;t.push({key:"C",data:[u,d,f,p,a,o]}),s=e,l=n,r=a,i=o;break}case"A":{const e=Math.abs(c[0]),n=Math.abs(c[1]),a=c[2],o=c[3],s=c[4],l=c[5],u=c[6];0===e||0===n?(t.push({key:"C",data:[r,i,l,u,l,u]}),r=l,i=u):r===l&&i===u||(w(r,i,l,u,e,n,a,o,s).forEach((function(e){t.push({key:"C",data:e})})),r=l,i=u);break}case"Z":t.push({key:"Z",data:[]}),r=a,i=o}n=u}return t}function b(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function w(e,t,n,r,i,a,o,s,l,u){const c=(d=o,Math.PI*d/180);var d;let f=[],p=0,h=0,m=0,g=0;if(u)[p,h,m,g]=u;else{[e,t]=b(e,t,-c),[n,r]=b(n,r,-c);const o=(e-n)/2,u=(t-r)/2;let d=o*o/(i*i)+u*u/(a*a);d>1&&(d=Math.sqrt(d),i*=d,a*=d);const f=i*i,v=a*a,y=f*v-f*u*u-v*o*o,w=f*u*u+v*o*o,S=(s===l?-1:1)*Math.sqrt(Math.abs(y/w));m=S*i*u/a+(e+n)/2,g=S*-a*o/i+(t+r)/2,p=Math.asin(parseFloat(((t-g)/a).toFixed(9))),h=Math.asin(parseFloat(((r-g)/a).toFixed(9))),e<m&&(p=Math.PI-p),n<m&&(h=Math.PI-h),p<0&&(p=2*Math.PI+p),h<0&&(h=2*Math.PI+h),l&&p>h&&(p-=2*Math.PI),!l&&h>p&&(h-=2*Math.PI)}let v=h-p;if(Math.abs(v)>120*Math.PI/180){const e=h,t=n,s=r;h=l&&h>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,f=w(n=m+i*Math.cos(h),r=g+a*Math.sin(h),t,s,i,a,o,0,l,[h,e,m,g])}v=h-p;const y=Math.cos(p),S=Math.sin(p),_=Math.cos(h),x=Math.sin(h),T=Math.tan(v/4),k=4/3*i*T,E=4/3*a*T,C=[e,t],O=[e+k*S,t-E*y],P=[n+k*x,r-E*_],I=[n,r];if(O[0]=2*C[0]-O[0],O[1]=2*C[1]-O[1],u)return[O,P,I].concat(f);{f=[O,P,I].concat(f);const e=[];for(let t=0;t<f.length;t+=3){const n=b(f[t][0],f[t][1],c),r=b(f[t+1][0],f[t+1][1],c),i=b(f[t+2][0],f[t+2][1],c);e.push([n[0],n[1],r[0],r[1],i[0],i[1]])}return e}}const S={randOffset:function(e,t){return M(e,t)},randOffsetWithRange:function(e,t,n){return D(e,t,n)},ellipse:function(e,t,n,r,i){return C(e,t,i,E(n,r,i)).opset},doubleLineOps:function(e,t,n,r,i){return R(e,t,n,r,i,!0)}};function _(e,t,n,r,i){return{type:"path",ops:R(e,t,n,r,i)}}function x(e,t,n){const r=(e||[]).length;if(r>2){const i=[];for(let t=0;t<r-1;t++)i.push(...R(e[t][0],e[t][1],e[t+1][0],e[t+1][1],n));return t&&i.push(...R(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n)),{type:"path",ops:i}}return 2===r?_(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function T(e,t,n,r,i){return function(e,t){return x(e,!0,t)}([[e,t],[e+n,t],[e+n,t+r],[e,t+r]],i)}function k(e,t){let n=L(e,1*(1+.2*t.roughness),t);if(!t.disableMultiStroke){const r=L(e,1.5*(1+.22*t.roughness),function(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}(t));n=n.concat(r)}return{type:"path",ops:n}}function E(e,t,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),a=2*Math.PI/i;let o=Math.abs(e/2),s=Math.abs(t/2);const l=1-n.curveFitting;return o+=M(o*l,n),s+=M(s*l,n),{increment:a,rx:o,ry:s}}function C(e,t,n,r){const[i,a]=B(r.increment,e,t,r.rx,r.ry,1,r.increment*D(.1,D(.4,1,n),n),n);let o=j(i,null,n);if(!n.disableMultiStroke&&0!==n.roughness){const[i]=B(r.increment,e,t,r.rx,r.ry,1.5,0,n),a=j(i,null,n);o=o.concat(a)}return{estimatedPoints:a,opset:{type:"path",ops:o}}}function O(e,t,n,r,i,a,o,s,l){const u=e,c=t;let d=Math.abs(n/2),f=Math.abs(r/2);d+=M(.01*d,l),f+=M(.01*f,l);let p=i,h=a;for(;p<0;)p+=2*Math.PI,h+=2*Math.PI;h-p>2*Math.PI&&(p=0,h=2*Math.PI);const m=2*Math.PI/l.curveStepCount,g=Math.min(m/2,(h-p)/2),v=F(g,u,c,d,f,p,h,1,l);if(!l.disableMultiStroke){const e=F(g,u,c,d,f,p,h,1.5,l);v.push(...e)}return o&&(s?v.push(...R(u,c,u+d*Math.cos(p),c+f*Math.sin(p),l),...R(u,c,u+d*Math.cos(h),c+f*Math.sin(h),l)):v.push({op:"lineTo",data:[u,c]},{op:"lineTo",data:[u+d*Math.cos(p),c+f*Math.sin(p)]})),{type:"path",ops:v}}function P(e,t){const n=[];for(const r of e)if(r.length){const e=t.maxRandomnessOffset||0,i=r.length;if(i>2){n.push({op:"move",data:[r[0][0]+M(e,t),r[0][1]+M(e,t)]});for(let a=1;a<i;a++)n.push({op:"lineTo",data:[r[a][0]+M(e,t),r[a][1]+M(e,t)]})}}return{type:"fillPath",ops:n}}function I(e,t){return function(e,t){let n=e.fillStyle||"hachure";if(!f[n])switch(n){case"zigzag":f[n]||(f[n]=new s(t));break;case"cross-hatch":f[n]||(f[n]=new l(t));break;case"dots":f[n]||(f[n]=new u(t));break;case"dashed":f[n]||(f[n]=new c(t));break;case"zigzag-line":f[n]||(f[n]=new d(t));break;default:n="hachure",f[n]||(f[n]=new o(t))}return f[n]}(t,S).fillPolygons(e,t)}function A(e){return e.randomizer||(e.randomizer=new p.k(e.seed||0)),e.randomizer.next()}function D(e,t,n,r=1){return n.roughness*r*(A(n)*(t-e)+e)}function M(e,t,n=1){return D(-e,e,t,n)}function R(e,t,n,r,i,a=!1){const o=a?i.disableMultiStrokeFill:i.disableMultiStroke,s=N(e,t,n,r,i,!0,!1);if(o)return s;const l=N(e,t,n,r,i,!0,!0);return s.concat(l)}function N(e,t,n,r,i,a,o){const s=Math.pow(e-n,2)+Math.pow(t-r,2),l=Math.sqrt(s);let u=1;u=l<200?1:l>500?.4:-.0016668*l+1.233334;let c=i.maxRandomnessOffset||0;c*c*100>s&&(c=l/10);const d=c/2,f=.2+.2*A(i);let p=i.bowing*i.maxRandomnessOffset*(r-t)/200,h=i.bowing*i.maxRandomnessOffset*(e-n)/200;p=M(p,i,u),h=M(h,i,u);const m=[],g=()=>M(d,i,u),v=()=>M(c,i,u),y=i.preserveVertices;return a&&(o?m.push({op:"move",data:[e+(y?0:g()),t+(y?0:g())]}):m.push({op:"move",data:[e+(y?0:M(c,i,u)),t+(y?0:M(c,i,u))]})),o?m.push({op:"bcurveTo",data:[p+e+(n-e)*f+g(),h+t+(r-t)*f+g(),p+e+2*(n-e)*f+g(),h+t+2*(r-t)*f+g(),n+(y?0:g()),r+(y?0:g())]}):m.push({op:"bcurveTo",data:[p+e+(n-e)*f+v(),h+t+(r-t)*f+v(),p+e+2*(n-e)*f+v(),h+t+2*(r-t)*f+v(),n+(y?0:v()),r+(y?0:v())]}),m}function L(e,t,n){const r=[];r.push([e[0][0]+M(t,n),e[0][1]+M(t,n)]),r.push([e[0][0]+M(t,n),e[0][1]+M(t,n)]);for(let i=1;i<e.length;i++)r.push([e[i][0]+M(t,n),e[i][1]+M(t,n)]),i===e.length-1&&r.push([e[i][0]+M(t,n),e[i][1]+M(t,n)]);return j(r,null,n)}function j(e,t,n){const r=e.length,i=[];if(r>3){const a=[],o=1-n.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let t=1;t+2<r;t++){const n=e[t];a[0]=[n[0],n[1]],a[1]=[n[0]+(o*e[t+1][0]-o*e[t-1][0])/6,n[1]+(o*e[t+1][1]-o*e[t-1][1])/6],a[2]=[e[t+1][0]+(o*e[t][0]-o*e[t+2][0])/6,e[t+1][1]+(o*e[t][1]-o*e[t+2][1])/6],a[3]=[e[t+1][0],e[t+1][1]],i.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(t&&2===t.length){const e=n.maxRandomnessOffset;i.push({op:"lineTo",data:[t[0]+M(e,n),t[1]+M(e,n)]})}}else 3===r?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===r&&i.push(...R(e[0][0],e[0][1],e[1][0],e[1][1],n));return i}function B(e,t,n,r,i,a,o,s){const l=[],u=[];if(0===s.roughness){e/=4,u.push([t+r*Math.cos(-e),n+i*Math.sin(-e)]);for(let a=0;a<=2*Math.PI;a+=e){const e=[t+r*Math.cos(a),n+i*Math.sin(a)];l.push(e),u.push(e)}u.push([t+r*Math.cos(0),n+i*Math.sin(0)]),u.push([t+r*Math.cos(e),n+i*Math.sin(e)])}else{const c=M(.5,s)-Math.PI/2;u.push([M(a,s)+t+.9*r*Math.cos(c-e),M(a,s)+n+.9*i*Math.sin(c-e)]);const d=2*Math.PI+c-.01;for(let o=c;o<d;o+=e){const e=[M(a,s)+t+r*Math.cos(o),M(a,s)+n+i*Math.sin(o)];l.push(e),u.push(e)}u.push([M(a,s)+t+r*Math.cos(c+2*Math.PI+.5*o),M(a,s)+n+i*Math.sin(c+2*Math.PI+.5*o)]),u.push([M(a,s)+t+.98*r*Math.cos(c+o),M(a,s)+n+.98*i*Math.sin(c+o)]),u.push([M(a,s)+t+.9*r*Math.cos(c+.5*o),M(a,s)+n+.9*i*Math.sin(c+.5*o)])}return[u,l]}function F(e,t,n,r,i,a,o,s,l){const u=a+M(.1,l),c=[];c.push([M(s,l)+t+.9*r*Math.cos(u-e),M(s,l)+n+.9*i*Math.sin(u-e)]);for(let d=u;d<=o;d+=e)c.push([M(s,l)+t+r*Math.cos(d),M(s,l)+n+i*Math.sin(d)]);return c.push([t+r*Math.cos(o),n+i*Math.sin(o)]),c.push([t+r*Math.cos(o),n+i*Math.sin(o)]),j(c,null,l)}function U(e,t,n,r,i,a,o,s){const l=[],u=[s.maxRandomnessOffset||1,(s.maxRandomnessOffset||1)+.3];let c=[0,0];const d=s.disableMultiStroke?1:2,f=s.preserveVertices;for(let p=0;p<d;p++)0===p?l.push({op:"move",data:[o[0],o[1]]}):l.push({op:"move",data:[o[0]+(f?0:M(u[0],s)),o[1]+(f?0:M(u[0],s))]}),c=f?[i,a]:[i+M(u[p],s),a+M(u[p],s)],l.push({op:"bcurveTo",data:[e+M(u[p],s),t+M(u[p],s),n+M(u[p],s),r+M(u[p],s),c[0],c[1]]});return l}function H(e){return[...e]}var z=n(1493);const V="none";class ${constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return(0,p.W)()}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,n){return{shape:e,sets:t||[],options:n||this.defaultOptions}}line(e,t,n,r,i){const a=this._o(i);return this._d("line",[_(e,t,n,r,a)],a)}rectangle(e,t,n,r,i){const a=this._o(i),o=[],s=T(e,t,n,r,a);if(a.fill){const i=[[e,t],[e+n,t],[e+n,t+r],[e,t+r]];"solid"===a.fillStyle?o.push(P([i],a)):o.push(I([i],a))}return a.stroke!==V&&o.push(s),this._d("rectangle",o,a)}ellipse(e,t,n,r,i){const a=this._o(i),o=[],s=E(n,r,a),l=C(e,t,a,s);if(a.fill)if("solid"===a.fillStyle){const n=C(e,t,a,s).opset;n.type="fillPath",o.push(n)}else o.push(I([l.estimatedPoints],a));return a.stroke!==V&&o.push(l.opset),this._d("ellipse",o,a)}circle(e,t,n,r){const i=this.ellipse(e,t,n,n,r);return i.shape="circle",i}linearPath(e,t){const n=this._o(t);return this._d("linearPath",[x(e,!1,n)],n)}arc(e,t,n,r,i,a,o=!1,s){const l=this._o(s),u=[],c=O(e,t,n,r,i,a,o,!0,l);if(o&&l.fill)if("solid"===l.fillStyle){const o=Object.assign({},l);o.disableMultiStroke=!0;const s=O(e,t,n,r,i,a,!0,!1,o);s.type="fillPath",u.push(s)}else u.push(function(e,t,n,r,i,a,o){const s=e,l=t;let u=Math.abs(n/2),c=Math.abs(r/2);u+=M(.01*u,o),c+=M(.01*c,o);let d=i,f=a;for(;d<0;)d+=2*Math.PI,f+=2*Math.PI;f-d>2*Math.PI&&(d=0,f=2*Math.PI);const p=(f-d)/o.curveStepCount,h=[];for(let m=d;m<=f;m+=p)h.push([s+u*Math.cos(m),l+c*Math.sin(m)]);return h.push([s+u*Math.cos(f),l+c*Math.sin(f)]),h.push([s,l]),I([h],o)}(e,t,n,r,i,a,l));return l.stroke!==V&&u.push(c),this._d("arc",u,l)}curve(e,t){const n=this._o(t),r=[],i=k(e,n);if(n.fill&&n.fill!==V&&e.length>=3){const t=function(e,t=0){const n=e.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(3===n)r.push(H(e[0]),H(e[1]),H(e[2]),H(e[2]));else{const n=[];n.push(e[0],e[0]);for(let t=1;t<e.length;t++)n.push(e[t]),t===e.length-1&&n.push(e[t]);const i=[],a=1-t;r.push(H(n[0]));for(let e=1;e+2<n.length;e++){const t=n[e];i[0]=[t[0],t[1]],i[1]=[t[0]+(a*n[e+1][0]-a*n[e-1][0])/6,t[1]+(a*n[e+1][1]-a*n[e-1][1])/6],i[2]=[n[e+1][0]+(a*n[e][0]-a*n[e+2][0])/6,n[e+1][1]+(a*n[e][1]-a*n[e+2][1])/6],i[3]=[n[e+1][0],n[e+1][1]],r.push(i[1],i[2],i[3])}}return r}(e),i=(0,z.s)(t,10,(1+n.roughness)/2);"solid"===n.fillStyle?r.push(P([i],n)):r.push(I([i],n))}return n.stroke!==V&&r.push(i),this._d("curve",r,n)}polygon(e,t){const n=this._o(t),r=[],i=x(e,!0,n);return n.fill&&("solid"===n.fillStyle?r.push(P([e],n)):r.push(I([e],n))),n.stroke!==V&&r.push(i),this._d("polygon",r,n)}path(e,t){const n=this._o(t),r=[];if(!e)return this._d("path",r,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const i=n.fill&&"transparent"!==n.fill&&n.fill!==V,a=n.stroke!==V,o=!!(n.simplification&&n.simplification<1),s=function(e,t,n){const r=y(v(g(e))),i=[];let a=[],o=[0,0],s=[];const l=()=>{s.length>=4&&a.push(...(0,z.s)(s,t)),s=[]},u=()=>{l(),a.length&&(i.push(a),a=[])};for(const{key:d,data:f}of r)switch(d){case"M":u(),o=[f[0],f[1]],a.push(o);break;case"L":l(),a.push([f[0],f[1]]);break;case"C":if(!s.length){const e=a.length?a[a.length-1]:o;s.push([e[0],e[1]])}s.push([f[0],f[1]]),s.push([f[2],f[3]]),s.push([f[4],f[5]]);break;case"Z":l(),a.push([o[0],o[1]])}if(u(),!n)return i;const c=[];for(const d of i){const e=(0,z.o)(d,n);e.length&&c.push(e)}return c}(e,1,o?4-4*n.simplification:(1+n.roughness)/2);return i&&("solid"===n.fillStyle?r.push(P(s,n)):r.push(I(s,n))),a&&(o?s.forEach((e=>{r.push(x(e,!1,n))})):r.push(function(e,t){const n=y(v(g(e))),r=[];let i=[0,0],a=[0,0];for(const{key:o,data:s}of n)switch(o){case"M":{const e=1*(t.maxRandomnessOffset||0),n=t.preserveVertices;r.push({op:"move",data:s.map((r=>r+(n?0:M(e,t))))}),a=[s[0],s[1]],i=[s[0],s[1]];break}case"L":r.push(...R(a[0],a[1],s[0],s[1],t)),a=[s[0],s[1]];break;case"C":{const[e,n,i,o,l,u]=s;r.push(...U(e,n,i,o,l,u,a,t)),a=[l,u];break}case"Z":r.push(...R(a[0],a[1],i[0],i[1],t)),a=[i[0],i[1]]}return{type:"path",ops:r}}(e,n))),this._d("path",r,n)}opsToPath(e,t){let n="";for(const r of e.ops){const e="number"==typeof t&&t>=0?r.data.map((e=>+e.toFixed(t))):r.data;switch(r.op){case"move":n+=`M${e[0]} ${e[1]} `;break;case"bcurveTo":n+=`C${e[0]} ${e[1]}, ${e[2]} ${e[3]}, ${e[4]} ${e[5]} `;break;case"lineTo":n+=`L${e[0]} ${e[1]} `}}return n.trim()}toPaths(e){const t=e.sets||[],n=e.options||this.defaultOptions,r=[];for(const i of t){let e=null;switch(i.type){case"path":e={d:this.opsToPath(i),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:V};break;case"fillPath":e={d:this.opsToPath(i),stroke:V,strokeWidth:0,fill:n.fill||V};break;case"fillSketch":e=this.fillSketch(i,n)}e&&r.push(e)}return r}fillSketch(e,t){let n=t.fillWeight;return n<0&&(n=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||V,strokeWidth:n,fill:V}}}class G{constructor(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new $(t)}draw(e){const t=e.sets||[],n=e.options||this.getDefaultOptions(),r=this.ctx,i=e.options.fixedDecimalPlaceDigits;for(const a of t)switch(a.type){case"path":r.save(),r.strokeStyle="none"===n.stroke?"transparent":n.stroke,r.lineWidth=n.strokeWidth,n.strokeLineDash&&r.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(r.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(r,a,i),r.restore();break;case"fillPath":{r.save(),r.fillStyle=n.fill||"";const t="curve"===e.shape||"polygon"===e.shape||"path"===e.shape?"evenodd":"nonzero";this._drawToContext(r,a,i,t),r.restore();break}case"fillSketch":this.fillSketch(r,a,n)}}fillSketch(e,t,n){let r=n.fillWeight;r<0&&(r=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=r,this._drawToContext(e,t,n.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,t,n,r="nonzero"){e.beginPath();for(const i of t.ops){const t="number"==typeof n&&n>=0?i.data.map((e=>+e.toFixed(n))):i.data;switch(i.op){case"move":e.moveTo(t[0],t[1]);break;case"bcurveTo":e.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5]);break;case"lineTo":e.lineTo(t[0],t[1])}}"fillPath"===t.type?e.fill(r):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,t,n,r,i){const a=this.gen.line(e,t,n,r,i);return this.draw(a),a}rectangle(e,t,n,r,i){const a=this.gen.rectangle(e,t,n,r,i);return this.draw(a),a}ellipse(e,t,n,r,i){const a=this.gen.ellipse(e,t,n,r,i);return this.draw(a),a}circle(e,t,n,r){const i=this.gen.circle(e,t,n,r);return this.draw(i),i}linearPath(e,t){const n=this.gen.linearPath(e,t);return this.draw(n),n}polygon(e,t){const n=this.gen.polygon(e,t);return this.draw(n),n}arc(e,t,n,r,i,a,o=!1,s){const l=this.gen.arc(e,t,n,r,i,a,o,s);return this.draw(l),l}curve(e,t){const n=this.gen.curve(e,t);return this.draw(n),n}path(e,t){const n=this.gen.path(e,t);return this.draw(n),n}}const W="http://www.w3.org/2000/svg";class q{constructor(e,t){this.svg=e,this.gen=new $(t)}draw(e){const t=e.sets||[],n=e.options||this.getDefaultOptions(),r=this.svg.ownerDocument||window.document,i=r.createElementNS(W,"g"),a=e.options.fixedDecimalPlaceDigits;for(const o of t){let t=null;switch(o.type){case"path":t=r.createElementNS(W,"path"),t.setAttribute("d",this.opsToPath(o,a)),t.setAttribute("stroke",n.stroke),t.setAttribute("stroke-width",n.strokeWidth+""),t.setAttribute("fill","none"),n.strokeLineDash&&t.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&t.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":t=r.createElementNS(W,"path"),t.setAttribute("d",this.opsToPath(o,a)),t.setAttribute("stroke","none"),t.setAttribute("stroke-width","0"),t.setAttribute("fill",n.fill||""),"curve"!==e.shape&&"polygon"!==e.shape||t.setAttribute("fill-rule","evenodd");break;case"fillSketch":t=this.fillSketch(r,o,n)}t&&i.appendChild(t)}return i}fillSketch(e,t,n){let r=n.fillWeight;r<0&&(r=n.strokeWidth/2);const i=e.createElementNS(W,"path");return i.setAttribute("d",this.opsToPath(t,n.fixedDecimalPlaceDigits)),i.setAttribute("stroke",n.fill||""),i.setAttribute("stroke-width",r+""),i.setAttribute("fill","none"),n.fillLineDash&&i.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&i.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),i}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,t){return this.gen.opsToPath(e,t)}line(e,t,n,r,i){const a=this.gen.line(e,t,n,r,i);return this.draw(a)}rectangle(e,t,n,r,i){const a=this.gen.rectangle(e,t,n,r,i);return this.draw(a)}ellipse(e,t,n,r,i){const a=this.gen.ellipse(e,t,n,r,i);return this.draw(a)}circle(e,t,n,r){const i=this.gen.circle(e,t,n,r);return this.draw(i)}linearPath(e,t){const n=this.gen.linearPath(e,t);return this.draw(n)}polygon(e,t){const n=this.gen.polygon(e,t);return this.draw(n)}arc(e,t,n,r,i,a,o=!1,s){const l=this.gen.arc(e,t,n,r,i,a,o,s);return this.draw(l)}curve(e,t){const n=this.gen.curve(e,t);return this.draw(n)}path(e,t){const n=this.gen.path(e,t);return this.draw(n)}}var Z={canvas:(e,t)=>new G(e,t),svg:(e,t)=>new q(e,t),generator:e=>new $(e),newSeed:()=>$.newSeed()}},5714:function(e){e.exports=function(e,t,n){var r=[],i=e.length;if(0===i)return r;var a=t<0?Math.max(0,t+i):t||0;for(void 0!==n&&(i=n<0?n+i:n);i-- >a;)r[i-a]=e[i];return r}},8336:function(e,t,n){var r=n(487),i=n(4295);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},554:function(e,t,n){var r=n(487),i=n(9135);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},2789:function(e,t,n){var r=n(487),i=n(3729);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},5080:function(e,t,n){var r=n(487),i=n(4241);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},7225:function(e,t,n){var r=n(487),i=n(6029);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},778:function(e,t,n){var r=n(487),i=n(9609);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},4220:function(e,t,n){var r=n(487),i=n(2345);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},4678:function(e,t,n){var r=n(487),i=n(9393);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},1292:function(e,t,n){var r=n(487),i=n(6578);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},196:function(e,t,n){var r=n(487),i=n(9482);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},2205:function(e,t,n){var r=n(487),i=n(7955);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},1310:function(e,t,n){var r=n(487),i=n(3195);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},3922:function(e,t,n){var r=n(487),i=n(2978);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},7096:function(e,t,n){var r=n(487),i=n(1587);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},7117:function(e,t,n){var r=n(487),i=n(9478);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},1106:function(e,t,n){var r=n(487),i=n(7369);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},3336:function(e,t,n){var r=n(487),i=n(1434);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},4406:function(e,t,n){var r=n(487),i=n(8923);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},6043:function(e,t,n){var r=n(487),i=n(6440);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},694:function(e,t,n){var r=n(487),i=n(5644);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},8328:function(e,t,n){var r=n(487),i=n(6843);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},8051:function(e,t,n){var r=n(487),i=n(8461);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},4301:function(e,t,n){var r=n(487),i=n(9935);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},9966:function(e,t,n){var r=n(487),i=n(532);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},9295:function(e,t,n){var r=n(487),i=n(7589);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},47:function(e,t,n){var r=n(487),i=n(5741);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},9781:function(e,t,n){var r=n(487),i=n(8465);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},371:function(e,t,n){var r=n(487),i=n(5892);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},4623:function(e,t,n){var r=n(487),i=n(3874);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},1528:function(e,t,n){var r=n(487),i=n(2681);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},518:function(e,t,n){var r=n(487),i=n(6759);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},9757:function(e,t,n){var r=n(487),i=n(9650);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},5422:function(e,t,n){var r=n(487),i=n(2044);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},276:function(e,t,n){var r=n(487),i=n(9144);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},6781:function(e,t,n){var r=n(487),i=n(6626);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},580:function(e,t,n){var r=n(487),i=n(6359);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},4285:function(e,t,n){var r=n(487),i=n(9915);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},3313:function(e,t,n){var r=n(487),i=n(9310);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},8635:function(e,t,n){var r=n(487),i=n(6464);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},4404:function(e,t,n){var r=n(487),i=n(5260);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},487:function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function s(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],i=0;i<e.length;i++){var a=e[i],l=t.base?a[0]+t.base:a[0],u=n[l]||0,c="".concat(l," ").concat(u);n[l]=u+1;var d=s(c),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(o[d].references++,o[d].updater(f)):o.push({identifier:c,updater:g(f,t),references:1}),r.push(c)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function p(e,t,n){var r=n.css,i=n.media,a=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,m=0;function g(e,t){var n,r,i;if(t.singleton){var a=m++;n=h||(h=u(t)),r=f.bind(null,n,a,!1),i=f.bind(null,n,a,!0)}else n=u(t),r=p.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=s(n[r]);o[i].references--}for(var a=l(e,t),u=0;u<n.length;u++){var c=s(n[u]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=a}}}},940:function(e,t,n){var r={"./ar-SA.json":[7822,91],"./bg-BG.json":[1203,628],"./bn-BD.json":[8525,429],"./ca-ES.json":[510,130],"./cs-CZ.json":[7605,265],"./da-DK.json":[2392,790],"./de-DE.json":[2853,82],"./el-GR.json":[9876,513],"./en.json":[1463],"./es-ES.json":[9952,759],"./eu-ES.json":[5658,81],"./fa-IR.json":[3747,330],"./fi-FI.json":[9490,512],"./fr-FR.json":[7830,682],"./he-IL.json":[1994,312],"./hi-IN.json":[4646,828],"./hu-HU.json":[6373,368],"./id-ID.json":[3247,808],"./it-IT.json":[3257,239],"./ja-JP.json":[198,204],"./kab-KAB.json":[228,551],"./kk-KZ.json":[8972,22],"./ko-KR.json":[7596,844],"./lt-LT.json":[3755,340],"./lv-LV.json":[2327,768],"./mr-IN.json":[5297,397],"./my-MM.json":[7704,477],"./nb-NO.json":[1167,359],"./nl-NL.json":[290,24],"./nn-NO.json":[4481,885],"./oc-FR.json":[2284,690],"./pa-IN.json":[6773,162],"./percentages.json":[4451],"./pl-PL.json":[3661,674],"./pt-BR.json":[8881,721],"./pt-PT.json":[5622,395],"./ro-RO.json":[2013,89],"./ru-RU.json":[2253,124],"./si-LK.json":[5497,302],"./sk-SK.json":[4570,750],"./sl-SI.json":[1984,71],"./sv-SE.json":[6006,534],"./ta-IN.json":[3952,404],"./tr-TR.json":[7315,977],"./uk-UA.json":[334,579],"./zh-CN.json":[1037,680],"./zh-HK.json":[5334,920],"./zh-TW.json":[931,421]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(i,19)}))}i.keys=function(){return Object.keys(r)},i.id=940,e.exports=i},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},6479:function(e,t,n){var r=n(7316);e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},7316:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},4295:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a),s=n(1667),l=n.n(s),u=new URL(n(3940),n.b),c=new URL(n(3147),n.b),d=o()(i()),f=l()(u),p=l()(c);d.push([e.id,'@font-face{font-family:"Virgil";src:url('+f+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+p+");font-display:swap}",""]),t.default=d},9135:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),t.default=o},3729:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}",""]),t.default=o},4241:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),t.default=o},6029:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),t.default=o},9609:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.6em;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),t.default=o},2345:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a),s=n(1667),l=n.n(s),u=new URL(n(9669),n.b),c=o()(i()),d=l()(u);c.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:-10px}:root[dir=ltr] .excalidraw .color-picker-triangle{left:12px}:root[dir=rtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+d+') left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir=ltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir=rtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir=ltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir=rtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:11ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;-webkit-padding-start:.5em;padding-inline-start:.5em;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;-webkit-margin-end:.25rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:rgba(0,0,0,0) !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),t.default=c},9393:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;padding:.2rem 0;justify-content:flex-end}.excalidraw .confirm-dialog .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .confirm-dialog .ToolIcon_type_button{margin-left:.8rem;padding:0 .5rem}.excalidraw .confirm-dialog__content{font-size:1rem}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button{background-color:#fa5252}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button:hover{background-color:#e03131}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button .ToolIcon__icon{color:#fff}",""]),t.default=o},6578:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"\u2713"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-option{display:block}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',""]),t.default=o},9482:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor)*7);grid-gap:var(--metric);padding:calc(var(--space-factor)*2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}.excalidraw--mobile.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw--mobile.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor)*7) 1fr calc(var(--space-factor)*7);position:-webkit-sticky;position:sticky;top:0;padding:calc(var(--space-factor)*2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw--mobile.excalidraw .Dialog__titleContent{text-align:center}.excalidraw--mobile.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw--mobile.excalidraw .Dialog .Modal__close{order:-1}",""]),t.default=o},7955:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a),s=n(1667),l=n.n(s),u=new URL(n(9669),n.b),c=o()(i()),d=l()(u);c.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+d+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{width:5rem;height:5rem;margin:0 .2em;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),t.default=c},3195:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--space-factor);top:var(--space-factor);right:var(--space-factor);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),t.default=o},2978:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",""]),t.default=o},1587:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2em}.excalidraw .HintViewer>span{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",""]),t.default=o},9478:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),t.default=o},7369:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),t.default=o},1434:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.layer-ui__sidebar{position:absolute;top:var(--sat);bottom:var(--sab);right:var(--sar);z-index:5;box-shadow:var(--shadow-island);overflow:hidden;border-radius:var(--border-radius-lg);margin:var(--space-factor);width:calc(302px - var(--space-factor) * 2)}.layer-ui__sidebar .Island{box-shadow:none}.layer-ui__sidebar .ToolIcon__icon{border-radius:var(--border-radius-md)}.layer-ui__sidebar .ToolIcon__icon__close .Modal__close{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7);display:flex;justify-content:center;align-items:center;color:var(--color-text)}.layer-ui__sidebar .Island{--padding: 0;background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-left{-webkit-transform:translate(-76px, 0);transform:translate(-76px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-left{-webkit-transform:translate(76px, 0);transform:translate(76px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center{pointer-events:none}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center>*{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right,.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left{margin-bottom:.2em}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto;-webkit-margin-end:1em;margin-inline-end:1em}",""]),t.default=o},8923:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw .layer-ui__library{display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0 15px 0}.excalidraw .layer-ui__library .layer-ui__library-header .Spinner{margin-right:1rem}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__sidebar .layer-ui__library{padding:0;height:100%}.excalidraw .layer-ui__sidebar .library-menu-items-container{height:100%;width:100%}.excalidraw .layer-ui__library-message{padding:2em 4em;min-width:200px;display:flex;flex-direction:column;align-items:center}.excalidraw .layer-ui__library-message .Spinner{margin-bottom:1em}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-browse-button{width:80%;min-height:22px;margin:0 auto;margin-top:1rem;padding:10px;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-primary-darker)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-primary-darkest)}.excalidraw .library-menu-browse-button--mobile{min-height:22px;margin-left:auto}.excalidraw .library-menu-browse-button--mobile a{padding-right:0}",""]),t.default=o},6440:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw .library-menu-items-container{display:flex;flex-direction:column;height:100%;padding:.5rem;box-sizing:border-box}.excalidraw .library-menu-items-container .library-actions{width:100%;display:flex;margin-right:auto;align-items:center}.excalidraw .library-menu-items-container .library-actions button .library-actions-counter{position:absolute;right:2px;bottom:2px;border-radius:50%;width:1em;height:1em;padding:1px;font-size:.7rem;background:#fff}.excalidraw .library-menu-items-container .library-actions--remove{background-color:#f03e3e}.excalidraw .library-menu-items-container .library-actions--remove:hover{background-color:#e03131}.excalidraw .library-menu-items-container .library-actions--remove:active{background-color:#c92a2a}.excalidraw .library-menu-items-container .library-actions--remove svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--remove .library-actions-counter{color:#f03e3e}.excalidraw .library-menu-items-container .library-actions--export{background-color:#94d82d}.excalidraw .library-menu-items-container .library-actions--export:hover{background-color:#74b816}.excalidraw .library-menu-items-container .library-actions--export:active{background-color:#66a80f}.excalidraw .library-menu-items-container .library-actions--export svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--export .library-actions-counter{color:#94d82d}.excalidraw .library-menu-items-container .library-actions--publish{background-color:#15aabf}.excalidraw .library-menu-items-container .library-actions--publish:hover{background-color:#1098ad}.excalidraw .library-menu-items-container .library-actions--publish:active{background-color:#0b7285}.excalidraw .library-menu-items-container .library-actions--publish svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--publish label{margin-left:-0.2em;margin-right:1.1em;color:#fff;font-size:.86em}.excalidraw .library-menu-items-container .library-actions--publish .library-actions-counter{color:#15aabf}.excalidraw .library-menu-items-container .library-actions--load{background-color:#228be6}.excalidraw .library-menu-items-container .library-actions--load:hover{background-color:#1c7ed6}.excalidraw .library-menu-items-container .library-actions--load:active{background-color:#1864ab}.excalidraw .library-menu-items-container .library-actions--load svg{color:#fff}.excalidraw .library-menu-items-container__items{flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}",""]),t.default=o},5644:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit--hover{box-shadow:inset 0px 0px 0px 2px #339af0;border-color:#339af0}.excalidraw .library-unit--selected{box-shadow:inset 0px 0px 0px 2px #1971c2;border-color:#1971c2}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;left:2.3rem;bottom:2.3rem}.excalidraw .library-unit__checkbox .Checkbox-box{width:13px;height:13px;border-radius:2px;margin:.5em .5em .2em .2em;background-color:#d0ebff}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:40%;top:40%;width:2rem;height:2rem;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit:hover .library-unit__adder{fill:#1c7ed6}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8);fill:#000}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}",""]),t.default=o},6843:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.7)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}.excalidraw--mobile.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor)*5)}.excalidraw--mobile.excalidraw .Modal{padding:0}.excalidraw--mobile.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}",""]),t.default=o},8461:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),t.default=o},9935:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw .popover{position:absolute;z-index:10}",""]),t.default=o},532:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),t.default=o},7589:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;padding:0 .8rem;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em;font-style:italic;font-size:14px;display:block}",""]),t.default=o},5741:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__sidebar-lock-button{margin-right:.2rem}.excalidraw .layer-ui__sidebar-lock-button .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .layer-ui__sidebar-lock-button .ToolIcon_type_checkbox+.ToolIcon__icon:active{background:var(--color-primary-light)}.excalidraw .layer-ui__sidebar-lock-button .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .layer-ui__sidebar-lock-button .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary);--icon-fill-color: #ffffff;--keybinding-color: #ffffff}.excalidraw .layer-ui__sidebar-lock-button .ToolIcon_type_radio:checked+.ToolIcon__icon:active,.excalidraw .layer-ui__sidebar-lock-button .ToolIcon_type_checkbox:checked+.ToolIcon__icon:active{background:var(--color-primary-darker)}.excalidraw .layer-ui__sidebar-lock-button .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon_type_floating .side_lock_icon{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7)}.excalidraw .ToolIcon_type_floating .side_lock_icon svg{-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.side_lock_icon{background-color:var(--color-primary)}",""]),t.default=o},8465:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),t.default=o},5892:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),t.default=o},3874:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),t.default=o},2681:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:all}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),t.default=o},6759:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),t.default=o},9650:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),t.default=o},2044:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon{background-color:var(--button-gray-1)}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon:hover,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon:active,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_radio:focus-visible+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus-visible+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon_type_floating{display:inline-block;position:absolute;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon_type_floating:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon_type_floating:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon_type_floating .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon_type_floating svg{position:static}.excalidraw .ToolIcon.ToolIcon__library{top:100px}.excalidraw .ToolIcon.ToolIcon__lock{-webkit-margin-end:0;margin-inline-end:0;top:60px}.excalidraw .ToolIcon.ToolIcon__penMode{-webkit-margin-end:0;margin-inline-end:0;top:140px}}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}",""]),t.default=o},9144:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox+.ToolIcon__icon:active{background:var(--color-primary-light)}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary);--icon-fill-color: #ffffff;--keybinding-color: #ffffff}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:checked+.ToolIcon__icon:active,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:checked+.ToolIcon__icon:active{background:var(--color-primary-darker)}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .App-toolbar-container .ToolIcon_type_floating:not(.is-mobile) .ToolIcon__icon{padding:1px;background-color:var(--island-bg-color);box-shadow:1px 3px 4px 0px rgba(0,0,0,.15);border-radius:50%;transition:box-shadow .5s ease,-webkit-transform .5s ease;transition:box-shadow .5s ease,transform .5s ease;transition:box-shadow .5s ease,transform .5s ease,-webkit-transform .5s ease}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:focus-within+.ToolIcon__icon,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:focus-within+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .App-toolbar-container .ToolIcon__hidden{box-shadow:none !important;background-color:rgba(0,0,0,0) !important;pointer-events:none !important}.excalidraw .App-toolbar-container .ToolIcon.ToolIcon__lock{-webkit-margin-end:var(--space-factor);margin-inline-end:var(--space-factor)}.excalidraw .App-toolbar-container .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .App-toolbar-container .ToolIcon__library{-webkit-margin-start:var(--space-factor);margin-inline-start:var(--space-factor)}.excalidraw .App-toolbar-container.zen-mode .ToolIcon_type_floating .ToolIcon__icon{box-shadow:none;-webkit-transform:scale(0.9);transform:scale(0.9)}.excalidraw .App-toolbar-container.zen-mode .ToolIcon_type_floating .ToolIcon_type_checkbox:not(:checked):not(:hover):not(:active)+.ToolIcon__icon svg{fill:#adb5bd;color:#adb5bd}.excalidraw .App-toolbar{border-radius:var(--border-radius-lg);box-shadow:0 0 0 1px rgba(0,0,0,.01),1px 1px 5px rgba(0,0,0,.15)}.excalidraw .App-toolbar .ToolIcon:hover{--icon-fill-color: var( --color-primary-contrast-offset, var(--color-primary) );--keybinding-color: var( --color-primary-contrast-offset, var(--color-primary) )}.excalidraw .App-toolbar .ToolIcon:active{--icon-fill-color: #212529;--keybinding-color: #212529}.excalidraw .App-toolbar .ToolIcon .ToolIcon__icon{background:rgba(0,0,0,0);border-radius:var(--border-radius-lg)}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox+.ToolIcon__icon:active{background:var(--color-primary-light)}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary);--icon-fill-color: #ffffff;--keybinding-color: #ffffff}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon:active,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon:active{background:var(--color-primary-darker)}.excalidraw .App-toolbar .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw.theme--dark .App-toolbar .ToolIcon:active{--icon-fill-color: #dee2e6;--keybinding-color: #dee2e6}",""]),t.default=o},6626:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{position:fixed;z-index:1000;padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),t.default=o},6359:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile>*{margin:0 var(--space-factor) var(--space-factor) 0}",""]),t.default=o},9915:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}",""]),t.default=o},9310:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a),s=n(1667),l=n.n(s),u=new URL(n(7984),n.b),c=new URL(n(1639),n.b),d=o()(i()),f=l()(u),p=l()(c);d.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url("+f+");--focus-highlight-color: #a5d8ff;--icon-fill-color: #212529;--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 0 0 1px rgba(0, 0, 0, 0.01), 1px 1px 5px rgb(0 0 0 / 12%);--space-factor: 0.25rem;--text-primary-color: #343a40;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e2e1fc;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}.excalidraw.theme--dark{background:#000}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url("+p+');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: rgba(30, 30, 30, 0.98);--keybinding-color: #868e96;--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 1px 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da;--color-primary: #5650f0;--color-primary-darker: #4b46d8;--color-primary-darkest: #3e39be;--color-primary-light: #3f3d64}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw__canvas{position:absolute}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;-webkit-margin-end:8px;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:rgba(0,0,0,0);box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{-webkit-user-select:none;user-select:none;background-color:var(--button-gray-1);border:0;border-radius:var(--border-radius-md);margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--color-primary);--icon-fill-color: #ffffff}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--color-primary-darker)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--color-primary-darkest)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:35px;height:14px;padding:2px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:auto -webkit-max-content auto;grid-template-columns:auto max-content auto;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top>*{pointer-events:all}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:-webkit-min-content auto -webkit-min-content;grid-template-columns:min-content auto min-content;grid-gap:15px;align-items:flex-start;cursor:default;pointer-events:none !important}:root[dir=ltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir=rtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;box-shadow:var(--shadow-island)}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .zIndexButton{margin:0;-webkit-margin-end:8px;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);padding:10px 20px;pointer-events:all}.excalidraw .help-icon{display:flex;cursor:pointer;fill:#868e96;padding:0;margin:0;background:none;color:var(--icon-fill-color)}.excalidraw .help-icon svg{width:1.5rem;height:1.5rem}.excalidraw .help-icon:hover{background:none}.excalidraw .reset-zoom-button{padding:.2em;background:rgba(0,0,0,0);color:var(--text-primary-color);font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:5px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--button-gray-2);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--button-gray-3)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--button-gray-2)}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',""]),t.default=d},6464:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,"",""]),o.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},t.default=o},5260:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer .d-none{display:none}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),t.default=o},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&o[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},1667:function(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:function(e){"use strict";e.exports=function(e){return e[1]}},828:function(e,t,n){"use strict";n.d(t,{Lo:function(){return P},CZ:function(){return I}});var r=n(2577),i=n(7169),a=n(5564),o=n(3646),s=n(1319),l=n(4041),u=n(8288),c=n(5118),d=n(8211),f=n(6066),p=n(75),h=n(2264),m=n(746),g=n(6340),v=n(7901),y=n(9910),b=n(1935),w=n(8897),S=n(9787),_=n(9660),x=n(4981),T=n(4512),k=function(e){var t=e.onConfirm,n=(0,S.useState)(!1),i=(0,r.Z)(n,2),a=i[0],l=i[1],u=function(){l(!a)};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(s.V,{type:"button",icon:o._I,title:(0,d.t)("buttons.clearReset"),"aria-label":(0,d.t)("buttons.clearReset"),showAriaLabel:(0,_.Fy)().isMobile,onClick:u,"data-testid":"clear-canvas-button"}),a&&(0,T.jsx)(x.Z,{onConfirm:function(){t(),u()},onCancel:u,title:(0,d.t)("clearCanvasDialog.title"),children:(0,T.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,d.t)("alerts.clearReset")]})})]})},E=n(45);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,v.z)({name:"changeViewBackgroundColor",trackEvent:!1,perform:function(e,t,n){return{appState:O(O({},t),n),commitToHistory:!!n.viewBackgroundColor}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,T.jsx)("div",{style:{position:"relative"},children:(0,T.jsx)(a.z,{label:(0,d.t)("labels.canvasBackground"),type:"canvasBackground",color:n.viewBackgroundColor,onChange:function(e){return r({viewBackgroundColor:e})},isActive:"canvasColorPicker"===n.openPopup,setActive:function(e){return r({openPopup:e?"canvasColorPicker":null})},"data-testid":"canvas-background-picker",elements:t,appState:n})})}}),(0,v.z)({name:"clearCanvas",trackEvent:{category:"canvas"},perform:function(e,t,n,r){return r.imageCache.clear(),{elements:e.map((function(e){return(0,b.BE)(e,{isDeleted:!0})})),appState:O(O({},(0,w.im)()),{},{files:{},theme:t.theme,penMode:t.penMode,penDetected:t.penDetected,exportBackground:t.exportBackground,exportEmbedScene:t.exportEmbedScene,gridSize:t.gridSize,showStats:t.showStats,pasteDialog:t.pasteDialog,activeTool:"image"===t.activeTool.type?O(O({},t.activeTool),{},{type:"selection"}):t.activeTool}),commitToHistory:!0}},PanelComponent:function(e){var t=e.updateData;return(0,T.jsx)(k,{onConfirm:t})}});var P=(0,v.z)({name:"zoomIn",trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:O(O({},t),(0,m.E)({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,p.j)(t.zoom.value+u.V4)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return(0,T.jsx)(s.V,{type:"button",icon:o.kr,title:"".concat((0,d.t)("buttons.zoomIn")," \u2014 ").concat((0,g.uY)("CtrlOrCmd++")),"aria-label":(0,d.t)("buttons.zoomIn"),onClick:function(){t(null)},size:"small"})},keyTest:function(e){return(e.code===f.aU.EQUAL||e.code===f.aU.NUM_ADD)&&(e[f.tW.CTRL_OR_CMD]||e.shiftKey)}}),I=(0,v.z)({name:"zoomOut",trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:O(O({},t),(0,m.E)({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,p.j)(t.zoom.value-u.V4)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return(0,T.jsx)(s.V,{type:"button",icon:o.vG,title:"".concat((0,d.t)("buttons.zoomOut")," \u2014 ").concat((0,g.uY)("CtrlOrCmd+-")),"aria-label":(0,d.t)("buttons.zoomOut"),onClick:function(){t(null)},size:"small"})},keyTest:function(e){return(e.code===f.aU.MINUS||e.code===f.aU.NUM_SUBTRACT)&&(e[f.tW.CTRL_OR_CMD]||e.shiftKey)}}),A=((0,v.z)({name:"resetZoom",trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:O(O({},t),(0,m.E)({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,p.j)(1)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,T.jsx)(y.u,{label:(0,d.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,T.jsxs)(s.V,{type:"button",className:"reset-zoom-button",title:(0,d.t)("buttons.resetZoom"),"aria-label":(0,d.t)("buttons.resetZoom"),onClick:function(){t(null)},size:"small",children:[(100*n.zoom.value).toFixed(0),"%"]})})},keyTest:function(e){return(e.code===f.aU.ZERO||e.code===f.aU.NUM_ZERO)&&(e[f.tW.CTRL_OR_CMD]||e.shiftKey)}}),function(e,t){var n=(0,r.Z)(e,4),i=n[0],a=n[1],o=n[2],s=n[3],l=o-i,c=t.width/l,d=s-a,f=t.height/d,p=Math.min(c,f),h=Math.floor(p/u.V4)*u.V4;return Math.min(Math.max(h,u.V4),1)}),D=function(e,t,n){var i=(0,c.Lm)(e),a=(0,p.eD)(i,t),o=n&&a.length>0?(0,c.KP)(a):(0,c.KP)(i),s={value:A(o,{width:t.width,height:t.height})},l=(0,r.Z)(o,4),u=l[0],d=l[1],f=(u+l[2])/2,m=(d+l[3])/2;return{appState:O(O(O({},t),(0,h.s)({scenePoint:{x:f,y:m},viewportDimensions:{width:t.width,height:t.height},zoom:s})),{},{zoom:s}),commitToHistory:!1}};(0,v.z)({name:"zoomToSelection",trackEvent:{category:"canvas"},perform:function(e,t){return D(e,t,!0)},keyTest:function(e){return e.code===f.aU.TWO&&e.shiftKey&&!e.altKey&&!e[f.tW.CTRL_OR_CMD]}}),(0,v.z)({name:"zoomToFit",trackEvent:{category:"canvas"},perform:function(e,t){return D(e,t,!1)},keyTest:function(e){return e.code===f.aU.ONE&&e.shiftKey&&!e.altKey&&!e[f.tW.CTRL_OR_CMD]}}),(0,v.z)({name:"toggleTheme",trackEvent:{category:"canvas"},perform:function(e,t,n){return{appState:O(O({},t),{},{theme:n||(t.theme===u.C6.LIGHT?u.C6.DARK:u.C6.LIGHT)}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,T.jsx)("div",{style:{marginInlineStart:"0.25rem"},children:(0,T.jsx)(l.J,{value:t.theme,onChange:function(e){n(e)}})})},keyTest:function(e){return e.altKey&&e.shiftKey&&e.code===f.aU.D}}),(0,v.z)({name:"eraser",trackEvent:{category:"toolbar"},perform:function(e,t){var n;return n=(0,w.EN)(t)?(0,g.Om)(t,O(O({},t.activeTool.lastActiveToolBeforeEraser||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,g.Om)(t,{type:"eraser",lastActiveToolBeforeEraser:t.activeTool}),{appState:O(O({},t),{},{selectedElementIds:{},selectedGroupIds:{},activeTool:n}),commitToHistory:!0}},keyTest:function(e){return e.key===f.tW.E},PanelComponent:function(e){e.elements;var t=e.appState,n=e.updateData,r=e.data;return(0,T.jsx)(s.V,{type:"button",icon:o.rn,className:(0,E.Z)("eraser",{active:(0,w.EN)(t)}),title:"".concat((0,d.t)("toolBar.eraser"),"-").concat((0,g.uY)("E")),"aria-label":(0,d.t)("toolBar.eraser"),onClick:function(){n(null)},size:(null==r?void 0:r.size)||"medium"})}})},3917:function(e,t,n){"use strict";n.d(t,{Tu:function(){return N},Zq:function(){return L}});var r=n(1930),i=n(7169),a=n(45),o=n(4512),s=function(e){var t=e.options,n=e.value,r=e.onChange,i=e.group;return(0,o.jsx)("div",{className:"buttonList buttonListIcon",children:t.map((function(e){return(0,o.jsxs)("label",{className:(0,a.Z)({active:n===e.value}),title:e.text,children:[(0,o.jsx)("input",{type:"radio",name:i,onChange:function(){return r(e.value)},checked:n===e.value,"data-testid":e.testId}),e.icon]},e.text)}))})},l=n(5564),u=n(2577),c=n(9787),d=n.n(c),f=n(7288),p=(n(7117),n(6066)),h=n(8211);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=e.options,n=e.value,r=e.label,i=e.onChange,a=e.onClose,s=d().useRef(),l=d().useRef(),u=d().useRef(null);return d().useEffect((function(){l.current?l.current.focus():u.current&&u.current.focus()}),[]),(0,o.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":r,onKeyDown:function(e){var n=t.find((function(t){return t.keyBinding===e.key.toLowerCase()}));if(e.metaKey||e.altKey||e.ctrlKey||!n)if(e.key===p.tW.TAB)setTimeout((function(){l.current!==document.activeElement&&a()}),0);else if((0,p.Wl)(e.key)){var r=document.activeElement,i=(0,h.G3)().rtl,o=Array.prototype.indexOf.call(u.current.children,r);if(-1!==o){var s=t.length,c=o;switch(e.key){case i?p.tW.ARROW_LEFT:p.tW.ARROW_RIGHT:case p.tW.ARROW_DOWN:c=(o+1)%s;break;case i?p.tW.ARROW_RIGHT:p.tW.ARROW_LEFT:case p.tW.ARROW_UP:c=(s+o-1)%s}u.current.children[c].focus()}e.preventDefault()}else e.key!==p.tW.ESCAPE&&e.key!==p.tW.ENTER||(e.preventDefault(),a());else{var d=t.indexOf(n);u.current.children[d].focus(),e.preventDefault()}e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()},children:(0,o.jsx)("div",{className:"picker-content",ref:u,children:t.map((function(e,t){return(0,o.jsxs)("button",{className:"picker-option",onClick:function(t){t.currentTarget.focus(),i(e.value)},title:"".concat(e.text," \u2014 ").concat(e.keyBinding.toUpperCase()),"aria-label":e.text||"none","aria-keyshortcuts":e.keyBinding,ref:function(r){r&&0===t&&(s.current=r),r&&e.value===n&&(l.current=r)},onFocus:function(){i(e.value)},children:[e.icon,(0,o.jsx)("span",{className:"picker-keybinding",children:e.keyBinding})]},e.text)}))})})}function y(e){var t,n=e.value,r=e.label,i=e.options,a=e.onChange,s=e.group,l=void 0===s?"":s,c=d().useState(!1),p=(0,u.Z)(c,2),m=p[0],y=p[1],b=d().useRef(null),w=(0,h.G3)().rtl;return(0,o.jsxs)("label",{className:"picker-container",children:[(0,o.jsx)("button",{name:l,className:m?"active":"","aria-label":r,onClick:function(){return y(!m)},ref:b,children:null===(t=i.find((function(e){return e.value===n})))||void 0===t?void 0:t.icon}),(0,o.jsx)(d().Suspense,{fallback:"",children:m?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f.J,g(g({onCloseRequest:function(e){return e.target!==b.current&&y(!1)}},w?{right:5.5}:{left:-5.5}),{},{children:(0,o.jsx)(v,{options:i,value:n,label:r,onChange:a,onClose:function(){var e;y(!1),null===(e=b.current)||void 0===e||e.focus()}})})),(0,o.jsx)("div",{className:"picker-triangle"})]}):null})]})}var b=n(3646),w=n(8288),S=n(5118),_=n(1935),x=n(5710),T=n(1974),k=n(6954),E=n(75),C=n(8120),O=n(6340),P=n(7901);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(0,O.xn)((0,E.eD)(e,t,r));return e.map((function(e){var r;return i.get(e.id)||e.id===(null===(r=t.editingElement)||void 0===r?void 0:r.id)?n(e):e}))},M=function(e,t,n,r){var i,a,o=t.editingElement,s=(0,S.Lm)(e);return null!==(i=null!==(a=o&&n(o))&&void 0!==a?a:(0,E.N)(s,t)?(0,E.PR)(s,t,n):r)&&void 0!==i?i:null},R=function(e,t,n,i){var a=new Set;return{elements:D(e,t,(function(e){if((0,S.iB)(e)){var t=n(e);a.add(t);var r=(0,_.BE)(e,{fontSize:t});return(0,S.oN)(r,(0,x.tl)(e)),i=e,o=r,(0,T.Xh)(o)?o:(0,_.DR)(o,{x:"left"===i.textAlign?i.x:i.x+(i.width-o.width)/("center"===i.textAlign?2:1),y:i.y+(i.height-o.height)/2},!1)}var i,o;return e}),!0),appState:A(A({},t),{},{currentItemFontSize:1===a.size?(0,r.Z)(a)[0]:null!=i?i:t.currentItemFontSize}),commitToHistory:!0}},N=((0,P.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(e,t,n){return A(A({},n.currentItemStrokeColor&&{elements:D(e,t,(function(e){return(0,C.PD)(e.type)?(0,_.BE)(e,{strokeColor:n.currentItemStrokeColor}):e}),!0)}),{},{appState:A(A({},t),n),commitToHistory:!!n.currentItemStrokeColor})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h3",{"aria-hidden":"true",children:(0,h.t)("labels.stroke")}),(0,o.jsx)(l.z,{type:"elementStroke",label:(0,h.t)("labels.stroke"),color:M(t,n,(function(e){return e.strokeColor}),n.currentItemStrokeColor),onChange:function(e){return r({currentItemStrokeColor:e})},isActive:"strokeColorPicker"===n.openPopup,setActive:function(e){return r({openPopup:e?"strokeColorPicker":null})},elements:t,appState:n})]})}}),(0,P.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(e,t,n){return A(A({},n.currentItemBackgroundColor&&{elements:D(e,t,(function(e){return(0,_.BE)(e,{backgroundColor:n.currentItemBackgroundColor})}))}),{},{appState:A(A({},t),n),commitToHistory:!!n.currentItemBackgroundColor})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h3",{"aria-hidden":"true",children:(0,h.t)("labels.background")}),(0,o.jsx)(l.z,{type:"elementBackground",label:(0,h.t)("labels.background"),color:M(t,n,(function(e){return e.backgroundColor}),n.currentItemBackgroundColor),onChange:function(e){return r({currentItemBackgroundColor:e})},isActive:"backgroundColorPicker"===n.openPopup,setActive:function(e){return r({openPopup:e?"backgroundColorPicker":null})},elements:t,appState:n})]})}}),(0,P.z)({name:"changeFillStyle",trackEvent:!1,perform:function(e,t,n){return{elements:D(e,t,(function(e){return(0,_.BE)(e,{fillStyle:n})})),appState:A(A({},t),{},{currentItemFillStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:(0,h.t)("labels.fill")}),(0,o.jsx)(s,{options:[{value:"hachure",text:(0,h.t)("labels.hachure"),icon:(0,o.jsx)(b.a0,{theme:n.theme})},{value:"cross-hatch",text:(0,h.t)("labels.crossHatch"),icon:(0,o.jsx)(b.np,{theme:n.theme})},{value:"solid",text:(0,h.t)("labels.solid"),icon:(0,o.jsx)(b.X7,{theme:n.theme})}],group:"fill",value:M(t,n,(function(e){return e.fillStyle}),n.currentItemFillStyle),onChange:function(e){r(e)}})]})}}),(0,P.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(e,t,n){return{elements:D(e,t,(function(e){return(0,_.BE)(e,{strokeWidth:n})})),appState:A(A({},t),{},{currentItemStrokeWidth:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:(0,h.t)("labels.strokeWidth")}),(0,o.jsx)(s,{group:"stroke-width",options:[{value:1,text:(0,h.t)("labels.thin"),icon:(0,o.jsx)(b.tY,{theme:n.theme,strokeWidth:2})},{value:2,text:(0,h.t)("labels.bold"),icon:(0,o.jsx)(b.tY,{theme:n.theme,strokeWidth:6})},{value:4,text:(0,h.t)("labels.extraBold"),icon:(0,o.jsx)(b.tY,{theme:n.theme,strokeWidth:10})}],value:M(t,n,(function(e){return e.strokeWidth}),n.currentItemStrokeWidth),onChange:function(e){return r(e)}})]})}}),(0,P.z)({name:"changeSloppiness",trackEvent:!1,perform:function(e,t,n){return{elements:D(e,t,(function(e){return(0,_.BE)(e,{seed:(0,k.LU)(),roughness:n})})),appState:A(A({},t),{},{currentItemRoughness:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:(0,h.t)("labels.sloppiness")}),(0,o.jsx)(s,{group:"sloppiness",options:[{value:0,text:(0,h.t)("labels.architect"),icon:(0,o.jsx)(b.bf,{theme:n.theme})},{value:1,text:(0,h.t)("labels.artist"),icon:(0,o.jsx)(b.kM,{theme:n.theme})},{value:2,text:(0,h.t)("labels.cartoonist"),icon:(0,o.jsx)(b.W2,{theme:n.theme})}],value:M(t,n,(function(e){return e.roughness}),n.currentItemRoughness),onChange:function(e){return r(e)}})]})}}),(0,P.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(e,t,n){return{elements:D(e,t,(function(e){return(0,_.BE)(e,{strokeStyle:n})})),appState:A(A({},t),{},{currentItemStrokeStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:(0,h.t)("labels.strokeStyle")}),(0,o.jsx)(s,{group:"strokeStyle",options:[{value:"solid",text:(0,h.t)("labels.strokeStyle_solid"),icon:(0,o.jsx)(b.nu,{theme:n.theme})},{value:"dashed",text:(0,h.t)("labels.strokeStyle_dashed"),icon:(0,o.jsx)(b.h0,{theme:n.theme})},{value:"dotted",text:(0,h.t)("labels.strokeStyle_dotted"),icon:(0,o.jsx)(b.aT,{theme:n.theme})}],value:M(t,n,(function(e){return e.strokeStyle}),n.currentItemStrokeStyle),onChange:function(e){return r(e)}})]})}}),(0,P.z)({name:"changeOpacity",trackEvent:!1,perform:function(e,t,n){return{elements:D(e,t,(function(e){return(0,_.BE)(e,{opacity:n})}),!0),appState:A(A({},t),{},{currentItemOpacity:n}),commitToHistory:!0}},PanelComponent:function(e){var t,n=e.elements,r=e.appState,i=e.updateData;return(0,o.jsxs)("label",{className:"control-label",children:[(0,h.t)("labels.opacity"),(0,o.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(e){return i(+e.target.value)},value:null!==(t=M(n,r,(function(e){return e.opacity}),r.currentItemOpacity))&&void 0!==t?t:void 0})]})}}),(0,P.z)({name:"changeFontSize",trackEvent:!1,perform:function(e,t,n){return R(e,t,(function(){return n}),n)},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:(0,h.t)("labels.fontSize")}),(0,o.jsx)(s,{group:"font-size",options:[{value:16,text:(0,h.t)("labels.small"),icon:(0,o.jsx)(b.q0,{theme:n.theme}),testId:"fontSize-small"},{value:20,text:(0,h.t)("labels.medium"),icon:(0,o.jsx)(b.nq,{theme:n.theme}),testId:"fontSize-medium"},{value:28,text:(0,h.t)("labels.large"),icon:(0,o.jsx)(b.tW,{theme:n.theme}),testId:"fontSize-large"},{value:36,text:(0,h.t)("labels.veryLarge"),icon:(0,o.jsx)(b.OA,{theme:n.theme}),testId:"fontSize-veryLarge"}],value:M(t,n,(function(e){if((0,S.iB)(e))return e.fontSize;var t=(0,x.WJ)(e);return t?t.fontSize:null}),n.currentItemFontSize||w.n5),onChange:function(e){return r(e)}})]})}}),(0,P.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(e,t,n){return R(e,t,(function(e){return Math.round(1/1.1*e.fontSize)}))},keyTest:function(e){return e[p.tW.CTRL_OR_CMD]&&e.shiftKey&&(e.key===p.tW.CHEVRON_LEFT||e.key===p.tW.COMMA)}})),L=(0,P.z)({name:"increaseFontSize",trackEvent:!1,perform:function(e,t,n){return R(e,t,(function(e){return Math.round(1.1*e.fontSize)}))},keyTest:function(e){return e[p.tW.CTRL_OR_CMD]&&e.shiftKey&&(e.key===p.tW.CHEVRON_RIGHT||e.key===p.tW.PERIOD)}});(0,P.z)({name:"changeFontFamily",trackEvent:!1,perform:function(e,t,n){return{elements:D(e,t,(function(e){if((0,S.iB)(e)){var t=(0,_.BE)(e,{fontFamily:n});return(0,S.oN)(t,(0,x.tl)(e)),t}return e}),!0),appState:A(A({},t),{},{currentItemFontFamily:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,i=[{value:w.ut.Virgil,text:(0,h.t)("labels.handDrawn"),icon:(0,o.jsx)(b.kK,{theme:n.theme})},{value:w.ut.Helvetica,text:(0,h.t)("labels.normal"),icon:(0,o.jsx)(b.vo,{theme:n.theme})},{value:w.ut.Cascadia,text:(0,h.t)("labels.code"),icon:(0,o.jsx)(b.z6,{theme:n.theme})}];return(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:(0,h.t)("labels.fontFamily")}),(0,o.jsx)(s,{group:"font-family",options:i,value:M(t,n,(function(e){if((0,S.iB)(e))return e.fontFamily;var t=(0,x.WJ)(e);return t?t.fontFamily:null}),n.currentItemFontFamily||w.rk),onChange:function(e){return r(e)}})]})}}),(0,P.z)({name:"changeTextAlign",trackEvent:!1,perform:function(e,t,n){return{elements:D(e,t,(function(e){if((0,S.iB)(e)){var t=(0,_.BE)(e,{textAlign:n});return(0,S.oN)(t,(0,x.tl)(e)),t}return e}),!0),appState:A(A({},t),{},{currentItemTextAlign:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:(0,h.t)("labels.textAlign")}),(0,o.jsx)(s,{group:"text-align",options:[{value:"left",text:(0,h.t)("labels.left"),icon:(0,o.jsx)(b.rr,{theme:n.theme})},{value:"center",text:(0,h.t)("labels.center"),icon:(0,o.jsx)(b.o3,{theme:n.theme})},{value:"right",text:(0,h.t)("labels.right"),icon:(0,o.jsx)(b.oT,{theme:n.theme})}],value:M(t,n,(function(e){if((0,S.iB)(e))return e.textAlign;var t=(0,x.WJ)(e);return t?t.textAlign:null}),n.currentItemTextAlign),onChange:function(e){return r(e)}})]})}}),(0,P.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(e,t,n){return{elements:D(e,t,(function(e){if((0,S.iB)(e)){var t=(0,_.BE)(e,{verticalAlign:n});return(0,S.oN)(t,(0,x.tl)(e)),t}return e}),!0),appState:A({},t),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,o.jsx)("fieldset",{children:(0,o.jsx)(s,{group:"text-align",options:[{value:w.oX.TOP,text:(0,h.t)("labels.alignTop"),icon:(0,o.jsx)(b.EO,{theme:n.theme})},{value:w.oX.MIDDLE,text:(0,h.t)("labels.centerVertically"),icon:(0,o.jsx)(b.P7,{theme:n.theme})},{value:w.oX.BOTTOM,text:(0,h.t)("labels.alignBottom"),icon:(0,o.jsx)(b.aA,{theme:n.theme})}],value:M(t,n,(function(e){if((0,S.iB)(e)&&e.containerId)return e.verticalAlign;var t=(0,x.WJ)(e);return t?t.verticalAlign:null})),onChange:function(e){return r(e)}})})}}),(0,P.z)({name:"changeSharpness",trackEvent:!1,perform:function(e,t,n){var r=(0,E.Zs)((0,S.Lm)(e),t),i=r.length?r.every((function(e){return!(0,T.bt)(e)})):!(0,T.dt)(t.activeTool.type),a=r.length?r.every(T.bt):(0,T.dt)(t.activeTool.type);return{elements:D(e,t,(function(e){return(0,_.BE)(e,{strokeSharpness:n})})),appState:A(A({},t),{},{currentItemStrokeSharpness:i?n:t.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:a?n:t.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:(0,h.t)("labels.edges")}),(0,o.jsx)(s,{group:"edges",options:[{value:"sharp",text:(0,h.t)("labels.sharp"),icon:(0,o.jsx)(b.wr,{theme:n.theme})},{value:"round",text:(0,h.t)("labels.round"),icon:(0,o.jsx)(b.DS,{theme:n.theme})}],value:M(t,n,(function(e){return e.strokeSharpness}),(0,E.gP)(n.activeTool.type)&&((0,T.dt)(n.activeTool.type)?n.currentItemLinearStrokeSharpness:n.currentItemStrokeSharpness)||null),onChange:function(e){return r(e)}})]})}}),(0,P.z)({name:"changeArrowhead",trackEvent:!1,perform:function(e,t,n){return{elements:D(e,t,(function(e){if((0,T.bt)(e)){var t=n.position,r=n.type;if("start"===t)return(0,_.BE)(e,{startArrowhead:r});if("end"===t)return(0,_.BE)(e,{endArrowhead:r})}return e})),appState:A(A({},t),{},(0,i.Z)({},"start"===n.position?"currentItemStartArrowhead":"currentItemEndArrowhead",n.type)),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,i=(0,h.G3)().rtl;return(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:(0,h.t)("labels.arrowheads")}),(0,o.jsxs)("div",{className:"iconSelectList",children:[(0,o.jsx)(y,{label:"arrowhead_start",options:[{value:null,text:(0,h.t)("labels.arrowhead_none"),icon:(0,o.jsx)(b.fr,{theme:n.theme}),keyBinding:"q"},{value:"arrow",text:(0,h.t)("labels.arrowhead_arrow"),icon:(0,o.jsx)(b.il,{theme:n.theme,flip:!i}),keyBinding:"w"},{value:"bar",text:(0,h.t)("labels.arrowhead_bar"),icon:(0,o.jsx)(b.m,{theme:n.theme,flip:!i}),keyBinding:"e"},{value:"dot",text:(0,h.t)("labels.arrowhead_dot"),icon:(0,o.jsx)(b.tn,{theme:n.theme,flip:!i}),keyBinding:"r"},{value:"triangle",text:(0,h.t)("labels.arrowhead_triangle"),icon:(0,o.jsx)(b.j8,{theme:n.theme,flip:!i}),keyBinding:"t"}],value:M(t,n,(function(e){return(0,T.bt)(e)&&(0,E.Un)(e.type)?e.startArrowhead:n.currentItemStartArrowhead}),n.currentItemStartArrowhead),onChange:function(e){return r({position:"start",type:e})}}),(0,o.jsx)(y,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,h.t)("labels.arrowhead_none"),keyBinding:"q",icon:(0,o.jsx)(b.fr,{theme:n.theme})},{value:"arrow",text:(0,h.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,o.jsx)(b.il,{theme:n.theme,flip:i})},{value:"bar",text:(0,h.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,o.jsx)(b.m,{theme:n.theme,flip:i})},{value:"dot",text:(0,h.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,o.jsx)(b.tn,{theme:n.theme,flip:i})},{value:"triangle",text:(0,h.t)("labels.arrowhead_triangle"),icon:(0,o.jsx)(b.j8,{theme:n.theme,flip:i}),keyBinding:"t"}],value:M(t,n,(function(e){return(0,T.bt)(e)&&(0,E.Un)(e.type)?e.endArrowhead:n.currentItemEndArrowhead}),n.currentItemEndArrowhead),onChange:function(e){return r({position:"end",type:e})}})]})]})}})},7901:function(e,t,n){"use strict";n.d(t,{N:function(){return r},z:function(){return i}});var r=[],i=function(e){return r=r.concat(e),e}},7047:function(e,t,n){"use strict";var r,i;n.d(t,{L:function(){return a}});var a="undefined"!=typeof process&&null!==(r={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.12.0",IS_EXCALIDRAW_NPM_PACKAGE:!0})&&void 0!==r&&r.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(e,t,n,r){try{window.gtag("event",t,{event_category:e,event_label:n,value:r})}catch(e){console.error("error logging to ga",e)}}:("undefined"!=typeof process&&null!==(i={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.12.0",IS_EXCALIDRAW_NPM_PACKAGE:!0})&&void 0!==i&&i.JEST_WORKER_ID,function(e,t,n,r){})},8897:function(e,t,n){"use strict";n.d(t,{EN:function(){return m},eS:function(){return h},im:function(){return c},s:function(){return p}});var r=n(5284),i=n(8288),a=n(8211),o=n(6340);function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=i.ZB.includes(devicePixelRatio)?devicePixelRatio:1,c=function(){return{theme:i.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:i.rk,currentItemFontSize:i.n5,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:r.black,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:i.Hg,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:!1,lastActiveToolBeforeEraser:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:u,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,isLibraryOpen:!1,isLibraryMenuDocked:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,a.t)("labels.untitled"),"-").concat((0,o.Fc)()),openMenu:null,openPopup:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:r.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1}},d={theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeSharpness:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},isLibraryOpen:{browser:!0,export:!1,server:!1},isLibraryMenuDocked:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showHelpDialog:{browser:!1,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},toastMessage:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1}},f=function(e,t){var n,r={},i=s(Object.keys(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=d[a];if(null!=o&&o[t]){var l=e[a];r[a]=l}}}catch(e){i.e(e)}finally{i.f()}return r},p=function(e){return f(e,"export")},h=function(e){return f(e,"server")},m=function(e){return"eraser"===e.activeTool.type}},5674:function(e,t,n){"use strict";n.d(t,{dz:function(){return _},i$:function(){return y},ps:function(){return C}});var r=n(1930),i=n(7169),a=n(2577),o=n(56),s=n(8288),l=n(5118),u=n(6954);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=32,m=12,g=256,v="NOT_SPREADSHEET",y="VALID_SPREADSHEET",b=function(e){var t=/^([-+]?)[$\u20ac\xa3\xa5\u20a9]?([-+]?)([\d.,]+)[%]?$/.exec(e);return t?parseFloat("".concat((t[1]||t[2])+t[3]).replace(/,/g,"")):null},w=function(e,t){return e.slice(1).every((function(e){return null!==b(e[t])}))},S=function(e){var t=e[0].length;if(t>2)return{type:v,reason:"More than 2 columns"};if(1===t){if(!w(e,0))return{type:v,reason:"Value is not numeric"};var n=null===b(e[0][0]),r=(n?e.slice(1):e).map((function(e){return b(e[0])}));return r.length<2?{type:v,reason:"Less than two rows"}:{type:y,spreadsheet:{title:n?e[0][0]:null,labels:null,values:r}}}var i=w(e,0),o=w(e,1);if(!i&&!o)return{type:v,reason:"Value is not numeric"};var s=o?[0,1]:[1,0],l=(0,a.Z)(s,2),u=l[0],c=l[1],d=null===b(e[0][c]),f=d?e.slice(1):e;return f.length<2?{type:v,reason:"Less than 2 rows"}:{type:y,spreadsheet:{title:d?e[0][c]:null,labels:f.map((function(e){return e[u]})),values:f.map((function(e){return b(e[c])}))}}},_=function(e){var t=e.trim().split("\n").map((function(e){return e.trim().split("\t")}));if(t.length&&2!==t[0].length&&(t=e.trim().split("\n").map((function(e){return e.trim().split(",")}))),0===t.length)return{type:v,reason:"No values"};var n=t[0].length;if(!t.every((function(e){return e.length===n})))return{type:v,reason:"All rows don't have same number of columns"};var r=S(t);if(r.type!==y){var i=S(function(e){for(var t=[],n=0;n<e[0].length;n++){for(var r=[],i=0;i<e.length;i++)r.push(e[i][n]);t.push(r)}return t}(t));if(i.type===y)return i}return r},x=o.Z.elementBackground.slice(2,o.Z.elementBackground.length),T={fillStyle:"hachure",fontFamily:s.rk,fontSize:s.n5,opacity:100,roughness:1,strokeColor:o.Z.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,verticalAlign:s.oX.MIDDLE,locked:!1},k=function(e){return{chartWidth:44*e.values.length+m,chartHeight:280}},E=function(e,t,n,i,a,u){var c=k(e),d=c.chartWidth,f=c.chartHeight,v=e.title?(0,l.VL)(p(p({backgroundColor:a,groupIds:[i]},T),{},{text:e.title,x:t+d/2,y:n-g-24-s.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null,y=u?(0,l.Up)(p(p({backgroundColor:a,groupIds:[i]},T),{},{type:"rectangle",x:t,y:n-f,width:d,height:f,strokeColor:o.Z.elementStroke[0],fillStyle:"solid",opacity:6})):null;return[].concat((0,r.Z)(y?[y]:[]),(0,r.Z)(v?[v]:[]),(0,r.Z)(function(e,t,n,r,i){var a;return(null===(a=e.labels)||void 0===a?void 0:a.map((function(e,a){return(0,l.VL)(p(p({groupIds:[r],backgroundColor:i},T),{},{text:e.length>8?"".concat(e.slice(0,5),"..."):e,x:t+44*a+24,y:n+6,width:h,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))})))||[]}(e,t,n,i,a)),(0,r.Z)(function(e,t,n,i,a){var o=(0,l.VL)(p(p({groupIds:[i],backgroundColor:a},T),{},{x:t-m,y:n-m,text:"0",textAlign:"right"}));return[o,(0,l.VL)(p(p({groupIds:[i],backgroundColor:a},T),{},{x:t-m,y:n-g-o.height/2,text:Math.max.apply(Math,(0,r.Z)(e.values)).toLocaleString(),textAlign:"right"}))]}(e,t,n,i,a)),(0,r.Z)(function(e,t,n,r,i){var a=k(e),o=a.chartWidth,s=a.chartHeight;return[(0,l.y8)(p(p({backgroundColor:i,groupIds:[r]},T),{},{type:"line",x:t,y:n,startArrowhead:null,endArrowhead:null,width:o,points:[[0,0],[o,0]]})),(0,l.y8)(p(p({backgroundColor:i,groupIds:[r]},T),{},{type:"line",x:t,y:n,startArrowhead:null,endArrowhead:null,height:s,points:[[0,0],[0,-s]]})),(0,l.y8)(p(p({backgroundColor:i,groupIds:[r]},T),{},{type:"line",x:t,y:n-g-m,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:o,opacity:50,points:[[0,0],[o,0]]}))]}(e,t,n,i,a)))},C=function(e,t,n,i){return"line"===e?function(e,t,n){var i,a=Math.max.apply(Math,(0,r.Z)(e.values)),o=(0,u.kb)(),d=x[Math.floor(Math.random()*x.length)],f=0,h=[],v=c(e.values);try{for(v.s();!(i=v.n()).done;){var y=i.value,b=44*f,w=-y/a*g;h.push([b,w]),f++}}catch(e){v.e(e)}finally{v.f()}var S=Math.max.apply(Math,(0,r.Z)(h.map((function(e){return e[0]})))),_=Math.max.apply(Math,(0,r.Z)(h.map((function(e){return e[1]})))),k=Math.min.apply(Math,(0,r.Z)(h.map((function(e){return e[0]})))),C=Math.min.apply(Math,(0,r.Z)(h.map((function(e){return e[1]})))),O=(0,l.y8)(p(p({backgroundColor:d,groupIds:[o]},T),{},{type:"line",x:t+m+16,y:n-m,startArrowhead:null,endArrowhead:null,height:_-C,width:S-k,strokeWidth:2,points:h})),P=e.values.map((function(e,r){var i=44*r+6,s=-e/a*g+6;return(0,l.Up)(p(p({backgroundColor:d,groupIds:[o]},T),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:t+i+16,y:n+s-24,width:m,height:m}))})),I=e.values.map((function(e,r){var i=44*r+6,s=e/a*g+6+m;return(0,l.y8)(p(p({backgroundColor:d,groupIds:[o]},T),{},{type:"line",x:t+i+16+6,y:n-s,startArrowhead:null,endArrowhead:null,height:s,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,s]]}))}));return[].concat((0,r.Z)(E(e,t,n,o,d,"production"===s.Vi.DEVELOPMENT)),[O],(0,r.Z)(I),(0,r.Z)(P))}(t,n,i):function(e,t,n){var i=Math.max.apply(Math,(0,r.Z)(e.values)),a=(0,u.kb)(),o=x[Math.floor(Math.random()*x.length)],c=e.values.map((function(e,r){var s=e/i*g;return(0,l.Up)(p(p({backgroundColor:o,groupIds:[a]},T),{},{type:"rectangle",x:t+44*r+m,y:n-s-m,width:h,height:s}))}));return[].concat((0,r.Z)(c),(0,r.Z)(E(e,t,n,a,o,"production"===s.Vi.DEVELOPMENT)))}(t,n,i)}},8982:function(e,t,n){"use strict";n.d(t,{X:function(){return i},f:function(){return a}});var r=n(56),i=function(e,t){if(null!=t&&t.collaborators){var n=t.collaborators.get(e);if(null!=n&&n.color)return n.color}var i=e.split("").reduce((function(e,t){return e+t.charCodeAt(0)}),0),a=r.Z.elementBackground.slice(1),o=r.Z.elementStroke.slice(1);return{background:a[i%a.length],stroke:o[i%o.length]}},a=function(e){if(!e)return"?";var t=e.trim().split(" ");if(t.length<2)return t[0].substring(0,2).toUpperCase();var n=t[0],r=t[t.length-1];return(n[0]+r[0]).toUpperCase()}},6665:function(e,t,n){"use strict";n.d(t,{dd:function(){return _},mQ:function(){return w},uR:function(){return S},vQ:function(){return v},vt:function(){return g},wx:function(){return m}});var r=n(7169),i=n(8950),a=n(7945),o=n.n(a),s=n(4162),l=n(5674),u=n(8288),c=n(1974),d=n(6340),f="",p=!1,h="clipboard"in navigator&&"readText"in navigator.clipboard,m="clipboard"in navigator&&"writeText"in navigator.clipboard,g="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,v=function(){var e=(0,i.Z)(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={type:u.r8.excalidrawClipboard,elements:t,files:r?t.reduce((function(e,t){return(0,c.wi)(t)&&r[t.fileId]&&(e[t.fileId]=r[t.fileId]),e}),{}):void 0},a=JSON.stringify(i),f=a,e.prev=3,p=!1,e.next=7,_(a);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),p=!0,console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),y=function(){if(!f)return{};try{return JSON.parse(f)}catch(e){return console.error(e),{}}},b=function(){var e=(0,i.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=5;break}e.t0=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/plain").trim(),e.next=11;break;case 5:if(e.t1=h,!e.t1){e.next=10;break}return e.next=9,navigator.clipboard.readText();case 9:e.t1=e.sent;case 10:e.t0=e.t1;case 11:return r=e.t0,e.abrupt("return",r||"");case 15:return e.prev=15,e.t2=e.catch(0),e.abrupt("return","");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,i.Z)(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:if((n=e.sent)&&!n.includes(s.oj)){e.next=5;break}return e.abrupt("return",y());case 5:if(c=n,d=void 0,d=(0,l.dz)(c),!(r=d.type===l.i$?{spreadsheet:d.spreadsheet}:null)){e.next=8;break}return e.abrupt("return",r);case 8:if(i=y(),e.prev=9,o=a=JSON.parse(n),![u.r8.excalidraw,u.r8.excalidrawClipboard].includes(null==o?void 0:o.type)||!Array.isArray(o.elements)){e.next=13;break}return e.abrupt("return",{elements:a.elements,files:a.files});case 13:return e.abrupt("return",i);case 16:return e.prev=16,e.t0=e.catch(9),e.abrupt("return",p&&i.elements?i:{text:n});case 19:case"end":return e.stop()}var o,c,d}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=navigator.clipboard.write([new window.ClipboardItem((0,r.Z)({},u.LO.png,t))]),e.next=23;break;case 4:if(e.prev=4,e.t0=e.catch(0),!(0,d.y8)(t)){e.next=22;break}return e.t1=navigator.clipboard,e.t2=window.ClipboardItem,e.t3=r.Z,e.t4={},e.t5=u.LO.png,e.next=14,t;case 14:return e.t6=e.sent,e.t7=(0,e.t3)(e.t4,e.t5,e.t6),e.t8=new e.t2(e.t7),e.t9=[e.t8],e.next=20,e.t1.write.call(e.t1,e.t9);case 20:e.next=23;break;case 22:throw e.t0;case 23:return e.next=25,n;case 25:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,!m){e.next=11;break}return e.prev=2,e.next=5,navigator.clipboard.writeText(t||"");case 5:n=!0,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:if(n||x(t||" ")){e.next=13;break}throw new Error("couldn't copy");case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e){var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;n.style.top="".concat(r,"px"),n.style.fontSize="12pt",n.setAttribute("readonly",""),n.value=e,document.body.appendChild(n);var i=!1;try{n.select(),n.setSelectionRange(0,n.value.length),i=document.execCommand("copy")}catch(e){console.error(e)}return n.remove(),i}},56:function(e,t,n){"use strict";var r=n(1930),i=n(5284),a=function(e){return[i.red[e],i.pink[e],i.grape[e],i.violet[e],i.indigo[e],i.blue[e],i.cyan[e],i.teal[e],i.green[e],i.lime[e],i.yellow[e],i.orange[e]]};t.Z={canvasBackground:[i.white,i.gray[0],i.gray[1]].concat((0,r.Z)(a(0))),elementBackground:["transparent",i.gray[4],i.gray[6]].concat((0,r.Z)(a(6))),elementStroke:[i.black,i.gray[8],i.gray[7]].concat((0,r.Z)(a(9)))}},9660:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Ai},Fy:function(){return hi},J0:function(){return gi}});var r=n(6655),i=n(2577),a=n(1930),o=n(8950),s=n(7169),l=n(8821),u=n(5169),c=n(3173),d=n(2248),f=n(7245),p=n(2312),h=n(7945),m=n.n(h),g=n(9787),v=n.n(g),y=n(8234),b=n(45),w=n(5605),S=n(75),_=n(6066),x=n(1319),T=n(3646),k=n(8211),E=n(7901),C=n(5118),O=n(1935),P=n(242),I=n(6938),A=n(8290),D=n(1974),M=n(6340),R=n(4512);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e,t){if(e.editingGroupId){var n=(0,P.Fb)((0,C.Lm)(t),e.editingGroupId);if(n.length)return L(L({},e),{},{selectedElementIds:(0,s.Z)({},n[0].id,!0)})}return e},B=(0,E.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(e,t){if(t.editingLinearElement){var n=t.editingLinearElement,r=n.elementId,i=n.selectedPointsIndices,a=n.startBindingElement,o=n.endBindingElement,s=I._.getElement(r);if(!s)return!1;if(null==i||s.points.length<2){var l=e.filter((function(e){return e.id!==s.id}));return{elements:l,appState:L(L({},j(t,l)),{},{editingLinearElement:null}),commitToHistory:!1}}var u={startBindingElement:null!=i&&i.includes(0)?null:a,endBindingElement:null!=i&&i.includes(s.points.length-1)?null:o};return I._.deletePoints(s,i),{elements:e,appState:L(L({},t),{},{editingLinearElement:L(L(L({},t.editingLinearElement),u),{},{selectedPointsIndices:(null==i?void 0:i[0])>0?[i[0]-1]:[0]})}),commitToHistory:!0}}var c=function(e,t){return{elements:e.map((function(e){return t.selectedElementIds[e.id]||(0,D.Xh)(e)&&t.selectedElementIds[e.containerId]?(0,O.BE)(e,{isDeleted:!0}):e})),appState:L(L({},t),{},{selectedElementIds:{}})}}(e,t),d=c.elements,f=c.appState;return(0,A.$q)(d,e.filter((function(e){var n=e.id;return t.selectedElementIds[n]}))),{elements:d,appState:L(L({},f=j(f,d)),{},{activeTool:(0,M.Om)(t,{type:"selection"}),multiElement:null}),commitToHistory:(0,S.N)((0,C.Lm)(e),t)}},contextItemLabel:"labels.delete",keyTest:function(e){return e.key===_.tW.BACKSPACE||e.key===_.tW.DELETE},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,R.jsx)(x.V,{type:"button",icon:T._I,title:(0,k.t)("labels.delete"),"aria-label":(0,k.t)("labels.delete"),onClick:function(){return r(null)},visible:(0,S.N)((0,C.Lm)(t),n)})}}),F=n(1564),U=function(e,t){for(var n=[],r=[],i=null,a=-1,o=(0,M.xn)((0,S.eD)(e,t,!0));++a<e.length;)o.get(e[a].id)?(r.length&&(n=n.concat(r),r=[]),n.push(a),i=a+1):e[a].isDeleted&&i===a?(i=a+1,r.push(a)):r=[];return n},H=function(e,t,n){if("containerId"in e&&e.containerId){if("left"!==n)return t.indexOf(e);var r=F.Z.getScene(e).getElement(e.containerId);if(r)return t.indexOf(r)}else{var i,a,o=null===(i=e.boundElements)||void 0===i||null===(a=i.find((function(e){return"arrow"!==e.type})))||void 0===a?void 0:a.id;if(o){if("left"===n)return t.indexOf(e);var s=F.Z.getScene(e).getElement(o);if(s)return t.indexOf(s)}}},z=function(e,t){return t.reduce((function(t,n){var r=e[n];return t[r.id]=r,t}),{})},V=function(e,t,n){var r,i,o=U(t,e),s=z(t,o),l=(i=0,(r=o).reduce((function(e,t,n){return n>0&&r[n-1]!==t-1&&(i=++i),(e[i]||(e[i]=[])).push(t),e}),[]));return"right"===n&&(l=l.reverse()),l.forEach((function(r,i){var o=r[0],s=r[r.length-1],l="left"===n?o:s,u=function(e,t,n,r){var i,a=t[n],o=function(t){return!t.isDeleted&&(!e.editingGroupId||t.groupIds.includes(e.editingGroupId))},s="left"===r?(0,M.qr)(t,o,Math.max(0,n-1)):(0,M.cx)(t,o,n+1),l=t[s];if(!l)return-1;if(e.editingGroupId){var u;if((null==a?void 0:a.groupIds.join(""))===(null==l?void 0:l.groupIds.join("")))return null!==(u=H(l,t,r))&&void 0!==u?u:s;if(null==l||!l.groupIds.includes(e.editingGroupId))return-1}if(!l.groupIds.length)return null!==(i=H(l,t,r))&&void 0!==i?i:s;var c=e.editingGroupId?l.groupIds[l.groupIds.indexOf(e.editingGroupId)-1]:l.groupIds[l.groupIds.length-1],d=(0,P.Fb)(t,c);return d.length?"left"===r?t.indexOf(d[0]):t.indexOf(d[d.length-1]):s}(e,t,l,n);if(-1!==u&&l!==u){var c="left"===n?t.slice(0,u):t.slice(0,o),d=t.slice(o,s+1),f="left"===n?t.slice(u,o):t.slice(s+1,u+1),p="left"===n?t.slice(s+1):t.slice(u+1);t="left"===n?[].concat((0,a.Z)(c),(0,a.Z)(d),(0,a.Z)(f),(0,a.Z)(p)):[].concat((0,a.Z)(c),(0,a.Z)(f),(0,a.Z)(d),(0,a.Z)(p))}})),t.map((function(e){return s[e.id]?(0,O.ZP)(e):e}))},$=function(e,t,n){var r,i,o=U(e,t),s=z(e,o),l=[];if("left"===n){if(t.editingGroupId){var u=(0,P.Fb)(e,t.editingGroupId);if(!u.length)return e;r=e.indexOf(u[0])}else r=0;i=o[o.length-1]}else{if(t.editingGroupId){var c=(0,P.Fb)(e,t.editingGroupId);if(!c.length)return e;i=e.indexOf(c[c.length-1])}else i=e.length-1;r=o[0]}for(var d=r;d<i+1;d++)o.includes(d)||l.push(e[d]);var f=Object.values(s).map((function(e){return(0,O.ZP)(e)})),p=e.slice(0,r),h=e.slice(i+1);return"left"===n?[].concat((0,a.Z)(p),(0,a.Z)(f),l,(0,a.Z)(h)):[].concat((0,a.Z)(p),l,(0,a.Z)(f),(0,a.Z)(h))},G=function(e,t){return V(t,e,"left")},W=function(e,t){return V(t,e,"right")},q=function(e,t){return $(e,t,"left")},Z=function(e,t){return $(e,t,"right")},K=(0,E.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(e,t){return{elements:G(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(e){return e[_.tW.CTRL_OR_CMD]&&!e.shiftKey&&e.code===_.aU.BRACKET_LEFT},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,R.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat((0,k.t)("labels.sendBackward")," \u2014 ").concat((0,M.uY)("CtrlOrCmd+[")),children:(0,R.jsx)(T.Gc,{theme:n.theme})})}}),X=(0,E.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(e,t){return{elements:W(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(e){return e[_.tW.CTRL_OR_CMD]&&!e.shiftKey&&e.code===_.aU.BRACKET_RIGHT},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,R.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat((0,k.t)("labels.bringForward")," \u2014 ").concat((0,M.uY)("CtrlOrCmd+]")),children:(0,R.jsx)(T.t5,{theme:n.theme})})}}),Y=(0,E.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(e,t){return{elements:q(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(e){return _.Um?e[_.tW.CTRL_OR_CMD]&&e.altKey&&e.code===_.aU.BRACKET_LEFT:e[_.tW.CTRL_OR_CMD]&&e.shiftKey&&e.code===_.aU.BRACKET_LEFT},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,R.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat((0,k.t)("labels.sendToBack")," \u2014 ").concat(_.Um?(0,M.uY)("CtrlOrCmd+Alt+["):(0,M.uY)("CtrlOrCmd+Shift+[")),children:(0,R.jsx)(T.pw,{theme:n.theme})})}}),Q=(0,E.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(e,t){return{elements:Z(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(e){return _.Um?e[_.tW.CTRL_OR_CMD]&&e.altKey&&e.code===_.aU.BRACKET_RIGHT:e[_.tW.CTRL_OR_CMD]&&e.shiftKey&&e.code===_.aU.BRACKET_RIGHT},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,R.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(e){return t(null)},title:"".concat((0,k.t)("labels.bringToFront")," \u2014 ").concat(_.Um?(0,M.uY)("CtrlOrCmd+Alt+]"):(0,M.uY)("CtrlOrCmd+Shift+]")),children:(0,R.jsx)(T.IN,{theme:n.theme})})}});function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=(0,E.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(e,t){return!t.editingLinearElement&&{appState:(0,P.bO)(ee(ee({},t),{},{editingGroupId:null,selectedElementIds:e.reduce((function(e,t){return t.isDeleted||(0,C.iB)(t)&&t.containerId||!1!==t.locked||(e[t.id]=!0),e}),{})}),(0,C.Lm)(e)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(e){return e[_.tW.CTRL_OR_CMD]&&e.key===_.tW.A}}),ne=n(8288),re=n(5710);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=(0,E.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(e,t){if(t.editingLinearElement){var n=I._.duplicateSelectedPoints(t);return!!n&&{elements:e,appState:n.appState,commitToHistory:!0}}return ae(ae({},se(e,t)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(e){return e[_.tW.CTRL_OR_CMD]&&e.key===_.tW.D},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,R.jsx)(x.V,{type:"button",icon:T.d9,title:"".concat((0,k.t)("labels.duplicateSelection")," \u2014 ").concat((0,M.uY)("CtrlOrCmd+D")),"aria-label":(0,k.t)("labels.duplicateSelection"),onClick:function(){return r(null)},visible:(0,S.N)((0,C.Lm)(t),n)})}}),se=function(e,t){for(var n=new Map,r=[],i=[],o=new Map,s=function(e){var a=(0,C.Sy)(t.editingGroupId,n,e,{x:e.x+ne.k/2,y:e.y+ne.k/2});return o.set(e.id,a.id),i.push(e),r.push(a),a},l=[],u=0,c=(0,M.xn)((0,S.eD)(e,t,!0));u<e.length;){var d=e[u];if(c.get(d.id)){if(d.groupIds.length){var f=(0,P.yO)(t,d);if(f){var p=(0,P.Fb)(e,f);l.push.apply(l,(0,a.Z)(p).concat((0,a.Z)(p.map((function(e){return s(e)}))))),u+=p.length;continue}}l.push(d,s(d))}else l.push(d);u++}return(0,re.P7)(l,i,o),(0,A.ek)(l,i,o),{elements:l,appState:(0,P.bO)(ae(ae({},t),{},{selectedGroupIds:{},selectedElementIds:r.reduce((function(e,t){return(0,D.Xh)(t)||(e[t.id]=!0),e}),{})}),(0,C.Lm)(l))}},le=(n(3917),n(828),n(6552));function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de=(0,E.z)({name:"finalize",trackEvent:!1,perform:function(e,t,n,r){var a,o=r.canvas,l=r.focusContainer,u=r.scene;if(t.editingLinearElement){var c=t.editingLinearElement,d=c.elementId,f=c.startBindingElement,p=c.endBindingElement,h=I._.getElement(d);if(h)return(0,D.Mn)(h)&&(0,A.HG)(h,f,p),{elements:h.points.length<2||(0,C.QD)(h)?e.filter((function(e){return e.id!==h.id})):void 0,appState:ce(ce({},t),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var m=e,g=t.pendingImageElementId&&u.getElement(t.pendingImageElementId);g&&(0,O.DR)(g,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&l();var v,y=t.multiElement?t.multiElement:"freedraw"===(null===(a=t.editingElement)||void 0===a?void 0:a.type)?t.editingElement:null;if(y){if("freedraw"!==y.type&&"touch"!==t.lastPointerDownWith){var b=y.points,w=y.lastCommittedPoint;w&&b[b.length-1]===w||(0,O.DR)(y,{points:y.points.slice(0,-1)})}(0,C.QD)(y)&&(m=m.slice(0,-1));var S=(0,le.g6)(y.points,t.zoom.value);if(("line"===y.type||"freedraw"===y.type)&&S){var _=y.points,x=_[0];(0,O.DR)(y,{points:_.map((function(e,t){return t===_.length-1?[x[0],x[1]]:e}))})}if((0,D.Mn)(y)&&!S&&y.points.length>1){var T=I._.getPointAtIndexGlobalCoordinates(y,-1),k=(0,i.Z)(T,2),E=k[0],P=k[1];(0,A.R)(y,t,F.Z.getScene(y),{x:E,y:P})}t.activeTool.locked||"freedraw"===t.activeTool.type||(t.selectedElementIds[y.id]=!0)}return(t.activeTool.locked||"freedraw"===t.activeTool.type)&&y||(0,M.z8)(o),v="eraser"===t.activeTool.type?(0,M.Om)(t,ce(ce({},t.activeTool.lastActiveToolBeforeEraser||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,M.Om)(t,{type:"selection"}),{elements:m,appState:ce(ce({},t),{},{cursorButton:"up",activeTool:(t.activeTool.locked||"freedraw"===t.activeTool.type)&&y?t.activeTool:v,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:y&&!t.activeTool.locked&&"freedraw"!==t.activeTool.type?ce(ce({},t.selectedElementIds),{},(0,s.Z)({},y.id,!0)):t.selectedElementIds,pendingImageElementId:null}),commitToHistory:"freedraw"===t.activeTool.type}},keyTest:function(e,t){return e.key===_.tW.ESCAPE&&(null!==t.editingLinearElement||!t.draggingElement&&null===t.multiElement)||(e.key===_.tW.ESCAPE||e.key===_.tW.ENTER)&&null!==t.multiElement},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.data;return(0,R.jsx)(x.V,{type:"button",icon:T.$c,title:(0,k.t)("buttons.done"),"aria-label":(0,k.t)("buttons.done"),onClick:n,visible:null!=t.multiElement,size:(null==r?void 0:r.size)||"medium"})}}),fe=(n(518),n(9966),function(e){var t=gi().id,n=(0,g.useState)(e.value),r=(0,i.Z)(n,2),a=r[0],o=r[1];return(0,R.jsxs)("div",{className:"ProjectName",children:[(0,R.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(e.label).concat(e.isNameEditable?"":":")}),e.isNameEditable?(0,R.jsx)("input",{type:"text",className:"TextInput",onBlur:function(t){(0,M.qz)(t.target);var n=t.target.value;n!==e.value&&e.onChange(n)},onKeyDown:function(e){if("Enter"===e.key){if(e.preventDefault(),e.nativeEvent.isComposing||229===e.keyCode)return;e.currentTarget.blur()}},id:"".concat(t,"-filename"),value:a,onChange:function(e){return o(e.target.value)}}):(0,R.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(t,"-filename"),children:e.value})]})}),pe=(n(5422),n(9910)),he=n(4041),me=n(6665),ge=n(4162),ve=n(434),ye=n(1393),be=n(5523),we=function(){var e=(0,o.Z)(m().mark((function e(t,r,i,a,o){var s,l,u,c,d,f,p,h,g,v,y;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=o.exportBackground,l=o.exportPadding,u=void 0===l?ne.qy:l,c=o.viewBackgroundColor,d=o.name,f=o.fileHandle,p=void 0===f?null:f,0!==r.length){e.next=3;break}throw new Error((0,k.t)("alerts.cannotExportEmptyCanvas"));case 3:if("svg"!==t&&"clipboard-svg"!==t){e.next=17;break}return e.next=6,(0,ge.$D)(r,{exportBackground:s,exportWithDarkMode:i.exportWithDarkMode,viewBackgroundColor:c,exportPadding:u,exportScale:i.exportScale,exportEmbedScene:i.exportEmbedScene&&"svg"===t},a);case 6:if(h=e.sent,"svg"!==t){e.next=13;break}return e.next=10,(0,ye.NL)(new Blob([h.outerHTML],{type:ne.LO.svg}),{description:"Export to SVG",name:d,extension:i.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:p});case 10:return e.abrupt("return",e.sent);case 13:if("clipboard-svg"!==t){e.next=17;break}return e.next=16,(0,me.dd)(h.outerHTML);case 16:return e.abrupt("return");case 17:return e.next=19,(0,ge.NL)(r,i,a,{exportBackground:s,viewBackgroundColor:c,exportPadding:u});case 19:if((g=e.sent).style.display="none",document.body.appendChild(g),"png"!==t){e.next=38;break}return e.next=25,(0,ve._c)(g);case 25:if(v=e.sent,g.remove(),!i.exportEmbedScene){e.next=33;break}return e.next=30,Promise.resolve().then(n.bind(n,673));case 30:return e.next=32,e.sent.encodePngMetadata({blob:v,metadata:(0,be.I_)(r,i,a,"local")});case 32:v=e.sent;case 33:return e.next=35,(0,ye.NL)(v,{description:"Export to PNG",name:d,extension:i.exportEmbedScene?"excalidraw.png":"png",fileHandle:p});case 35:return e.abrupt("return",e.sent);case 38:if("clipboard"!==t){e.next=55;break}return e.prev=39,y=(0,ve._c)(g),e.next=43,(0,me.uR)(y);case 43:e.next=50;break;case 45:if(e.prev=45,e.t0=e.catch(39),"CANVAS_POSSIBLY_TOO_BIG"!==e.t0.name){e.next=49;break}throw e.t0;case 49:throw new Error((0,k.t)("alerts.couldNotCopyToClipboard"));case 50:return e.prev=50,g.remove(),e.finish(50);case 53:e.next=57;break;case 55:throw g.remove(),new Error("Unsupported export type");case 57:case"end":return e.stop()}}),e,null,[[39,45,50,53]])})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=function(){var e=(0,o.Z)(m().mark((function e(t,n,r){var i,a,o,s,l,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(i=n).exportBackground,o=i.viewBackgroundColor,s=i.name,l=i.fileHandle,u=(0,ve.Qk)(l),l&&(0,ve.DQ)(u)){e.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return n=_e(_e({},n),{},{exportEmbedScene:!0}),e.next=7,we(u,(0,C.Lm)(t),n,r,{exportBackground:a,viewBackgroundColor:o,name:s,fileHandle:l});case 7:return e.abrupt("return",{fileHandle:l});case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Te=(n(7225),function(e){var t=e.children,n=e.checked,r=e.onChange,i=e.className;return(0,R.jsxs)("div",{className:(0,b.Z)("Checkbox",i,{"is-checked":n}),onClick:function(e){r(!n,e),e.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,R.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":n,children:T.eQ}),(0,R.jsx)("div",{className:"Checkbox-label",children:t})]})});function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(4623);var Ce=function(e){var t=e.children,n=e.gap,r=e.align,i=e.justifyContent,a=e.className,o=e.style;return(0,R.jsx)("div",{className:(0,b.Z)("Stack Stack_horizontal",a),style:Ee({"--gap":n,alignItems:r,justifyContent:i},o),children:t})},Oe=function(e){var t=e.children,n=e.gap,r=e.align,i=e.justifyContent,a=e.className,o=e.style;return(0,R.jsx)("div",{className:(0,b.Z)("Stack Stack_vertical",a),style:Ee({"--gap":n,justifyItems:r,justifyContent:i},o),children:t})},Pe=(n(554),function(e){var t=e.fileName,n=e.onSave;return(0,R.jsxs)(Ce,{className:"ActiveFile",gap:1,align:"center",children:[(0,R.jsxs)("span",{className:"ActiveFile__fileName",children:[T.tP,(0,R.jsx)("span",{children:t})]}),(0,R.jsx)(x.V,{type:"icon",icon:T.a1,title:(0,k.t)("buttons.save"),"aria-label":(0,k.t)("buttons.save"),onClick:n,"data-testid":"save-button"})]})});function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,E.z)({name:"changeProjectName",trackEvent:!1,perform:function(e,t,n){return{appState:Ae(Ae({},t),{},{name:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.appProps;return(0,R.jsx)(fe,{label:(0,k.t)("labels.fileTitle"),value:t.name||"Unnamed",onChange:function(e){return n(e)},isNameEditable:void 0===r.name&&!t.viewModeEnabled})}}),(0,E.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(e,t,n){return{appState:Ae(Ae({},t),{},{exportScale:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=(0,C.Lm)(t),o=(0,S.N)(a,n)?(0,S.eD)(a,n):a;return(0,R.jsx)(R.Fragment,{children:ne.ZB.map((function(e){var t=(0,ge.Cg)(o,ne.qy,e),a=(0,i.Z)(t,2),s=a[0],l=a[1],u="".concat((0,k.t)("buttons.scale")," ").concat(e,"x (").concat(s,"x").concat(l,")");return(0,R.jsx)(x.V,{size:"small",type:"radio",icon:"".concat(e,"x"),name:"export-canvas-scale",title:u,"aria-label":u,id:"export-canvas-scale",checked:e===n.exportScale,onChange:function(){return r(e)}},e)}))})}}),(0,E.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(e,t,n){return{appState:Ae(Ae({},t),{},{exportBackground:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,R.jsx)(Te,{checked:t.exportBackground,onChange:function(e){return n(e)},children:(0,k.t)("labels.withBackground")})}}),(0,E.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(e,t,n){return{appState:Ae(Ae({},t),{},{exportEmbedScene:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,R.jsxs)(Te,{checked:t.exportEmbedScene,onChange:function(e){return n(e)},children:[(0,k.t)("labels.exportEmbedScene"),(0,R.jsx)(pe.u,{label:(0,k.t)("labels.exportEmbedScene_details"),long:!0,children:(0,R.jsx)("div",{className:"excalidraw-tooltip-icon",children:T.Vl})})]})}}),(0,E.z)({name:"saveToActiveFile",trackEvent:{category:"export"},perform:(De=(0,o.Z)(m().mark((function e(t,n,r,i){var a,o,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!!n.fileHandle,e.prev=1,!(0,ve.g8)(n.fileHandle)){e.next=8;break}return e.next=5,xe(t,n,i.files);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,(0,be.Um)(t,n,i.files);case 10:e.t0=e.sent;case 11:return o=e.t0,s=o.fileHandle,e.abrupt("return",{commitToHistory:!1,appState:Ae(Ae({},n),{},{fileHandle:s,toastMessage:a?null!=s&&s.name?(0,k.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(s.name,'"')):(0,k.t)("toast.fileSaved"):null})});case 16:return e.prev=16,e.t1=e.catch(1),"AbortError"!==(null===e.t1||void 0===e.t1?void 0:e.t1.name)?console.error(e.t1):console.warn(e.t1),e.abrupt("return",{commitToHistory:!1});case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),function(e,t,n,r){return De.apply(this,arguments)}),keyTest:function(e){return e.key===_.tW.S&&e[_.tW.CTRL_OR_CMD]&&!e.shiftKey},PanelComponent:function(e){var t,n=e.updateData,r=e.appState;return(0,R.jsx)(Pe,{onSave:function(){return n(null)},fileName:null===(t=r.fileHandle)||void 0===t?void 0:t.name})}});var De,Me,Re,Ne=(0,E.z)({name:"saveFileToDisk",trackEvent:{category:"export"},perform:(Me=(0,o.Z)(m().mark((function e(t,n,r,i){var a,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,be.Um)(t,Ae(Ae({},n),{},{fileHandle:null}),i.files);case 3:return a=e.sent,o=a.fileHandle,e.abrupt("return",{commitToHistory:!1,appState:Ae(Ae({},n),{},{fileHandle:o})});case 8:return e.prev=8,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)?console.error(e.t0):console.warn(e.t0),e.abrupt("return",{commitToHistory:!1});case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(e,t,n,r){return Me.apply(this,arguments)}),keyTest:function(e){return e.key===_.tW.S&&e.shiftKey&&e[_.tW.CTRL_OR_CMD]},PanelComponent:function(e){var t=e.updateData;return(0,R.jsx)(x.V,{type:"button",icon:T.po,title:(0,k.t)("buttons.saveAs"),"aria-label":(0,k.t)("buttons.saveAs"),showAriaLabel:hi().isMobile,hidden:!ye.kr,onClick:function(){return t(null)},"data-testid":"save-as-button"})}});function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,E.z)({name:"loadScene",trackEvent:{category:"export"},perform:(Re=(0,o.Z)(m().mark((function e(t,n,r,i){var a,o,s,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,be.n8)(n,t);case 3:return a=e.sent,o=a.elements,s=a.appState,l=a.files,e.abrupt("return",{elements:o,appState:s,files:l,commitToHistory:!0});case 10:if(e.prev=10,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)){e.next=15;break}return console.warn(e.t0),e.abrupt("return",!1);case 15:return e.abrupt("return",{elements:t,appState:Ae(Ae({},n),{},{errorMessage:e.t0.message}),files:i.files,commitToHistory:!1});case 16:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(e,t,n,r){return Re.apply(this,arguments)}),keyTest:function(e){return e[_.tW.CTRL_OR_CMD]&&e.key===_.tW.O},PanelComponent:function(e){var t=e.updateData;return e.appState,(0,R.jsx)(x.V,{type:"button",icon:T.zD,title:(0,k.t)("buttons.load"),"aria-label":(0,k.t)("buttons.load"),showAriaLabel:hi().isMobile,onClick:t,"data-testid":"load-button"})}}),(0,E.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(e,t,n){return{appState:Ae(Ae({},t),{},{exportWithDarkMode:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,R.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,R.jsx)(he.J,{value:t.exportWithDarkMode?ne.C6.DARK:ne.C6.LIGHT,onChange:function(e){n(e===ne.C6.DARK)},title:(0,k.t)("labels.toggleExportColorScheme")})})}});var Be="{}",Fe=(0,E.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(e,t){var n=[],r=e.find((function(e){return t.selectedElementIds[e.id]}));if(n.push(r),r&&(0,D.Xo)(r)){var i=(0,re.WJ)(r);n.push(i)}return r&&(Be=JSON.stringify(n)),{appState:je(je({},t),{},{toastMessage:(0,k.t)("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(e){return e[_.tW.CTRL_OR_CMD]&&e.altKey&&e.code===_.aU.C}}),Ue=(0,E.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(e,t){var n=JSON.parse(Be),r=n[0],i=n[1];if(!(0,C.r2)(r))return{elements:e,commitToHistory:!1};var a=(0,S.eD)(e,t,!0),o=a.map((function(e){return e.id}));return{elements:e.map((function(e){if(o.includes(e.id)){var t,n,s,l,u,c,d,f=r;if((0,C.iB)(e)&&e.containerId&&(f=i),!f)return e;var p=(0,O.BE)(e,{backgroundColor:null===(t=f)||void 0===t?void 0:t.backgroundColor,strokeWidth:null===(n=f)||void 0===n?void 0:n.strokeWidth,strokeColor:null===(s=f)||void 0===s?void 0:s.strokeColor,strokeStyle:null===(l=f)||void 0===l?void 0:l.strokeStyle,fillStyle:null===(u=f)||void 0===u?void 0:u.fillStyle,opacity:null===(c=f)||void 0===c?void 0:c.opacity,roughness:null===(d=f)||void 0===d?void 0:d.roughness});if((0,C.iB)(p)){var h,m,g,v=null;(p=(0,O.BE)(p,{fontSize:(null===(h=f)||void 0===h?void 0:h.fontSize)||ne.n5,fontFamily:(null===(m=f)||void 0===m?void 0:m.fontFamily)||ne.rk,textAlign:(null===(g=f)||void 0===g?void 0:g.textAlign)||ne.Hg})).containerId&&(v=a.find((function(e){return(0,C.iB)(p)&&e.id===p.containerId}))||null),(0,C.oN)(p,v)}return"arrow"===p.type&&(p=(0,O.BE)(p,{startArrowhead:f.startArrowhead,endArrowhead:f.endArrowhead})),p}return e})),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(e){return e[_.tW.CTRL_OR_CMD]&&e.altKey&&e.code===_.aU.V}}),He=function(e){return(0,R.jsx)("button",{className:"help-icon",onClick:e.onClick,type:"button",title:"".concat(e.title," \u2014 ?"),"aria-label":e.title,children:T.Vl})};function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,E.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(e,t){return{appState:Ve(Ve({},t),{},{openMenu:"canvas"===t.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,R.jsx)(x.V,{type:"button",icon:T.GI,"aria-label":(0,k.t)("buttons.menu"),onClick:n,selected:"canvas"===t.openMenu})}}),(0,E.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(e,t){return{appState:Ve(Ve({},t),{},{openMenu:"shape"===t.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,R.jsx)(x.V,{visible:(0,C.RT)(n,(0,C.Lm)(t)),type:"button",icon:T.DG,"aria-label":(0,k.t)("buttons.edit"),onClick:r,selected:"shape"===n.openMenu})}}),(0,E.z)({name:"toggleFullScreen",trackEvent:{category:"canvas",predicate:function(e){return!(0,M.rB)()}},perform:function(){return(0,M.rB)()||(0,M.wo)(),(0,M.rB)()&&(0,M.Pr)(),{commitToHistory:!1}},keyTest:function(e){return e.code===_.aU.F&&!e[_.tW.CTRL_OR_CMD]}}),(0,E.z)({name:"toggleShortcuts",trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(e,t,n,r){var i=r.focusContainer;return t.showHelpDialog&&i(),{appState:Ve(Ve({},t),{},{showHelpDialog:!t.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return(0,R.jsx)(He,{title:(0,k.t)("helpDialog.title"),onClick:t})},keyTest:function(e){return e.key===_.tW.QUESTION_MARK}});var $e=n(6954);function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ze(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ke=function(e,t){var n=(0,S.eD)((0,C.Lm)(e),t,!0);return n.length>=2&&!function(e){if(e.length>=2){var t,n=qe(e[0].groupIds);try{var i=function(){var n=t.value;if(e.reduce((function(e,t){return e&&(0,P.Nd)(t,n)}),!0))return{v:!0}};for(n.s();!(t=n.n()).done;){var a=i();if("object"===(0,r.Z)(a))return a.v}}catch(e){n.e(e)}finally{n.f()}}return!1}(n)},Xe=(0,E.z)({name:"group",trackEvent:{category:"element"},perform:function(e,t){var n=(0,S.eD)((0,C.Lm)(e),t,!0);if(n.length<2)return{appState:t,elements:e,commitToHistory:!1};var r=(0,P.iJ)(t);if(1===r.length){var i=r[0],o=new Set((0,P.Fb)(e,i).map((function(e){return e.id}))),s=new Set(n.map((function(e){return e.id})));if(new Set([].concat((0,a.Z)(Array.from(o)),(0,a.Z)(Array.from(s)))).size===o.size)return{appState:t,elements:e,commitToHistory:!1}}var l=(0,$e.kb)(),u=(0,M.xn)(n),c=e.map((function(e){return u.get(e.id)?(0,O.BE)(e,{groupIds:(0,P.S_)(e.groupIds,l,t.editingGroupId)}):e})),d=(0,P.Fb)(c,l),f=d[d.length-1],p=c.lastIndexOf(f),h=c.slice(p+1),m=c.slice(0,p).filter((function(e){return!(0,P.Nd)(e,l)})),g=[].concat((0,a.Z)(m),(0,a.Z)(d),(0,a.Z)(h));return{appState:(0,P.F$)(l,We(We({},t),{},{selectedGroupIds:{}}),(0,C.Lm)(g)),elements:g,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(e,t){return Ke(e,t)},keyTest:function(e){return!e.shiftKey&&e[_.tW.CTRL_OR_CMD]&&e.code===_.aU.G},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,R.jsx)(x.V,{hidden:!Ke(t,n),type:"button",icon:(0,R.jsx)(T.BF,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat((0,k.t)("labels.group")," \u2014 ").concat((0,M.uY)("CtrlOrCmd+G")),"aria-label":(0,k.t)("labels.group"),visible:(0,S.N)((0,C.Lm)(t),n)})}}),Ye=(0,E.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(e,t){if(0===(0,P.iJ)(t).length)return{appState:t,elements:e,commitToHistory:!1};var n=[],r=e.map((function(e){(0,D.Xh)(e)&&n.push(e.id);var r=(0,P.h6)(e.groupIds,t.selectedGroupIds);return r.length===e.groupIds.length?e:(0,O.BE)(e,{groupIds:r})})),i=(0,P.bO)(We(We({},t),{},{selectedGroupIds:{}}),(0,C.Lm)(r));return n.forEach((function(e){return i.selectedElementIds[e]=!1})),{appState:i,elements:r,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e[_.tW.CTRL_OR_CMD]&&e.code===_.aU.G},contextItemLabel:"labels.ungroup",contextItemPredicate:function(e,t){return(0,P.iJ)(t).length>0},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,R.jsx)(x.V,{type:"button",hidden:0===(0,P.iJ)(n).length,icon:(0,R.jsx)(T.RJ,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat((0,k.t)("labels.ungroup")," \u2014 ").concat((0,M.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,k.t)("labels.ungroup"),visible:(0,S.N)((0,C.Lm)(t),n)})}}),Qe=n(8982),Je=(n(2789),function(e){var t=e.color,n=e.border,r=e.onClick,a=e.name,o=e.src,s=(0,Qe.f)(a),l=(0,g.useState)(!1),u=(0,i.Z)(l,2),c=u[0],d=u[1],f=!c&&o,p=f?void 0:{background:t,border:"1px solid ".concat(n)};return(0,R.jsx)("div",{className:"Avatar",style:p,onClick:r,children:f?(0,R.jsx)("img",{className:"Avatar-img",src:o,alt:s,referrerPolicy:"no-referrer",onError:function(){return d(!0)}}):s})}),et=n(2264);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,E.z)({name:"goToCollaborator",trackEvent:{category:"collab"},perform:function(e,t,n){var r=n;return r?{appState:nt(nt(nt({},t),(0,et.s)({scenePoint:r,viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})),{},{openMenu:"canvas"===t.openMenu?null:t.openMenu}),commitToHistory:!1}:{appState:t,commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.data,a=(0,i.Z)(r,2),o=a[0],s=a[1],l=(0,Qe.X)(o,t),u=l.background,c=l.stroke;return(0,R.jsx)(Je,{color:u,border:c,onClick:function(){return n(s.pointer)},name:s.username||"",src:s.avatarUrl})}});var rt=n(2791);function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot=(0,E.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(e,t,n,r){var i=(0,S.eD)((0,C.Lm)(e),t,!0);return i.some((function(e){return"image"===e.type}))?{commitToHistory:!1,appState:at(at({},t),{},{errorMessage:"Support for adding images to the library coming soon!"})}:r.library.getLatestLibrary().then((function(e){return r.library.setLibrary([{id:(0,$e.kb)(),status:"unpublished",elements:i.map(rt.OL),created:Date.now()}].concat((0,a.Z)(e)))})).then((function(){return{commitToHistory:!1,appState:at(at({},t),{},{toastMessage:(0,k.t)("toast.addedToLibrary")})}})).catch((function(e){return{commitToHistory:!1,appState:at(at({},t),{},{errorMessage:e.message})}}))},contextItemLabel:"labels.addToLibrary"}),st=n(8925);function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ct=function(e,t,n){var r=n.axis,a=n.position,o=(0,st.v2)(e),l="x"===r?["minX","maxX"]:["minY","maxY"],u=(0,i.Z)(l,2),c=u[0],d=u[1];return ut(ut({},{x:0,y:0}),{},"start"===a?(0,s.Z)({},r,t[c]-o[c]):"end"===a?(0,s.Z)({},r,t[d]-o[d]):(0,s.Z)({},r,(t[c]+t[d])/2-(o[c]+o[d])/2))},dt=function(e,t){return(0,S.eD)((0,C.Lm)(e),t).length>1},ft=function(e,t,n){var r=function(e,t){var n=(0,P.AI)(e),r=(0,st.v2)(e);return n.flatMap((function(e){var n=ct(e,r,t);return e.map((function(e){return(0,O.BE)(e,{x:e.x+n.x,y:e.y+n.y})}))}))}((0,S.eD)((0,C.Lm)(e),t),n),i=(0,M.xn)(r);return e.map((function(e){return i.get(e.id)||e}))};function pt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ht(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(0,E.z)({name:"alignTop",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:ft(e,t,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[_.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===_.tW.ARROW_UP},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,R.jsx)(x.V,{hidden:!dt(t,n),type:"button",icon:(0,R.jsx)(T.Ct,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat((0,k.t)("labels.alignTop")," \u2014 ").concat((0,M.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,k.t)("labels.alignTop"),visible:(0,S.N)((0,C.Lm)(t),n)})}}),(0,E.z)({name:"alignBottom",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:ft(e,t,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[_.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===_.tW.ARROW_DOWN},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,R.jsx)(x.V,{hidden:!dt(t,n),type:"button",icon:(0,R.jsx)(T.HL,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat((0,k.t)("labels.alignBottom")," \u2014 ").concat((0,M.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,k.t)("labels.alignBottom"),visible:(0,S.N)((0,C.Lm)(t),n)})}}),(0,E.z)({name:"alignLeft",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:ft(e,t,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[_.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===_.tW.ARROW_LEFT},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,R.jsx)(x.V,{hidden:!dt(t,n),type:"button",icon:(0,R.jsx)(T.xs,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat((0,k.t)("labels.alignLeft")," \u2014 ").concat((0,M.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,k.t)("labels.alignLeft"),visible:(0,S.N)((0,C.Lm)(t),n)})}}),(0,E.z)({name:"alignRight",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:ft(e,t,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[_.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===_.tW.ARROW_RIGHT},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,R.jsx)(x.V,{hidden:!dt(t,n),type:"button",icon:(0,R.jsx)(T.mh,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat((0,k.t)("labels.alignRight")," \u2014 ").concat((0,M.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,k.t)("labels.alignRight"),visible:(0,S.N)((0,C.Lm)(t),n)})}}),(0,E.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:ft(e,t,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,R.jsx)(x.V,{hidden:!dt(t,n),type:"button",icon:(0,R.jsx)(T.ST,{theme:n.theme}),onClick:function(){return r(null)},title:(0,k.t)("labels.centerVertically"),"aria-label":(0,k.t)("labels.centerVertically"),visible:(0,S.N)((0,C.Lm)(t),n)})}}),(0,E.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:ft(e,t,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,R.jsx)(x.V,{hidden:!dt(t,n),type:"button",icon:(0,R.jsx)(T.gK,{theme:n.theme}),onClick:function(){return r(null)},title:(0,k.t)("labels.centerHorizontally"),"aria-label":(0,k.t)("labels.centerHorizontally"),visible:(0,S.N)((0,C.Lm)(t),n)})}});var mt=function(e,t){return(0,S.eD)((0,C.Lm)(e),t).length>1},gt=function(e,t,n){var r=function(e,t){var n,r="x"===t.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],a=(0,i.Z)(r,4),o=a[0],s=a[1],l=a[2],u=a[3],c=(0,st.v2)(e),d=(0,P.AI)(e).map((function(e){return[e,(0,st.v2)(e)]})).sort((function(e,t){return e[1][s]-t[1][s]})),f=0,p=pt(d);try{for(p.s();!(n=p.n()).done;)f+=n.value[1][u]}catch(e){p.e(e)}finally{p.f()}var h=(c[u]-f)/(d.length-1);if(h<0){var m=d.findIndex((function(e){return e[1][o]===c[o]})),g=d.findIndex((function(e){return e[1][l]===c[l]})),v=(d[g][1][s]-d[m][1][s])/(d.length-1),y=d[m][1][s];return d.flatMap((function(e,n){var r=(0,i.Z)(e,2),a=r[0],o=r[1],l={x:0,y:0};return n!==m&&n!==g&&(y+=v,l[t.axis]=y-o[s]),a.map((function(e){return(0,O.BE)(e,{x:e.x+l.x,y:e.y+l.y})}))}))}var b=c[o];return d.flatMap((function(e){var n=(0,i.Z)(e,2),r=n[0],a=n[1],s={x:0,y:0};return s[t.axis]=b-a[o],b+=h,b+=a[u],r.map((function(e){return(0,O.BE)(e,{x:e.x+s.x,y:e.y+s.y})}))}))}((0,S.eD)((0,C.Lm)(e),t),n),a=(0,M.xn)(r);return e.map((function(e){return a.get(e.id)||e}))},vt=((0,E.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:gt(e,t,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return!e[_.tW.CTRL_OR_CMD]&&e.altKey&&e.code===_.aU.H},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,R.jsx)(x.V,{hidden:!mt(t,n),type:"button",icon:(0,R.jsx)(T.uD,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat((0,k.t)("labels.distributeHorizontally")," \u2014 ").concat((0,M.uY)("Alt+H")),"aria-label":(0,k.t)("labels.distributeHorizontally"),visible:(0,S.N)((0,C.Lm)(t),n)})}}),(0,E.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:gt(e,t,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return!e[_.tW.CTRL_OR_CMD]&&e.altKey&&e.code===_.aU.V},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,R.jsx)(x.V,{hidden:!mt(t,n),type:"button",icon:(0,R.jsx)(T.W5,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat((0,k.t)("labels.distributeVertically")," \u2014 ").concat((0,M.uY)("Alt+V")),"aria-label":(0,k.t)("labels.distributeVertically"),visible:(0,S.N)((0,C.Lm)(t),n)})}}),n(8634)),yt=n(267),bt=(0,E.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(e,t){return{elements:St(e,t,"horizontal"),appState:t,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&"KeyH"===e.code},contextItemLabel:"labels.flipHorizontal",contextItemPredicate:function(e,t){return function(e,t){var n=(0,S.eD)((0,C.Lm)(e),t);return 1===n.length&&"text"!==n[0].type}(e,t)}}),wt=(0,E.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(e,t){return{elements:St(e,t,"vertical"),appState:t,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&"KeyV"===e.code},contextItemLabel:"labels.flipVertical",contextItemPredicate:function(e,t){return function(e,t){return 1===(0,S.eD)((0,C.Lm)(e),t).length}(e,t)}}),St=function(e,t,n){var r=(0,S.eD)((0,C.Lm)(e),t);if(r.length>1)return e;var i=_t(r,t,n),a=(0,M.xn)(i);return e.map((function(e){return a.get(e.id)||e}))},_t=function(e,t,n){return e.forEach((function(e){xt(e,t),"vertical"===n&&Tt(e,Math.PI)})),e},xt=function(e,t){var n=e.x,r=e.y,i=e.width,a=e.height,o=(0,vt.LW)(e.angle),s=0;((0,D.bt)(e)||(0,D.F9)(e))&&(s=2*e.points.reduce((function(e,t){return Math.max(e,t[0])}),0)-e.width),(0,O.DR)(e,{angle:(0,vt.LW)(0)});var l=(0,yt.PC)(e,t.zoom),u=!0,c=0,d=l.nw;if(d||(u=!1,d=l.ne)){if((0,D.bt)(e)){for(var f=1;f<e.points.length;f++)I._.movePoints(e,[{index:f,point:[-e.points[f][0],e.points[f][1]]}]);I._.normalizePoints(e)}else c=u?e.x+2*i:e.x-2*i,(0,vt.l2)((new Map).set(e.id,e),!0,e,u?"nw":"ne",!1,c,d[1]),(0,O.DR)(e,{width:i,height:a});var p=(0,vt.LW)(2*Math.PI-o);p<0&&(p=(0,vt.LW)(p+2*Math.PI)),(0,O.DR)(e,{angle:p}),(0,O.DR)(e,{x:n+s,y:r}),(0,A.Ww)(e)}else(0,O.DR)(e,{angle:o})},Tt=function(e,t){var n=e.x,r=e.y,i=(0,vt.LW)(e.angle+t);i<0&&(i=(0,vt.LW)(2*Math.PI+i)),(0,O.DR)(e,{angle:i}),(0,O.DR)(e,{x:n,y:r})},kt=n(1868);function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ot=(0,E.z)({name:"copy",trackEvent:{category:"element"},perform:function(e,t,n,r){var i=(0,kt.eD)(e,t,!0);return(0,me.vQ)(i,t,r.files),{commitToHistory:!1}},contextItemLabel:"labels.copy",keyTest:void 0}),Pt=(0,E.z)({name:"cut",trackEvent:{category:"element"},perform:function(e,t,n,r){return Ot.perform(e,t,n,r),B.perform(e,t)},contextItemLabel:"labels.cut",keyTest:function(e){return e[_.tW.CTRL_OR_CMD]&&e.code===_.aU.X}}),It=(0,E.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:function(){var e=(0,o.Z)(m().mark((function e(t,n,r,i){var a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.canvas){e.next=2;break}return e.abrupt("return",{commitToHistory:!1});case 2:return a=(0,kt.eD)((0,C.Lm)(t),n,!0),e.prev=3,e.next=6,we("clipboard-svg",a.length?a:(0,C.Lm)(t),n,i.files,n);case 6:return e.abrupt("return",{commitToHistory:!1});case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{appState:Ct(Ct({},n),{},{errorMessage:e.t0.message}),commitToHistory:!1});case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),At=(0,E.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:function(){var e=(0,o.Z)(m().mark((function e(t,n,r,i){var a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.canvas){e.next=2;break}return e.abrupt("return",{commitToHistory:!1});case 2:return a=(0,kt.eD)((0,C.Lm)(t),n,!0),e.prev=3,e.next=6,we("clipboard",a.length?a:(0,C.Lm)(t),n,i.files,n);case 6:return e.abrupt("return",{appState:Ct(Ct({},n),{},{toastMessage:(0,k.t)("toast.copyToClipboardAsPng",{exportSelection:a.length?(0,k.t)("toast.selection"):(0,k.t)("toast.canvas"),exportColorScheme:n.exportWithDarkMode?(0,k.t)("buttons.darkMode"):(0,k.t)("buttons.lightMode")})}),commitToHistory:!1});case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{appState:Ct(Ct({},n),{},{errorMessage:e.t0.message}),commitToHistory:!1});case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(e){return e.code===_.aU.C&&e.altKey&&e.shiftKey}}),Dt=(0,E.z)({name:"copyText",trackEvent:{category:"element"},perform:function(e,t){var n=(0,kt.eD)((0,C.Lm)(e),t,!0).reduce((function(e,t){return(0,C.iB)(t)&&e.push(t.text),e}),[]).join("\n\n");return(0,me.dd)(n),{commitToHistory:!1}},contextItemPredicate:function(e,t){return me.wx&&(0,kt.eD)(e,t,!0).some(C.iB)},contextItemLabel:"labels.copyText"});function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nt=(0,E.z)({name:"gridMode",trackEvent:{category:"canvas",predicate:function(e){return!e.gridSize}},perform:function(e,t){return{appState:Rt(Rt({},t),{},{gridSize:this.checked(t)?null:ne.k}),commitToHistory:!1}},checked:function(e){return null!==e.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(e){return e[_.tW.CTRL_OR_CMD]&&e.code===_.aU.QUOTE}});function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt=(0,E.z)({name:"zenMode",trackEvent:{category:"canvas",predicate:function(e){return!e.zenModeEnabled}},perform:function(e,t){return{appState:jt(jt({},t),{},{zenModeEnabled:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(e){return!e[_.tW.CTRL_OR_CMD]&&e.altKey&&e.code===_.aU.Z}});function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht=(0,E.z)({name:"stats",trackEvent:{category:"menu"},perform:function(e,t){return{appState:Ut(Ut({},t),{},{showStats:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.showStats},contextItemLabel:"stats.title",keyTest:function(e){return!e[_.tW.CTRL_OR_CMD]&&e.altKey&&e.code===_.aU.SLASH}});function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $t=(0,E.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},contextItemPredicate:function(e,t){return(0,S.eD)(e,t).some((function(e){return(0,D.Xo)(e)}))},perform:function(e,t){return(0,S.eD)((0,C.Lm)(e),t).forEach((function(e){var t=(0,re.WJ)(e);if(t){var n,r=(0,re.X1)(t.originalText,(0,M.mO)(t)),i=r.width,a=r.height,o=r.baseline;(0,O.DR)(t,{containerId:null,width:i,height:a,baseline:o,text:t.originalText}),(0,O.DR)(e,{boundElements:null===(n=e.boundElements)||void 0===n?void 0:n.filter((function(e){return e.id!==t.id}))})}})),{elements:e,appState:t,commitToHistory:!0}}}),Gt=(0,E.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},contextItemPredicate:function(e,t){var n=(0,S.eD)(e,t);if(2===n.length){var r,i=(0,C.iB)(n[0])||(0,C.iB)(n[1]);if((0,D.mG)(n[0])?r=n[0]:(0,D.mG)(n[1])&&(r=n[1]),i&&r&&null===(0,re.WJ)(r))return!0}return!1},perform:function(e,t){var n,r,i=(0,S.eD)((0,C.Lm)(e),t);(0,C.iB)(i[0])&&(0,D.mG)(i[1])?(n=i[0],r=i[1]):(n=i[1],r=i[0]),(0,O.DR)(n,{containerId:r.id,verticalAlign:ne.oX.MIDDLE}),(0,O.DR)(r,{boundElements:(r.boundElements||[]).concat({type:"text",id:n.id})}),(0,re.oN)(n,r);var a=e.slice(),o=a.findIndex((function(e){return e.id===n.id}));a.splice(o,1);var l=a.findIndex((function(e){return e.id===r.id}));return a.splice(l+1,0,n),{elements:a,appState:Vt(Vt({},t),{},{selectedElementIds:(0,s.Z)({},r.id,!0)}),commitToHistory:!0}}}),Wt=n(2383),qt=(0,E.z)({name:"toggleLock",trackEvent:{category:"element"},perform:function(e,t){var n=(0,S.eD)(e,t,!0);if(!n.length)return!1;var r=Zt(n),i=(0,M.xn)(n);return{elements:e.map((function(e){return i.has(e.id)?(0,O.BE)(e,{locked:"lock"===r}):e})),appState:t,commitToHistory:!0}},contextItemLabel:function(e,t){var n=(0,S.eD)(e,t,!1);if(1===n.length)return n[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock";if(n.length>1)return"lock"===Zt(n)?"labels.elementLock.lockAll":"labels.elementLock.unlockAll";throw new Error("Unexpected zero elements to lock/unlock. This should never happen.")},keyTest:function(e,t,n){return e.key.toLocaleLowerCase()===_.tW.L&&e[_.tW.CTRL_OR_CMD]&&e.shiftKey&&(0,S.eD)(n,t,!1).length>0}}),Zt=function(e){return e.some((function(e){return!e.locked}))?"lock":"unlock"};function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yt=function(e,t,n){var r=!1;if(!(t.multiElement||t.resizingElement||t.editingElement||t.draggingElement)){var i=n();if(null===i)return{commitToHistory:r};var a=(0,M.xn)(e),o=i.elements,s=(0,M.xn)(o),l=e.filter((function(e){return!s.has(e.id)})),u=o.map((function(e){return(0,O.BE)(a.get(e.id)||e,e)})).concat(l.map((function(e){return(0,O.BE)(e,{isDeleted:!0})})));return(0,A.$q)(u,l),{elements:u,appState:Xt(Xt({},t),i.appState),commitToHistory:r,syncHistory:!0}}return{commitToHistory:r}},Qt=n(7047),Jt=function(e,t,n,i,a,o){if(e.trackEvent)try{"object"===(0,r.Z)(e.trackEvent)&&(!e.trackEvent.predicate||e.trackEvent.predicate(n,i,o))&&(0,Qt.L)(e.trackEvent.category,e.trackEvent.action||e.name,"".concat(t," (").concat(a.device.isMobile?"mobile":"desktop",")"))}catch(e){console.error("error while logging action:",e)}},en=function(){function e(t,n,r,i){var a=this;(0,l.Z)(this,e),this.actions={},this.renderAction=function(e,t){var n=a.app.props.UIOptions.canvasActions;if(a.actions[e]&&"PanelComponent"in a.actions[e]&&(!(e in n)||n[e])){var r=a.actions[e],i=r.PanelComponent,o=a.getElementsIncludingDeleted(),s=a.getAppState();return(0,R.jsx)(i,{elements:a.getElementsIncludingDeleted(),appState:a.getAppState(),updateData:function(e){Jt(r,"ui",s,o,a.app,e),a.updater(r.perform(a.getElementsIncludingDeleted(),a.getAppState(),e,a.app))},appProps:a.app.props,data:t})}return null},this.updater=function(e){if(!e||!("then"in e))return t(e);e.then((function(e){return t(e)}))},this.getAppState=n,this.getElementsIncludingDeleted=r,this.app=i}return(0,u.Z)(e,[{key:"registerAction",value:function(e){this.actions[e.name]=e}},{key:"registerAll",value:function(e){var t=this;e.forEach((function(e){return t.registerAction(e)}))}},{key:"handleKeyDown",value:function(e){var t=this,n=this.app.props.UIOptions.canvasActions,r=Object.values(this.actions).sort((function(e,t){return(t.keyPriority||0)-(e.keyPriority||0)})).filter((function(r){return(!(r.name in n)||n[r.name])&&r.keyTest&&r.keyTest(e,t.getAppState(),t.getElementsIncludingDeleted())}));if(1!==r.length)return r.length>1&&console.warn("Canceling as multiple actions match this shortcut",r),!1;var i=r[0];if(this.getAppState().viewModeEnabled&&!Object.values(ne.EH).includes(r[0].name))return!1;var a=this.getElementsIncludingDeleted(),o=this.getAppState();return Jt(i,"keyboard",o,a,this.app,null),e.preventDefault(),e.stopPropagation(),this.updater(r[0].perform(a,o,null,this.app)),!0}},{key:"executeAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api",n=this.getElementsIncludingDeleted(),r=this.getAppState(),i=null;Jt(e,t,r,n,this.app,i),this.updater(e.perform(n,r,i,this.app))}}]),e}(),tn=n(8897),nn=n(7053),rn=n(679),an=function(e){var t=Array.from(e.values());return{x:sn(t,(function(e){return e.x}))/t.length,y:sn(t,(function(e){return e.y}))/t.length}},on=function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return Math.hypot(n.x-r.x,n.y-r.y)},sn=function(e,t){return e.reduce((function(e,n){return e+t(n)}),0)};function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cn=function(e){return{selectedElementIds:e.selectedElementIds,selectedGroupIds:e.selectedGroupIds,viewBackgroundColor:e.viewBackgroundColor,editingLinearElement:e.editingLinearElement,editingGroupId:e.editingGroupId,name:e.name}},dn=function(){function e(){var t=this;(0,l.Z)(this,e),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(e,n){return t.dehydrateHistoryEntry({appState:cn(e),elements:n.reduce((function(t,n){if((0,D.bt)(n)&&e.multiElement&&e.multiElement.id===n.id){if(e.multiElement&&e.multiElement.id===n.id&&n.points.length<2)return t;t.push(un(un({},n),{},{points:n.lastCommittedPoint!==n.points[n.points.length-1]?n.points.slice(0,-1):n.points}))}else t.push(n);return t}),[])})}}return(0,u.Z)(e,[{key:"hydrateHistoryEntry",value:function(e){var t=this,n=e.appState,r=e.elements;return{appState:JSON.parse(n),elements:r.map((function(e){var n,r=null===(n=t.elementCache.get(e.id))||void 0===n?void 0:n.get(e.versionNonce);if(!r)throw new Error("Element not found: ".concat(e.id,":").concat(e.versionNonce));return r}))}}},{key:"dehydrateHistoryEntry",value:function(e){var t=this,n=e.appState,r=e.elements;return{appState:JSON.stringify(n),elements:r.map((function(e){t.elementCache.has(e.id)||t.elementCache.set(e.id,new Map);var n=t.elementCache.get(e.id);return n.has(e.versionNonce)||n.set(e.versionNonce,(0,rt.OL)(e)),{id:e.id,versionNonce:e.versionNonce}}))}}},{key:"getSnapshotForTest",value:function(){var e=this;return{recording:this.recording,stateHistory:this.stateHistory.map((function(t){return e.hydrateHistoryEntry(t)})),redoStack:this.redoStack.map((function(t){return e.hydrateHistoryEntry(t)}))}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(e){var t,n=this.lastEntry;if(!n)return!0;if(e.elements.length!==n.elements.length)return!0;for(var r=e.elements.length-1;r>-1;r--){var i=e.elements[r],a=n.elements[r];if(!i||!a||i.id!==a.id||i.versionNonce!==a.versionNonce)return!0}for(t in e.appState){var o,s;if(("editingLinearElement"!==t||(null===(o=e.appState[t])||void 0===o?void 0:o.elementId)!==(null===(s=n.appState[t])||void 0===s?void 0:s.elementId))&&"selectedElementIds"!==t&&"selectedGroupIds"!==t&&e.appState[t]!==n.appState[t])return!0}return!1}},{key:"pushEntry",value:function(e,t){var n=this.generateEntry(e,t),r=this.hydrateHistoryEntry(n);if(r){if(!this.shouldCreateEntry(r))return;this.stateHistory.push(n),this.lastEntry=r,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(0===this.redoStack.length)return null;var e=this.redoStack.pop();return void 0!==e?(this.stateHistory.push(e),this.hydrateHistoryEntry(e)):null}},{key:"undoOnce",value:function(){if(1===this.stateHistory.length)return null;var e=this.stateHistory.pop(),t=this.stateHistory[this.stateHistory.length-1];return void 0!==e?(this.redoStack.push(e),this.hydrateHistoryEntry(t)):null}},{key:"setCurrentState",value:function(e,t){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(e,t))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(e,t){this.recording&&(this.pushEntry(e,t),this.recording=!1)}}]),e}(),fn=n(3547),pn=n(3063),hn=n(746),mn=[{icon:(0,R.jsx)("svg",{viewBox:"0 0 320 512",className:"",children:(0,R.jsx)("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})}),value:"selection",key:_.tW.V},{icon:(0,R.jsx)("svg",{viewBox:"0 0 448 512",children:(0,R.jsx)("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})}),value:"rectangle",key:_.tW.R},{icon:(0,R.jsx)("svg",{viewBox:"0 0 223.646 223.646",children:(0,R.jsx)("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})}),value:"diamond",key:_.tW.D},{icon:(0,R.jsx)("svg",{viewBox:"0 0 512 512",children:(0,R.jsx)("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})}),value:"ellipse",key:_.tW.O},{icon:(0,R.jsx)("svg",{viewBox:"0 0 448 512",className:"rtl-mirror",children:(0,R.jsx)("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})}),value:"arrow",key:_.tW.A},{icon:(0,R.jsx)("svg",{viewBox:"0 0 6 6",children:(0,R.jsx)("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})}),value:"line",key:[_.tW.P,_.tW.L]},{icon:(0,R.jsx)("svg",{viewBox:"0 0 512 512",children:(0,R.jsx)("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})}),value:"freedraw",key:[_.tW.X,_.tW.P.toUpperCase()]},{icon:(0,R.jsx)("svg",{viewBox:"0 0 448 512",children:(0,R.jsx)("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})}),value:"text",key:_.tW.T},{icon:(0,R.jsx)("svg",{viewBox:"0 0 512 512",children:(0,R.jsx)("path",{fill:"currentColor",d:"M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 336H54a6 6 0 0 1-6-6V118a6 6 0 0 1 6-6h404a6 6 0 0 1 6 6v276a6 6 0 0 1-6 6zM128 152c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zM96 352h320v-80l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L192 304l-39.515-39.515c-4.686-4.686-12.284-4.686-16.971 0L96 304v48z"})}),value:"image",key:null}],gn=n(5156),vn=n(7288),yn=(n(1292),{cut:[(0,M.uY)("CtrlOrCmd+X")],copy:[(0,M.uY)("CtrlOrCmd+C")],paste:[(0,M.uY)("CtrlOrCmd+V")],copyStyles:[(0,M.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,M.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,M.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,M.uY)("Del")],duplicateSelection:[(0,M.uY)("CtrlOrCmd+D"),(0,M.uY)("Alt+".concat((0,k.t)("helpDialog.drag")))],sendBackward:[(0,M.uY)("CtrlOrCmd+[")],bringForward:[(0,M.uY)("CtrlOrCmd+]")],sendToBack:[_.Um?(0,M.uY)("CtrlOrCmd+Alt+["):(0,M.uY)("CtrlOrCmd+Shift+[")],bringToFront:[_.Um?(0,M.uY)("CtrlOrCmd+Alt+]"):(0,M.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,M.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,M.uY)("CtrlOrCmd+G")],ungroup:[(0,M.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,M.uY)("CtrlOrCmd+'")],zenMode:[(0,M.uY)("Alt+Z")],stats:[(0,M.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,M.uY)("Shift+H")],flipVertical:[(0,M.uY)("Shift+V")],viewMode:[(0,M.uY)("Alt+R")],hyperlink:[(0,M.uY)("CtrlOrCmd+K")],toggleLock:[(0,M.uY)("CtrlOrCmd+Shift+L")]}),bn=function(e){var t=e.options,n=e.onCloseRequest,r=e.top,i=e.left,a=e.actionManager,o=e.appState,s=e.elements;return(0,R.jsx)(vn.J,{onCloseRequest:n,top:r,left:i,fitInViewport:!0,offsetLeft:o.offsetLeft,offsetTop:o.offsetTop,viewportWidth:o.width,viewportHeight:o.height,children:(0,R.jsx)("ul",{className:"context-menu",onContextMenu:function(e){return e.preventDefault()},children:t.map((function(e,t){var r;if("separator"===e)return(0,R.jsx)("hr",{className:"context-menu-option-separator"},t);var i,l,u=e.name,c="";return e.contextItemLabel&&(c="function"==typeof e.contextItemLabel?(0,k.t)(e.contextItemLabel(s,o)):(0,k.t)(e.contextItemLabel)),(0,R.jsx)("li",{"data-testid":u,onClick:n,children:(0,R.jsxs)("button",{className:(0,b.Z)("context-menu-option",{dangerous:"deleteSelectedElements"===u,checkmark:null===(r=e.checked)||void 0===r?void 0:r.call(e,o)}),onClick:function(){return a.executeAction(e,"contextMenu")},children:[(0,R.jsx)("div",{className:"context-menu-option__label",children:c}),(0,R.jsx)("kbd",{className:"context-menu-option__shortcut",children:u?(i=u,l=yn[i],l&&l.length>0?l[0]:""):""})]})},t)}))})})},wn=new WeakMap,Sn=function(e){var t,n,r=Array.of();e.options.forEach((function(e){e&&r.push(e)})),r.length&&(0,gn.render)((0,R.jsx)(bn,{top:e.top,left:e.left,options:r,onCloseRequest:function(){return t=e.container,void((n=wn.get(t))&&((0,gn.unmountComponentAtNode)(n),n.remove(),wn.delete(t)));var t,n},actionManager:e.actionManager,appState:e.appState,elements:e.elements}),(t=e.container,(n=wn.get(t))||(n=document.createElement("div"),t.querySelector(".excalidraw-contextMenuContainer").appendChild(n),wn.set(t,n),n)))},_n=n(2726),xn=n(8120);function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function En(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var On=function(e){var t,n=e.appState,r=e.elements,i=e.renderAction,a=e.activeTool,o=(0,S.Zs)((0,C.Lm)(r),n),s=!1;2===o.length&&((0,D.Xo)(o[0])||(0,D.Xo)(o[1]))&&(s=!0);var l,u=Boolean(n.editingElement),c=hi(),d="rtl"===document.documentElement.getAttribute("dir"),f=(0,S.$b)(a)||o.some((function(e){return(0,S.$b)(e.type)&&!(0,M.Qm)(e.backgroundColor)})),p=(0,S.$b)(a)||o.some((function(e){return(0,S.$b)(e.type)})),h=1===o.length||s,m=(null===(t=o[0])||void 0===t?void 0:t.type)||null,g=En(o);try{for(g.s();!(l=g.n()).done;)if(l.value.type!==m){m=null;break}}catch(e){g.e(e)}finally{g.f()}return(0,R.jsxs)("div",{className:"panelColumn",children:[((0,xn.PD)(a)&&"image"!==a&&"image"!==m||o.some((function(e){return(0,xn.PD)(e.type)})))&&i("changeStrokeColor"),p&&i("changeBackgroundColor"),f&&i("changeFillStyle"),((0,S.Zd)(a)||o.some((function(e){return(0,S.Zd)(e.type)})))&&i("changeStrokeWidth"),("freedraw"===a||o.some((function(e){return"freedraw"===e.type})))&&i("changeStrokeShape"),((0,S.M9)(a)||o.some((function(e){return(0,S.M9)(e.type)})))&&(0,R.jsxs)(R.Fragment,{children:[i("changeStrokeStyle"),i("changeSloppiness")]}),((0,S.gP)(a)||o.some((function(e){return(0,S.gP)(e.type)})))&&(0,R.jsx)(R.Fragment,{children:i("changeSharpness")}),((0,S.bZ)(a)||o.some((function(e){return(0,S.bZ)(e.type)})))&&(0,R.jsxs)(R.Fragment,{children:[i("changeFontSize"),i("changeFontFamily"),i("changeTextAlign")]}),o.some((function(e){return(0,D.Xo)(e)||(0,D.Xh)(e)}))&&i("changeVerticalAlign"),((0,S.Un)(a)||o.some((function(e){return(0,S.Un)(e.type)})))&&(0,R.jsx)(R.Fragment,{children:i("changeArrowhead")}),i("changeOpacity"),(0,R.jsxs)("fieldset",{children:[(0,R.jsx)("legend",{children:(0,k.t)("labels.layers")}),(0,R.jsxs)("div",{className:"buttonList",children:[i("sendToBack"),i("sendBackward"),i("bringToFront"),i("bringForward")]})]}),o.length>1&&!s&&(0,R.jsxs)("fieldset",{children:[(0,R.jsx)("legend",{children:(0,k.t)("labels.align")}),(0,R.jsxs)("div",{className:"buttonList",children:[d?(0,R.jsxs)(R.Fragment,{children:[i("alignRight"),i("alignHorizontallyCentered"),i("alignLeft")]}):(0,R.jsxs)(R.Fragment,{children:[i("alignLeft"),i("alignHorizontallyCentered"),i("alignRight")]}),o.length>2&&i("distributeHorizontally"),(0,R.jsxs)("div",{className:"iconRow",children:[i("alignTop"),i("alignVerticallyCentered"),i("alignBottom"),o.length>2&&i("distributeVertically")]})]})]}),!u&&o.length>0&&(0,R.jsxs)("fieldset",{children:[(0,R.jsx)("legend",{children:(0,k.t)("labels.actions")}),(0,R.jsxs)("div",{className:"buttonList",children:[!c.isMobile&&i("duplicateSelection"),!c.isMobile&&i("deleteSelectedElements"),i("group"),i("ungroup"),h&&i("hyperlink")]})]})]})},Pn=function(e){var t=e.canvas,n=e.activeTool,r=e.setAppState,i=e.onImageAction,a=e.appState;return(0,R.jsx)(R.Fragment,{children:mn.map((function(e,o){var s=e.value,l=e.icon,u=e.key,c=(0,k.t)("toolBar.".concat(s)),d=u&&("string"==typeof u?u:u[0]),f=d?"".concat((0,M.Oo)(d)," ").concat((0,k.t)("helpDialog.or")," ").concat(o+1):"".concat(o+1);return(0,R.jsx)(x.V,{className:"Shape",type:"radio",icon:l,checked:n.type===s,name:"editor-current-shape",title:"".concat((0,M.Oo)(c)," \u2014 ").concat(f),keyBindingLabel:"".concat(o+1),"aria-label":(0,M.Oo)(c),"aria-keyshortcuts":f,"data-testid":s,onPointerDown:function(e){var t=e.pointerType;a.penDetected||"pen"!==t||r({penDetected:!0,penMode:!0})},onChange:function(e){var n=e.pointerType;a.activeTool.type!==s&&(0,Qt.L)("toolbar",s,"ui");var o=(0,M.Om)(a,{type:s});r({activeTool:o,multiElement:null,selectedElementIds:{}}),(0,M.Uk)(t,kn(kn({},a),{},{activeTool:o})),"image"===s&&i({pointerType:n})}},s)}))})},In=function(e){var t=e.renderAction;return e.zoom,(0,R.jsx)(Oe,{gap:1,children:(0,R.jsxs)(Ce,{gap:1,align:"center",children:[t("zoomOut"),t("zoomIn"),t("resetZoom")]})})},An=function(e){e.appState,e.setAppState;var t=e.actionManager,n=e.showThemeBtn;return(0,R.jsxs)("div",{style:{display:"flex"},children:[t.renderAction("changeViewBackgroundColor"),n&&t.renderAction("toggleTheme")]})},Dn=(n(778),function(e){var t=e.isCollaborating,n=e.collaboratorCount,r=e.onClick;return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(x.V,{className:(0,b.Z)("CollabButton",{"is-collaborating":t}),onClick:r,icon:T.rC,type:"button",title:(0,k.t)("labels.liveCollaboration"),"aria-label":(0,k.t)("labels.liveCollaboration"),showAriaLabel:hi().isMobile,children:t&&(0,R.jsx)("div",{className:"CollabButton-collaborators",children:n})})})}),Mn=n(2939),Rn=function(e){var t=e.message,n=e.onClose,r=(0,g.useState)(!!t),a=(0,i.Z)(r,2),o=a[0],s=a[1],l=gi().container,u=v().useCallback((function(){s(!1),n&&n(),null==l||l.focus()}),[n,l]);return(0,R.jsx)(R.Fragment,{children:o&&(0,R.jsx)(Mn.V,{small:!0,onCloseRequest:u,title:(0,k.t)("errorDialog.title"),children:(0,R.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:t})})})},Nn=n(6797),Ln=(n(2205),n(5284)),jn="filter"in document.createElement("canvas").getContext("2d"),Bn=function(){return(0,R.jsxs)("div",{children:[(0,R.jsx)("h3",{children:(0,k.t)("canvasError.cannotShowPreview")}),(0,R.jsx)("p",{children:(0,R.jsx)("span",{children:(0,k.t)("canvasError.canvasTooBig")})}),(0,R.jsxs)("em",{children:["(",(0,k.t)("canvasError.canvasTooBigTip"),")"]})]})},Fn=function(e,t){(0,gn.unmountComponentAtNode)(t),t.innerHTML="",e instanceof HTMLCanvasElement?t.appendChild(e):(0,gn.render)((0,R.jsx)(Bn,{}),t)},Un=function(e){var t,n=e.children,r=e.title,i=e.onClick,a=e.color,o=e.shade,l=void 0===o?6:o;return(0,R.jsx)("button",{className:"ExportDialog-imageExportButton",style:(t={},(0,s.Z)(t,"--button-color",Ln[a][l]),(0,s.Z)(t,"--button-color-darker",Ln[a][l+1]),(0,s.Z)(t,"--button-color-darkest",Ln[a][l+2]),t),title:r,"aria-label":r,onClick:i,children:n})},Hn=function(e){var t=e.elements,n=e.appState,r=e.files,a=e.exportPadding,o=void 0===a?ne.qy:a,s=e.actionManager,l=e.onExportToPng,u=e.onExportToSvg,c=e.onExportToClipboard,d=(0,S.N)(t,n),f=(0,g.useState)(d),p=(0,i.Z)(f,2),h=p[0],m=p[1],v=(0,g.useRef)(null),y=n.exportBackground,b=n.viewBackgroundColor,w=h?(0,S.eD)(t,n,!0):t;return(0,g.useEffect)((function(){m(d)}),[d]),(0,g.useEffect)((function(){var e=v.current;e&&(0,ge.NL)(w,n,r,{exportBackground:y,viewBackgroundColor:b,exportPadding:o}).then((function(t){return(0,ve._c)(t).then((function(){Fn(t,e)}))})).catch((function(t){console.error(t),Fn(new Nn.l,e)}))}),[n,r,w,y,o,b]),(0,R.jsxs)("div",{className:"ExportDialog",children:[(0,R.jsx)("div",{className:"ExportDialog__preview",ref:v}),jn&&s.renderAction("exportWithDarkMode"),(0,R.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr"},children:(0,R.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(190px, 1fr))",overflow:"hidden"},children:[s.renderAction("changeExportBackground"),d&&(0,R.jsx)(Te,{checked:h,onChange:function(e){return m(e)},children:(0,k.t)("labels.onlySelected")}),s.renderAction("changeExportEmbedScene")]})}),(0,R.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:".6em"},children:[(0,R.jsx)(Ce,{gap:2,children:s.renderAction("changeExportScale")}),(0,R.jsx)("p",{style:{marginLeft:"1em",userSelect:"none"},children:"Scale"})]}),(0,R.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:".6em 0"},children:!ye.kr&&s.renderAction("changeProjectName")}),(0,R.jsxs)(Ce,{gap:2,justifyContent:"center",style:{margin:"2em 0"},children:[(0,R.jsx)(Un,{color:"indigo",title:(0,k.t)("buttons.exportToPng"),"aria-label":(0,k.t)("buttons.exportToPng"),onClick:function(){return l(w)},children:"PNG"}),(0,R.jsx)(Un,{color:"red",title:(0,k.t)("buttons.exportToSvg"),"aria-label":(0,k.t)("buttons.exportToSvg"),onClick:function(){return u(w)},children:"SVG"}),me.vt&&(0,R.jsx)(Un,{title:(0,k.t)("buttons.copyPngToClipboard"),onClick:function(){return c(w)},color:"gray",shade:7,children:T.BR})]})]})},zn=function(e){var t=e.elements,n=e.appState,r=e.files,a=e.exportPadding,o=void 0===a?ne.qy:a,s=e.actionManager,l=e.onExportToPng,u=e.onExportToSvg,c=e.onExportToClipboard,d=(0,g.useState)(!1),f=(0,i.Z)(d,2),p=f[0],h=f[1],m=v().useCallback((function(){h(!1)}),[]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(x.V,{onClick:function(){h(!0)},"data-testid":"image-export-button",icon:T.Rb,type:"button","aria-label":(0,k.t)("buttons.exportImage"),showAriaLabel:hi().isMobile,title:(0,k.t)("buttons.exportImage")}),p&&(0,R.jsx)(Mn.V,{onCloseRequest:m,title:(0,k.t)("buttons.exportImage"),children:(0,R.jsx)(Hn,{elements:t,appState:n,files:r,exportPadding:o,actionManager:s,onExportToPng:l,onExportToSvg:u,onExportToClipboard:c,onCloseRequest:m})})]})},Vn=(n(1310),function(e){var t=e.children,n=e.side,r=e.className;return(0,R.jsx)("div",{className:(0,b.Z)("FixedSideContainer","FixedSideContainer_side_".concat(n),r),children:t})}),$n=(n(7096),function(e){var t=function(e){var t=e.appState,n=e.elements,r=e.isMobile,i=t.activeTool,a=t.isResizing,o=t.isRotating,s=t.lastPointerDownWith,l=null!==t.multiElement;if(t.isLibraryOpen)return null;if((0,tn.EN)(t))return(0,k.t)("hints.eraserRevert");if("arrow"===i.type||"line"===i.type)return l?(0,k.t)("hints.linearElementMulti"):(0,k.t)("hints.linearElement");if("freedraw"===i.type)return(0,k.t)("hints.freeDraw");if("text"===i.type)return(0,k.t)("hints.text");if("image"===t.activeTool.type&&t.pendingImageElementId)return(0,k.t)("hints.placeImage");var u=(0,S.eD)(n,t);if(a&&"mouse"===s&&1===u.length){var c=u[0];return(0,D.bt)(c)&&2===c.points.length?(0,k.t)("hints.lockAngle"):(0,D.pC)(c)?(0,k.t)("hints.resizeImage"):(0,k.t)("hints.resize")}if(o&&"mouse"===s)return(0,k.t)("hints.rotate");if(1===u.length&&(0,D.iB)(u[0]))return(0,k.t)("hints.text_selected");if(t.editingElement&&(0,D.iB)(t.editingElement))return(0,k.t)("hints.text_editing");if("selection"===i.type){var d;if("selection"===(null===(d=t.draggingElement)||void 0===d?void 0:d.type)&&!t.editingElement&&!t.editingLinearElement)return(0,k.t)("hints.deepBoxSelect");if(!u.length&&!r)return(0,k.t)("hints.canvasPanning")}if(1===u.length){if((0,D.bt)(u[0]))return t.editingLinearElement?t.editingLinearElement.selectedPointsIndices?(0,k.t)("hints.lineEditor_pointSelected"):(0,k.t)("hints.lineEditor_nothingSelected"):(0,k.t)("hints.lineEditor_info");if((0,D.mG)(u[0]))return(0,k.t)("hints.bindTextToElement")}return null}({appState:e.appState,elements:e.elements,isMobile:e.isMobile});return t?(t=(0,M.uY)(t),(0,R.jsx)("div",{className:"HintViewer",children:(0,R.jsx)("span",{children:t})})):null}),Gn=n(1226),Wn=n(5440),qn={CHECKED:(0,R.jsx)("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:(0,R.jsx)("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})}),UNCHECKED:(0,R.jsx)("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror",children:(0,R.jsx)("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})})},Zn=function(e){return(0,R.jsxs)("label",{className:(0,b.Z)("ToolIcon ToolIcon__lock ToolIcon_type_floating","ToolIcon_size_".concat("medium"),{"is-mobile":e.isMobile}),title:"".concat(e.title," \u2014 Q"),children:[(0,R.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),(0,R.jsx)("div",{className:"ToolIcon__icon",children:e.checked?qn.CHECKED:qn.UNCHECKED})]})},Kn=["heading","children"];function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qn=function(e){var t=e.heading,n=e.children,r=(0,_n.Z)(e,Kn),i=gi().id,a=(0,R.jsx)("h2",{className:"visually-hidden",id:"".concat(i,"-").concat(t,"-title"),children:(0,k.t)("headings.".concat(t))});return(0,R.jsx)("section",Yn(Yn({},r),{},{"aria-labelledby":"".concat(i,"-").concat(t,"-title"),children:"function"==typeof n?n(a):(0,R.jsxs)(R.Fragment,{children:[a,n]})}))},Jn=n(756),er=(n(580),function(e){var t=e.className,n=e.mobile,r=e.collaborators,a=e.actionManager,o=new Map;r.forEach((function(e,t){o.set(e.id||t,e)}));var s=o.size>0&&Array.from(o).filter((function(e){var t=(0,i.Z)(e,2),n=(t[0],t[1]);return 0!==Object.keys(n).length})).map((function(e){var t=(0,i.Z)(e,2),r=t[0],o=t[1],s=a.renderAction("goToCollaborator",[r,o]);return n?(0,R.jsx)(pe.u,{label:o.username||"Unknown user",children:s},r):(0,R.jsx)(v().Fragment,{children:s},r)}));return(0,R.jsx)("div",{className:(0,b.Z)("UserList",t,{UserList_mobile:n}),children:s})}),tr=(0,R.jsx)("svg",{viewBox:"0 0 576 512",children:(0,R.jsx)("path",{fill:"currentColor",d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"})}),nr=function(e){var t=e.appState,n=e.setAppState,r=e.isMobile,i=hi();return(0,R.jsxs)("label",{className:(0,b.Z)("ToolIcon ToolIcon_type_floating ToolIcon__library","ToolIcon_size_medium",{"is-mobile":r}),title:"".concat((0,M.Oo)((0,k.t)("toolBar.library"))," \u2014 0"),children:[(0,R.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:"editor-library",onChange:function(e){var t;null===(t=document.querySelector(".layer-ui__wrapper"))||void 0===t||t.classList.remove("animate");var r=e.target.checked;n({isLibraryOpen:r}),r&&(0,Qt.L)("library","toggleLibrary (open)","toolbar (".concat(i.isMobile?"mobile":"desktop",")"))},checked:t.isLibraryOpen,"aria-label":(0,M.Oo)((0,k.t)("toolBar.library")),"aria-keyshortcuts":"0"}),(0,R.jsx)("div",{className:"ToolIcon__icon",children:tr})]})},rr="medium",ir={CHECKED:(0,R.jsxs)("svg",{width:"205",height:"205",viewBox:"0 0 205 205",xmlns:"http://www.w3.org/2000/svg",children:[(0,R.jsx)("path",{d:"m35 195-25-29.17V50h50v115l-25 30"}),(0,R.jsx)("path",{d:"M10 40V10h50v30H10"}),(0,R.jsx)("path",{d:"M125 145h70v50h-70"}),(0,R.jsx)("path",{d:"M190 145v-30l-10-20h-40l-10 20v30h15v-30l5-5h20l5 5v30h15"})]}),UNCHECKED:(0,R.jsxs)("svg",{width:"205",height:"205",viewBox:"0 0 205 205",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror",children:[(0,R.jsx)("path",{d:"m35 195-25-29.17V50h50v115l-25 30"}),(0,R.jsx)("path",{d:"M10 40V10h50v30H10"}),(0,R.jsx)("path",{d:"M125 145h70v50h-70"}),(0,R.jsx)("path",{d:"M145 145v-30l-10-20H95l-10 20v30h15v-30l5-5h20l5 5v30h15"})]})},ar=function(e){return e.penDetected?(0,R.jsxs)("label",{className:(0,b.Z)("ToolIcon ToolIcon__penMode ToolIcon_type_floating","ToolIcon_size_".concat(rr),{"is-mobile":e.isMobile}),title:"".concat(e.title),children:[(0,R.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),(0,R.jsx)("div",{className:"ToolIcon__icon",children:e.checked?ir.CHECKED:ir.UNCHECKED})]}):e.isMobile?null:(0,R.jsx)("label",{className:(0,b.Z)("ToolIcon ToolIcon__penMode ToolIcon_type_floating","ToolIcon_size_".concat(rr),{"is-mobile":e.isMobile}),children:(0,R.jsx)("div",{className:"ToolIcon__icon ToolIcon__hidden"})})};function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var sr=function(e){var t,n=e.appState,r=e.elements,i=e.libraryMenu,a=e.actionManager,o=e.renderJSONExportDialog,l=e.renderImageExportDialog,u=e.setAppState,c=e.onCollabButtonClick,d=e.onLockToggle,f=e.onPenModeToggle,p=e.canvas,h=e.isCollaborating,m=e.renderCustomFooter,g=e.viewModeEnabled,v=e.showThemeBtn,y=e.onImageAction,b=e.renderTopRightUI,w=e.renderStats;return(0,R.jsxs)(R.Fragment,{children:[!g&&(0,R.jsxs)(Vn,{side:"top",className:"App-top-bar",children:[(0,R.jsx)(Qn,{heading:"shapes",children:function(e){return(0,R.jsxs)(Oe,{gap:4,align:"center",children:[(0,R.jsxs)(Ce,{gap:1,className:"App-toolbar-container",children:[(0,R.jsxs)(Gn.W,{padding:1,className:"App-toolbar",children:[e,(0,R.jsx)(Ce,{gap:1,children:(0,R.jsx)(Pn,{appState:n,canvas:p,activeTool:n.activeTool,setAppState:u,onImageAction:function(e){var t=e.pointerType;y({insertOnCanvasDirectly:"mouse"!==t})}})})]}),b&&b(!0,n),(0,R.jsx)(Zn,{checked:n.activeTool.locked,onChange:d,title:(0,k.t)("toolBar.lock"),isMobile:!0}),(0,R.jsx)(nr,{appState:n,setAppState:u,isMobile:!0}),(0,R.jsx)(ar,{checked:n.penMode,onChange:f,title:(0,k.t)("toolBar.penMode"),isMobile:!0,penDetected:n.penDetected})]}),i]})}}),(0,R.jsx)($n,{appState:n,elements:r,isMobile:!0})]}),w(),(0,R.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:Jn.nn+2*Jn.WM,marginLeft:Jn.nn+2*Jn.WM,marginRight:Jn.nn+2*Jn.WM},children:(0,R.jsxs)(Gn.W,{padding:0,children:["canvas"===n.openMenu?(0,R.jsx)(Qn,{className:"App-mobile-menu",heading:"canvasActions",children:(0,R.jsx)("div",{className:"panelColumn",children:(0,R.jsxs)(Oe,{gap:4,children:[g?(0,R.jsxs)(R.Fragment,{children:[o(),l()]}):(0,R.jsxs)(R.Fragment,{children:[a.renderAction("clearCanvas"),a.renderAction("loadScene"),o(),l(),c&&(0,R.jsx)(Dn,{isCollaborating:h,collaboratorCount:n.collaborators.size,onClick:c}),(0,R.jsx)(An,{actionManager:a,appState:n,setAppState:u,showThemeBtn:v})]}),null==m?void 0:m(!0,n),n.collaborators.size>0&&(0,R.jsxs)("fieldset",{children:[(0,R.jsx)("legend",{children:(0,k.t)("labels.collaborators")}),(0,R.jsx)(er,{mobile:!0,collaborators:n.collaborators,actionManager:a})]})]})})}):"shape"===n.openMenu&&!g&&(0,C.RT)(n,r)?(0,R.jsx)(Qn,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,R.jsx)(On,{appState:n,elements:r,renderAction:a.renderAction,activeTool:n.activeTool.type})}):null,(0,R.jsxs)("footer",{className:"App-toolbar",children:[(t=!n.viewModeEnabled&&!n.editingElement&&0===(0,S.eD)(r,n).length,g?(0,R.jsx)("div",{className:"App-toolbar-content",children:a.renderAction("toggleCanvasMenu")}):(0,R.jsxs)("div",{className:"App-toolbar-content",children:[a.renderAction("toggleCanvasMenu"),a.renderAction("toggleEditMenu"),a.renderAction("undo"),a.renderAction("redo"),t&&a.renderAction("eraser"),a.renderAction(n.multiElement?"finalize":"duplicateSelection"),a.renderAction("deleteSelectedElements")]})),n.scrolledOutside&&!n.openMenu&&(0,R.jsx)("button",{className:"scroll-back-to-content",onClick:function(){u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,S.W)(r,n,p)))},children:(0,k.t)("buttons.scrollBackToContent")})]})]})})]})},lr=n(5674),ur=(n(8051),function(e){var t=(0,g.useRef)(null),n=(0,g.useState)(null),r=(0,i.Z)(n,2),a=r[0],s=r[1];return(0,g.useLayoutEffect)((function(){if(e.spreadsheet){var n,r=(0,lr.ps)(e.chartType,e.spreadsheet,0,0);s(r);var i=t.current;return(0,o.Z)(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,ge.$D)(r,{exportBackground:!1,viewBackgroundColor:Ln.white},null);case 2:n=t.sent,i.appendChild(n),e.selected&&i.parentNode.focus();case 5:case"end":return t.stop()}}),t)})))(),function(){i.removeChild(n)}}}),[e.spreadsheet,e.chartType,e.selected]),(0,R.jsx)("button",{className:"ChartPreview",onClick:function(){a&&e.onClick(e.chartType,a)},children:(0,R.jsx)("div",{ref:t})})}),cr=function(e){var t=e.setAppState,n=e.appState,r=e.onClose,i=e.onInsertChart,a=v().useCallback((function(){r&&r()}),[r]),o=function(e,n){i(n),(0,Qt.L)("magic","chart",e),t({currentChartType:e,pasteDialog:{shown:!1,data:null}})};return(0,R.jsx)(Mn.V,{small:!0,onCloseRequest:a,title:(0,k.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,R.jsxs)("div",{className:"container",children:[(0,R.jsx)(ur,{chartType:"bar",spreadsheet:n.pasteDialog.data,selected:"bar"===n.currentChartType,onClick:o}),(0,R.jsx)(ur,{chartType:"line",spreadsheet:n.pasteDialog.data,selected:"line"===n.currentChartType,onClick:o})]})})};function dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n(3922);var fr=function(){return(0,R.jsxs)("div",{className:"HelpDialog--header",children:[(0,R.jsx)("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer",children:(0,k.t)("helpDialog.documentation")}),(0,R.jsx)("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:(0,k.t)("helpDialog.blog")}),(0,R.jsx)("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:(0,k.t)("helpDialog.github")})]})},pr=function(e){return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("h3",{children:e.title}),e.children]})},hr=function(e){return(0,R.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},children:e.children})},mr=function(e){return(0,R.jsx)("div",{style:{width:"49%"},children:e.children})},gr=function(e){return(0,R.jsxs)("div",{className:"HelpDialog--island",children:[(0,R.jsx)("h3",{className:"HelpDialog--island-title",children:e.caption}),e.children]})},vr=function(e){return(0,R.jsx)("div",{className:"HelpDialog--shortcut",children:(0,R.jsxs)("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"},children:[(0,R.jsx)("div",{style:{lineHeight:1.4},children:e.label}),(0,R.jsx)("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"},children:e.shortcuts.map((function(t,n){return(0,R.jsxs)(v().Fragment,{children:[(0,R.jsx)(yr,{children:t}),e.isOr&&n!==e.shortcuts.length-1&&(0,k.t)("helpDialog.or")]},n)}))})]})})};vr.defaultProps={isOr:!0};var yr=function(e){return(0,R.jsx)("kbd",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:"HelpDialog--key"},e))},br=function(e){var t=e.onClose,n=v().useCallback((function(){t&&t()}),[t]);return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(Mn.V,{onCloseRequest:n,title:(0,k.t)("helpDialog.title"),className:"HelpDialog",children:[(0,R.jsx)(fr,{}),(0,R.jsx)(pr,{title:(0,k.t)("helpDialog.shortcuts"),children:(0,R.jsxs)(hr,{children:[(0,R.jsxs)(mr,{children:[(0,R.jsxs)(gr,{caption:(0,k.t)("helpDialog.tools"),children:[(0,R.jsx)(vr,{label:(0,k.t)("toolBar.selection"),shortcuts:["V","1"]}),(0,R.jsx)(vr,{label:(0,k.t)("toolBar.rectangle"),shortcuts:["R","2"]}),(0,R.jsx)(vr,{label:(0,k.t)("toolBar.diamond"),shortcuts:["D","3"]}),(0,R.jsx)(vr,{label:(0,k.t)("toolBar.ellipse"),shortcuts:["O","4"]}),(0,R.jsx)(vr,{label:(0,k.t)("toolBar.arrow"),shortcuts:["A","5"]}),(0,R.jsx)(vr,{label:(0,k.t)("toolBar.line"),shortcuts:["P","6"]}),(0,R.jsx)(vr,{label:(0,k.t)("toolBar.freedraw"),shortcuts:["Shift + P","X","7"]}),(0,R.jsx)(vr,{label:(0,k.t)("toolBar.text"),shortcuts:["T","8"]}),(0,R.jsx)(vr,{label:(0,k.t)("toolBar.image"),shortcuts:["9"]}),(0,R.jsx)(vr,{label:(0,k.t)("toolBar.library"),shortcuts:["0"]}),(0,R.jsx)(vr,{label:(0,k.t)("toolBar.eraser"),shortcuts:[(0,M.uY)("E")]}),(0,R.jsx)(vr,{label:(0,k.t)("helpDialog.editSelectedShape"),shortcuts:[(0,M.uY)("Enter"),(0,k.t)("helpDialog.doubleClick")]}),(0,R.jsx)(vr,{label:(0,k.t)("helpDialog.textNewLine"),shortcuts:[(0,M.uY)("Enter"),(0,M.uY)("Shift+Enter")]}),(0,R.jsx)(vr,{label:(0,k.t)("helpDialog.textFinish"),shortcuts:[(0,M.uY)("Esc"),(0,M.uY)("CtrlOrCmd+Enter")]}),(0,R.jsx)(vr,{label:(0,k.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,k.t)("helpDialog.click"),(0,k.t)("helpDialog.click"),(0,k.t)("helpDialog.click")],isOr:!1}),(0,R.jsx)(vr,{label:(0,k.t)("helpDialog.curvedLine"),shortcuts:["L",(0,k.t)("helpDialog.click"),(0,k.t)("helpDialog.click"),(0,k.t)("helpDialog.click")],isOr:!1}),(0,R.jsx)(vr,{label:(0,k.t)("toolBar.lock"),shortcuts:["Q"]}),(0,R.jsx)(vr,{label:(0,k.t)("helpDialog.preventBinding"),shortcuts:[(0,M.uY)("CtrlOrCmd")]}),(0,R.jsx)(vr,{label:(0,k.t)("toolBar.link"),shortcuts:[(0,M.uY)("CtrlOrCmd+K")]})]}),(0,R.jsxs)(gr,{caption:(0,k.t)("helpDialog.view"),children:[(0,R.jsx)(vr,{label:(0,k.t)("buttons.zoomIn"),shortcuts:[(0,M.uY)("CtrlOrCmd++")]}),(0,R.jsx)(vr,{label:(0,k.t)("buttons.zoomOut"),shortcuts:[(0,M.uY)("CtrlOrCmd+-")]}),(0,R.jsx)(vr,{label:(0,k.t)("buttons.resetZoom"),shortcuts:[(0,M.uY)("CtrlOrCmd+0")]}),(0,R.jsx)(vr,{label:(0,k.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,R.jsx)(vr,{label:(0,k.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,R.jsx)(vr,{label:(0,k.t)("buttons.fullScreen"),shortcuts:["F"]}),(0,R.jsx)(vr,{label:(0,k.t)("buttons.zenMode"),shortcuts:[(0,M.uY)("Alt+Z")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.showGrid"),shortcuts:[(0,M.uY)("CtrlOrCmd+'")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.viewMode"),shortcuts:[(0,M.uY)("Alt+R")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.toggleTheme"),shortcuts:[(0,M.uY)("Alt+Shift+D")]}),(0,R.jsx)(vr,{label:(0,k.t)("stats.title"),shortcuts:[(0,M.uY)("Alt+/")]})]})]}),(0,R.jsx)(mr,{children:(0,R.jsxs)(gr,{caption:(0,k.t)("helpDialog.editor"),children:[(0,R.jsx)(vr,{label:(0,k.t)("labels.selectAll"),shortcuts:[(0,M.uY)("CtrlOrCmd+A")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.multiSelect"),shortcuts:[(0,M.uY)("Shift+".concat((0,k.t)("helpDialog.click")))]}),(0,R.jsx)(vr,{label:(0,k.t)("helpDialog.deepSelect"),shortcuts:[(0,M.uY)("CtrlOrCmd+".concat((0,k.t)("helpDialog.click")))]}),(0,R.jsx)(vr,{label:(0,k.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,M.uY)("CtrlOrCmd+".concat((0,k.t)("helpDialog.drag")))]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.moveCanvas"),shortcuts:[(0,M.uY)("Space+".concat((0,k.t)("helpDialog.drag"))),(0,M.uY)("Wheel+".concat((0,k.t)("helpDialog.drag")))],isOr:!0}),(0,R.jsx)(vr,{label:(0,k.t)("labels.cut"),shortcuts:[(0,M.uY)("CtrlOrCmd+X")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.copy"),shortcuts:[(0,M.uY)("CtrlOrCmd+C")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.paste"),shortcuts:[(0,M.uY)("CtrlOrCmd+V")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.copyAsPng"),shortcuts:[(0,M.uY)("Shift+Alt+C")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.copyStyles"),shortcuts:[(0,M.uY)("CtrlOrCmd+Alt+C")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.pasteStyles"),shortcuts:[(0,M.uY)("CtrlOrCmd+Alt+V")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.delete"),shortcuts:[(0,M.uY)("Del")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.sendToBack"),shortcuts:[_.Um?(0,M.uY)("CtrlOrCmd+Alt+["):(0,M.uY)("CtrlOrCmd+Shift+[")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.bringToFront"),shortcuts:[_.Um?(0,M.uY)("CtrlOrCmd+Alt+]"):(0,M.uY)("CtrlOrCmd+Shift+]")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.sendBackward"),shortcuts:[(0,M.uY)("CtrlOrCmd+[")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.bringForward"),shortcuts:[(0,M.uY)("CtrlOrCmd+]")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.alignTop"),shortcuts:[(0,M.uY)("CtrlOrCmd+Shift+Up")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.alignBottom"),shortcuts:[(0,M.uY)("CtrlOrCmd+Shift+Down")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.alignLeft"),shortcuts:[(0,M.uY)("CtrlOrCmd+Shift+Left")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.alignRight"),shortcuts:[(0,M.uY)("CtrlOrCmd+Shift+Right")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.duplicateSelection"),shortcuts:[(0,M.uY)("CtrlOrCmd+D"),(0,M.uY)("Alt+".concat((0,k.t)("helpDialog.drag")))]}),(0,R.jsx)(vr,{label:(0,k.t)("helpDialog.toggleElementLock"),shortcuts:[(0,M.uY)("CtrlOrCmd+Shift+L")]}),(0,R.jsx)(vr,{label:(0,k.t)("buttons.undo"),shortcuts:[(0,M.uY)("CtrlOrCmd+Z")]}),(0,R.jsx)(vr,{label:(0,k.t)("buttons.redo"),shortcuts:_.ED?[(0,M.uY)("CtrlOrCmd+Y"),(0,M.uY)("CtrlOrCmd+Shift+Z")]:[(0,M.uY)("CtrlOrCmd+Shift+Z")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.group"),shortcuts:[(0,M.uY)("CtrlOrCmd+G")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.ungroup"),shortcuts:[(0,M.uY)("CtrlOrCmd+Shift+G")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.flipHorizontal"),shortcuts:[(0,M.uY)("Shift+H")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.flipVertical"),shortcuts:[(0,M.uY)("Shift+V")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.showStroke"),shortcuts:[(0,M.uY)("S")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.showBackground"),shortcuts:[(0,M.uY)("G")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.decreaseFontSize"),shortcuts:[(0,M.uY)("CtrlOrCmd+Shift+<")]}),(0,R.jsx)(vr,{label:(0,k.t)("labels.increaseFontSize"),shortcuts:[(0,M.uY)("CtrlOrCmd+Shift+>")]})]})})]})})]})})},wr=(n(5080),function(e){var t,n=e.children,r=e.color;return(0,R.jsx)("div",{className:"Card",style:(t={},(0,s.Z)(t,"--card-color","primary"===r?"var(--color-primary)":Ln[r][7]),(0,s.Z)(t,"--card-color-darker","primary"===r?"var(--color-primary-darker)":Ln[r][8]),(0,s.Z)(t,"--card-color-darkest","primary"===r?"var(--color-primary-darkest)":Ln[r][9]),t),children:n})}),Sr=function(e){var t=e.elements,n=e.appState,r=e.files,i=e.actionManager,a=e.exportOpts,o=e.canvas,s=a.onExportToBackend;return(0,R.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,R.jsxs)("div",{className:"ExportDialog-cards",children:[a.saveFileToDisk&&(0,R.jsxs)(wr,{color:"lime",children:[(0,R.jsx)("div",{className:"Card-icon",children:T.TP}),(0,R.jsx)("h2",{children:(0,k.t)("exportDialog.disk_title")}),(0,R.jsxs)("div",{className:"Card-details",children:[(0,k.t)("exportDialog.disk_details"),!ye.kr&&i.renderAction("changeProjectName")]}),(0,R.jsx)(x.V,{className:"Card-button",type:"button",title:(0,k.t)("exportDialog.disk_button"),"aria-label":(0,k.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){i.executeAction(Ne,"ui")}})]}),s&&(0,R.jsxs)(wr,{color:"pink",children:[(0,R.jsx)("div",{className:"Card-icon",children:T.p4}),(0,R.jsx)("h2",{children:(0,k.t)("exportDialog.link_title")}),(0,R.jsx)("div",{className:"Card-details",children:(0,k.t)("exportDialog.link_details")}),(0,R.jsx)(x.V,{className:"Card-button",type:"button",title:(0,k.t)("exportDialog.link_button"),"aria-label":(0,k.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:function(){s(t,n,r,o),(0,Qt.L)("export","link","ui (".concat((0,M.$h)(),")"))}})]}),a.renderCustomUI&&a.renderCustomUI(t,n,r,o)]})})},_r=function(e){var t=e.elements,n=e.appState,r=e.files,a=e.actionManager,o=e.exportOpts,s=e.canvas,l=(0,g.useState)(!1),u=(0,i.Z)(l,2),c=u[0],d=u[1],f=v().useCallback((function(){d(!1)}),[]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(x.V,{onClick:function(){d(!0)},"data-testid":"json-export-button",icon:T.WD,type:"button","aria-label":(0,k.t)("buttons.export"),showAriaLabel:hi().isMobile,title:(0,k.t)("buttons.export")}),c&&(0,R.jsx)(Mn.V,{onCloseRequest:f,title:(0,k.t)("buttons.export"),children:(0,R.jsx)(Sr,{elements:t,appState:n,files:r,actionManager:a,onCloseRequest:f,exportOpts:o,canvas:s})})]})},xr=n(3024);function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(9295),n(9781);var Er=function(e){var t=e.libItem,n=e.appState,r=e.index,i=e.onChange,a=e.onRemove,s=(0,g.useRef)(null),l=(0,g.useRef)(null);return(0,g.useEffect)((function(){var e=s.current;e&&(0,o.Z)(m().mark((function r(){var i;return m().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,xr.$D)({elements:t.elements,appState:kr(kr({},n),{},{viewBackgroundColor:Ln.white,exportBackground:!0}),files:null});case 2:i=r.sent,e.innerHTML=i.outerHTML;case 4:case"end":return r.stop()}}),r)})))()}),[t.elements,n]),(0,R.jsxs)("div",{className:"single-library-item",children:["published"===t.status&&(0,R.jsx)("span",{className:"single-library-item-status",children:(0,k.t)("labels.statusPublished")}),(0,R.jsx)("div",{ref:s,className:"single-library-item__svg"}),(0,R.jsx)(x.V,{"aria-label":(0,k.t)("buttons.remove"),type:"button",icon:T.xv,className:"single-library-item--remove",onClick:a.bind(null,t.id),title:(0,k.t)("buttons.remove")}),(0,R.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0.3rem",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,R.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,R.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,R.jsx)("span",{style:{fontWeight:500,color:Ln.gray[6]},children:(0,k.t)("publishDialog.itemName")}),(0,R.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,R.jsx)("input",{type:"text",ref:l,style:{width:"80%",padding:"0.2rem"},defaultValue:t.name,placeholder:"Item name",onChange:function(e){i(e.target.value,r)}})]}),(0,R.jsx)("span",{className:"error",children:t.error})]})]})};function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ir(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ar="publish-library-data",Dr=function(){var e=(0,o.Z)(m().mark((function e(t){var n,r,a,o,s,l,u,c,d,f,p,h,g,v,y,b,w;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=6,r=128,a=Math.round(r/16),o=Math.max(Math.round(r/64),2),s=(0,M.yo)(t,n),(l=document.createElement("canvas")).width=s[0].length*r+(s[0].length+1)*(2*a)-2*a,l.height=s.length*r+(s.length+1)*(2*a)-2*a,(u=l.getContext("2d")).fillStyle=Ln.white,u.fillRect(0,0,l.width,l.height),c=Pr(t.entries()),e.prev=12,c.s();case 14:if((d=c.n()).done){e.next=28;break}return f=(0,i.Z)(d.value,2),p=f[0],h=f[1],e.next=18,(0,xr.NL)({elements:h.elements,files:null,maxWidthOrHeight:r});case 18:g=e.sent,v=g.width,y=g.height,b=Math.floor(p/n)*(r+2*a),w=p%n*(r+2*a),u.drawImage(g,w+(r-v)/2+a,b+(r-y)/2+a),u.lineWidth=o,u.strokeStyle=Ln.gray[4],u.strokeRect(w+a/2,b+a/2,r+a,r+a);case 26:e.next=14;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(12),c.e(e.t0);case 33:return e.prev=33,c.f(),e.finish(33);case 36:return e.t1=ve.Tu,e.t2=File,e.next=40,(0,ve._c)(l);case 40:return e.t3=e.sent,e.t4=[e.t3],e.t5={type:ne.LO.png},e.t6=new e.t2(e.t4,"preview",e.t5),e.t7={outputType:ne.LO.jpg,maxWidthOrHeight:5e3},e.next=47,(0,e.t1)(e.t6,e.t7);case 47:return e.abrupt("return",e.sent);case 48:case"end":return e.stop()}}),e,null,[[12,30,33,36]])})));return function(t){return e.apply(this,arguments)}}(),Mr=function(e){var t=e.onClose,n=e.libraryItems,r=e.appState,a=e.onSuccess,l=e.onError,u=e.updateItemsInStorage,c=e.onRemove,d=(0,g.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),f=(0,i.Z)(d,2),p=f[0],h=f[1],v=(0,g.useState)(!1),y=(0,i.Z)(v,2),b=y[0],w=y[1];(0,g.useEffect)((function(){var e=function(){try{var e=localStorage.getItem(Ar);if(e)return JSON.parse(e)}catch(e){console.error(e)}return null}();e&&h(e)}),[]);var S=(0,g.useState)(n.slice()),_=(0,i.Z)(S,2),T=_[0],E=_[1];(0,g.useEffect)((function(){E(n.slice())}),[n]);var C,O=function(e){h(Or(Or({},p),{},(0,s.Z)({},e.target.name,e.target.value)))},P=function(){var e=(0,o.Z)(m().mark((function e(t){var n,r,i,o,s,u,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),w(!0),n=[],r=!1,T.forEach((function(e){var t="";e.name||(t=(0,k.t)("publishDialog.errors.required"),r=!0),n.push(Or(Or({},e),{},{error:t}))})),!r){e.next=9;break}return E(n),w(!1),e.abrupt("return");case 9:return e.next=11,Dr(T);case 11:i=e.sent,o={type:ne.r8.excalidrawLibrary,version:ne.Kr.excalidrawLibrary,source:ne.pb,libraryItems:T},s=JSON.stringify(o,null,2),u=new Blob([s],{type:"application/json"}),(c=new FormData).append("excalidrawLib",u),c.append("previewImage",i),c.append("previewImageType",i.type),c.append("title",p.name),c.append("authorName",p.authorName),c.append("githubHandle",p.githubHandle),c.append("name",p.name),c.append("description",p.description),c.append("twitterHandle",p.twitterHandle),c.append("website",p.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:c}).then((function(e){return e.ok?e.json().then((function(e){var t=e.url;localStorage.removeItem(Ar),a({url:t,authorName:p.authorName,items:T})})):e.json().catch((function(){throw new Error(e.statusText||"something went wrong")})).then((function(t){throw new Error(t.message||e.statusText||"something went wrong")}))}),(function(e){console.error(e),l(e),w(!1)})).catch((function(e){console.error(e),l(e),w(!1)}));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=(0,g.useCallback)((function(){u(T),function(e){try{localStorage.setItem(Ar,JSON.stringify(e))}catch(e){console.error(e)}}(p),t()}),[T,t,u,p]),A=!!n.length,D=n.some((function(e){return"published"===e.status}));return(0,R.jsx)(Mn.V,{onCloseRequest:I,title:(0,k.t)("publishDialog.title"),className:"publish-library",children:A?(0,R.jsxs)("form",{onSubmit:P,children:[(0,R.jsxs)("div",{className:"publish-library-note",children:[(0,k.t)("publishDialog.noteDescription.pre"),(0,R.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:(0,k.t)("publishDialog.noteDescription.link")})," ",(0,k.t)("publishDialog.noteDescription.post")]}),(0,R.jsxs)("span",{className:"publish-library-note",children:[(0,k.t)("publishDialog.noteGuidelines.pre"),(0,R.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:(0,k.t)("publishDialog.noteGuidelines.link")}),(0,k.t)("publishDialog.noteGuidelines.post")]}),(0,R.jsx)("div",{className:"publish-library-note",children:(0,k.t)("publishDialog.noteItems")}),D&&(0,R.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,k.t)("publishDialog.republishWarning")}),(C=[],T.forEach((function(e,t){C.push((0,R.jsx)("div",{className:"single-library-item-wrapper",children:(0,R.jsx)(Er,{libItem:e,appState:r,index:t,onChange:function(e,t){var n=T.slice();n[t].name=e,E(n)},onRemove:c})},t))})),(0,R.jsx)("div",{className:"selected-library-items",children:C})),(0,R.jsxs)("div",{className:"publish-library__fields",children:[(0,R.jsxs)("label",{children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("span",{children:(0,k.t)("publishDialog.libraryName")}),(0,R.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,R.jsx)("input",{type:"text",name:"name",required:!0,value:p.name,onChange:O,placeholder:(0,k.t)("publishDialog.placeholder.libraryName")})]}),(0,R.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("span",{children:(0,k.t)("publishDialog.libraryDesc")}),(0,R.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,R.jsx)("textarea",{name:"description",rows:4,required:!0,value:p.description,onChange:O,placeholder:(0,k.t)("publishDialog.placeholder.libraryDesc")})]}),(0,R.jsxs)("label",{children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("span",{children:(0,k.t)("publishDialog.authorName")}),(0,R.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,R.jsx)("input",{type:"text",name:"authorName",required:!0,value:p.authorName,onChange:O,placeholder:(0,k.t)("publishDialog.placeholder.authorName")})]}),(0,R.jsxs)("label",{children:[(0,R.jsx)("span",{children:(0,k.t)("publishDialog.githubUsername")}),(0,R.jsx)("input",{type:"text",name:"githubHandle",value:p.githubHandle,onChange:O,placeholder:(0,k.t)("publishDialog.placeholder.githubHandle")})]}),(0,R.jsxs)("label",{children:[(0,R.jsx)("span",{children:(0,k.t)("publishDialog.twitterUsername")}),(0,R.jsx)("input",{type:"text",name:"twitterHandle",value:p.twitterHandle,onChange:O,placeholder:(0,k.t)("publishDialog.placeholder.twitterHandle")})]}),(0,R.jsxs)("label",{children:[(0,R.jsx)("span",{children:(0,k.t)("publishDialog.website")}),(0,R.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,k.t)("publishDialog.errors.website"),value:p.website,onChange:O,placeholder:(0,k.t)("publishDialog.placeholder.website")})]}),(0,R.jsxs)("span",{className:"publish-library-note",children:[(0,k.t)("publishDialog.noteLicense.pre"),(0,R.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:(0,k.t)("publishDialog.noteLicense.link")}),(0,k.t)("publishDialog.noteLicense.post")]})]}),(0,R.jsxs)("div",{className:"publish-library__buttons",children:[(0,R.jsx)(x.V,{type:"button",title:(0,k.t)("buttons.cancel"),"aria-label":(0,k.t)("buttons.cancel"),label:(0,k.t)("buttons.cancel"),onClick:I,"data-testid":"cancel-clear-canvas-button",className:"publish-library__buttons--cancel"}),(0,R.jsx)(x.V,{type:"submit",title:(0,k.t)("buttons.submit"),"aria-label":(0,k.t)("buttons.submit"),label:(0,k.t)("buttons.submit"),className:"publish-library__buttons--confirm",isLoading:b})]})]}):(0,R.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,k.t)("publishDialog.atleastOneLibItem")})})},Rr=(n(4406),n(2891)),Nr=n(4981),Lr=(n(694),(0,R.jsx)("svg",{viewBox:"0 0 1792 1792",children:(0,R.jsx)("path",{d:"M1600 736v192c0 26.667-9.33 49.333-28 68-18.67 18.67-41.33 28-68 28h-416v416c0 26.67-9.33 49.33-28 68s-41.33 28-68 28H800c-26.667 0-49.333-9.33-68-28s-28-41.33-28-68v-416H288c-26.667 0-49.333-9.33-68-28-18.667-18.667-28-41.333-28-68V736c0-26.667 9.333-49.333 28-68s41.333-28 68-28h416V224c0-26.667 9.333-49.333 28-68s41.333-28 68-28h192c26.67 0 49.33 9.333 68 28s28 41.333 28 68v416h416c26.67 0 49.33 9.333 68 28s28 41.333 28 68Z",style:{stroke:"#fff",strokeWidth:140},transform:"translate(0 64)"})})),jr=function(e){var t=e.id,n=e.elements,r=e.files,a=e.isPending,s=e.onClick,l=e.selected,u=e.onToggle,c=e.onDrag,d=(0,g.useRef)(null);(0,g.useEffect)((function(){var e=d.current;if(e)return(0,o.Z)(m().mark((function t(){var i;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,ge.$D)(n,{exportBackground:!1,viewBackgroundColor:Ln.white},r);case 4:i=t.sent,e.innerHTML=i.outerHTML;case 6:case"end":return t.stop()}}),t)})))(),function(){e.innerHTML=""}}),[n,r]);var f=(0,g.useState)(!1),p=(0,i.Z)(f,2),h=p[0],v=p[1],y=hi().isMobile,w=a&&(0,R.jsx)("div",{className:"library-unit__adder",children:Lr});return(0,R.jsxs)("div",{className:(0,b.Z)("library-unit",{"library-unit__active":n,"library-unit--hover":n&&h,"library-unit--selected":l}),onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},children:[(0,R.jsx)("div",{className:(0,b.Z)("library-unit__dragger",{"library-unit__pulse":!!a}),ref:d,draggable:!!n,onClick:n||a?function(e){t&&e.shiftKey?u(t,e):s()}:void 0,onDragStart:function(e){t?(v(!1),c(t,e)):e.preventDefault()}}),w,t&&n&&(h||y||l)&&(0,R.jsx)(Te,{checked:l,onChange:function(e,n){return u(t,n)},className:"library-unit__checkbox"})]})},Br=(n(6043),n(9101)),Fr=(n(47),(0,R.jsx)("svg",{viewBox:"0 0 24 24",fill:"#ffffff",children:(0,R.jsx)("path",{d:"M19 22H5a3 3 0 01-3-3V5a3 3 0 013-3h14a3 3 0 013 3v14a3 3 0 01-3 3zm0-18h-9v16h9a1.01 1.01 0 001-1V5a1.01 1.01 0 00-1-1z"})})),Ur=function(e){return(0,R.jsxs)(pe.u,{label:(0,k.t)("labels.sidebarLock"),children:[(0,R.jsxs)("label",{className:(0,b.Z)("ToolIcon ToolIcon__lock ToolIcon_type_floating","ToolIcon_size_".concat("medium")),children:[(0,R.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:e.onChange,checked:e.checked,"aria-label":(0,k.t)("labels.sidebarLock")})," ",(0,R.jsx)("div",{className:"ToolIcon__icon side_lock_icon",tabIndex:0,children:Fr})," "]})," "]})},Hr=function(e){var t,n,r,s=e.isLoading,l=e.libraryItems,u=e.onRemoveFromLibrary,c=e.onAddToLibrary,d=e.onInsertLibraryItems,f=e.pendingElements,p=e.theme,h=e.setAppState,v=e.appState,y=e.libraryReturnUrl,b=e.library,w=e.files,S=e.id,_=e.selectedItems,E=e.onSelectItems,C=e.onPublish,O=e.resetLibrary,P=(0,g.useCallback)((function(){var e=_.length?(0,k.t)("alerts.removeItemsFromsLibrary",{count:_.length}):(0,k.t)("alerts.resetLibrary"),t=_.length?(0,k.t)("confirmDialog.removeItemsFromLib"):(0,k.t)("confirmDialog.resetLibrary");return(0,R.jsx)(Nr.Z,{onConfirm:function(){_.length?u():O(),N(!1)},onCancel:function(){N(!1)},title:t,children:(0,R.jsx)("p",{children:e})})}),[_,u,O]),I=(0,g.useState)(!1),A=(0,i.Z)(I,2),D=A[0],N=A[1],L=hi(),j=L.isMobile&&!L.isSmScreen?6:4,B=y||window.location.origin+window.location.pathname,F=(0,g.useState)(null),U=(0,i.Z)(F,2),H=U[0],z=U[1],V=function(e,t){var n=!_.includes(e),r=[].concat((0,a.Z)(q),(0,a.Z)(Z));if(n){if(t.shiftKey&&H){var i=r.findIndex((function(e){return e.id===H})),o=r.findIndex((function(t){return t.id===e}));if(-1===i||-1===o)return void E([].concat((0,a.Z)(_),[e]));var s=(0,M.xn)(_),l=r.reduce((function(e,t,n){return(n>=i&&n<=o||s.has(t.id))&&e.push(t.id),e}),[]);E(l)}else E([].concat((0,a.Z)(_),[e]));z(e)}else z(null),E(_.filter((function(t){return t!==e})))},$=function(e){return _.includes(e)?l.filter((function(e){return _.includes(e.id)})):l.filter((function(t){return t.id===e}))},G=function(e){var t,n,r,i,a;return(0,R.jsx)(Oe,{children:(0,R.jsx)(jr,{elements:null===(t=e.item)||void 0===t?void 0:t.elements,files:w,isPending:!(null!==(n=e.item)&&void 0!==n&&n.id||null===(r=e.item)||void 0===r||!r.elements),onClick:e.onClick||function(){},id:(null===(i=e.item)||void 0===i?void 0:i.id)||null,selected:!(null===(a=e.item)||void 0===a||!a.id)&&_.includes(e.item.id),onToggle:V,onDrag:function(e,t){t.dataTransfer.setData(ne.LO.excalidrawlib,(0,be.NI)($(e)))}})},e.key)},W=function(e){var t=e.map((function(e){return e.id?G({item:e,onClick:function(){return d($(e.id))},key:e.id}):G({key:"__pending__item__",item:e,onClick:function(){return c(f)}})})),n=(0,Rr.chunk)(t,j);return n.length||(n=[[]]),n.map((function(e,t,n){return t===n.length-1&&(e=e.concat(new Array(j-e.length).fill(null).map((function(e,t){return G({key:"empty_".concat(t),item:null})})))),(0,R.jsx)(Ce,{align:"center",gap:1,children:e},t)}))},q=l.filter((function(e){return"published"!==e.status})),Z=l.filter((function(e){return"published"===e.status}));return(0,R.jsxs)("div",{className:"library-menu-items-container",style:L.isMobile?{minHeight:"200px",maxHeight:"70vh"}:void 0,children:[D&&P(),(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("div",{className:"layer-ui__library-header",children:[(t=!!_.length,n=t?l.filter((function(e){return _.includes(e.id)})):l,r=t?(0,k.t)("buttons.remove"):(0,k.t)("buttons.resetLibrary"),(0,R.jsxs)("div",{className:"library-actions",children:[!t&&(0,R.jsx)(x.V,{type:"button",title:(0,k.t)("buttons.load"),"aria-label":(0,k.t)("buttons.load"),icon:T.zD,onClick:(0,o.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.updateLibrary({libraryItems:(0,ye.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:e.next=11;break;case 5:if(e.prev=5,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)){e.next=10;break}return console.warn(e.t0),e.abrupt("return");case 10:h({errorMessage:(0,k.t)("errors.importLibraryError")});case 11:case"end":return e.stop()}}),e,null,[[0,5]])}))),className:"library-actions--load"},"import"),!!n.length&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(x.V,{type:"button",title:(0,k.t)("buttons.export"),"aria-label":(0,k.t)("buttons.export"),icon:T.TP,onClick:(0,o.Z)(m().mark((function e(){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}e.t0=n,e.next=7;break;case 4:return e.next=6,b.getLatestLibrary();case 6:e.t0=e.sent;case 7:r=e.t0,(0,be.t1)(r).catch(M.FG).catch((function(e){h({errorMessage:e.message})}));case 9:case"end":return e.stop()}}),e)}))),className:"library-actions--export",children:_.length>0&&(0,R.jsx)("span",{className:"library-actions-counter",children:_.length})},"export"),(0,R.jsx)(x.V,{type:"button",title:r,"aria-label":r,icon:T._I,onClick:function(){return N(!0)},className:"library-actions--remove",children:_.length>0&&(0,R.jsx)("span",{className:"library-actions-counter",children:_.length})},"reset")]}),t&&(0,R.jsx)(pe.u,{label:(0,k.t)("hints.publishLibrary"),children:(0,R.jsxs)(x.V,{type:"button","aria-label":(0,k.t)("buttons.publishLibrary"),label:(0,k.t)("buttons.publishLibrary"),icon:T.Nw,className:"library-actions--publish",onClick:C,children:[!L.isMobile&&(0,R.jsx)("label",{children:(0,k.t)("buttons.publishLibrary")}),_.length>0&&(0,R.jsx)("span",{className:"library-actions-counter",children:_.length})]})}),L.isMobile&&(0,R.jsx)("div",{className:"library-menu-browse-button--mobile",children:(0,R.jsx)("a",{href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(B,"&useHash=true&token=").concat(S,"&theme=").concat(p,"&version=").concat(ne.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,k.t)("labels.libraries")})})]})),L.canDeviceFitSidebar&&(0,R.jsx)(R.Fragment,{children:(0,R.jsx)("div",{className:"layer-ui__sidebar-lock-button",children:(0,R.jsx)(Ur,{checked:v.isLibraryMenuDocked,onChange:function(){var e;null===(e=document.querySelector(".layer-ui__wrapper"))||void 0===e||e.classList.add("animate");var t=!v.isLibraryMenuDocked;h({isLibraryMenuDocked:t}),(0,Qt.L)("library","toggleLibraryDock (".concat(t?"dock":"undock",")"),"sidebar (".concat(L.isMobile?"mobile":"desktop",")"))}})})}),!L.isMobile&&(0,R.jsx)("div",{className:"ToolIcon__icon__close",children:(0,R.jsx)("button",{className:"Modal__close",onClick:function(){return h({isLibraryOpen:!1})},"aria-label":(0,k.t)("buttons.close"),children:T.xv})})]},"library-header")}),(0,R.jsxs)(Oe,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:Z.length>0?1:"0 1 auto",marginBottom:0},children:[(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:"separator",children:[(f.length>0||q.length>0||Z.length>0)&&(0,R.jsx)("div",{children:(0,k.t)("labels.personalLib")}),s&&(0,R.jsx)("div",{style:{marginLeft:"auto",marginRight:"1rem",display:"flex",alignItems:"center",fontWeight:"normal"},children:(0,R.jsx)("div",{style:{transform:"translateY(2px)"},children:(0,R.jsx)(Br.Z,{})})})]}),f.length||q.length?W([].concat((0,a.Z)(f.length?[{id:null,elements:f}]:[]),(0,a.Z)(q))):(0,R.jsxs)("div",{style:{height:65,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:[(0,k.t)("library.noItems"),(0,R.jsx)("div",{style:{margin:".6rem 0",fontSize:".8em",width:"70%",textAlign:"center"},children:Z.length>0?(0,k.t)("library.hint_emptyPrivateLibrary"):(0,k.t)("library.hint_emptyLibrary")})]})]}),(0,R.jsxs)(R.Fragment,{children:[(Z.length>0||!L.isMobile&&(f.length>0||q.length>0))&&(0,R.jsx)("div",{className:"separator",children:(0,k.t)("labels.excalidrawLib")}),Z.length>0?W(Z):q.length>0?(0,R.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,k.t)("library.noItems")}):null]})]}),!L.isMobile&&(0,R.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(B,"&useHash=true&token=").concat(S,"&theme=").concat(p,"&version=").concat(ne.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,k.t)("labels.libraries")})]})},zr=n(4739),Vr=n(9487),$r=function(e,t){return e.filter((function(e){return t.includes(e.id)}))},Gr=(0,g.forwardRef)((function(e,t){var n=e.children;return(0,R.jsx)(Gn.W,{padding:1,ref:t,className:"layer-ui__library",children:n})})),Wr=function(e){var t=e.onClose,n=e.onInsertLibraryItems,r=e.pendingElements,s=e.onAddToLibrary,l=e.theme,u=e.setAppState,c=e.files,d=e.libraryReturnUrl,f=e.focusContainer,p=e.library,h=e.id,v=e.appState,y=(0,g.useRef)(null),b=hi();!function(e,t){(0,g.useEffect)((function(){var n=function(n){e.current&&(n.target instanceof Element&&(e.current.contains(n.target)||!document.body.contains(n.target))||t(n))};return document.addEventListener("pointerdown",n,!1),function(){document.removeEventListener("pointerdown",n)}}),[e,t])}(y,(0,g.useCallback)((function(e){e.target.closest(".ToolIcon__library")||v.isLibraryMenuDocked&&b.canDeviceFitSidebar||t()}),[t,v.isLibraryMenuDocked,b.canDeviceFitSidebar])),(0,g.useEffect)((function(){var e=function(e){e.key!==_.tW.ESCAPE||v.isLibraryMenuDocked&&b.canDeviceFitSidebar||t()};return document.addEventListener(ne.Ks.KEYDOWN,e),function(){document.removeEventListener(ne.Ks.KEYDOWN,e)}}),[t,v.isLibraryMenuDocked,b.canDeviceFitSidebar]);var w=(0,g.useState)([]),S=(0,i.Z)(w,2),T=S[0],E=S[1],C=(0,g.useState)(!1),O=(0,i.Z)(C,2),P=O[0],I=O[1],A=(0,g.useState)(null),D=(0,i.Z)(A,2),M=D[0],N=D[1],L=(0,zr.KO)(nn.rF,Vr.yE),j=(0,i.Z)(L,1)[0],B=(0,g.useCallback)(function(){var e=(0,o.Z)(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.filter((function(e){return!T.includes(e.id)})),p.setLibrary(n).catch((function(){u({errorMessage:(0,k.t)("alerts.errorRemovingFromLibrary")})})),E([]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[p,u,T,E]),F=(0,g.useCallback)((function(){p.resetLibrary(),f()}),[p,f]),U=(0,g.useCallback)(function(){var e=(0,o.Z)(m().mark((function e(t,n){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,Qt.L)("element","addToLibrary","ui"),!t.some((function(e){return"image"===e.type}))){e.next=3;break}return e.abrupt("return",u({errorMessage:"Support for adding images to the library coming soon!"}));case 3:r=[{status:"unpublished",elements:t,id:(0,$e.kb)(),created:Date.now()}].concat((0,a.Z)(n)),s(),p.setLibrary(r).catch((function(){u({errorMessage:(0,k.t)("alerts.errorAddingToLibrary")})}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[s,p,u]),H=(0,g.useCallback)((function(){return(0,R.jsxs)(Mn.V,{onCloseRequest:function(){return N(null)},title:(0,k.t)("publishSuccessDialog.title"),className:"publish-library-success",small:!0,children:[(0,R.jsxs)("p",{children:[(0,k.t)("publishSuccessDialog.content",{authorName:M.authorName})," ",(0,R.jsx)("a",{href:null==M?void 0:M.url,target:"_blank",rel:"noopener noreferrer",children:(0,k.t)("publishSuccessDialog.link")})]}),(0,R.jsx)(x.V,{type:"button",title:(0,k.t)("buttons.close"),"aria-label":(0,k.t)("buttons.close"),label:(0,k.t)("buttons.close"),onClick:function(){return N(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})}),[N,M]),z=(0,g.useCallback)((function(e,t){I(!1),N({url:e.url,authorName:e.authorName});var n=t.slice();n.forEach((function(e){T.includes(e.id)&&(e.status="published")})),p.setLibrary(n)}),[I,N,T,p]);return"loading"!==j.status||j.isInitialized?(0,R.jsxs)(Gr,{ref:y,children:[P&&(0,R.jsx)(Mr,{onClose:function(){return I(!1)},libraryItems:$r(j.libraryItems,T),appState:v,onSuccess:function(e){return z(e,j.libraryItems)},onError:function(e){return window.alert(e)},updateItemsInStorage:function(){return p.setLibrary(j.libraryItems)},onRemove:function(e){return E(T.filter((function(t){return t!==e})))}}),M&&H(),(0,R.jsx)(Hr,{isLoading:"loading"===j.status,libraryItems:j.libraryItems,onRemoveFromLibrary:function(){return B(j.libraryItems)},onAddToLibrary:function(e){return U(e,j.libraryItems)},onInsertLibraryItems:n,pendingElements:r,setAppState:u,appState:v,libraryReturnUrl:d,library:p,theme:l,files:c,id:h,selectedItems:T,onSelectItems:function(e){return E(e)},onPublish:function(){return I(!0)},resetLibrary:F})]}):(0,R.jsx)(Gr,{ref:y,children:(0,R.jsxs)("div",{className:"layer-ui__library-message",children:[(0,R.jsx)(Br.Z,{size:"2em"}),(0,R.jsx)("span",{children:(0,k.t)("labels.libraryLoadingMessage")})]})})},qr=(n(3336),n(276),n(1528),function(e){var t,n=hi(),r=(0,st.KP)(e.elements),i=(0,S.Zs)(e.elements,e.appState),a=(0,st.KP)(i);return n.isMobile&&e.appState.openMenu?null:(0,R.jsx)("div",{className:"Stats",children:(0,R.jsxs)(Gn.W,{padding:2,children:[(0,R.jsx)("div",{className:"close",onClick:e.onClose,children:T.xv}),(0,R.jsx)("h3",{children:(0,k.t)("stats.title")}),(0,R.jsx)("table",{children:(0,R.jsxs)("tbody",{children:[(0,R.jsx)("tr",{children:(0,R.jsx)("th",{colSpan:2,children:(0,k.t)("stats.scene")})}),(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:(0,k.t)("stats.elements")}),(0,R.jsx)("td",{children:e.elements.length})]}),(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:(0,k.t)("stats.width")}),(0,R.jsx)("td",{children:Math.round(r[2])-Math.round(r[0])})]}),(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:(0,k.t)("stats.height")}),(0,R.jsx)("td",{children:Math.round(r[3])-Math.round(r[1])})]}),1===i.length&&(0,R.jsx)("tr",{children:(0,R.jsx)("th",{colSpan:2,children:(0,k.t)("stats.element")})}),i.length>1&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("tr",{children:(0,R.jsx)("th",{colSpan:2,children:(0,k.t)("stats.selected")})}),(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:(0,k.t)("stats.elements")}),(0,R.jsx)("td",{children:i.length})]})]}),i.length>0&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:"x"}),(0,R.jsx)("td",{children:Math.round(a[0])})]}),(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:"y"}),(0,R.jsx)("td",{children:Math.round(a[1])})]}),(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:(0,k.t)("stats.width")}),(0,R.jsx)("td",{children:Math.round(a[2]-a[0])})]}),(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:(0,k.t)("stats.height")}),(0,R.jsx)("td",{children:Math.round(a[3]-a[1])})]})]}),1===i.length&&(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:(0,k.t)("stats.angle")}),(0,R.jsx)("td",{children:"".concat(Math.round(180*i[0].angle/Math.PI),"\xb0")})]}),null===(t=e.renderCustomStats)||void 0===t?void 0:t.call(e,e.elements,e.appState)]})})]})})}),Zr=["suggestedBindings","startBoundElement"];function Kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Xr=function(e){var t,n=e.actionManager,r=e.appState,i=e.files,a=e.setAppState,l=e.canvas,u=e.elements,c=e.onCollabButtonClick,d=e.onLockToggle,f=e.onPenModeToggle,p=e.onInsertElements,h=e.zenModeEnabled,v=e.showExitZenModeBtn,y=e.showThemeBtn,w=e.toggleZenMode,_=e.isCollaborating,x=e.renderTopRightUI,T=e.renderCustomFooter,E=e.renderCustomStats,O=e.viewModeEnabled,P=e.libraryReturnUrl,I=e.UIOptions,A=e.focusContainer,D=e.library,N=e.id,L=e.onImageAction,j=hi(),B=function(){return I.canvasActions.export?(0,R.jsx)(_r,{elements:u,appState:r,files:i,actionManager:n,exportOpts:I.canvasActions.export,canvas:l}):null},F=function(){if(!I.canvasActions.saveAsImage)return null;var e=function(e){return function(){var t=(0,o.Z)(m().mark((function t(n){var o;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,Qt.L)("export",e,"ui"),t.next=3,we(e,n,r,i,{exportBackground:r.exportBackground,name:r.name,viewBackgroundColor:r.viewBackgroundColor}).catch(M.FG).catch((function(e){console.error(e),a({errorMessage:e.message})}));case 3:o=t.sent,r.exportEmbedScene&&o&&(0,ve.g8)(o)&&a({fileHandle:o});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return(0,R.jsx)(zn,{elements:u,appState:r,files:i,actionManager:n,onExportToPng:e("png"),onExportToSvg:e("svg"),onExportToClipboard:e("clipboard")})},U=function(){return(0,R.jsx)("div",{style:{width:".625em"}})},H=(0,g.useCallback)((function(){document.querySelector(".Dialog")||a({isLibraryOpen:!1})}),[a]),z=(0,g.useCallback)((function(){a({selectedElementIds:{},selectedGroupIds:{}})}),[a]),V=r.isLibraryOpen?(0,R.jsx)(Wr,{pendingElements:(0,S.eD)(u,r,!0),onClose:H,onInsertLibraryItems:function(e){p((0,nn.WV)(e))},onAddToLibrary:z,setAppState:a,libraryReturnUrl:P,focusContainer:A,library:D,theme:r.theme,files:i,id:N,appState:r}):null,$=(0,R.jsxs)(R.Fragment,{children:[r.isLoading&&(0,R.jsx)(Wn.z,{delay:250}),r.errorMessage&&(0,R.jsx)(Rn,{message:r.errorMessage,onClose:function(){return a({errorMessage:null})}}),r.showHelpDialog&&(0,R.jsx)(br,{onClose:function(){a({showHelpDialog:!1})}}),r.pasteDialog.shown&&(0,R.jsx)(cr,{setAppState:a,appState:r,onInsertChart:p,onClose:function(){return a({pasteDialog:{shown:!1,data:null}})}})]}),G=function(){return r.showStats?(0,R.jsx)(qr,{appState:r,setAppState:a,elements:u,onClose:function(){n.executeAction(Ht)},renderCustomStats:E}):null};return j.isMobile?(0,R.jsxs)(R.Fragment,{children:[$,(0,R.jsx)(sr,{appState:r,elements:u,actionManager:n,libraryMenu:V,renderJSONExportDialog:B,renderImageExportDialog:F,setAppState:a,onCollabButtonClick:c,onLockToggle:function(){return d()},onPenModeToggle:f,canvas:l,isCollaborating:_,renderCustomFooter:T,viewModeEnabled:O,showThemeBtn:y,onImageAction:L,renderTopRightUI:x,renderStats:G})]}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:(0,b.Z)("layer-ui__wrapper",{"disable-pointerEvents":r.draggingElement||r.resizingElement||r.editingElement&&!(0,C.iB)(r.editingElement)}),style:r.isLibraryOpen&&r.isLibraryMenuDocked&&j.canDeviceFitSidebar?{width:"calc(100% - ".concat(ne.EE,"px)")}:{},children:[$,(t=(0,C.RT)(r,u),(0,R.jsx)(Vn,{side:"top",children:(0,R.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,R.jsxs)(Oe,{gap:4,className:(0,b.Z)({"disable-pointerEvents":h}),children:[O?(0,R.jsx)(Qn,{heading:"canvasActions",className:(0,b.Z)("zen-mode-transition",{"transition-left":h}),children:(0,R.jsx)(Gn.W,{padding:2,style:{zIndex:1},children:(0,R.jsx)(Oe,{gap:4,children:(0,R.jsxs)(Ce,{gap:1,justifyContent:"space-between",children:[B(),F()]})})})}):(0,R.jsx)(Qn,{heading:"canvasActions",className:(0,b.Z)("zen-mode-transition",{"transition-left":h}),children:(0,R.jsx)(Gn.W,{padding:2,style:{zIndex:1},children:(0,R.jsxs)(Oe,{gap:4,children:[(0,R.jsxs)(Ce,{gap:1,justifyContent:"space-between",children:[n.renderAction("clearCanvas"),(0,R.jsx)(U,{}),n.renderAction("loadScene"),B(),F(),(0,R.jsx)(U,{}),c&&(0,R.jsx)(Dn,{isCollaborating:_,collaboratorCount:r.collaborators.size,onClick:c})]}),(0,R.jsx)(An,{actionManager:n,appState:r,setAppState:a,showThemeBtn:y}),r.fileHandle&&(0,R.jsx)(R.Fragment,{children:n.renderAction("saveToActiveFile")})]})})}),t&&(0,R.jsx)(Qn,{heading:"selectedShapeActions",className:(0,b.Z)("zen-mode-transition",{"transition-left":h}),children:(0,R.jsx)(Gn.W,{className:ne.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(r.height-(r.fileHandle?248:200),"px")},children:(0,R.jsx)(On,{appState:r,elements:u,renderAction:n.renderAction,activeTool:r.activeTool.type})})})]}),!O&&(0,R.jsx)(Qn,{heading:"shapes",children:function(e){return(0,R.jsx)(Oe,{gap:4,align:"start",children:(0,R.jsxs)(Ce,{gap:1,className:(0,b.Z)("App-toolbar-container",{"zen-mode":h}),children:[(0,R.jsx)(ar,{zenModeEnabled:h,checked:r.penMode,onChange:f,title:(0,k.t)("toolBar.penMode"),penDetected:r.penDetected}),(0,R.jsx)(Zn,{zenModeEnabled:h,checked:r.activeTool.locked,onChange:function(){return d()},title:(0,k.t)("toolBar.lock")}),(0,R.jsxs)(Gn.W,{padding:1,className:(0,b.Z)("App-toolbar",{"zen-mode":h}),children:[(0,R.jsx)($n,{appState:r,elements:u,isMobile:j.isMobile}),e,(0,R.jsx)(Ce,{gap:1,children:(0,R.jsx)(Pn,{appState:r,canvas:l,activeTool:r.activeTool,setAppState:a,onImageAction:function(e){var t=e.pointerType;L({insertOnCanvasDirectly:"mouse"!==t})}})})]}),(0,R.jsx)(nr,{appState:r,setAppState:a})]})})}}),(0,R.jsxs)("div",{className:(0,b.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":h}),children:[(0,R.jsx)(er,{collaborators:r.collaborators,actionManager:n}),null==x?void 0:x(j.isMobile,r)]})]})})),(0,R.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,R.jsx)("div",{className:(0,b.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":h}),children:(0,R.jsx)(Oe,{gap:2,children:(0,R.jsxs)(Qn,{heading:"canvasActions",children:[(0,R.jsx)(Gn.W,{padding:1,children:(0,R.jsx)(In,{renderAction:n.renderAction,zoom:r.zoom})}),!O&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:(0,b.Z)("undo-redo-buttons zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":h}),children:[n.renderAction("undo",{size:"small"}),n.renderAction("redo",{size:"small"})]}),(0,R.jsx)("div",{className:(0,b.Z)("eraser-buttons zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":h}),children:n.renderAction("eraser",{size:"small"})})]}),!O&&r.multiElement&&j.isTouchScreen&&(0,R.jsx)("div",{className:(0,b.Z)("finalize-button zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":h}),children:n.renderAction("finalize",{size:"small"})})]})})}),(0,R.jsx)("div",{className:(0,b.Z)("layer-ui__wrapper__footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":h}),children:null==T?void 0:T(!1,r)}),(0,R.jsx)("div",{className:(0,b.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right disable-pointerEvents":h}),children:n.renderAction("toggleShortcuts")}),(0,R.jsx)("button",{className:(0,b.Z)("disable-zen-mode",{"disable-zen-mode--visible":v}),onClick:w,children:(0,k.t)("buttons.exitZenMode")})]}),G(),r.scrolledOutside&&(0,R.jsx)("button",{className:"scroll-back-to-content",onClick:function(){a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,S.W)(u,r,l)))},children:(0,k.t)("buttons.scrollBackToContent")})]}),r.isLibraryOpen&&(0,R.jsx)("div",{className:"layer-ui__sidebar",children:V})]})},Yr=function(e,t){var n=function(e){return e.suggestedBindings,e.startBoundElement,(0,_n.Z)(e,Zr)},r=n(e.appState),i=n(t.appState),a=Object.keys(r);return e.renderCustomFooter===t.renderCustomFooter&&e.langCode===t.langCode&&e.elements===t.elements&&e.files===t.files&&a.every((function(e){return r[e]===i[e]}))},Qr=v().memo(Xr,Yr),Jr=(n(9757),function(e){var t=e.message,n=e.clearToast,r=e.closable,i=void 0!==r&&r,a=e.duration,o=void 0===a?5e3:a,s=(0,g.useRef)(0),l=o!==1/0,u=(0,g.useCallback)((function(){l&&(s.current=window.setTimeout((function(){return n()}),o))}),[n,o,l]);(0,g.useEffect)((function(){if(l)return u(),function(){return clearTimeout(s.current)}}),[u,t,o,l]);var c=l?function(){return clearTimeout(null==s?void 0:s.current)}:void 0,d=l?u:void 0;return(0,R.jsxs)("div",{className:"Toast",onMouseEnter:c,onMouseLeave:d,children:[(0,R.jsx)("p",{className:"Toast__message",children:t}),i&&(0,R.jsx)(x.V,{icon:T.xv,"aria-label":"close",type:"icon",onClick:n,className:"close"})]})});function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ni=(0,E.z)({name:"viewMode",trackEvent:{category:"canvas",predicate:function(e){return!e.viewModeEnabled}},perform:function(e,t){return{appState:ti(ti({},t),{},{viewModeEnabled:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(e){return!e[_.tW.CTRL_OR_CMD]&&e.altKey&&e.code===_.aU.R}}),ri=n(5637),ii=n(200),ai=n.n(ii),oi=n(2325);function si(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return li(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?li(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function li(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function di(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var fi={isSmScreen:!1,isMobile:!1,isTouchScreen:!1,canDeviceFitSidebar:!1},pi=v().createContext(fi),hi=function(){return(0,g.useContext)(pi)},mi=v().createContext({container:null,id:null}),gi=function(){return(0,g.useContext)(mi)},vi=!1,yi=0,bi=0,wi=0,Si=!1,_i=!1,xi=!1,Ti={horizontal:null,vertical:null},ki=0,Ei=!1,Ci=null,Oi={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},Pi=function(e){(0,d.Z)(f,e);var t,n,r=di(f);function f(e){var t;(0,l.Z)(this,f),t=r.call(this,e),Ii.call((0,c.Z)(t));var n,i=(0,tn.im)(),a=e.excalidrawRef,o=e.viewModeEnabled,s=void 0!==o&&o,u=e.zenModeEnabled,d=void 0!==u&&u,p=e.gridModeEnabled,h=void 0!==p&&p,m=e.theme,g=void 0===m?i.theme:m,v=e.name,y=void 0===v?i.name:v;if(t.state=ci(ci(ci({},i),{},{theme:g,isLoading:!0},t.getCanvasOffsets()),{},{viewModeEnabled:s,zenModeEnabled:d,gridSize:h?ne.k:null,name:y,width:window.innerWidth,height:window.innerHeight,showHyperlinkPopup:!1,isLibraryMenuDocked:!1}),t.id=(0,w.x0)(),t.library=new nn.ZP((0,c.Z)(t)),a){var b,S="current"in a&&(null===(b=a.current)||void 0===b?void 0:b.readyPromise)||(0,M.PI)(),C={ready:!0,readyPromise:S,updateScene:t.updateScene,updateLibrary:t.library.updateLibrary,addFiles:t.addFiles,resetScene:t.resetScene,getSceneElementsIncludingDeleted:t.getSceneElementsIncludingDeleted,history:{clear:t.resetHistory},scrollToContent:t.scrollToContent,getSceneElements:t.getSceneElements,getAppState:function(){return t.state},getFiles:function(){return t.files},refresh:t.refresh,setToastMessage:t.setToastMessage,id:t.id,setActiveTool:t.setActiveTool,setCursor:t.setCursor,resetCursor:t.resetCursor};"function"==typeof a?a(C):a.current=C,S.resolve(C)}return t.excalidrawContainerValue={container:t.excalidrawContainerRef.current,id:t.id},t.scene=new F.Z,t.history=new dn,t.actionManager=new en(t.syncActionResult,(function(){return t.state}),(function(){return t.scene.getElementsIncludingDeleted()}),(0,c.Z)(t)),t.actionManager.registerAll(E.N),t.actionManager.registerAction((n=t.history,{name:"undo",trackEvent:{category:"history"},perform:function(e,t){return Yt(e,t,(function(){return n.undoOnce()}))},keyTest:function(e){return e[_.tW.CTRL_OR_CMD]&&e.key.toLowerCase()===_.tW.Z&&!e.shiftKey},PanelComponent:function(e){var t=e.updateData,n=e.data;return(0,R.jsx)(x.V,{type:"button",icon:T.Yw,"aria-label":(0,k.t)("buttons.undo"),onClick:t,size:(null==n?void 0:n.size)||"medium"})},commitToHistory:function(){return!1}})),t.actionManager.registerAction(function(e){return{name:"redo",trackEvent:{category:"history"},perform:function(t,n){return Yt(t,n,(function(){return e.redoOnce()}))},keyTest:function(e){return e[_.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key.toLowerCase()===_.tW.Z||_.ED&&e.ctrlKey&&!e.shiftKey&&e.key===_.tW.Y},PanelComponent:function(e){var t=e.updateData,n=e.data;return(0,R.jsx)(x.V,{type:"button",icon:T.KX,"aria-label":(0,k.t)("buttons.redo"),onClick:t,size:(null==n?void 0:n.size)||"medium"})},commitToHistory:function(){return!1}}}(t.history)),t}return(0,u.Z)(f,[{key:"renderCanvas",value:function(){var e=window.devicePixelRatio,t=this.state,n=t.width,r=t.height,i=n*e,a=r*e;return t.viewModeEnabled?(0,R.jsx)("canvas",{className:"excalidraw__canvas",style:{width:n,height:r,cursor:ne.oc.GRAB},width:i,height:a,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,children:(0,k.t)("labels.drawingCanvas")}):(0,R.jsx)("canvas",{className:"excalidraw__canvas",style:{width:n,height:r},width:i,height:a,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,children:(0,k.t)("labels.drawingCanvas")})}},{key:"render",value:function(){var e,t,n=this,r=this.state,i=r.zenModeEnabled,a=r.viewModeEnabled,o=(0,S.eD)(this.scene.getNonDeletedElements(),this.state),s=this.props,l=s.onCollabButtonClick,u=s.renderTopRightUI,c=s.renderFooter,d=s.renderCustomStats;return(0,R.jsx)("div",{className:(0,b.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":a,"excalidraw--mobile":this.device.isMobile}),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,R.jsx)(mi.Provider,{value:this.excalidrawContainerValue,children:(0,R.jsxs)(pi.Provider,{value:this.device,children:[(0,R.jsx)(Qr,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onCollabButtonClick:l,onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onInsertElements:function(e){return n.addElementsFromPasteOrLibrary({elements:e,position:"center",files:null})},zenModeEnabled:i,toggleZenMode:this.toggleZenMode,langCode:(0,k.G3)().code,isCollaborating:this.props.isCollaborating,renderTopRightUI:u,renderCustomFooter:c,renderCustomStats:d,viewModeEnabled:a,showExitZenModeBtn:void 0===(null===(e=this.props)||void 0===e?void 0:e.zenModeEnabled)&&i,showThemeBtn:void 0===(null===(t=this.props)||void 0===t?void 0:t.theme)&&this.props.UIOptions.canvasActions.theme,libraryReturnUrl:this.props.libraryReturnUrl,UIOptions:this.props.UIOptions,focusContainer:this.focusContainer,library:this.library,id:this.id,onImageAction:this.onImageAction}),(0,R.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,R.jsx)("div",{className:"excalidraw-contextMenuContainer"}),1===o.length&&this.state.showHyperlinkPopup&&(0,R.jsx)(Wt.nW,{element:o[0],appState:this.state,setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen},o[0].id),null!==this.state.toastMessage&&(0,R.jsx)(Jr,{message:this.state.toastMessage,clearToast:this.clearToast}),(0,R.jsx)("main",{children:this.renderCanvas()})]})})})}},{key:"componentDidMount",value:(n=(0,o.Z)(m().mark((function e(){var t,n,r,i,a,o,s=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,"production"!==ne.Vi.TEST&&"production"!==ne.Vi.DEVELOPMENT||(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return s.state}},setState:{configurable:!0,value:function(){return s.setState.apply(s,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.excalidrawContainerRef.current&&this.focusContainer(),this.excalidrawContainerRef.current&&this.refreshDeviceState(this.excalidrawContainerRef.current),"ResizeObserver"in window&&null!==(t=this.excalidrawContainerRef)&&void 0!==t&&t.current?(this.resizeObserver=new ResizeObserver((function(){s.refreshDeviceState(s.excalidrawContainerRef.current),s.updateDOMRect()})),null===(n=this.resizeObserver)||void 0===n||n.observe(this.excalidrawContainerRef.current)):window.matchMedia&&(r=window.matchMedia("(max-width: ".concat(ne.kV,"px), (max-height: ").concat(ne.Yx,"px) and (max-width: ").concat(ne.sS,"px)")),i=window.matchMedia("(max-width: ".concat(ne.eF,"px)")),a=window.matchMedia("(min-width: ".concat(null!=this.props.UIOptions.dockedSidebarBreakpoint?this.props.UIOptions.dockedSidebarBreakpoint:ne.sk,"px)")),o=function(){s.excalidrawContainerRef.current.getBoundingClientRect(),s.device=(0,M.v4)(s.device,{isSmScreen:i.matches,isMobile:r.matches,canDeviceFitSidebar:a.matches})},r.addListener(o),this.detachIsMobileMqHandler=function(){return r.removeListener(o)}),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene);case 10:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e;this.files={},this.imageCache.clear(),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),clearTimeout(ki),ki=0}},{key:"removeEventListeners",value:function(){var e,t,n,r;document.removeEventListener(ne.Ks.POINTER_UP,this.removePointer),document.removeEventListener(ne.Ks.COPY,this.onCopy),document.removeEventListener(ne.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(ne.Ks.CUT,this.onCut),null===(e=this.nearestScrollableContainer)||void 0===e||e.removeEventListener(ne.Ks.SCROLL,this.onScroll),document.removeEventListener(ne.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(ne.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(ne.Ks.KEYUP,this.onKeyUp),window.removeEventListener(ne.Ks.RESIZE,this.onResize,!1),window.removeEventListener(ne.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(ne.Ks.BLUR,this.onBlur,!1),null===(t=this.excalidrawContainerRef.current)||void 0===t||t.removeEventListener(ne.Ks.DRAG_OVER,this.disableEvent,!1),null===(n=this.excalidrawContainerRef.current)||void 0===n||n.removeEventListener(ne.Ks.DROP,this.disableEvent,!1),document.removeEventListener(ne.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(ne.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(ne.Ks.GESTURE_END,this.onGestureEnd,!1),null===(r=this.detachIsMobileMqHandler)||void 0===r||r.call(this)}},{key:"addEventListeners",value:function(){var e,t,n,r;this.removeEventListeners(),document.addEventListener(ne.Ks.POINTER_UP,this.removePointer),document.addEventListener(ne.Ks.COPY,this.onCopy),this.props.handleKeyboardGlobally&&document.addEventListener(ne.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(ne.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(ne.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),null===(e=document.fonts)||void 0===e||null===(t=e.addEventListener)||void 0===t||t.call(e,"loadingdone",this.onFontLoaded),document.addEventListener(ne.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(ne.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(ne.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(ne.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(ne.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,M.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(ne.Ks.SCROLL,this.onScroll)),window.addEventListener(ne.Ks.RESIZE,this.onResize,!1),window.addEventListener(ne.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(ne.Ks.BLUR,this.onBlur,!1),null===(n=this.excalidrawContainerRef.current)||void 0===n||n.addEventListener(ne.Ks.DRAG_OVER,this.disableEvent,!1),null===(r=this.excalidrawContainerRef.current)||void 0===r||r.addEventListener(ne.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(e,t){var n,r,i,a=this;this.excalidrawContainerRef.current&&e.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshDeviceState(this.excalidrawContainerRef.current),(t.scrollX!==this.state.scrollX||t.scrollY!==this.state.scrollY)&&(null===(r=this.props)||void 0===r||null===(i=r.onScrollChange)||void 0===i||i.call(r,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,tn.EN)(this.state)&&this.setState({activeTool:(0,M.Om)(this.state,{type:"selection"})}),"eraser"===this.state.activeTool.type&&t.theme!==this.state.theme&&(0,M.OF)(this.canvas,this.state.theme),"selection"===t.activeTool.type&&"selection"!==this.state.activeTool.type&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),e.langCode!==this.props.langCode&&this.updateLanguage(),e.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),t.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),e.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),e.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),e.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?ne.k:null}),this.props.name&&e.name!==this.props.name&&this.setState({name:this.props.name}),null===(n=this.excalidrawContainerRef.current)||void 0===n||n.classList.toggle("theme--dark","dark"===this.state.theme),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout((function(){a.actionManager.executeAction(de)}));var o=t.multiElement;t.activeTool!==this.state.activeTool&&null!=o&&(0,A.N1)(this.state)&&(0,D.Mn)(o,!1)&&(0,A.R)(o,this.state,this.scene,(0,M.AK)(I._.getPointAtIndexGlobalCoordinates(o,-1)));var s={},l={},u={},c={},d={};this.state.collaborators.forEach((function(e,t){if(e.selectedElementIds)for(var n=0,r=Object.keys(e.selectedElementIds);n<r.length;n++){var i=r[n];i in u||(u[i]=[]),u[i].push(t)}e.pointer&&(e.username&&(c[t]=e.username),e.userState&&(d[t]=e.userState),l[t]=(0,M._i)({sceneX:e.pointer.x,sceneY:e.pointer.y},a.state),s[t]=e.button)}));var f,p,h=this.scene.getNonDeletedElements().filter((function(e){return(!(0,D.pC)(e)||a.state.pendingImageElementId!==e.id)&&(!a.state.editingElement||"text"!==a.state.editingElement.type||e.id!==a.state.editingElement.id)}));(0,fn.OO)(h,this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:l,remotePointerButton:s,remoteSelectedElementIds:u,remotePointerUsernames:c,remotePointerUserStates:d,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom,theme:this.state.theme,imageCache:this.imageCache,isExporting:!1,renderScrollbars:!this.device.isMobile},(function(e){var t=e.atLeastOneVisibleElement,n=e.scrollBars;n&&(Ti=n);var r=!(0,C.iB)(a.state.editingElement)&&!t&&h.length>0;a.state.scrolledOutside!==r&&a.setState({scrolledOutside:r}),a.scheduleImageRefresh()})),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||null===(f=(p=this.props).onChange)||void 0===f||f.call(p,this.scene.getElementsIncludingDeleted(),this.state,this.files)}},{key:"addTextFromPaste",value:function(e){var t=(0,M.dE)({clientX:bi,clientY:wi},this.state),n=t.x,r=t.y,i=(0,C.VL)({x:n,y:r,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:e,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:ne.hs,locked:!1});this.scene.replaceAllElements([].concat((0,a.Z)(this.scene.getElementsIncludingDeleted()),[i])),this.setState({selectedElementIds:(0,s.Z)({},i.id,!0)}),this.history.resumeRecording()}},{key:"handleTextWysiwyg",value:function(e,t){var n=this,r=t.isExistingElement,i=void 0!==r&&r,o=function(t,r,i){n.scene.replaceAllElements((0,a.Z)(n.scene.getElementsIncludingDeleted().map((function(n){return n.id===e.id&&(0,C.iB)(n)?(0,C.N_)(n,{text:t,isDeleted:i,originalText:r}):n}))))};(0,C.b_)({id:e.id,canvas:this.canvas,getViewportCoords:function(e,t){var r=(0,M._i)({sceneX:e,sceneY:t},n.state),i=r.x,a=r.y;return[i-n.state.offsetLeft,a-n.state.offsetTop]},onChange:(0,M.tH)((function(t){o(t,t,!1),(0,C.qP)(e)&&(0,A.Ww)(e)})),onSubmit:(0,M.tH)((function(t){var r=t.text,a=t.viaKeyboard,l=t.originalText,u=!r.trim();if(o(r,l,u),!u&&a){var c=e.containerId?e.containerId:e.id;n.setState((function(e){return{selectedElementIds:ci(ci({},e.selectedElementIds),{},(0,s.Z)({},c,!0))}}))}u&&(0,A.$q)(n.scene.getNonDeletedElements(),[e]),u&&!i||n.history.resumeRecording(),n.setState({draggingElement:null,editingElement:null}),n.state.activeTool.locked&&(0,M.Uk)(n.canvas,n.state),n.focusContainer()})),element:e,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),o(e.text,e.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}},{key:"getTextElementAtPosition",value:function(e,t){var n=this.getElementAtPosition(e,t,{includeBoundTextElement:!0});return n&&(0,C.iB)(n)&&!n.isDeleted?n:null}},{key:"getElementAtPosition",value:function(e,t,n){var r=this.getElementsAtPosition(e,t,null==n?void 0:n.includeBoundTextElement,null==n?void 0:n.includeLockedElements);if(r.length>1){if(null!=n&&n.preferSelected)for(var i=r.length-1;i>-1;i--)if(this.state.selectedElementIds[r[i].id])return r[i];var a=r[r.length-1];return(0,C.wB)(a,this.state,e,t)?r[r.length-2]:a}return 1===r.length?r[0]:null}},{key:"getElementsAtPosition",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=r&&i?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter((function(e){return(i||!e.locked)&&(r||!((0,C.iB)(e)&&e.containerId))}));return(0,S.CJ)(a,(function(r){return(0,C.wX)(r,n.state,e,t)}))}},{key:"maybeCleanupAfterMissingPointerUp",value:function(e){null!==Ci&&Ci(e)}},{key:"updateGestureOnPointerDown",value:function(e){Oi.pointers.set(e.pointerId,{x:e.clientX,y:e.clientY}),2===Oi.pointers.size&&(Oi.lastCenter=an(Oi.pointers),Oi.initialScale=this.state.zoom.value,Oi.initialDistance=on(Array.from(Oi.pointers.values())))}},{key:"initialPointerDownState",value:function(e){var t=(0,M.dE)(e,this.state),n=(0,S.eD)(this.scene.getNonDeletedElements(),this.state),r=(0,C.KP)(n),a=(0,i.Z)(r,4),o=a[0],s=a[1],l=a[2],u=a[3];return{origin:t,withCmdOrCtrl:e[_.tW.CTRL_OR_CMD],originInGrid:(0,M.AK)((0,le.wC)(t.x,t.y,this.state.gridSize)),scrollbars:(0,S._4)(Ti,e.clientX-this.state.offsetLeft,e.clientY-this.state.offsetTop),lastCoords:ci({},t),originalElements:this.scene.getNonDeletedElements().reduce((function(e,t){return e.set(t.id,(0,rt.OL)(t)),e}),new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(l+o)/2,y:(u+s)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(t,n),hasHitElementInside:!1},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function(e,t){var n=this;if(!t.scrollbars.isOverEither||this.state.multiElement)return!1;xi=!0,t.lastCoords.x=e.clientX,t.lastCoords.y=e.clientY;var r=(0,M.$9)((function(e){e.target instanceof HTMLElement&&n.handlePointerMoveOverScrollbars(e,t)})),i=(0,M.tH)((function(){xi=!1,(0,M.Uk)(n.canvas,n.state),Ci=null,n.setState({cursorButton:"up"}),n.savePointer(e.clientX,e.clientY,"up"),window.removeEventListener(ne.Ks.POINTER_MOVE,r),window.removeEventListener(ne.Ks.POINTER_UP,i),r.flush()}));return Ci=i,window.addEventListener(ne.Ks.POINTER_MOVE,r),window.addEventListener(ne.Ks.POINTER_UP,i),!0}},{key:"isASelectedElement",value:function(e){return null!=e&&this.state.selectedElementIds[e.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(e,t){if(t.length<2)return!1;var n=10/this.state.zoom.value,r=(0,C.KP)(t),a=(0,i.Z)(r,4),o=a[0],s=a[1],l=a[2],u=a[3];return e.x>o-n&&e.x<l+n&&e.y>s-n&&e.y<u+n}},{key:"onKeyDownFromPointerDownHandler",value:function(e){var t=this;return(0,M.tH)((function(n){t.maybeHandleResize(e,n)||t.maybeDragNewGenericElement(e,n)}))}},{key:"onKeyUpFromPointerDownHandler",value:function(e){var t=this;return(0,M.tH)((function(n){n.key===_.tW.ALT&&n.preventDefault(),t.maybeHandleResize(e,n)||t.maybeDragNewGenericElement(e,n)}))}},{key:"onPointerMoveFromPointerDownHandler",value:function(e){var t=this;return(0,M.$9)((function(n){var r,o;if(null===e.drag.offset&&(e.drag.offset=(0,M.AK)((0,C.$V)((0,S.eD)(t.scene.getNonDeletedElements(),t.state),e.origin.x,e.origin.y))),n.target instanceof HTMLElement&&!t.handlePointerMoveOverScrollbars(n,e)){var l=(0,M.dE)(n,t.state);if((0,tn.EN)(t.state))t.handleEraser(n,e,l);else{var u=(0,le.wC)(l.x,l.y,t.state.gridSize),c=(0,i.Z)(u,2),d=c[0],f=c[1];if(e.drag.hasOccurred||"arrow"!==t.state.activeTool.type&&"line"!==t.state.activeTool.type||!((0,le.LW)(l.x,l.y,e.origin.x,e.origin.y)<ne.f)){if(e.resize.isResizing&&(e.lastCoords.x=l.x,e.lastCoords.y=l.y,t.maybeHandleResize(e,n)))return!0;if(t.state.editingLinearElement){var p=I._.handlePointDragging(t.state,(function(e){return t.setState(e)}),l.x,l.y,(function(e,n){t.maybeSuggestBindingsForLinearElementAtCoords(e,n)}));if(p)return e.lastCoords.x=l.x,void(e.lastCoords.y=l.y)}if((e.hit.allHitElements.some((function(e){return t.isASelectedElement(e)}))||e.hit.hasHitCommonBoundingBoxOfSelectedElements)&&(!t.state.editingLinearElement||!n.shiftKey)&&(!t.state.editingLinearElement||(null===(r=t.state.editingLinearElement)||void 0===r?void 0:r.elementId)!==(null===(o=e.hit.element)||void 0===o?void 0:o.id)||e.hit.hasHitElementInside)){var h=(0,S.eD)(t.scene.getNonDeletedElements(),t.state);if(h.every((function(e){return e.locked})))return;if(e.drag.hasOccurred=!0,h.length>0&&!e.withCmdOrCtrl){var m=(0,le.wC)(l.x-e.drag.offset.x,l.y-e.drag.offset.y,t.state.gridSize),g=(0,i.Z)(m,2),v=g[0],y=g[1],b=[Math.abs(l.x-e.origin.x),Math.abs(l.y-e.origin.y)],w=b[0],x=b[1],T=n.shiftKey;if((0,C.o8)(e,h,v,y,T,w,x,t.state),t.maybeSuggestBindingForAll(h),n.altKey&&!e.hit.hasBeenDuplicated){e.hit.hasBeenDuplicated=!0;var k,E=[],R=[],N=new Map,L=new Map,j=e.hit.element,B=t.scene.getElementsIncludingDeleted(),F=(0,S.eD)(B,t.state,!0).map((function(e){return e.id})),U=si(B);try{for(U.s();!(k=U.n()).done;){var H=k.value;if(F.includes(H.id)||H.id===(null==j?void 0:j.id)&&e.hit.wasAddedToSelection){var z=(0,C.Sy)(t.state.editingGroupId,N,H),V=(0,le.wC)(e.origin.x-e.drag.offset.x,e.origin.y-e.drag.offset.y,t.state.gridSize),$=(0,i.Z)(V,2),G=$[0],W=$[1];(0,O.DR)(z,{x:z.x+(G-v),y:z.y+(W-y)}),E.push(z),R.push(H),L.set(H.id,z.id)}else E.push(H)}}catch(e){U.e(e)}finally{U.f()}var q=[].concat(E,R);(0,re.P7)(E,R,L),(0,A.ek)(q,R,L,"duplicatesServeAsOld"),t.scene.replaceAllElements(q)}return}}var Z=t.state.draggingElement;if(Z){if("freedraw"===Z.type){var K=Z.points,X=l.x-Z.x,Y=l.y-Z.y,Q=K.length>0&&K[K.length-1];if(!Q||Q[0]!==X||Q[1]!==Y){var J=Z.simulatePressure?Z.pressures:[].concat((0,a.Z)(Z.pressures),[n.pressure]);(0,O.DR)(Z,{points:[].concat((0,a.Z)(K),[[X,Y]]),pressures:J})}}else if((0,D.bt)(Z)){e.drag.hasOccurred=!0;var ee=Z.points,te=d-Z.x,ie=f-Z.y;if((0,_.Ge)(n)&&2===ee.length){var ae=(0,C.uK)(t.state.activeTool.type,te,ie);te=ae.width,ie=ae.height}1===ee.length?(0,O.DR)(Z,{points:[].concat((0,a.Z)(ee),[[te,ie]])}):ee.length>1&&(0,O.DR)(Z,{points:[].concat((0,a.Z)(ee.slice(0,-1)),[[te,ie]])}),(0,D.Mn)(Z,!1)&&t.maybeSuggestBindingsForLinearElementAtCoords(Z,[l],t.state.startBoundElement)}else e.lastCoords.x=l.x,e.lastCoords.y=l.y,t.maybeDragNewGenericElement(e,n);if("selection"===t.state.activeTool.type){e.boxSelection.hasOccurred=!0;var oe=t.scene.getNonDeletedElements();if(n.shiftKey||t.state.editingLinearElement||!(0,S.N)(oe,t.state)||(e.withCmdOrCtrl&&e.hit.element?t.setState((function(n){return(0,P.bO)(ci(ci({},n),{},{selectedElementIds:(0,s.Z)({},e.hit.element.id,!0)}),t.scene.getNonDeletedElements())})):t.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),t.state.editingLinearElement)I._.handleBoxSelection(n,t.state,t.setState.bind(t));else{var se=(0,S.Yp)(oe,Z);t.setState((function(n){return(0,P.bO)(ci(ci({},n),{},{selectedElementIds:ci(ci(ci({},n.selectedElementIds),se.reduce((function(e,t){return e[t.id]=!0,e}),{})),e.hit.element?(0,s.Z)({},e.hit.element.id,!se.length):null),showHyperlinkPopup:!(1!==se.length||!se[0].link)&&"info"}),t.scene.getNonDeletedElements())}))}}}}}}}))}},{key:"handlePointerMoveOverScrollbars",value:function(e,t){if(t.scrollbars.isOverHorizontal){var n=e.clientX,r=n-t.lastCoords.x;return this.setState({scrollX:this.state.scrollX-r/this.state.zoom.value}),t.lastCoords.x=n,!0}if(t.scrollbars.isOverVertical){var i=e.clientY,a=i-t.lastCoords.y;return this.setState({scrollY:this.state.scrollY-a/this.state.zoom.value}),t.lastCoords.y=i,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(e){var t=this;return(0,M.tH)((function(n){var r,i,o=t.state,l=o.draggingElement,u=o.resizingElement,c=o.multiElement,d=o.activeTool,f=o.isResizing,p=o.isRotating;if(t.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:c||(0,C.iB)(t.state.editingElement)?t.state.editingElement:null}),t.savePointer(n.clientX,n.clientY,"up"),t.state.editingLinearElement)if(e.boxSelection.hasOccurred||(null===(r=e.hit)||void 0===r||null===(i=r.element)||void 0===i?void 0:i.id)===t.state.editingLinearElement.elementId&&e.hit.hasHitElementInside){var h=I._.handlePointerUp(n,t.state.editingLinearElement,t.state);h!==t.state.editingLinearElement&&t.setState({editingLinearElement:h,suggestedBindings:[]})}else t.actionManager.executeAction(de);if(Ci=null,e.eventListeners.onMove&&e.eventListeners.onMove.flush(),window.removeEventListener(ne.Ks.POINTER_MOVE,e.eventListeners.onMove),window.removeEventListener(ne.Ks.POINTER_UP,e.eventListeners.onUp),window.removeEventListener(ne.Ks.KEYDOWN,e.eventListeners.onKeyDown),window.removeEventListener(ne.Ks.KEYUP,e.eventListeners.onKeyUp),t.state.pendingImageElementId&&t.setState({pendingImageElementId:null}),"freedraw"===(null==l?void 0:l.type)){var m=(0,M.dE)(n,t.state),g=l.points,v=m.x-l.x,y=m.y-l.y;v===g[0][0]&&y===g[0][1]&&(y+=1e-4,v+=1e-4);var b=l.simulatePressure?[]:[].concat((0,a.Z)(l.pressures),[n.pressure]);return(0,O.DR)(l,{points:[].concat((0,a.Z)(g),[[v,y]]),pressures:b,lastCommittedPoint:[v,y]}),void t.actionManager.executeAction(de)}if((0,D.pC)(l)){var w=l;try{t.initializeImageDimensions(w),t.setState({selectedElementIds:(0,s.Z)({},w.id,!0)},(function(){t.actionManager.executeAction(de)}))}catch(e){console.error(e),t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==w.id}))),t.actionManager.executeAction(de)}}else if((0,D.bt)(l)){l.points.length>1&&t.history.resumeRecording();var _=(0,M.dE)(n,t.state);e.drag.hasOccurred||!l||c?e.drag.hasOccurred&&!c&&((0,A.N1)(t.state)&&(0,D.Mn)(l,!1)&&(0,A.R)(l,t.state,t.scene,_),t.setState({suggestedBindings:[],startBoundElement:null}),d.locked?t.setState((function(e){return{draggingElement:null,selectedElementIds:ci(ci({},e.selectedElementIds),{},(0,s.Z)({},l.id,!0))}})):((0,M.z8)(t.canvas),t.setState((function(e){return{draggingElement:null,activeTool:(0,M.Om)(t.state,{type:"selection"}),selectedElementIds:ci(ci({},e.selectedElementIds),{},(0,s.Z)({},l.id,!0))}})))):((0,O.DR)(l,{points:[].concat((0,a.Z)(l.points),[[_.x-l.x,_.y-l.y]])}),t.setState({multiElement:l,editingElement:t.state.draggingElement}))}else{if("selection"!==d.type&&l&&(0,C.QD)(l))return t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().slice(0,-1)),void t.setState({draggingElement:null});l&&(0,O.DR)(l,(0,C.Qp)(l)),u&&t.history.resumeRecording(),u&&(0,C.QD)(u)&&t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==u.id})));var x=e.hit.element;if((0,tn.EN)(t.state)){if(0===(0,le.LW)(t.lastPointerDown.clientX,t.lastPointerDown.clientY,t.lastPointerUp.clientX,t.lastPointerUp.clientY)){var T=(0,M.dE)({clientX:t.lastPointerUp.clientX,clientY:t.lastPointerUp.clientY},t.state);t.getElementsAtPosition(T.x,T.y).forEach((function(t){return e.elementIdsToErase[t.id]={erase:!0,opacity:t.opacity}}))}t.eraseElements(e)}else{if(Object.keys(e.elementIdsToErase).length&&t.restoreReadyToEraseElements(e),x&&!e.drag.hasOccurred&&!e.hit.wasAddedToSelection&&(!t.state.editingLinearElement||!e.boxSelection.hasOccurred))if(n.shiftKey&&!t.state.editingLinearElement)if(t.state.selectedElementIds[x.id])if((0,P.zq)(t.state,x)){var k=x.groupIds.flatMap((function(e){return(0,P.Fb)(t.scene.getNonDeletedElements(),e)})).map((function(e){return(0,s.Z)({},e.id,!1)})).reduce((function(e,t){return ci(ci({},e),t)}),{});t.setState((function(e){return{selectedGroupIds:ci(ci({},e.selectedElementIds),x.groupIds.map((function(e){return(0,s.Z)({},e,!1)})).reduce((function(e,t){return ci(ci({},e),t)}),{})),selectedElementIds:ci(ci({},e.selectedElementIds),k)}}))}else t.setState((function(e){return(0,P.bO)(ci(ci({},e),{},{selectedElementIds:ci(ci({},e.selectedElementIds),{},(0,s.Z)({},x.id,!1))}),t.scene.getNonDeletedElements())}));else t.setState((function(e){return{selectedElementIds:ci(ci({},e.selectedElementIds),{},(0,s.Z)({},x.id,!0))}}));else t.setState((function(e){return ci({},(0,P.bO)(ci(ci({},e),{},{selectedElementIds:(0,s.Z)({},x.id,!0)}),t.scene.getNonDeletedElements()))}));t.state.editingLinearElement||e.drag.hasOccurred||t.state.isResizing||!(x&&(0,C.wB)(x,t.state,e.origin.x,e.origin.y)||!x&&e.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!d.locked&&"freedraw"!==d.type&&l&&t.setState((function(e){return{selectedElementIds:ci(ci({},e.selectedElementIds),{},(0,s.Z)({},l.id,!0))}})),("selection"!==d.type||(0,S.N)(t.scene.getNonDeletedElements(),t.state))&&t.history.resumeRecording(),(e.drag.hasOccurred||f||p)&&((0,A.N1)(t.state)?A.el:A.H)((0,S.eD)(t.scene.getNonDeletedElements(),t.state)),d.locked||"freedraw"===d.type?t.setState({draggingElement:null,suggestedBindings:[]}):((0,M.z8)(t.canvas),t.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,M.Om)(t.state,{type:"selection"})}))):t.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}}}))}},{key:"maybeSuggestBindingForAll",value:function(e){var t=(0,A.ZB)(e);this.setState({suggestedBindings:t})}},{key:"clearSelection",value:function(e){this.setState((function(t){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:t.editingGroupId&&null!=e&&(0,P.Nd)(e,t.editingGroupId)?t.editingGroupId:null}})),this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(e,t,n,r,i){var a=(0,S.OW)(this.scene.getElementsIncludingDeleted().filter((function(e){return!(0,C.iB)(e)})),e,t);if(a){var o=a.x+a.width/2,s=a.y+a.height/2;if(Math.hypot(e-o,t-s)<ne.wZ){var l=(0,M._i)({sceneX:o,sceneY:s},n);return{viewportX:l.x,viewportY:l.y,elementCenterX:o,elementCenterY:s}}}}},{key:"getCanvasOffsets",value:function(){var e;if(null!==(e=this.excalidrawContainerRef)&&void 0!==e&&e.current){var t=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:t.left,offsetTop:t.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(t=(0,o.Z)(m().mark((function e(){var t,n=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k.Mj.find((function(e){return e.code===n.props.langCode}))||k.Fp,e.next=3,(0,k.m0)(t);case 3:this.setAppState({});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){vi=!1}}]),f}(v().Component);Pi.defaultProps={UIOptions:ne.cW};var Ii=function(){var e=this;this.canvas=null,this.rc=null,this.unmounted=!1,this.device=fi,this.excalidrawContainerRef=v().createRef(),this.files={},this.imageCache=new Map,this.lastPointerDown=null,this.lastPointerUp=null,this.contextMenuOpen=!1,this.lastScenePointer=null,this.focusContainer=function(){var t;e.props.autoFocus&&(null===(t=e.excalidrawContainerRef.current)||void 0===t||t.focus())},this.getSceneElementsIncludingDeleted=function(){return e.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return e.scene.getNonDeletedElements()},this.syncActionResult=(0,M.tH)((function(t){if(e.contextMenuOpen=!1,!e.unmounted&&!1!==t){var n=null;if(t.elements&&(t.elements.forEach((function(t){var r;(null===(r=e.state.editingElement)||void 0===r?void 0:r.id)===t.id&&e.state.editingElement!==t&&(0,C.qP)(t)&&(n=t)})),e.scene.replaceAllElements(t.elements),t.commitToHistory&&e.history.resumeRecording()),t.files&&(e.files=t.replaceFiles?t.files:ci(ci({},e.files),t.files),e.addNewImagesToImageCache()),t.appState||n){var r,i,a,o,s,l;t.commitToHistory&&e.history.resumeRecording();var u=(null==t||null===(r=t.appState)||void 0===r?void 0:r.viewModeEnabled)||!1,c=(null==t||null===(i=t.appState)||void 0===i?void 0:i.zenModeEnabled)||!1,d=(null==t||null===(a=t.appState)||void 0===a?void 0:a.gridSize)||null,f=(null==t||null===(o=t.appState)||void 0===o?void 0:o.theme)||ne.C6.LIGHT,p=null!==(s=null==t||null===(l=t.appState)||void 0===l?void 0:l.name)&&void 0!==s?s:e.state.name;void 0!==e.props.viewModeEnabled&&(u=e.props.viewModeEnabled),void 0!==e.props.zenModeEnabled&&(c=e.props.zenModeEnabled),void 0!==e.props.gridModeEnabled&&(d=e.props.gridModeEnabled?ne.k:null),void 0!==e.props.theme&&(f=e.props.theme),void 0!==e.props.name&&(p=e.props.name),e.setState((function(e){var r;return Object.assign(t.appState||{},{editingElement:n||(null===(r=t.appState)||void 0===r?void 0:r.editingElement)||null,viewModeEnabled:u,zenModeEnabled:c,gridSize:d,theme:f,name:p})}),(function(){t.syncHistory&&e.history.setCurrentState(e.state,e.scene.getElementsIncludingDeleted())}))}}})),this.onBlur=(0,M.tH)((function(){Si=!1,e.setState({isBindingEnabled:!0})})),this.onUnload=function(){e.onBlur()},this.disableEvent=function(e){e.preventDefault()},this.onFontLoaded=function(){e.scene.getElementsIncludingDeleted().forEach((function(e){(0,C.iB)(e)&&(0,pn.bI)(e)})),e.onSceneUpdated()},this.resetHistory=function(){e.history.clear()},this.resetScene=(0,M.tH)((function(t){e.scene.replaceAllElements([]),e.setState((function(n){return ci(ci({},(0,tn.im)()),{},{isLoading:(null==t||!t.resetLoadingState)&&n.isLoading,theme:e.state.theme})})),e.resetHistory()})),this.initializeScene=(0,o.Z)(m().mark((function t(){var n,r,i,a,s,l;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var t=(0,o.Z)(m().mark((function t(n){var r,i;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.files.length){t.next=2;break}return t.abrupt("return");case 2:return r=n.files[0],t.next=5,r.getFile();case 5:i=t.sent,e.loadFileToCanvas(new File([i],i.name||"",{type:i.type}),r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.state.isLoading||e.setState({isLoading:!0}),a=null,t.prev=3,t.next=6,e.props.initialData;case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0=null;case 9:a=t.t0,null!==(s=a)&&void 0!==s&&s.libraryItems&&e.library.updateLibrary({libraryItems:a.libraryItems,merge:!0}).catch((function(e){console.error(e)})),t.next=17;break;case 13:t.prev=13,t.t1=t.catch(3),console.error(t.t1),a={appState:{errorMessage:t.t1.message||"Encountered an error during importing or restoring scene data"}};case 17:(l=(0,rn.nu)(a,null,null)).appState=ci(ci({},l.appState),{},{isLibraryOpen:(null===(n=a)||void 0===n||null===(r=n.appState)||void 0===r?void 0:r.isLibraryOpen)||e.state.isLibraryOpen,activeTool:"image"===l.appState.activeTool.type?ci(ci({},l.appState.activeTool),{},{type:"selection"}):l.appState.activeTool,isLoading:!1}),null!==(i=a)&&void 0!==i&&i.scrollToContent&&(l.appState=ci(ci({},l.appState),(0,S.W)(l.elements,ci(ci({},l.appState),{},{width:e.state.width,height:e.state.height,offsetTop:e.state.offsetTop,offsetLeft:e.state.offsetLeft}),null))),e.resetHistory(),e.syncActionResult(ci(ci({},l),{},{commitToHistory:!0}));case 22:case"end":return t.stop()}}),t,null,[[3,13]])}))),this.refreshDeviceState=function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height,a=null!=e.props.UIOptions.dockedSidebarBreakpoint?e.props.UIOptions.dockedSidebarBreakpoint:ne.sk;e.device=(0,M.v4)(e.device,{isSmScreen:r<ne.eF,isMobile:r<ne.kV||i<ne.Yx&&r<ne.sS,canDeviceFitSidebar:r>a})},this.onResize=(0,M.tH)((function(){e.scene.getElementsIncludingDeleted().forEach((function(e){return(0,pn.bI)(e)})),e.setState({})})),this.onScroll=(0,M.Ds)((function(){var t=e.getCanvasOffsets(),n=t.offsetTop,r=t.offsetLeft;e.setState((function(e){return e.offsetLeft===r&&e.offsetTop===n?null:{offsetTop:n,offsetLeft:r}}))}),ne.HM),this.onCut=(0,M.tH)((function(t){var n;(null===(n=e.excalidrawContainerRef.current)||void 0===n?void 0:n.contains(document.activeElement))&&!(0,M.s)(t.target)&&(e.cutAll(),t.preventDefault(),t.stopPropagation())})),this.onCopy=(0,M.tH)((function(t){var n;(null===(n=e.excalidrawContainerRef.current)||void 0===n?void 0:n.contains(document.activeElement))&&!(0,M.s)(t.target)&&(e.copyAll(),t.preventDefault(),t.stopPropagation())})),this.cutAll=function(){e.actionManager.executeAction(Pt,"keyboard")},this.copyAll=function(){e.actionManager.executeAction(Ot,"keyboard")},this.onTapStart=function(t){if(_.Dt||t.preventDefault(),!vi)return vi=!0,clearTimeout(yi),void(yi=window.setTimeout(Pi.resetTapTwice,ne.Gj));if(vi&&1===t.touches.length){var n=(0,i.Z)(t.touches,1)[0];e.handleCanvasDoubleClick({clientX:n.clientX,clientY:n.clientY}),vi=!1,clearTimeout(yi)}_.Dt&&t.preventDefault(),2===t.touches.length&&e.setState({selectedElementIds:{}})},this.onTapEnd=function(t){e.resetContextMenuTimer(),t.touches.length>0?e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds}):Oi.pointers.clear()},this.pasteFromClipboard=(0,M.tH)(function(){var t=(0,o.Z)(m().mark((function t(n){var r,i,a,o,l,u,c,d,f,p,h;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=document.activeElement,null===(r=e.excalidrawContainerRef.current)||void 0===r?void 0:r.contains(a)){t.next=4;break}return t.abrupt("return");case 4:if(o=document.elementFromPoint(bi,wi),!n||o instanceof HTMLCanvasElement&&!(0,M.s)(a)){t.next=7;break}return t.abrupt("return");case 7:return l=null==n||null===(i=n.clipboardData)||void 0===i?void 0:i.files[0],t.next=10,(0,me.mQ)(n);case 10:if(u=t.sent,!l&&u.text&&(c=u.text.trim()).startsWith("<svg")&&c.endsWith("</svg>")&&(l=(0,ve.Pn)(c)),!(0,ve.Wr)(l)||u.spreadsheet){t.next=19;break}return d=(0,M.dE)({clientX:bi,clientY:wi},e.state),f=d.x,p=d.y,h=e.createImageElement({sceneX:f,sceneY:p}),e.insertImageElement(h,l),e.initializeImageDimensions(h),e.setState({selectedElementIds:(0,s.Z)({},h.id,!0)}),t.abrupt("return");case 19:if(!e.props.onPaste){t.next=31;break}return t.prev=20,t.next=23,e.props.onPaste(u,n);case 23:if(t.t0=t.sent,!1!==t.t0){t.next=26;break}return t.abrupt("return");case 26:t.next=31;break;case 28:t.prev=28,t.t1=t.catch(20),console.error(t.t1);case 31:u.errorMessage?e.setState({errorMessage:u.errorMessage}):u.spreadsheet?e.setState({pasteDialog:{data:u.spreadsheet,shown:!0}}):u.elements?e.addElementsFromPasteOrLibrary({elements:u.elements,files:u.files||null,position:"cursor"}):u.text&&e.addTextFromPaste(u.text),e.setActiveTool({type:"selection"}),null==n||n.preventDefault();case 34:case"end":return t.stop()}}),t,null,[[20,28]])})));return function(e){return t.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(t){var n=(0,rn.ET)(t.elements,null),o=(0,C.KP)(n),s=(0,i.Z)(o,4),l=s[0],u=s[1],c=s[2],d=s[3],f=(0,M.TE)(l,c)/2,p=(0,M.TE)(u,d)/2,h="object"===(0,r.Z)(t.position)?t.position.clientX:"cursor"===t.position?bi:e.state.width/2+e.state.offsetLeft,m="object"===(0,r.Z)(t.position)?t.position.clientY:"cursor"===t.position?wi:e.state.height/2+e.state.offsetTop,g=(0,M.dE)({clientX:h,clientY:m},e.state),v=g.x-f,y=g.y-p,b=new Map,w=(0,le.wC)(v,y,e.state.gridSize),S=(0,i.Z)(w,2),_=S[0],x=S[1],T=new Map,k=n.map((function(t){var n=(0,C.Sy)(e.state.editingGroupId,b,t,{x:t.x+_-l,y:t.y+x-u});return T.set(t.id,n.id),n}));(0,re.P7)(k,n,T);var E=[].concat((0,a.Z)(e.scene.getElementsIncludingDeleted()),(0,a.Z)(k));(0,A.ek)(E,n,T),t.files&&(e.files=ci(ci({},e.files),t.files)),e.scene.replaceAllElements(E),e.history.resumeRecording(),e.setState((0,P.bO)(ci(ci({},e.state),{},{isLibraryOpen:!(!e.state.isLibraryOpen||!e.device.canDeviceFitSidebar)&&e.state.isLibraryMenuDocked,selectedElementIds:k.reduce((function(e,t){return(0,D.Xh)(t)||(e[t.id]=!0),e}),{}),selectedGroupIds:{}}),e.scene.getNonDeletedElements()),(function(){t.files&&e.addNewImagesToImageCache()})),e.setActiveTool({type:"selection"})},this.setAppState=function(t){e.setState(t)},this.removePointer=function(t){ki&&e.resetContextMenuTimer(),Oi.pointers.delete(t.pointerId)},this.toggleLock=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ui";e.state.activeTool.locked||(0,Qt.L)("toolbar","toggleLock","".concat(t," (").concat(e.device.isMobile?"mobile":"desktop",")")),e.setState((function(t){return{activeTool:ci(ci(ci({},t.activeTool),(0,M.Om)(e.state,t.activeTool.locked?{type:"selection"}:t.activeTool)),{},{locked:!t.activeTool.locked})}}))},this.togglePenMode=function(){e.setState((function(e){return{penMode:!e.penMode}}))},this.toggleZenMode=function(){e.actionManager.executeAction(Bt)},this.scrollToContent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.scene.getNonDeletedElements();e.setState(ci({},(0,S.W)(Array.isArray(t)?t:[t],e.state,e.canvas)))},this.clearToast=function(){e.setState({toastMessage:null})},this.setToastMessage=function(t){e.setState({toastMessage:t})},this.restoreFileFromShare=(0,o.Z)(m().mark((function t(){var n,r,i,a;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,caches.open("web-share-target");case 3:return n=t.sent,t.next=6,n.match("shared-file");case 6:if(!(r=t.sent)){t.next=16;break}return t.next=10,r.blob();case 10:return i=t.sent,a=new File([i],i.name||"",{type:i.type}),e.loadFileToCanvas(a,null),t.next=15,n.delete("shared-file");case 15:window.history.replaceState(null,ne.iC,window.location.pathname);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),e.setState({errorMessage:t.t0.message});case 21:case"end":return t.stop()}}),t,null,[[0,18]])}))),this.addFiles=(0,M.tH)((function(t){var n=t.reduce((function(e,t){return e.set(t.id,t),e}),new Map);e.files=ci(ci({},e.files),Object.fromEntries(n)),e.scene.getNonDeletedElements().forEach((function(t){(0,D.wi)(t)&&n.has(t.fileId)&&(e.imageCache.delete(t.fileId),(0,pn.bI)(t))})),e.scene.informMutation(),e.addNewImagesToImageCache()})),this.updateScene=(0,M.tH)((function(t){t.commitToHistory&&e.history.resumeRecording(),t.appState&&e.setState(t.appState),t.elements&&e.scene.replaceAllElements(t.elements),t.collaborators&&e.setState({collaborators:t.collaborators})})),this.onSceneUpdated=function(){e.setState({})},this.updateCurrentCursorPosition=(0,M.tH)((function(e){bi=e.clientX,wi=e.clientY})),this.onKeyDown=(0,M.tH)((function(t){if("Proxy"in window&&(!t.shiftKey&&/^[A-Z]$/.test(t.key)||t.shiftKey&&/^[a-z]$/.test(t.key))&&(t=new Proxy(t,{get:function(e,n){var r=e[n];return"function"==typeof r?r.bind(e):"key"===n?t.shiftKey?e.key.toUpperCase():e.key.toLowerCase():r}})),!((0,M.s)(t.target)&&t.key!==_.tW.ESCAPE||(0,_.Wl)(t.key)&&(0,M._Z)(t.target)||(t.key===_.tW.QUESTION_MARK&&e.setState({showHelpDialog:!0}),e.actionManager.handleKeyDown(t)||e.state.viewModeEnabled))){if(t[_.tW.CTRL_OR_CMD]&&e.state.isBindingEnabled&&e.setState({isBindingEnabled:!1}),t.code===_.aU.ZERO){var n=!e.state.isLibraryOpen;e.setState({isLibraryOpen:n}),n&&(0,Qt.L)("library","toggleLibrary (open)","keyboard (".concat(e.device.isMobile?"mobile":"desktop",")"))}if((0,_.Wl)(t.key)){var r=e.state.gridSize&&(t.shiftKey?ne.$e:e.state.gridSize)||(t.shiftKey?ne.Iw:ne.$e),i=(0,S.eD)(e.scene.getNonDeletedElements(),e.state,!0),a=0,o=0;t.key===_.tW.ARROW_LEFT?a=-r:t.key===_.tW.ARROW_RIGHT?a=r:t.key===_.tW.ARROW_UP?o=-r:t.key===_.tW.ARROW_DOWN&&(o=r),i.forEach((function(e){(0,O.DR)(e,{x:e.x+a,y:e.y+o}),(0,A.Ww)(e,{simultaneouslyUpdated:i})})),e.maybeSuggestBindingForAll(i),t.preventDefault()}else if(t.key===_.tW.ENTER){var s=(0,S.eD)(e.scene.getNonDeletedElements(),e.state);if(1===s.length&&(0,D.bt)(s[0]))e.state.editingLinearElement&&e.state.editingLinearElement.elementId===s[0].id||(e.history.resumeRecording(),e.setState({editingLinearElement:new I._(s[0],e.scene)}));else if(1===s.length&&!(0,D.bt)(s[0])){var l=s[0];return e.startTextEditing({sceneX:l.x+l.width/2,sceneY:l.y+l.height/2,shouldBind:!0}),void t.preventDefault()}}else if(!t.ctrlKey&&!t.altKey&&!t.metaKey&&null===e.state.draggingElement){var u=function(e){var t=mn.find((function(t,n){return e===(n+1).toString()||t.key&&("string"==typeof t.key?t.key===e:t.key.includes(e))}));return(null==t?void 0:t.value)||null}(t.key);u?(e.state.activeTool.type!==u&&(0,Qt.L)("toolbar",u,"keyboard (".concat(e.device.isMobile?"mobile":"desktop",")")),e.setActiveTool({type:u}),t.stopPropagation()):t.key===_.tW.Q&&(e.toggleLock("keyboard"),t.stopPropagation())}if(t.key===_.tW.SPACE&&0===Oi.pointers.size&&(Si=!0,(0,M.KJ)(e.canvas,ne.oc.GRABBING),t.preventDefault()),!(t.key!==_.tW.G&&t.key!==_.tW.S||t.altKey||t[_.tW.CTRL_OR_CMD])){var c=(0,S.eD)(e.scene.getNonDeletedElements(),e.state);if("selection"===e.state.activeTool.type&&!c.length)return;t.key===_.tW.G&&((0,S.$b)(e.state.activeTool.type)||c.some((function(e){return(0,S.$b)(e.type)})))&&(e.setState({openPopup:"backgroundColorPicker"}),t.stopPropagation()),t.key===_.tW.S&&(e.setState({openPopup:"strokeColorPicker"}),t.stopPropagation())}}})),this.onKeyUp=(0,M.tH)((function(t){if(t.key===_.tW.SPACE&&(e.state.viewModeEnabled?(0,M.KJ)(e.canvas,ne.oc.GRAB):"selection"===e.state.activeTool.type?(0,M.z8)(e.canvas):((0,M.Uk)(e.canvas,e.state),e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Si=!1),t[_.tW.CTRL_OR_CMD]||e.state.isBindingEnabled||e.setState({isBindingEnabled:!0}),(0,_.Wl)(t.key)){var n=(0,S.eD)(e.scene.getNonDeletedElements(),e.state);(0,A.N1)(e.state)?(0,A.el)(n):(0,A.H)(n),e.setState({suggestedBindings:[]})}})),this.setActiveTool=function(t){var n=(0,M.Om)(e.state,t);Si||(0,M.Uk)(e.canvas,e.state),(0,M.wO)(document.activeElement)&&e.focusContainer(),(0,D.dt)(n.type)||e.setState({suggestedBindings:[]}),"image"===n.type&&e.onImageAction(),"selection"!==n.type?e.setState({activeTool:n,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):e.setState({activeTool:n})},this.setCursor=function(t){(0,M.KJ)(e.canvas,t)},this.resetCursor=function(){(0,M.z8)(e.canvas)},this.isTouchScreenMultiTouchGesture=function(){return Oi.pointers.size>=2},this.onGestureStart=(0,M.tH)((function(t){t.preventDefault(),e.isTouchScreenMultiTouchGesture()&&e.setState({selectedElementIds:{}}),Oi.initialScale=e.state.zoom.value})),this.onGestureChange=(0,M.tH)((function(t){if(t.preventDefault(),!e.isTouchScreenMultiTouchGesture()){var n=Oi.initialScale;n&&e.setState((function(e){return ci({},(0,hn.E)({viewportX:bi,viewportY:wi,nextZoom:(0,S.j)(n*t.scale)},e))}))}})),this.onGestureEnd=(0,M.tH)((function(t){t.preventDefault(),e.isTouchScreenMultiTouchGesture()&&e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds}),Oi.initialScale=null})),this.startTextEditing=function(t){var n,r,i,o,s=t.sceneX,l=t.sceneY,u=t.shouldBind,c=t.insertAtParentCenter,d=(void 0===c||c)&&e.getTextWysiwygSnappedToCenterPosition(s,l,e.state,e.canvas,window.devicePixelRatio),f=null,p=null,h=(0,S.eD)(e.scene.getNonDeletedElements(),e.state);if(f=1===h.length?(0,C.iB)(h[0])?h[0]:(0,D.mG)(h[0],!1)?(0,re.WJ)(h[0]):e.getTextElementAtPosition(s,l):e.getTextElementAtPosition(s,l),p||f||!u&&!d||(p=(0,S.OW)(e.scene.getNonDeletedElements().filter((function(e){return(0,D.mG)(e,!1)&&!(0,re.WJ)(e)})),s,l)),!f&&p){var m={fontSize:e.state.currentItemFontSize,fontFamily:e.state.currentItemFontFamily},g=(0,re.AT)((0,M.mO)(m)),v=(0,re.w_)((0,M.mO)(m)),y=Math.max(p.height,v),b=Math.max(p.width,g);(0,O.DR)(p,{height:y,width:b}),s=p.x+b/2,l=p.y+y/2,d&&(d=e.getTextWysiwygSnappedToCenterPosition(s,l,e.state,e.canvas,window.devicePixelRatio))}var w=f||(0,C.VL)({x:d?d.elementCenterX:s,y:d?d.elementCenterY:l,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemStrokeSharpness,text:"",fontSize:e.state.currentItemFontSize,fontFamily:e.state.currentItemFontFamily,textAlign:d?"center":e.state.currentItemTextAlign,verticalAlign:d?ne.oX.MIDDLE:ne.hs,containerId:null!==(n=null===(r=p)||void 0===r?void 0:r.id)&&void 0!==n?n:void 0,groupIds:null!==(i=null===(o=p)||void 0===o?void 0:o.groupIds)&&void 0!==i?i:[],locked:!1});e.setState({editingElement:w}),f||(e.scene.replaceAllElements([].concat((0,a.Z)(e.scene.getElementsIncludingDeleted()),[w])),d||(0,O.DR)(w,{y:w.y-w.baseline/2})),e.setState({editingElement:w}),e.handleTextWysiwyg(w,{isExistingElement:!!f})},this.handleCanvasDoubleClick=function(t){if(!e.state.multiElement&&"selection"===e.state.activeTool.type){var n=(0,S.eD)(e.scene.getNonDeletedElements(),e.state);if(1===n.length&&(0,D.bt)(n[0]))e.state.editingLinearElement&&e.state.editingLinearElement.elementId===n[0].id||(e.history.resumeRecording(),e.setState({editingLinearElement:new I._(n[0],e.scene)}));else{(0,M.z8)(e.canvas);var r=(0,M.dE)(t,e.state),i=r.x,a=r.y;if((0,P.iJ)(e.state).length>0){var o=e.getElementAtPosition(i,a),l=o&&(0,P.YS)(o,e.state.selectedGroupIds);if(l)return void e.setState((function(t){return(0,P.bO)(ci(ci({},t),{},{editingGroupId:l,selectedElementIds:(0,s.Z)({},o.id,!0),selectedGroupIds:{}}),e.scene.getNonDeletedElements())}))}if((0,M.z8)(e.canvas),!t[_.tW.CTRL_OR_CMD]&&!e.state.viewModeEnabled){var u=(0,S.eD)(e.scene.getNonDeletedElements(),e.state);if(1===u.length){var c=u[0];(0,D.Xo)(c)&&(i=c.x+c.width/2,a=c.y+c.height/2)}e.startTextEditing({sceneX:i,sceneY:a,shouldBind:!1,insertAtParentCenter:!t.altKey})}}}},this.getElementLinkAtPosition=function(t,n){var r=e.scene.getNonDeletedElements().slice().reverse(),i=1/0;return r.find((function(r,a){return n&&r.id===n.id&&(i=a),r.link&&a<=i&&(0,Wt.wq)(r,e.state,[t.x,t.y],e.device.isMobile)}))},this.redirectToLink=function(t,n){var r=(0,le.LW)(e.lastPointerDown.clientX,e.lastPointerDown.clientY,e.lastPointerUp.clientX,e.lastPointerUp.clientY);if(!(!e.hitLinkElement||n&&r>ne.f||!n&&0!==r)){var i=(0,M.dE)(e.lastPointerDown,e.state),a=(0,Wt.wq)(e.hitLinkElement,e.state,[i.x,i.y],e.device.isMobile),o=(0,M.dE)(e.lastPointerUp,e.state),s=(0,Wt.wq)(e.hitLinkElement,e.state,[o.x,o.y],e.device.isMobile);if(a&&s){var l,u,c=e.hitLinkElement.link;if(c&&(e.props.onLinkOpen&&(u=(0,M.ag)(ne.Ks.EXCALIDRAW_LINK,t.nativeEvent),e.props.onLinkOpen(e.hitLinkElement,u)),null===(l=u)||void 0===l||!l.defaultPrevented)){var d=(0,Wt.q$)(c)?"_self":"_blank",f=window.open(void 0,d);f&&(f.opener=null,f.location=(0,Wt.$u)(c))}}}},this.handleCanvasPointerMove=function(t){e.savePointer(t.clientX,t.clientY,e.state.cursorButton),Oi.pointers.has(t.pointerId)&&Oi.pointers.set(t.pointerId,{x:t.clientX,y:t.clientY});var n=Oi.initialScale;if(2===Oi.pointers.size&&Oi.lastCenter&&n&&Oi.initialDistance){var r=an(Oi.pointers),i=r.x-Oi.lastCenter.x,o=r.y-Oi.lastCenter.y;Oi.lastCenter=r;var s=on(Array.from(Oi.pointers.values())),l="freedraw"===e.state.activeTool.type&&e.state.penMode?1:s/Oi.initialDistance,u=l?(0,S.j)(n*l):e.state.zoom.value;e.setState((function(e){var t=(0,hn.E)({viewportX:r.x,viewportY:r.y,nextZoom:u},e);return{zoom:t.zoom,scrollX:t.scrollX+i/u,scrollY:t.scrollY+o/u,shouldCacheIgnoreZoom:!0}})),e.resetShouldCacheIgnoreZoomDebounced()}else Oi.lastCenter=Oi.initialDistance=Oi.initialScale=null;if(!(Si||_i||xi)){var c=(0,S._4)(Ti,t.clientX-e.state.offsetLeft,t.clientY-e.state.offsetTop).isOverEither;e.state.draggingElement||e.state.multiElement||(c?(0,M.z8)(e.canvas):(0,M.Uk)(e.canvas,e.state));var d=(0,M.dE)(t,e.state),f=d.x,p=d.y;if(e.state.editingLinearElement&&!e.state.editingLinearElement.isDragging){var h=I._.handlePointerMove(t,f,p,e.state.editingLinearElement,e.state.gridSize);h!==e.state.editingLinearElement&&e.setState({editingLinearElement:h}),null!=h.lastUncommittedPoint?e.maybeSuggestBindingAtCursor(d):e.setState({suggestedBindings:[]})}if((0,D.Lx)(e.state.activeTool.type)){var m=e.state.draggingElement;(0,D.Mn)(m,!1)?e.maybeSuggestBindingsForLinearElementAtCoords(m,[d],e.state.startBoundElement):e.maybeSuggestBindingAtCursor(d)}if(e.state.multiElement){var g=e.state.multiElement,v=g.x,y=g.y,b=g.points,w=g.lastCommittedPoint,x=b[b.length-1];return(0,M.Uk)(e.canvas,e.state),void(x===w?(0,le.LW)(f-v,p-y,x[0],x[1])>=ne.qx?(0,O.DR)(g,{points:[].concat((0,a.Z)(b),[[f-v,p-y]])}):(0,M.KJ)(e.canvas,ne.oc.POINTER):b.length>2&&w&&(0,le.LW)(f-v,p-y,w[0],w[1])<ne.qx?((0,M.KJ)(e.canvas,ne.oc.POINTER),(0,O.DR)(g,{points:b.slice(0,-1)})):((0,le.g6)(b,e.state.zoom.value)&&(0,M.KJ)(e.canvas,ne.oc.POINTER),(0,O.DR)(g,{points:[].concat((0,a.Z)(b.slice(0,-1)),[[f-v,p-y]])})))}if(!(Boolean(t.buttons)||"selection"!==e.state.activeTool.type&&"text"!==e.state.activeTool.type&&"eraser"!==e.state.activeTool.type)){var T=e.scene.getNonDeletedElements(),k=(0,S.eD)(T,e.state);if(1!==k.length||c||e.state.editingLinearElement){if(k.length>1&&!c){var E=(0,C.n2)((0,C.KP)(k),f,p,e.state.zoom,t.pointerType);if(E)return void(0,M.KJ)(e.canvas,(0,C.Un)({transformHandleType:E}))}}else{var P=(0,C.jt)(T,e.state,f,p,e.state.zoom,t.pointerType);if(P&&P.transformHandleType)return void(0,M.KJ)(e.canvas,(0,C.Un)(P))}var A=e.getElementAtPosition(d.x,d.y);if(e.hitLinkElement=e.getElementLinkAtPosition(d,A),!(0,tn.EN)(e.state))if(e.hitLinkElement&&!e.state.selectedElementIds[e.hitLinkElement.id])(0,M.KJ)(e.canvas,ne.oc.POINTER),(0,Wt.Pp)(e.hitLinkElement,e.state);else if((0,Wt.lV)(),A&&A.link&&e.state.selectedElementIds[A.id]&&!e.contextMenuOpen&&!e.state.showHyperlinkPopup)e.setState({showHyperlinkPopup:"info"});else if("text"===e.state.activeTool.type)(0,M.KJ)(e.canvas,(0,C.iB)(A)?ne.oc.TEXT:ne.oc.CROSSHAIR);else if(e.state.viewModeEnabled)(0,M.KJ)(e.canvas,ne.oc.GRAB);else if(c)(0,M.KJ)(e.canvas,ne.oc.AUTO);else if(e.state.editingLinearElement){var R=I._.getElement(e.state.editingLinearElement.elementId);R&&(0,oi.Qu)(R,e.state,[d.x,d.y])?(0,M.KJ)(e.canvas,ne.oc.MOVE):(0,M.KJ)(e.canvas,ne.oc.AUTO)}else t[_.tW.CTRL_OR_CMD]||!A&&!e.isHittingCommonBoundingBoxOfSelectedElements(d,k)||null!=A&&A.locked?(0,M.KJ)(e.canvas,ne.oc.AUTO):(0,M.KJ)(e.canvas,ne.oc.MOVE)}}},this.handleEraser=function(t,n,r){for(var i=function(e){e.forEach((function(e){e.locked||(a.push(e.id),t.altKey?n.elementIdsToErase[e.id]&&n.elementIdsToErase[e.id].erase&&(n.elementIdsToErase[e.id].erase=!1):n.elementIdsToErase[e.id]||(n.elementIdsToErase[e.id]={erase:!0,opacity:e.opacity}))}))},a=[],o=(0,le.LW)(n.lastCoords.x,n.lastCoords.y,r.x,r.y),s=10/e.state.zoom.value,l=ci({},n.lastCoords),u=0;u<=o&&(i(e.getElementsAtPosition(l.x,l.y)),u!==o);){var c=(u=Math.min(u+s,o))/o,d=(1-c)*l.x+c*r.x,f=(1-c)*l.y+c*r.y;l.x=d,l.y=f}var p=e.scene.getElementsIncludingDeleted().map((function(e){var r=(0,D.Xh)(e)&&a.includes(e.containerId)?e.containerId:e.id;if(a.includes(r)){if(!t.altKey)return(0,O.BE)(e,{opacity:ne.xY});if(n.elementIdsToErase[r]&&!1===n.elementIdsToErase[r].erase)return(0,O.BE)(e,{opacity:n.elementIdsToErase[r].opacity})}return e}));e.scene.replaceAllElements(p),n.lastCoords.x=r.x,n.lastCoords.y=r.y},this.handleTouchMove=function(e){Ei=!0},this.handleCanvasPointerDown=function(t){var n,r,i=document.getSelection();if(null!=i&&i.anchorNode&&i.removeAllRanges(),e.maybeOpenContextMenuAfterPointerDownOnTouchDevices(t),e.maybeCleanupAfterMissingPointerUp(t),e.state.penDetected||"pen"!==t.pointerType||e.setState((function(e){return{penMode:!0,penDetected:!0}})),!e.device.isTouchScreen&&["pen","touch"].includes(t.pointerType)&&(e.device=(0,M.v4)(e.device,{isTouchScreen:!0})),!_i&&(e.lastPointerDown=t,e.setState({lastPointerDownWith:t.pointerType,cursorButton:"down"}),e.savePointer(t.clientX,t.clientY,"down"),e.updateGestureOnPointerDown(t),!e.handleCanvasPanUsingWheelOrSpaceDrag(t)&&!(t.button!==ne.Oh.MAIN&&t.button!==ne.Oh.TOUCH||Oi.pointers.size>1))){var a=e.initialPointerDownState(t);if(!e.handleDraggingScrollBar(t,a)&&(e.contextMenuOpen=!1,e.clearSelectionIfNotUsingSelection(),e.updateBindingEnabledOnPointerMove(t),!e.handleSelectionOnPointerDown(t,a)&&(!e.state.penMode||"touch"!==t.pointerType||"selection"===e.state.activeTool.type||"text"===e.state.activeTool.type||"image"===e.state.activeTool.type)))if("text"!==e.state.activeTool.type){if("arrow"===e.state.activeTool.type||"line"===e.state.activeTool.type)e.handleLinearElementOnPointerDown(t,e.state.activeTool.type,a);else if("image"===e.state.activeTool.type){(0,M.KJ)(e.canvas,ne.oc.CROSSHAIR);var o=e.state.pendingImageElementId&&e.scene.getElement(e.state.pendingImageElementId);if(!o)return;e.setState({draggingElement:o,editingElement:o,pendingImageElementId:null,multiElement:null});var s=(0,M.dE)(t,e.state),l=s.x,u=s.y;(0,O.DR)(o,{x:l,y:u})}else"freedraw"===e.state.activeTool.type?e.handleFreeDrawElementOnPointerDown(t,e.state.activeTool.type,a):"custom"===e.state.activeTool.type?(0,M.KJ)(e.canvas,ne.oc.AUTO):"eraser"!==e.state.activeTool.type&&e.createGenericElementOnPointerDown(e.state.activeTool.type,a);null===(n=e.props)||void 0===n||null===(r=n.onPointerDown)||void 0===r||r.call(n,e.state.activeTool,a);var c=e.onPointerMoveFromPointerDownHandler(a),d=e.onPointerUpFromPointerDownHandler(a),f=e.onKeyDownFromPointerDownHandler(a),p=e.onKeyUpFromPointerDownHandler(a);Ci=d,e.state.viewModeEnabled||(window.addEventListener(ne.Ks.POINTER_MOVE,c),window.addEventListener(ne.Ks.POINTER_UP,d),window.addEventListener(ne.Ks.KEYDOWN,f),window.addEventListener(ne.Ks.KEYUP,p),a.eventListeners.onMove=c,a.eventListeners.onUp=d,a.eventListeners.onKeyUp=p,a.eventListeners.onKeyDown=f)}else e.handleTextOnPointerDown(t,a)}},this.handleCanvasPointerUp=function(t){if(e.lastPointerUp=t,e.device.isTouchScreen){var n=(0,M.dE)({clientX:t.clientX,clientY:t.clientY},e.state),r=e.getElementAtPosition(n.x,n.y);e.hitLinkElement=e.getElementLinkAtPosition(n,r)}e.hitLinkElement&&!e.state.selectedElementIds[e.hitLinkElement.id]&&e.redirectToLink(t,e.device.isTouchScreen),e.removePointer(t)},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(t){"touch"===t.pointerType&&(Ei=!1,ki?Ei=!0:ki=window.setTimeout((function(){ki=0,Ei||e.handleCanvasContextMenu(t)}),ne.nM))},this.resetContextMenuTimer=function(){clearTimeout(ki),ki=0,Ei=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(t){if(!(Oi.pointers.size<=1&&(t.button===ne.Oh.WHEEL||t.button===ne.Oh.MAIN&&Si||e.state.viewModeEnabled))||(0,C.iB)(e.state.editingElement))return!1;_i=!0,t.preventDefault();var n=!1,r=/Linux/.test(window.navigator.platform);(0,M.KJ)(e.canvas,ne.oc.GRABBING);var i=t.clientX,a=t.clientY,o=(0,M.$9)((function(t){var o=i-t.clientX,s=a-t.clientY;if(i=t.clientX,a=t.clientY,r&&!n&&(Math.abs(o)>1||Math.abs(s)>1)){n=!0;var l=function e(t){document.body.removeEventListener(ne.Ks.PASTE,e),t.stopPropagation()};document.body.addEventListener(ne.Ks.PASTE,l),window.addEventListener(ne.Ks.POINTER_UP,(function e(){setTimeout((function(){document.body.removeEventListener(ne.Ks.PASTE,l),window.removeEventListener(ne.Ks.POINTER_UP,e)}),100)}))}e.setState({scrollX:e.state.scrollX-o/e.state.zoom.value,scrollY:e.state.scrollY-s/e.state.zoom.value})})),s=(0,M.tH)(Ci=function(){Ci=null,_i=!1,Si||(e.state.viewModeEnabled?(0,M.KJ)(e.canvas,ne.oc.GRAB):(0,M.Uk)(e.canvas,e.state)),e.setState({cursorButton:"up"}),e.savePointer(t.clientX,t.clientY,"up"),window.removeEventListener(ne.Ks.POINTER_MOVE,o),window.removeEventListener(ne.Ks.POINTER_UP,s),window.removeEventListener(ne.Ks.BLUR,s),o.flush()});return window.addEventListener(ne.Ks.BLUR,s),window.addEventListener(ne.Ks.POINTER_MOVE,o,{passive:!0}),window.addEventListener(ne.Ks.POINTER_UP,s),!0},this.clearSelectionIfNotUsingSelection=function(){"selection"!==e.state.activeTool.type&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})},this.handleSelectionOnPointerDown=function(t,n){if("selection"===e.state.activeTool.type){var r=e.scene.getNonDeletedElements(),i=(0,S.eD)(r,e.state);if(1!==i.length||e.state.editingLinearElement)i.length>1&&(n.resize.handleType=(0,C.n2)((0,C.KP)(i),n.origin.x,n.origin.y,e.state.zoom,t.pointerType));else{var a=(0,C.jt)(r,e.state,n.origin.x,n.origin.y,e.state.zoom,t.pointerType);null!=a&&(e.setState({resizingElement:a.element}),n.resize.handleType=a.transformHandleType)}if(n.resize.handleType)(0,M.KJ)(e.canvas,(0,C.Un)({transformHandleType:n.resize.handleType})),n.resize.isResizing=!0,n.resize.offset=(0,M.AK)((0,C.xx)(n.resize.handleType,i,n.origin.x,n.origin.y)),1===i.length&&(0,D.bt)(i[0])&&2===i[0].points.length&&(n.resize.arrowDirection=(0,C.T)(n.resize.handleType,i[0]));else{var o;if(e.state.editingLinearElement){var l=I._.handlePointerDown(t,e.state,(function(t){return e.setState(t)}),e.history,n.origin);if(l.hitElement&&(n.hit.element=l.hitElement),l.didAddPoint)return!0}if(n.hit.element=null!==(o=n.hit.element)&&void 0!==o?o:e.getElementAtPosition(n.origin.x,n.origin.y),n.hit.element){if((0,Wt.wq)(n.hit.element,e.state,[n.origin.x,n.origin.y],e.device.isMobile))return!1;n.hit.hasHitElementInside=(0,oi.Qu)(n.hit.element,e.state,[n.origin.x,n.origin.y])}n.hit.allHitElements=e.getElementsAtPosition(n.origin.x,n.origin.y);var u=n.hit.element,c=n.hit.allHitElements.some((function(t){return e.isASelectedElement(t)}));if(null!==u&&c||t.shiftKey||n.hit.hasHitCommonBoundingBoxOfSelectedElements||e.clearSelection(u),e.state.editingLinearElement)e.setState({selectedElementIds:(0,s.Z)({},e.state.editingLinearElement.elementId,!0)});else if(null!=u){if(t[_.tW.CTRL_OR_CMD])return e.state.selectedElementIds[u.id]||(n.hit.wasAddedToSelection=!0),e.setState((function(t){return ci(ci({},(0,P.iE)(t,u)),{},{previousSelectedElementIds:e.state.selectedElementIds})})),!1;e.state.selectedElementIds[u.id]||(e.state.editingGroupId&&!(0,P.Nd)(u,e.state.editingGroupId)&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),c||n.hit.hasHitCommonBoundingBoxOfSelectedElements||(e.setState((function(t){return(0,P.bO)(ci(ci({},t),{},{selectedElementIds:ci(ci({},t.selectedElementIds),{},(0,s.Z)({},u.id,!0)),showHyperlinkPopup:!!u.link&&"info"}),e.scene.getNonDeletedElements())})),n.hit.wasAddedToSelection=!0))}e.setState({previousSelectedElementIds:e.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(t,n){if(!(0,C.iB)(e.state.editingElement)){var r=n.origin.x,i=n.origin.y,a=e.getElementAtPosition(r,i,{includeBoundTextElement:!0});(0,D.Xo)(a)&&(r=a.x+a.width/2,i=a.y+a.height/2),e.startTextEditing({sceneX:r,sceneY:i,shouldBind:!1,insertAtParentCenter:!t.altKey}),(0,M.z8)(e.canvas),e.state.activeTool.locked||e.setState({activeTool:(0,M.Om)(e.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(t,n,r){var o=(0,le.wC)(r.origin.x,r.origin.y,null),l=(0,i.Z)(o,2),u=l[0],c=l[1],d=(0,rt.KE)({type:n,x:u,y:c,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemLinearStrokeSharpness,simulatePressure:.5===t.pressure,locked:!1});e.setState((function(e){return{selectedElementIds:ci(ci({},e.selectedElementIds),{},(0,s.Z)({},d.id,!1))}}));var f=d.simulatePressure?d.pressures:[].concat((0,a.Z)(d.pressures),[t.pressure]);(0,O.DR)(d,{points:[[0,0]],pressures:f});var p=(0,A.Y9)(r.origin,e.scene);e.scene.replaceAllElements([].concat((0,a.Z)(e.scene.getElementsIncludingDeleted()),[d])),e.setState({draggingElement:d,editingElement:d,startBoundElement:p,suggestedBindings:[]})},this.createImageElement=function(t){var n=t.sceneX,r=t.sceneY,a=(0,le.wC)(n,r,e.state.gridSize),o=(0,i.Z)(a,2),s=o[0],l=o[1];return(0,C.vw)({type:"image",x:s,y:l,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemLinearStrokeSharpness,locked:!1})},this.handleLinearElementOnPointerDown=function(t,n,r){if(e.state.multiElement){var o=e.state.multiElement;if("line"===o.type&&(0,le.g6)(o.points,e.state.zoom.value))return(0,O.DR)(o,{lastCommittedPoint:o.points[o.points.length-1]}),void e.actionManager.executeAction(de);var l=o.x,u=o.y,c=o.lastCommittedPoint;if(o.points.length>1&&c&&(0,le.LW)(r.origin.x-l,r.origin.y-u,c[0],c[1])<ne.qx)return void e.actionManager.executeAction(de);e.setState((function(e){return{selectedElementIds:ci(ci({},e.selectedElementIds),{},(0,s.Z)({},o.id,!0))}})),(0,O.DR)(o,{lastCommittedPoint:o.points[o.points.length-1]}),(0,M.KJ)(e.canvas,ne.oc.POINTER)}else{var d=(0,le.wC)(r.origin.x,r.origin.y,e.state.gridSize),f=(0,i.Z)(d,2),p=f[0],h=f[1],m=e.state,g=m.currentItemStartArrowhead,v=m.currentItemEndArrowhead,y="arrow"===n?[g,v]:[null,null],b=(0,i.Z)(y,2),w=b[0],S=b[1],_=(0,C.y8)({type:n,x:p,y:h,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemLinearStrokeSharpness,startArrowhead:w,endArrowhead:S,locked:!1});e.setState((function(e){return{selectedElementIds:ci(ci({},e.selectedElementIds),{},(0,s.Z)({},_.id,!1))}})),(0,O.DR)(_,{points:[].concat((0,a.Z)(_.points),[[0,0]])});var x=(0,A.Y9)(r.origin,e.scene);e.scene.replaceAllElements([].concat((0,a.Z)(e.scene.getElementsIncludingDeleted()),[_])),e.setState({draggingElement:_,editingElement:_,startBoundElement:x,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(t,n){var r=(0,le.wC)(n.origin.x,n.origin.y,e.state.gridSize),o=(0,i.Z)(r,2),s=o[0],l=o[1],u=(0,C.Up)({type:t,x:s,y:l,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemStrokeSharpness,locked:!1});"selection"===u.type?e.setState({selectionElement:u,draggingElement:u}):(e.scene.replaceAllElements([].concat((0,a.Z)(e.scene.getElementsIncludingDeleted()),[u])),e.setState({multiElement:null,draggingElement:u,editingElement:u}))},this.restoreReadyToEraseElements=function(t){var n=e.scene.getElementsIncludingDeleted().map((function(e){return t.elementIdsToErase[e.id]&&t.elementIdsToErase[e.id].erase?(0,O.BE)(e,{opacity:t.elementIdsToErase[e.id].opacity}):(0,D.Xh)(e)&&t.elementIdsToErase[e.containerId]&&t.elementIdsToErase[e.containerId].erase?(0,O.BE)(e,{opacity:t.elementIdsToErase[e.containerId].opacity}):e}));e.scene.replaceAllElements(n)},this.eraseElements=function(t){var n=e.scene.getElementsIncludingDeleted().map((function(e){return t.elementIdsToErase[e.id]&&t.elementIdsToErase[e.id].erase||(0,D.Xh)(e)&&t.elementIdsToErase[e.containerId]&&t.elementIdsToErase[e.containerId].erase?(0,O.BE)(e,{isDeleted:!0}):e}));e.history.resumeRecording(),e.scene.replaceAllElements(n)},this.initializeImage=function(){var t=(0,o.Z)(m().mark((function t(n){var r,i,a,l,u,c,d,f,p,h,g,v,y,b,w;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=n.imageFile,u=n.imageElement,c=n.showCursorImagePreview,d=void 0!==c&&c,(0,ve.Wr)(l)){t.next=3;break}throw new Error((0,k.t)("errors.unsupportedFileType"));case 3:if(f=l.type,(0,M.KJ)(e.canvas,"wait"),f!==ne.LO.svg){t.next=23;break}return t.prev=6,t.t0=ve.Pn,t.t1=ri.bp,t.next=11,l.text();case 11:return t.t2=t.sent,t.next=14,(0,t.t1)(t.t2);case 14:t.t3=t.sent,t.t4=l.name,l=(0,t.t0)(t.t3,t.t4),t.next=23;break;case 19:throw t.prev=19,t.t5=t.catch(6),console.warn(t.t5),new Error((0,k.t)("errors.svgImageInsertError"));case 23:return t.next=25,(null===(r=(i=e.props).generateIdForFile)||void 0===r?void 0:r.call(i,l))||(0,ve.tW)(l);case 25:if(p=t.sent){t.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,k.t)("errors.imageInsertError"));case 29:if(null!=(h=e.files[p])&&h.dataURL){t.next=42;break}return t.prev=31,t.next=34,(0,ve.Tu)(l,{maxWidthOrHeight:ne.h6});case 34:l=t.sent,t.next=40;break;case 37:t.prev=37,t.t6=t.catch(31),console.error("error trying to resing image file on insertion",t.t6);case 40:if(!(l.size>ne.$n)){t.next=42;break}throw new Error((0,k.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(ne.$n/1024/1024),"MB")}));case 42:if(d&&(v=null===(g=e.files[p])||void 0===g?void 0:g.dataURL,y=v&&(0,ve.KG)(v),e.setImagePreviewCursor(y||l)),t.t7=null===(a=e.files[p])||void 0===a?void 0:a.dataURL,t.t7){t.next=48;break}return t.next=47,(0,ve.Sf)(l);case 47:t.t7=t.sent;case 48:return b=t.t7,w=(0,O.DR)(u,{fileId:p},!1),t.abrupt("return",new Promise(function(){var t=(0,o.Z)(m().mark((function t(n,r){var i,a;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.files=ci(ci({},e.files),{},(0,s.Z)({},p,{mimeType:f,id:p,dataURL:b,created:Date.now()})),a=e.imageCache.get(p)){t.next=7;break}return e.addNewImagesToImageCache(),t.next=7,e.updateImageCache([w]);case 7:if(!((null==a?void 0:a.image)instanceof Promise)){t.next=10;break}return t.next=10,a.image;case 10:e.state.pendingImageElementId!==w.id&&(null===(i=e.state.draggingElement)||void 0===i?void 0:i.id)!==w.id&&e.initializeImageDimensions(w,!0),n(w),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.error(t.t0),r(new Error((0,k.t)("errors.imageInsertError")));case 18:return t.prev=18,d||(0,M.z8)(e.canvas),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[0,14,18,21]])})));return function(e,n){return t.apply(this,arguments)}}()));case 51:case"end":return t.stop()}}),t,null,[[6,19],[31,37]])})));return function(e){return t.apply(this,arguments)}}(),this.insertImageElement=function(){var t=(0,o.Z)(m().mark((function t(n,r,i){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.scene.replaceAllElements([].concat((0,a.Z)(e.scene.getElementsIncludingDeleted()),[n])),t.prev=1,t.next=4,e.initializeImage({imageFile:r,imageElement:n,showCursorImagePreview:i});case 4:t.next=11;break;case 6:t.prev=6,t.t0=t.catch(1),(0,O.DR)(n,{isDeleted:!0}),e.actionManager.executeAction(de),e.setState({errorMessage:t.t0.message||(0,k.t)("errors.imageInsertError")});case 11:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n,r){return t.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var t=(0,o.Z)(m().mark((function t(n){var r,i,a,o,s,l,u;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=96,t.next=3,(0,ve.Tu)(n,{maxWidthOrHeight:r});case 3:return i=t.sent,t.next=6,(0,ve.Sf)(i);case 6:if(a=t.sent,n.type!==ne.LO.svg){t.next=20;break}return t.next=10,(0,ri.PK)(a);case 10:o=t.sent,s=Math.min(o.height,r),(l=s*(o.width/o.height))>r&&(s=(l=r)*(o.height/o.width)),(u=document.createElement("canvas")).height=s,u.width=l,u.getContext("2d").drawImage(o,0,0,l,s),a=u.toDataURL(ne.LO.svg);case 20:e.state.pendingImageElementId&&(0,M.KJ)(e.canvas,"url(".concat(a,") 4 4, auto"));case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.onImageAction=(0,o.Z)(m().mark((function t(){var n,r,i,a,o,l,u,c,d,f=arguments;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.length>0&&void 0!==f[0]?f[0]:{insertOnCanvasDirectly:!1},r=n.insertOnCanvasDirectly,t.prev=1,i=e.state.width/2+e.state.offsetLeft,a=e.state.height/2+e.state.offsetTop,o=(0,M.dE)({clientX:i,clientY:a},e.state),l=o.x,u=o.y,t.next=7,(0,ye.I$)({description:"Image",extensions:["jpg","png","svg","gif"]});case 7:c=t.sent,d=e.createImageElement({sceneX:l,sceneY:u}),r?(e.insertImageElement(d,c),e.initializeImageDimensions(d),e.setState({selectedElementIds:(0,s.Z)({},d.id,!0)},(function(){e.actionManager.executeAction(de)}))):e.setState({pendingImageElementId:d.id},(function(){e.insertImageElement(d,c,!0)})),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),"AbortError"!==t.t0.name?console.error(t.t0):console.warn(t.t0),e.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,M.Om)(e.state,{type:"selection"})},(function(){e.actionManager.executeAction(de)}));case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),this.initializeImageDimensions=function(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(0,D.wi)(t)&&(null===(n=e.imageCache.get(t.fileId))||void 0===n?void 0:n.image);if(!i||i instanceof Promise){if(t.width<ne.f/e.state.zoom.value&&t.height<ne.f/e.state.zoom.value){var a=100/e.state.zoom.value;(0,O.DR)(t,{x:t.x-a/2,y:t.y-a/2,width:a,height:a})}}else if(r||t.width<ne.f/e.state.zoom.value&&t.height<ne.f/e.state.zoom.value){var o=Math.max(e.state.height-120,160),s=Math.min(o,Math.floor(.5*e.state.height)/e.state.zoom.value),l=Math.min(i.naturalHeight,s),u=l*(i.naturalWidth/i.naturalHeight),c=t.x+t.width/2-u/2,d=t.y+t.height/2-l/2;(0,O.DR)(t,{x:c,y:d,width:u,height:l})}},this.updateImageCache=function(){var t=(0,o.Z)(m().mark((function t(n){var r,i,a,o,s,l,u,c=arguments;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:e.files,t.next=3,(0,ri.Xx)({imageCache:e.imageCache,fileIds:n.map((function(e){return e.fileId})),files:r});case 3:if(i=t.sent,a=i.updatedFiles,o=i.erroredFiles,a.size||o.size){s=si(n);try{for(s.s();!(l=s.n()).done;)u=l.value,a.has(u.fileId)&&(0,pn.bI)(u)}catch(e){s.e(e)}finally{s.f()}}return o.size&&e.scene.replaceAllElements(e.scene.getElementsIncludingDeleted().map((function(e){return(0,D.wi)(e)&&o.has(e.fileId)?(0,O.BE)(e,{status:"error"}):e}))),t.abrupt("return",{updatedFiles:a,erroredFiles:o});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,o.Z)(m().mark((function t(){var n,r,i,a=arguments;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>0&&void 0!==a[0]?a[0]:(0,ri.oA)(e.scene.getNonDeletedElements()),r=a.length>1&&void 0!==a[1]?a[1]:e.files,!(i=n.filter((function(t){return!t.isDeleted&&!e.imageCache.has(t.fileId)}))).length){t.next=9;break}return t.next=6,e.updateImageCache(i,r);case 6:t.sent.updatedFiles.size&&e.scene.informMutation();case 9:case"end":return t.stop()}}),t)}))),this.scheduleImageRefresh=ai()((function(){e.addNewImagesToImageCache()}),ne.LL),this.updateBindingEnabledOnPointerMove=function(t){var n=(0,A.cz)(t);e.state.isBindingEnabled!==n&&e.setState({isBindingEnabled:n})},this.maybeSuggestBindingAtCursor=function(t){var n=(0,A.Y9)(t,e.scene);e.setState({suggestedBindings:null!=n?[n]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(t,n,r){if(n.length){var i=n.reduce((function(n,i){var a=(0,A.Y9)(i,e.scene);return null==a||(0,A.DK)(t,null==r?void 0:r.id,a)||n.push(a),n}),[]);e.setState({suggestedBindings:i})}},this.handleCanvasRef=function(t){var n,r,i;null!==t?(e.canvas=t,e.rc=y.Z.canvas(e.canvas),e.canvas.addEventListener(ne.Ks.WHEEL,e.handleWheel,{passive:!1}),e.canvas.addEventListener(ne.Ks.TOUCH_START,e.onTapStart),e.canvas.addEventListener(ne.Ks.TOUCH_END,e.onTapEnd)):(null===(n=e.canvas)||void 0===n||n.removeEventListener(ne.Ks.WHEEL,e.handleWheel),null===(r=e.canvas)||void 0===r||r.removeEventListener(ne.Ks.TOUCH_START,e.onTapStart),null===(i=e.canvas)||void 0===i||i.removeEventListener(ne.Ks.TOUCH_END,e.onTapEnd))},this.handleAppOnDrop=function(){var t=(0,o.Z)(m().mark((function t(n){var r,i,a,o,l,u,c,d,f,p;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,ve.bv)(n);case 2:if(r=t.sent,i=r.file,a=r.fileHandle,t.prev=5,!(0,ve.Wr)(i)){t.next=26;break}if((null==i?void 0:i.type)!==ne.LO.png&&(null==i?void 0:i.type)!==ne.LO.svg){t.next=20;break}return t.prev=8,t.next=11,(0,ve.cT)(i,e.state,e.scene.getElementsIncludingDeleted(),a);case 11:return o=t.sent,e.syncActionResult(ci(ci({},o),{},{appState:ci(ci({},o.appState||e.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),t.abrupt("return");case 16:if(t.prev=16,t.t0=t.catch(8),"EncodingError"===t.t0.name){t.next=20;break}throw t.t0;case 20:return l=(0,M.dE)(n,e.state),u=l.x,c=l.y,d=e.createImageElement({sceneX:u,sceneY:c}),e.insertImageElement(d,i),e.initializeImageDimensions(d),e.setState({selectedElementIds:(0,s.Z)({},d.id,!0)}),t.abrupt("return");case 26:t.next=31;break;case 28:return t.prev=28,t.t1=t.catch(5),t.abrupt("return",e.setState({isLoading:!1,errorMessage:t.t1.message}));case 31:if(!(f=n.dataTransfer.getData(ne.LO.excalidrawlib))||"string"!=typeof f){t.next=35;break}try{p=(0,ve.wf)(f),e.addElementsFromPasteOrLibrary({elements:(0,nn.WV)(p),position:n,files:null})}catch(t){e.setState({errorMessage:t.message})}return t.abrupt("return");case 35:if(!i){t.next=38;break}return t.next=38,e.loadFileToCanvas(i,a);case 38:case"end":return t.stop()}}),t,null,[[5,28],[8,16]])})));return function(e){return t.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var t=(0,o.Z)(m().mark((function t(n,r){var i;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,ve.gY)(n);case 2:return n=t.sent,t.prev=3,t.next=6,(0,ve.ZY)(n,e.state,e.scene.getElementsIncludingDeleted(),r);case 6:if((i=t.sent).type!==ne.LO.excalidraw){t.next=12;break}e.setState({isLoading:!0}),e.syncActionResult(ci(ci({},i.data),{},{appState:ci(ci({},i.data.appState||e.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),t.next=15;break;case 12:if(i.type!==ne.LO.excalidrawlib){t.next=15;break}return t.next=15,e.library.updateLibrary({libraryItems:n,merge:!0,openLibraryMenu:!0}).catch((function(t){console.error(t),e.setState({errorMessage:(0,k.t)("errors.importLibraryError")})}));case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),e.setState({isLoading:!1,errorMessage:t.t0.message});case 20:case"end":return t.stop()}}),t,null,[[3,17]])})));return function(e,n){return t.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(t){if(t.preventDefault(),"touch"!==t.nativeEvent.pointerType&&("pen"!==t.nativeEvent.pointerType||t.button===ne.Oh.SECONDARY)||"selection"===e.state.activeTool.type){var n=(0,M.dE)(t,e.state),r=n.x,i=n.y,a=e.getElementAtPosition(r,i,{preferSelected:!0,includeLockedElements:!0}),o=a?"element":"canvas",l=e.excalidrawContainerRef.current.getBoundingClientRect(),u=l.top,c=l.left,d=t.clientX-c,f=t.clientY-u;a&&!e.state.selectedElementIds[a.id]?e.setState((0,P.bO)(ci(ci({},e.state),{},{selectedElementIds:(0,s.Z)({},a.id,!0)}),e.scene.getNonDeletedElements()),(function(){e._openContextMenu({top:f,left:d},o)})):e._openContextMenu({top:f,left:d},o)}},this.maybeDragNewGenericElement=function(t,n){var r=e.state.draggingElement,a=t.lastCoords;if(r)if("selection"===r.type&&"eraser"!==e.state.activeTool.type)(0,C.EJ)(r,e.state.activeTool.type,t.origin.x,t.origin.y,a.x,a.y,(0,M.TE)(t.origin.x,a.x),(0,M.TE)(t.origin.y,a.y),(0,_.E0)(n),(0,_.OA)(n));else{var o,s=(0,le.wC)(a.x,a.y,e.state.gridSize),l=(0,i.Z)(s,2),u=l[0],c=l[1],d=(0,D.wi)(r)&&(null===(o=e.imageCache.get(r.fileId))||void 0===o?void 0:o.image),f=!d||d instanceof Promise?null:d.width/d.height;(0,C.EJ)(r,e.state.activeTool.type,t.originInGrid.x,t.originInGrid.y,u,c,(0,M.TE)(t.originInGrid.x,u),(0,M.TE)(t.originInGrid.y,c),(0,D.pC)(r)?!(0,_.E0)(n):(0,_.E0)(n),(0,_.OA)(n),f),e.maybeSuggestBindingForAll([r])}},this.maybeHandleResize=function(t,n){var r=(0,S.eD)(e.scene.getNonDeletedElements(),e.state),a=t.resize.handleType;e.setState({isResizing:a&&"rotation"!==a,isRotating:"rotation"===a});var o=t.lastCoords,s=(0,le.wC)(o.x-t.resize.offset.x,o.y-t.resize.offset.y,e.state.gridSize),l=(0,i.Z)(s,2),u=l[0],c=l[1];return!!(0,C.vY)(t,a,r,t.resize.arrowDirection,(0,_.Ge)(n),(0,_.OA)(n),1===r.length&&(0,D.pC)(r[0])?!(0,_.E0)(n):(0,_.E0)(n),u,c,t.resize.center.x,t.resize.center.y)&&(e.maybeSuggestBindingForAll(r),!0)},this._openContextMenu=function(t,n){var r=t.left,i=t.top;e.state.showHyperlinkPopup&&e.setState({showHyperlinkPopup:!1}),e.contextMenuOpen=!0;var a=Xe.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),o=Ye.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),s=bt.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),l=wt.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),u=$t.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),c=Gt.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),d="separator",f=e.scene.getNonDeletedElements(),p=(0,S.eD)(e.scene.getNonDeletedElements(),e.state),h=[];if(me.vt&&f.length>0&&h.push(At),me.wx&&f.length>0&&h.push(It),"element"===n&&Dt.contextItemPredicate(f,e.state)&&me.wx&&h.push(Dt),"canvas"===n){var m=[].concat(h,[void 0===e.props.gridModeEnabled&&Nt,void 0===e.props.zenModeEnabled&&Bt,void 0===e.props.viewModeEnabled&&ni,Ht]);e.state.viewModeEnabled?Sn({options:m,top:i,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current,elements:f}):Sn({options:[e.device.isMobile&&navigator.clipboard&&{trackEvent:!1,name:"paste",perform:function(t,n){return e.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},e.device.isMobile&&navigator.clipboard&&d,me.vt&&f.length>0&&At,me.wx&&f.length>0&&It,me.wx&&p.length>0&&Dt,(me.vt&&f.length>0||me.wx&&f.length>0)&&d,te,d,void 0===e.props.gridModeEnabled&&Nt,void 0===e.props.zenModeEnabled&&Bt,void 0===e.props.viewModeEnabled&&ni,Ht],top:i,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current,elements:f})}else"element"===n&&(e.state.viewModeEnabled?Sn({options:[navigator.clipboard&&Ot].concat(h),top:i,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current,elements:f}):Sn({options:[e.device.isMobile&&Pt,e.device.isMobile&&navigator.clipboard&&Ot,e.device.isMobile&&navigator.clipboard&&{name:"paste",trackEvent:!1,perform:function(t,n){return e.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},e.device.isMobile&&d].concat(h,[d,Fe,Ue,d,a&&Xe,u&&$t,c&&Gt,o&&Ye,(a||o)&&d,ot,d,K,X,Y,Q,d,s&&bt,l&&wt,(s||l)&&d,Wt.nz.contextItemPredicate(f,e.state)&&Wt.nz,oe,qt,d,B]),top:i,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current,elements:f}))},this.handleWheel=(0,M.tH)((function(t){if(t.preventDefault(),!_i){var n=t.deltaX,r=t.deltaY;if(t.metaKey||t.ctrlKey){var i=Math.sign(r),a=Math.abs(r),o=r;a>10&&(o=10*i);var s=e.state.zoom.value-o/100;return s+=Math.log10(Math.max(1,e.state.zoom.value))*-i*Math.min(1,a/20),e.setState((function(e){return ci(ci({},(0,hn.E)({viewportX:bi,viewportY:wi,nextZoom:(0,S.j)(s)},e)),{},{shouldCacheIgnoreZoom:!0})})),void e.resetShouldCacheIgnoreZoomDebounced()}t.shiftKey?e.setState((function(e){var t=e.zoom;return{scrollX:e.scrollX-(r||n)/t.value}})):e.setState((function(e){var t=e.zoom,i=e.scrollX,a=e.scrollY;return{scrollX:i-n/t.value,scrollY:a-r/t.value}}))}})),this.savePointer=function(t,n,r){var i,a;if(t&&n){var o=(0,M.dE)({clientX:t,clientY:n},e.state);isNaN(o.x)||isNaN(o.y),null===(i=(a=e.props).onPointerUpdate)||void 0===i||i.call(a,{pointer:o,button:r,pointersMap:Oi.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,M.Ds)((function(){e.unmounted||e.setState({shouldCacheIgnoreZoom:!1})}),300),this.updateDOMRect=function(t){var n;if(null!==(n=e.excalidrawContainerRef)&&void 0!==n&&n.current){var r=e.excalidrawContainerRef.current.getBoundingClientRect(),i=r.width,a=r.height,o=r.left,s=r.top,l=e.state,u=l.width,c=l.height,d=l.offsetTop,f=l.offsetLeft;if(i===u&&a===c&&o===f&&s===d)return void(t&&t());e.setState({width:i,height:a,offsetLeft:o,offsetTop:s},(function(){t&&t()}))}},this.refresh=function(){e.setState(ci({},e.getCanvasOffsets()))}};"production"!==ne.Vi.TEST&&"production"!==ne.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var e;return null===(e=this.app)||void 0===e?void 0:e.scene.getElementsIncludingDeleted()},set:function(e){var t;return null===(t=this.app)||void 0===t?void 0:t.scene.replaceAllElements(e)}}}));var Ai=Pi},5564:function(e,t,n){"use strict";n.d(t,{z:function(){return v}});var r=n(2577),i=n(9787),a=n.n(i),o=n(7288),s=n(6340),l=(n(4220),n(6066)),u=n(8211),c=n(56),d=n(4512),f=function(e,t){return!c.Z[t].includes(e)},p=function(e){var t=(new Option).style;return t.color=e,!!t.color},h=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),m=function(e){var t=e.colors,n=e.color,i=e.onChange,o=e.onClose,c=e.label,p=e.showInput,m=void 0===p||p,v=e.type,y=e.elements,b=a().useRef(),w=a().useRef(),S=a().useRef(),_=a().useRef(),x=a().useState((function(){return"canvasBackground"===v?[]:function(e,t){for(var n=[],r=e.filter((function(e){return!e.isDeleted})).sort((function(e,t){return t.updated-e.updated})),i=0,a={elementBackground:"backgroundColor",elementStroke:"strokeColor"}[t];i<r.length&&n.length<5;){var o=r[i];n.length<5&&f(o[a],t)&&!n.includes(o[a])&&n.push(o[a]),i++}return n}(y,v)})),T=(0,r.Z)(x,1)[0];a().useEffect((function(){w.current?w.current.focus():_.current?_.current.focus():S.current&&S.current.focus()}),[]);var k=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.map((function(e,r){var a=e.replace("#",""),o=t?h[r+15]:h[r],l=t?a:(0,u.t)("colors.".concat(a));return(0,d.jsxs)("button",{className:"color-picker-swatch",onClick:function(t){t.currentTarget.focus(),i(e)},title:"".concat(l).concat((0,s.Qm)(e)?"":" (".concat(e,")")," \u2014 ").concat(o.toUpperCase()),"aria-label":l,"aria-keyshortcuts":h[r],style:{color:e},ref:function(i){!t&&i&&0===r&&(b.current=i),i&&e===n&&(w.current=i)},onFocus:function(){i(e)},children:[(0,s.Qm)(e)?(0,d.jsx)("div",{className:"color-picker-transparent"}):void 0,(0,d.jsx)("span",{className:"color-picker-keybinding",children:o})]},e)}))};return(0,d.jsxs)("div",{className:"color-picker color-picker-type-".concat(v),role:"dialog","aria-modal":"true","aria-label":(0,u.t)("labels.colorPicker"),onKeyDown:function(e){var t=!1;if((0,l.Wl)(e.key)){var n,r,i;t=!0;var a,c=document.activeElement,d=(0,u.G3)().rtl,f=!1,p=Array.prototype.indexOf.call(null===(n=S.current.querySelector(".color-picker-content--default"))||void 0===n?void 0:n.children,c);-1===p&&-1!==(p=Array.prototype.indexOf.call(null===(a=S.current.querySelector(".color-picker-content--canvas-colors"))||void 0===a?void 0:a.children,c))&&(f=!0);var g=f?null===(r=S.current)||void 0===r?void 0:r.querySelector(".color-picker-content--canvas-colors"):null===(i=S.current)||void 0===i?void 0:i.querySelector(".color-picker-content--default");if(g&&-1!==p){var v,y=g.children.length-(m?1:0),b=e.key===(d?l.tW.ARROW_LEFT:l.tW.ARROW_RIGHT)?(p+1)%y:e.key===(d?l.tW.ARROW_RIGHT:l.tW.ARROW_LEFT)?(y+p-1)%y:f||e.key!==l.tW.ARROW_DOWN?f||e.key!==l.tW.ARROW_UP?p:(y+p-5)%y:(p+5)%y;null===(v=g.children[b])||void 0===v||v.focus()}e.preventDefault()}else if(!h.includes(e.key.toLowerCase())||e[l.tW.CTRL_OR_CMD]||e.altKey||(0,s.s)(e.target))e.key!==l.tW.ESCAPE&&e.key!==l.tW.ENTER||(t=!0,e.preventDefault(),o());else{var w,_,x;t=!0;var T=h.indexOf(e.key.toLowerCase()),k=T>=15,E=k?null==S||null===(w=S.current)||void 0===w?void 0:w.querySelector(".color-picker-content--canvas-colors"):null==S||null===(_=S.current)||void 0===_?void 0:_.querySelector(".color-picker-content--default"),C=k?T-15:T;null==E||null===(x=E.children[C])||void 0===x||x.focus(),e.preventDefault()}t&&(e.nativeEvent.stopImmediatePropagation(),e.stopPropagation())},children:[(0,d.jsx)("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),(0,d.jsx)("div",{className:"color-picker-triangle"}),(0,d.jsxs)("div",{className:"color-picker-content",ref:function(e){e&&(S.current=e)},tabIndex:-1,children:[(0,d.jsx)("div",{className:"color-picker-content--default",children:k(t)}),!!T.length&&(0,d.jsxs)("div",{className:"color-picker-content--canvas",children:[(0,d.jsx)("span",{className:"color-picker-content--canvas-title",children:(0,u.t)("labels.canvasColors")}),(0,d.jsx)("div",{className:"color-picker-content--canvas-colors",children:k(T,!0)})]}),m&&(0,d.jsx)(g,{color:n,label:c,onChange:function(e){i(e)},ref:_})]})]})},g=a().forwardRef((function(e,t){var n=e.color,i=e.onChange,o=e.label,l=a().useState(n),u=(0,r.Z)(l,2),c=u[0],f=u[1],h=a().useRef(null);a().useEffect((function(){f(n)}),[n]),a().useImperativeHandle(t,(function(){return h.current}));var m=a().useCallback((function(e){var t=e.toLowerCase(),n=function(e){return(0,s.Qm)(e)||p(e)?e:p("#".concat(e))?"#".concat(e):null}(t);n&&i(n),f(t)}),[i]);return(0,d.jsxs)("label",{className:"color-input-container",children:[(0,d.jsx)("div",{className:"color-picker-hash",children:"#"}),(0,d.jsx)("input",{spellCheck:!1,className:"color-picker-input","aria-label":o,onChange:function(e){return m(e.target.value)},value:(c||"").replace(/^#/,""),onBlur:function(){return f(n)},ref:h})]})})),v=function(e){var t=e.type,n=e.color,r=e.onChange,i=e.label,s=e.isActive,l=e.setActive,u=e.elements,f=(e.appState,a().useRef(null));return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"color-picker-control-container",children:[(0,d.jsx)("button",{className:"color-picker-label-swatch","aria-label":i,style:n?{"--swatch-color":n}:void 0,onClick:function(){return l(!s)},ref:f}),(0,d.jsx)(g,{color:n,label:i,onChange:function(e){r(e)}})]}),(0,d.jsx)(a().Suspense,{fallback:"",children:s?(0,d.jsx)(o.J,{onCloseRequest:function(e){return e.target!==f.current&&l(!1)},children:(0,d.jsx)(m,{colors:c.Z[t],color:n||null,onChange:function(e){r(e)},onClose:function(){var e;l(!1),null===(e=f.current)||void 0===e||e.focus()},label:i,showInput:!1,type:t,elements:u})}):null})]})}},4981:function(e,t,n){"use strict";var r=n(7169),i=n(2726),a=n(8211),o=n(2939),s=n(1319),l=(n(4678),n(4512)),u=["onConfirm","onCancel","children","confirmText","cancelText","className"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.onConfirm,n=e.onCancel,r=e.children,c=e.confirmText,f=void 0===c?(0,a.t)("buttons.confirm"):c,p=e.cancelText,h=void 0===p?(0,a.t)("buttons.cancel"):p,m=e.className,g=void 0===m?"":m,v=(0,i.Z)(e,u);return(0,l.jsxs)(o.V,d(d({onCloseRequest:n,small:!0},v),{},{className:"confirm-dialog ".concat(g),children:[r,(0,l.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,l.jsx)(s.V,{type:"button",title:h,"aria-label":h,label:h,onClick:n,className:"confirm-dialog--cancel"}),(0,l.jsx)(s.V,{type:"button",title:f,"aria-label":f,label:f,onClick:t,className:"confirm-dialog--confirm"})]})]}))}},4041:function(e,t,n){"use strict";n.d(t,{J:function(){return s}}),n(5422);var r=n(8211),i=n(1319),a=n(8288),o=n(4512),s=function(e){var t=e.title||("dark"===e.value?(0,r.t)("buttons.lightMode"):(0,r.t)("buttons.darkMode"));return(0,o.jsx)(i.V,{type:"icon",icon:e.value===a.C6.LIGHT?l.MOON:l.SUN,title:t,"aria-label":t,onClick:function(){return e.onChange(e.value===a.C6.DARK?a.C6.LIGHT:a.C6.DARK)},"data-testid":"toggle-dark-mode"})},l={SUN:(0,o.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,o.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,o.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,o.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})}},2939:function(e,t,n){"use strict";n.d(t,{V:function(){return v}});var r=n(2577),i=n(45),a=n(9787),o=n(8211),s=n(9660),l=n(6066),u=(n(196),n(3646)),c=n(1226),d=(n(8328),n(5156)),f=n(8288),p=n(4512),h=function(e){var t=e.theme,n=void 0===t?f.C6.LIGHT:t,r=e.closeOnClickOutside,a=void 0===r||r,o=m(n);return o?(0,d.createPortal)((0,p.jsxs)("div",{className:(0,i.Z)("Modal",e.className),role:"dialog","aria-modal":"true",onKeyDown:function(t){t.key===l.tW.ESCAPE&&(t.nativeEvent.stopImmediatePropagation(),t.stopPropagation(),e.onCloseRequest())},"aria-labelledby":e.labelledBy,children:[(0,p.jsx)("div",{className:"Modal__background",onClick:a?e.onCloseRequest:void 0}),(0,p.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(e.maxWidth,"px")},tabIndex:0,children:e.children})]}),o):null},m=function(e){var t=(0,a.useState)(null),n=(0,r.Z)(t,2),i=n[0],o=n[1],l=(0,s.Fy)(),u=(0,a.useRef)(l.isMobile);u.current=l.isMobile;var c=(0,s.J0)().container;return(0,a.useLayoutEffect)((function(){i&&i.classList.toggle("excalidraw--mobile",l.isMobile)}),[i,l.isMobile]),(0,a.useLayoutEffect)((function(){var t=!(null==c||!c.classList.contains("theme--dark"))||"dark"===e,n=document.createElement("div");return n.classList.add("excalidraw","excalidraw-modal-container"),n.classList.toggle("excalidraw--mobile",u.current),t&&(n.classList.add("theme--dark"),n.classList.add("theme--dark-background-none")),document.body.appendChild(n),o(n),function(){document.body.removeChild(n)}}),[c,e]),i},g=n(6340),v=function(e){var t=function(){var e=(0,a.useState)(null),t=(0,r.Z)(e,2),n=t[0],i=t[1];return[n,(0,a.useCallback)((function(e){return i(e)}),[])]}(),n=(0,r.Z)(t,2),d=n[0],f=n[1],m=(0,a.useState)(document.activeElement),v=(0,r.Z)(m,1)[0],y=(0,s.J0)().id;(0,a.useEffect)((function(){if(d){var t=(0,g.xp)(d);t.length>0&&!1!==e.autofocus&&(t[1]||t[0]).focus();var n=function(e){if(e.key===l.tW.TAB){var t=(0,g.xp)(d),n=document.activeElement,r=t.findIndex((function(e){return e===n}));0===r&&e.shiftKey?(t[t.length-1].focus(),e.preventDefault()):r!==t.length-1||e.shiftKey||(t[0].focus(),e.preventDefault())}};return d.addEventListener("keydown",n),function(){return d.removeEventListener("keydown",n)}}}),[d,e.autofocus]);var b=function(){v.focus(),e.onCloseRequest()};return(0,p.jsx)(h,{className:(0,i.Z)("Dialog",e.className),labelledBy:"dialog-title",maxWidth:e.small?550:800,onCloseRequest:b,theme:e.theme,closeOnClickOutside:e.closeOnClickOutside,children:(0,p.jsxs)(c.W,{ref:f,children:[(0,p.jsxs)("h2",{id:"".concat(y,"-dialog-title"),className:"Dialog__title",children:[(0,p.jsx)("span",{className:"Dialog__titleContent",children:e.title}),(0,p.jsx)("button",{className:"Modal__close",onClick:b,"aria-label":(0,o.t)("buttons.close"),children:(0,s.Fy)().isMobile?u.op:u.xv})]}),(0,p.jsx)("div",{className:"Dialog__content",children:e.children})]})})}},1226:function(e,t,n){"use strict";n.d(t,{W:function(){return c}});var r=n(7169),i=(n(1106),n(9787)),a=n.n(i),o=n(45),s=n(4512);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=a().forwardRef((function(e,t){var n=e.children,r=e.padding,i=e.className,a=e.style;return(0,s.jsx)("div",{className:(0,o.Z)("Island",i),style:u({"--padding":r},a),ref:t,children:n})}))},5440:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(2577),i=n(8211),a=n(9787),o=n(9101),s=n(4512),l=function(e){var t=e.delay,n=(0,a.useState)(!!t),l=(0,r.Z)(n,2),u=l[0],c=l[1];return(0,a.useEffect)((function(){if(t){var e=setTimeout((function(){c(!1)}),t);return function(){return clearTimeout(e)}}}),[t]),u?null:(0,s.jsxs)("div",{className:"LoadingMessage",children:[(0,s.jsx)("div",{children:(0,s.jsx)(o.Z,{})}),(0,s.jsx)("div",{className:"LoadingMessage-text",children:(0,i.t)("labels.loadingScene")})]})}},7288:function(e,t,n){"use strict";n.d(t,{J:function(){return l}});var r=n(9787),i=(n(4301),n(5156)),a=n(6340),o=n(6066),s=n(4512),l=function(e){var t=e.children,n=e.left,l=e.top,u=e.onCloseRequest,c=e.fitInViewport,d=void 0!==c&&c,f=e.offsetLeft,p=void 0===f?0:f,h=e.offsetTop,m=void 0===h?0:h,g=e.viewportWidth,v=void 0===g?window.innerWidth:g,y=e.viewportHeight,b=void 0===y?window.innerHeight:y,w=(0,r.useRef)(null),S=w.current;return(0,r.useEffect)((function(){if(S){var e=function(e){if(e.key===o.tW.TAB){var t=(0,a.xp)(S),n=document.activeElement,r=t.findIndex((function(e){return e===n}));0===r&&e.shiftKey?(t[t.length-1].focus(),e.preventDefault(),e.stopImmediatePropagation()):r!==t.length-1||e.shiftKey||(t[0].focus(),e.preventDefault(),e.stopImmediatePropagation())}};return S.addEventListener("keydown",e),function(){return S.removeEventListener("keydown",e)}}}),[S]),(0,r.useLayoutEffect)((function(){if(d&&w.current){var e=w.current,t=e.getBoundingClientRect(),n=t.x,r=t.y,i=t.width,a=t.height;n+i-p>v&&(e.style.left="".concat(v-i,"px")),r+a-m>b&&(e.style.top="".concat(b-a,"px"))}}),[d,v,b,p,m]),(0,r.useEffect)((function(){if(u){var e=function(e){var t;null!==(t=w.current)&&void 0!==t&&t.contains(e.target)||(0,i.unstable_batchedUpdates)((function(){return u(e)}))};return document.addEventListener("pointerdown",e,!1),function(){return document.removeEventListener("pointerdown",e,!1)}}}),[u]),(0,s.jsx)("div",{className:"popover",style:{top:l,left:n},ref:w,children:t})}},9101:function(e,t,n){"use strict";n(371);var r=n(4512);t.Z=function(e){var t=e.size,n=void 0===t?"1em":t,i=e.circleWidth,a=void 0===i?8:i;return(0,r.jsx)("div",{className:"Spinner",children:(0,r.jsx)("svg",{viewBox:"0 0 100 100",style:{width:n,height:n},children:(0,r.jsx)("circle",{cx:"50",cy:"50",r:50-a/2,strokeWidth:a,fill:"none",strokeMiterlimit:"10"})})})}},1319:function(e,t,n){"use strict";n.d(t,{V:function(){return h}});var r=n(8950),i=n(2577),a=n(7945),o=n.n(a),s=(n(5422),n(9787)),l=n.n(s),u=n(45),c=n(9660),d=n(6797),f=n(9101),p=n(4512),h=l().forwardRef((function(e,t){var n=(0,c.J0)().id,a=l().useRef(null);l().useImperativeHandle(t,(function(){return a.current}));var h="ToolIcon_size_".concat(e.size),m=(0,s.useState)(!1),g=(0,i.Z)(m,2),v=g[0],y=g[1],b=(0,s.useRef)(!0),w=function(){var t=(0,r.Z)(o().mark((function t(n){var r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i="onClick"in e&&(null===(r=e.onClick)||void 0===r?void 0:r.call(e,n)))||!("then"in i)){t.next=18;break}return t.prev=2,y(!0),t.next=6,i;case 6:t.next=15;break;case 8:if(t.prev=8,t.t0=t.catch(2),t.t0 instanceof d._){t.next=14;break}throw t.t0;case 14:console.warn(t.t0);case 15:return t.prev=15,b.current&&y(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,8,15,18]])})));return function(e){return t.apply(this,arguments)}}();(0,s.useEffect)((function(){return function(){b.current=!1}}),[]);var S=(0,s.useRef)(null);if("button"===e.type||"icon"===e.type||"submit"===e.type){var _="icon"===e.type?"button":e.type;return(0,p.jsxs)("button",{className:(0,u.Z)("ToolIcon_type_button",h,e.className,e.visible&&!e.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!e.hidden,"ToolIcon--selected":e.selected,"ToolIcon--plain":"icon"===e.type}),"data-testid":e["data-testid"],hidden:e.hidden,title:e.title,"aria-label":e["aria-label"],type:_,onClick:w,ref:a,disabled:v||e.isLoading,children:[(e.icon||e.label)&&(0,p.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[e.icon||e.label,e.keyBindingLabel&&(0,p.jsx)("span",{className:"ToolIcon__keybinding",children:e.keyBindingLabel}),e.isLoading&&(0,p.jsx)(f.Z,{})]}),e.showAriaLabel&&(0,p.jsxs)("div",{className:"ToolIcon__label",children:[e["aria-label"]," ",v&&(0,p.jsx)(f.Z,{})]}),e.children]})}return(0,p.jsxs)("label",{className:(0,u.Z)("ToolIcon",e.className),title:e.title,onPointerDown:function(t){var n;S.current=t.pointerType||null,null===(n=e.onPointerDown)||void 0===n||n.call(e,{pointerType:t.pointerType||null})},onPointerUp:function(){requestAnimationFrame((function(){S.current=null}))},children:[(0,p.jsx)("input",{className:"ToolIcon_type_radio ".concat(h),type:"radio",name:e.name,"aria-label":e["aria-label"],"aria-keyshortcuts":e["aria-keyshortcuts"],"data-testid":e["data-testid"],id:"".concat(n,"-").concat(e.id),onChange:function(){var t;null===(t=e.onChange)||void 0===t||t.call(e,{pointerType:S.current})},checked:e.checked,ref:a}),(0,p.jsxs)("div",{className:"ToolIcon__icon",children:[e.icon,e.keyBindingLabel&&(0,p.jsx)("span",{className:"ToolIcon__keybinding",children:e.keyBindingLabel})]})]})}));h.defaultProps={visible:!0,className:"",size:"medium"}},9910:function(e,t,n){"use strict";n.d(t,{Js:function(){return o},bK:function(){return a},u:function(){return s}}),n(6781);var r=n(9787),i=n(4512),a=function(){var e=document.querySelector(".excalidraw-tooltip");if(e)return e;var t=document.createElement("div");return document.body.appendChild(t),t.classList.add("excalidraw-tooltip"),t},o=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bottom",i=e.getBoundingClientRect(),a=window.innerWidth,o=window.innerHeight,s=5,l=t.left+t.width/2-i.width/2;l<0?l=s:l+i.width>=a&&(l=a-i.width-s),"bottom"===r?(n=t.top+t.height+s)+i.height>=o&&(n=t.top-i.height-s):(n=t.top-i.height-s)<0&&(n=t.top+t.height+s),Object.assign(e.style,{top:"".concat(n,"px"),left:"".concat(l,"px")})},s=function(e){var t=e.children,n=e.label,s=e.long,l=void 0!==s&&s,u=e.style;return(0,r.useEffect)((function(){return function(){return a().classList.remove("excalidraw-tooltip--visible")}}),[]),(0,i.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(e){return function(e,t,n,r){t.classList.add("excalidraw-tooltip--visible"),t.style.minWidth=r?"50ch":"10ch",t.style.maxWidth=r?"50ch":"15ch",t.textContent=n;var i=e.getBoundingClientRect();o(t,i)}(e.currentTarget,a(),n,l)},onPointerLeave:function(){return a().classList.remove("excalidraw-tooltip--visible")},style:u,children:t})}},3646:function(e,t,n){"use strict";n.d(t,{$c:function(){return k},BF:function(){return q},BR:function(){return v},Ct:function(){return R},DG:function(){return b},DS:function(){return oe},EO:function(){return _e},GI:function(){return E},Gc:function(){return A},HL:function(){return N},IN:function(){return D},KX:function(){return O},Nw:function(){return ke},OA:function(){return me},P7:function(){return Te},RJ:function(){return Z},Rb:function(){return S},ST:function(){return U},TP:function(){return _},Vl:function(){return P},W2:function(){return ie},W5:function(){return F},WD:function(){return w},X7:function(){return Y},Yw:function(){return C},_I:function(){return y},a0:function(){return K},a1:function(){return h},aA:function(){return xe},aT:function(){return te},bf:function(){return ne},d9:function(){return G},eQ:function(){return f},fr:function(){return se},gK:function(){return H},gR:function(){return Ee},h0:function(){return ee},il:function(){return le},j8:function(){return de},kK:function(){return ge},kM:function(){return re},kr:function(){return x},m:function(){return ce},mh:function(){return j},np:function(){return X},nq:function(){return pe},nu:function(){return J},o3:function(){return we},oT:function(){return Se},op:function(){return $},p4:function(){return p},po:function(){return m},pw:function(){return M},q0:function(){return fe},rC:function(){return z},rn:function(){return Ce},rr:function(){return be},t5:function(){return I},tP:function(){return W},tW:function(){return he},tY:function(){return Q},tn:function(){return ue},uD:function(){return B},vG:function(){return T},vo:function(){return ve},wr:function(){return ae},xs:function(){return L},xv:function(){return V},z6:function(){return ye},zD:function(){return g}});var r=n(9787),i=n.n(r),a=n(5284),o=n(45),s=n(8288),l=n(4512),u=function(e){return e===s.C6.LIGHT?a.orange[4]:a.orange[9]},c=function(e){return e===s.C6.LIGHT?a.white:"#1e1e1e"},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n="number"==typeof t?{width:t}:t,r=n.width,i=void 0===r?512:r,a=n.height,s=void 0===a?i:a,u=n.mirror,c=n.style;return(0,l.jsx)("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(i," ").concat(s),className:(0,o.Z)({"rtl-mirror":u}),style:c,children:"string"==typeof e?(0,l.jsx)("path",{fill:"currentColor",d:e}):e})},f=d((0,l.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),p=d("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",{mirror:!0}),h=d("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),m=d("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),g=d("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),v=d("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),y=d("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),b=d("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),w=d("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),S=d((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-187 44v-64 64z"}),(0,l.jsx)("path",{d:"M384 121.941V128H256V0h6.059c6.362 0 12.471 2.53 16.97 7.029l97.941 97.941a24.01 24.01 0 017.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"})]}),{width:576,height:512,mirror:!0}),_=d("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),x=d("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),T=d("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),k=d("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),E=d("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),C=d("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",{mirror:!0}),O=d("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",{mirror:!0}),P=d("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),I=(d("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),d("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),d((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,l.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),d((0,l.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),i().memo((function(e){var t=e.theme;return d((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,l.jsx)("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:u(t),stroke:u(t),strokeWidth:"2"})]}),{width:24,mirror:!0})}))),A=i().memo((function(e){var t=e.theme;return d((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:u(t),stroke:u(t),strokeWidth:"2"}),(0,l.jsx)("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"})]}),{width:24,mirror:!0})})),D=i().memo((function(e){var t=e.theme;return d((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,l.jsx)("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:u(t),stroke:u(t),strokeWidth:"2"})]}),{width:24,mirror:!0})})),M=i().memo((function(e){var t=e.theme;return d((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:u(t),stroke:u(t),strokeWidth:"2"}),(0,l.jsx)("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"})]}),{width:24,mirror:!0})})),R=i().memo((function(e){var t=e.theme;return d((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M 2,5 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,l.jsx)("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",fill:u(t),stroke:u(t),strokeWidth:"2"})]}),{width:24,mirror:!0})})),N=i().memo((function(e){var t=e.theme;return d((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M 2,19 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,l.jsx)("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",fill:u(t),stroke:u(t),strokeWidth:"2"})]}),{width:24,mirror:!0})})),L=i().memo((function(e){var t=e.theme;return d((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M 5,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,l.jsx)("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",fill:u(t),stroke:u(t),strokeWidth:"2"})]}),{width:24})})),j=i().memo((function(e){var t=e.theme;return d((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M 19,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,l.jsx)("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",fill:u(t),stroke:u(t),strokeWidth:"2"})]}),{width:24})})),B=i().memo((function(e){var t=e.theme;return d((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M19 5V19M5 5V19",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,l.jsx)("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:u(t),stroke:u(t),strokeWidth:"2"})]}),{width:24})})),F=i().memo((function(e){var t=e.theme;return d((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M5 5L19 5M5 19H19",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,l.jsx)("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:u(t),stroke:u(t),strokeWidth:"2"})]}),{width:24})})),U=i().memo((function(e){var t=e.theme;return d((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:u(t),stroke:u(t),strokeWidth:"2"}),(0,l.jsx)("path",{d:"M 2,12 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})]}),{width:24,mirror:!0})})),H=i().memo((function(e){var t=e.theme;return d((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:u(t),stroke:u(t),strokeWidth:"2"}),(0,l.jsx)("path",{d:"M 12,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})]}),{width:24})})),z=d("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",{width:640,height:512,mirror:!0}),V=(d("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),d("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),d("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",{width:352,height:512})),$=d("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),G=d("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),W=(d("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),d("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512})),q=i().memo((function(e){var t=e.theme;return d((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,l.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,l.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,l.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,l.jsxs)("g",{fill:c(t),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,l.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,l.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,l.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,l.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),Z=i().memo((function(e){var t=e.theme;return d((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,l.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,l.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,l.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,l.jsxs)("g",{fill:c(t),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,l.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,l.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,l.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,l.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,l.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,l.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),K=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",fill:"var(--icon-fill-color)"}),{width:40,height:20})})),X=i().memo((function(e){return e.theme,d((0,l.jsxs)("g",{fill:"var(--icon-fill-color)",fillRule:"evenodd",clipRule:"evenodd",children:[(0,l.jsx)("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),(0,l.jsx)("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})]}),{width:40,height:20})})),Y=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{d:"M2 2H38V18H2V2Z",fill:"var(--icon-fill-color)"}),{width:40,height:20})})),Q=i().memo((function(e){e.theme;var t=e.strokeWidth;return d((0,l.jsx)("path",{d:"M6 10H32",stroke:"var(--icon-fill-color)",strokeWidth:t,strokeLinecap:"round",fill:"none"}),{width:40,height:20})})),J=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none",strokeLinecap:"round"}),{width:40,height:20})})),ee=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none",strokeLinecap:"round"}),{width:40,height:20})})),te=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{d:"M6 10H36",stroke:"var(--icon-fill-color)",strokeWidth:2.5,strokeDasharray:"2, 4.5",fill:"none",strokeLinecap:"round"}),{width:40,height:20})})),ne=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})})),re=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})})),ie=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})})),ae=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{d:"M10 17L10 5L35 5",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})})),oe=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})})),se=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none"}),{width:40,height:20})})),le=i().memo((function(e){e.theme;var t=e.flip,n=void 0!==t&&t;return d((0,l.jsxs)("g",{transform:n?"translate(40, 0) scale(-1, 1)":"",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none",children:[(0,l.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,l.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})})),ue=i().memo((function(e){e.theme;var t=e.flip,n=void 0!==t&&t;return d((0,l.jsxs)("g",{stroke:"var(--icon-fill-color)",fill:"var(--icon-fill-color)",transform:n?"translate(40, 0) scale(-1, 1)":"",children:[(0,l.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,l.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})})),ce=i().memo((function(e){e.theme;var t=e.flip,n=void 0!==t&&t;return d((0,l.jsx)("g",{transform:n?"translate(40, 0) scale(-1, 1)":"",children:(0,l.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none"})}),{width:40,height:20})})),de=i().memo((function(e){e.theme;var t=e.flip,n=void 0!==t&&t;return d((0,l.jsxs)("g",{stroke:"var(--icon-fill-color)",fill:"var(--icon-fill-color)",transform:n?"translate(40, 0) scale(-1, 1)":"",children:[(0,l.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,l.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})})),fe=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 0 69.092 L 0 55.03 A 124.24 124.24 0 0 0 4.706 57.02 Q 6.826 57.863 8.708 58.5 A 53.466 53.466 0 0 0 12.231 59.571 Q 17.236 60.889 21.387 60.889 A 20.909 20.909 0 0 0 24.265 60.704 Q 25.719 60.502 26.903 60.077 A 8.649 8.649 0 0 0 29.028 58.985 Q 31.689 57.08 31.689 53.321 Q 31.689 51.221 30.518 49.585 A 10.126 10.126 0 0 0 29.282 48.177 Q 28.352 47.287 27.075 46.436 A 23.719 23.719 0 0 0 25.752 45.627 Q 23.774 44.492 20.176 42.735 A 254.44 254.44 0 0 0 17.822 41.602 Q 11.503 38.631 8.236 35.888 A 19.742 19.742 0 0 1 8.008 35.694 A 22.18 22.18 0 0 1 2.783 29.102 Q 0.83 25.342 0.83 20.313 A 22.471 22.471 0 0 1 1.733 13.778 A 17.283 17.283 0 0 1 7.251 5.42 A 21.486 21.486 0 0 1 15.177 1.272 Q 18.361 0.338 22.166 0.09 A 43.573 43.573 0 0 1 25 0 A 42.399 42.399 0 0 1 34.349 1.01 A 39.075 39.075 0 0 1 35.62 1.319 A 67.407 67.407 0 0 1 42.108 3.382 A 83.357 83.357 0 0 1 46.191 5.03 L 41.309 16.797 Q 35.596 14.453 31.86 13.526 A 30.762 30.762 0 0 0 25.417 12.612 A 28.337 28.337 0 0 0 24.512 12.598 A 14.846 14.846 0 0 0 22.022 12.793 Q 19.498 13.224 17.92 14.6 Q 15.625 16.602 15.625 19.824 Q 15.625 21.826 16.553 23.316 Q 17.48 24.805 19.507 26.197 A 18.343 18.343 0 0 0 20.659 26.912 Q 22.596 28.035 26.516 29.953 A 299.99 299.99 0 0 0 29.102 31.201 Q 37.91 35.412 41.841 39.642 A 16.553 16.553 0 0 1 42.822 40.796 A 17.675 17.675 0 0 1 46.301 49.233 A 23.517 23.517 0 0 1 46.533 52.588 A 21.581 21.581 0 0 1 45.471 59.515 A 17.733 17.733 0 0 1 39.575 67.823 Q 33.745 72.486 24.094 73.243 A 49.683 49.683 0 0 1 20.215 73.389 A 51.712 51.712 0 0 1 9.448 72.315 A 40.672 40.672 0 0 1 0 69.092 Z"}),{width:47,height:77})})),pe=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 44.092 71.387 L 30.225 71.387 L 13.037 15.381 L 12.598 15.381 A 1505.093 1505.093 0 0 1 12.959 22.313 Q 13.426 31.715 13.508 36.4 A 102.991 102.991 0 0 1 13.525 38.184 L 13.525 71.387 L 0 71.387 L 0 0 L 20.605 0 L 37.5 54.59 L 37.793 54.59 L 55.713 0 L 76.318 0 L 76.318 71.387 L 62.207 71.387 L 62.207 37.598 Q 62.207 35.205 62.28 32.08 A 160.703 160.703 0 0 1 62.326 30.544 Q 62.452 26.754 62.866 17.168 A 5390.536 5390.536 0 0 1 62.939 15.479 L 62.5 15.479 L 44.092 71.387 Z"}),{width:77,height:75})})),he=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 44.092 71.387 L 0 71.387 L 0 0 L 15.137 0 L 15.137 58.887 L 44.092 58.887 L 44.092 71.387 Z"}),{width:45,height:75})})),me=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 42.578 35.4 L 66.699 71.387 L 49.414 71.387 L 32.813 44.385 L 16.211 71.387 L 0 71.387 L 23.682 34.57 L 1.514 0 L 18.213 0 L 33.594 25.684 L 48.682 0 L 64.99 0 L 42.578 35.4 Z M 119.775 71.387 L 75.684 71.387 L 75.684 0 L 90.82 0 L 90.82 58.887 L 119.775 58.887 L 119.775 71.387 Z"}),{width:120,height:75})})),ge=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{fill:"var(--icon-fill-color)",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"}),{width:448,height:512})})),ve=i().memo((function(e){return e.theme,d((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 63.818 71.68 L 54.492 71.68 L 45.898 49.561 L 17.578 49.561 L 9.082 71.68 L 0 71.68 L 27.881 0 L 35.986 0 L 63.818 71.68 Z M 20.605 41.602 L 43.213 41.602 L 35.205 19.971 L 31.787 9.277 Q 30.322 15.137 28.711 19.971 L 20.605 41.602 Z"}),(0,l.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 68.994 71.68 L 52.686 71.68 L 47.51 54.688 L 21.484 54.688 L 16.309 71.68 L 0 71.68 L 25.195 0 L 43.701 0 L 68.994 71.68 Z M 25.293 41.992 L 43.896 41.992 A 27590.463 27590.463 0 0 1 42.2 36.532 Q 36.965 19.676 35.937 16.273 A 120.932 120.932 0 0 1 35.815 15.869 A 131.65 131.65 0 0 1 35.396 14.435 Q 34.951 12.879 34.675 11.741 A 34.866 34.866 0 0 1 34.521 11.084 A 141.762 141.762 0 0 1 33.706 14.075 Q 31.482 21.957 25.293 41.992 Z"})]}),{width:70,height:78})})),ye=i().memo((function(e){return e.theme,d((0,l.jsx)(l.Fragment,{children:(0,l.jsx)("path",{fill:"var(--icon-fill-color)",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})}),{width:640,height:512})})),be=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{d:"M12.83 352h262.34A12.82 12.82 0 00288 339.17v-38.34A12.82 12.82 0 00275.17 288H12.83A12.82 12.82 0 000 300.83v38.34A12.82 12.82 0 0012.83 352zm0-256h262.34A12.82 12.82 0 00288 83.17V44.83A12.82 12.82 0 00275.17 32H12.83A12.82 12.82 0 000 44.83v38.34A12.82 12.82 0 0012.83 96zM432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})})),we=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{d:"M432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zM108.1 96h231.81A12.09 12.09 0 00352 83.9V44.09A12.09 12.09 0 00339.91 32H108.1A12.09 12.09 0 0096 44.09V83.9A12.1 12.1 0 00108.1 96zm231.81 256A12.09 12.09 0 00352 339.9v-39.81A12.09 12.09 0 00339.91 288H108.1A12.09 12.09 0 0096 300.09v39.81a12.1 12.1 0 0012.1 12.1z",fill:"var(--icon-fill-color)"}),{width:448,height:512})})),Se=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{d:"M16 224h416a16 16 0 0016-16v-32a16 16 0 00-16-16H16a16 16 0 00-16 16v32a16 16 0 0016 16zm416 192H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm3.17-384H172.83A12.82 12.82 0 00160 44.83v38.34A12.82 12.82 0 00172.83 96h262.34A12.82 12.82 0 00448 83.17V44.83A12.82 12.82 0 00435.17 32zm0 256H172.83A12.82 12.82 0 00160 300.83v38.34A12.82 12.82 0 00172.83 352h262.34A12.82 12.82 0 00448 339.17v-38.34A12.82 12.82 0 00435.17 288z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})})),_e=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{d:"m16,132l416,0c8.837,0 16,-7.163 16,-16l0,-40c0,-8.837 -7.163,-16 -16,-16l-416,0c-8.837,0 -16,7.163 -16,16l0,40c0,8.837 7.163,16 16,16zm0,160l416,0c8.837,0 16,-7.163 16,-16l0,-40c0,-8.837 -7.163,-16 -16,-16l-416,0c-8.837,0 -16,7.163 -16,16l0,40c0,8.837 7.163,16 16,16z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})})),xe=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{d:"M16,292L432,292C440.837,292 448,284.837 448,276L448,236C448,227.163 440.837,220 432,220L16,220C7.163,220 0,227.163 0,236L0,276C0,284.837 7.163,292 16,292ZM16,452L432,452C440.837,452 448,444.837 448,436L448,396C448,387.163 440.837,380 432,380L16,380C7.163,380 0,387.163 0,396L0,436C0,444.837 7.163,452 16,452Z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})})),Te=i().memo((function(e){return e.theme,d((0,l.jsx)("path",{transform:"matrix(1,0,0,1,0,80)",d:"M16,132L432,132C440.837,132 448,124.837 448,116L448,76C448,67.163 440.837,60 432,60L16,60C7.163,60 0,67.163 0,76L0,116C0,124.837 7.163,132 16,132ZM16,292L432,292C440.837,292 448,284.837 448,276L448,236C448,227.163 440.837,220 432,220L16,220C7.163,220 0,227.163 0,236L0,276C0,284.837 7.163,292 16,292Z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})})),ke=d((0,l.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),Ee=d((0,l.jsx)("path",{fill:"currentColor",d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"}),{width:640,height:512}),Ce=d((0,l.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"}))},8288:function(e,t,n){"use strict";n.d(t,{$C:function(){return g},$e:function(){return c},$n:function(){return X},C6:function(){return y},EE:function(){return $},EH:function(){return R},Gj:function(){return P},HM:function(){return A},Hg:function(){return _},Iw:function(){return u},Kr:function(){return Q},Ks:function(){return r},LL:function(){return O},LO:function(){return k},Oh:function(){return h},UO:function(){return L},V4:function(){return D},Vi:function(){return m},Yx:function(){return z},ZB:function(){return W},ZF:function(){return N},_D:function(){return b},ah:function(){return j},ay:function(){return f},cW:function(){return B},eF:function(){return F},f:function(){return s},gK:function(){return J},h6:function(){return Z},hR:function(){return Y},hs:function(){return x},iC:function(){return o},jo:function(){return K},k:function(){return T},kV:function(){return U},n5:function(){return w},nM:function(){return I},oX:function(){return ee},oc:function(){return p},pb:function(){return C},qx:function(){return l},qy:function(){return q},r8:function(){return E},rk:function(){return S},sA:function(){return M},sS:function(){return H},sk:function(){return V},ut:function(){return v},wZ:function(){return d},xY:function(){return te},zK:function(){return G}});var r,i=n(8635),a=n.n(i),o="Excalidraw",s=10,l=8,u=5,c=1,d=30,f=Math.PI/12,p={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},h={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(e){e.COPY="copy",e.PASTE="paste",e.CUT="cut",e.KEYDOWN="keydown",e.KEYUP="keyup",e.MOUSE_MOVE="mousemove",e.RESIZE="resize",e.UNLOAD="unload",e.FOCUS="focus",e.BLUR="blur",e.DRAG_OVER="dragover",e.DROP="drop",e.GESTURE_END="gestureend",e.BEFORE_UNLOAD="beforeunload",e.GESTURE_START="gesturestart",e.GESTURE_CHANGE="gesturechange",e.POINTER_MOVE="pointermove",e.POINTER_UP="pointerup",e.STATE_CHANGE="statechange",e.WHEEL="wheel",e.TOUCH_START="touchstart",e.TOUCH_END="touchend",e.HASHCHANGE="hashchange",e.VISIBILITY_CHANGE="visibilitychange",e.SCROLL="scroll",e.EXCALIDRAW_LINK="excalidraw-link"}(r||(r={}));var m={TEST:"test",DEVELOPMENT:"development"},g={SHAPE_ACTIONS_MENU:"App-menu__left"},v={Virgil:1,Helvetica:2,Cascadia:3},y={LIGHT:"light",DARK:"dark"},b="Segoe UI Emoji",w=20,S=v.Virgil,_="left",x="top",T=20,k={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json",json:"application/json",svg:"image/svg+xml","excalidraw.svg":"image/svg+xml",png:"image/png","excalidraw.png":"image/png",jpg:"image/jpeg",gif:"image/gif",binary:"application/octet-stream"},E={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib"},C=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,O=500,P=300,I=500,A=100,D=.1,M=300,R={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},N=a().themeFilter,L={addLibrary:"addLibrary"},j={addLibrary:"addLibrary"},B={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,theme:!0,saveAsImage:!0}},F=640,U=730,H=1e3,z=500,V=1229,$=parseInt(a().rightSidebarWidth),G=2,W=[1,2,3],q=10,Z=1440,K=[k.png,k.jpg,k.svg,k.gif],X=2097152,Y="http://www.w3.org/2000/svg",Q={excalidraw:2,excalidrawLibrary:2},J=5,ee={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},te=20},434:function(e,t,n){"use strict";n.d(t,{DQ:function(){return T},KG:function(){return R},Pn:function(){return L},Qk:function(){return x},Sf:function(){return M},Tu:function(){return N},Wr:function(){return E},ZY:function(){return C},_c:function(){return A},bv:function(){return j},cT:function(){return O},g8:function(){return k},gY:function(){return H},lV:function(){return I},tW:function(){return D},vZ:function(){return z},wf:function(){return P}});var r=n(1930),i=n(2577),a=n(7169),o=n(8950),s=n(7945),l=n.n(s),u=n(5605),c=n(8897),d=n(8288),f=n(5118),p=n(6797),h=n(8211),m=n(75),g=n(6340),v=n(1393),y=n(5523),b=n(679);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(){var e=(0,o.Z)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==d.LO.png){e.next=18;break}return e.prev=1,e.next=4,Promise.resolve().then(n.bind(n,673));case 4:return e.next=6,e.sent.decodePngMetadata(t);case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(1),"INVALID"!==e.t0.message){e.next=15;break}throw new DOMException((0,h.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 15:throw new DOMException((0,h.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 16:e.next=43;break;case 18:if(!("text"in Blob)){e.next=24;break}return e.next=21,t.text();case 21:r=e.sent,e.next=27;break;case 24:return e.next=26,new Promise((function(e){var n=new FileReader;n.readAsText(t,"utf8"),n.onloadend=function(){n.readyState===FileReader.DONE&&e(n.result)}}));case 26:r=e.sent;case 27:if(t.type!==d.LO.svg){e.next=43;break}return e.prev=28,e.next=31,Promise.resolve().then(n.bind(n,673));case 31:return e.next=33,e.sent.decodeSvgMetadata({svg:r});case 33:return e.abrupt("return",e.sent);case 36:if(e.prev=36,e.t1=e.catch(28),"INVALID"!==e.t1.message){e.next=42;break}throw new DOMException((0,h.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 42:throw new DOMException((0,h.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 43:return e.abrupt("return",r);case 44:case"end":return e.stop()}}),e,null,[[1,9],[28,36]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e){var t;return e&&(null===(t=e.name.match(/\.(json|excalidraw|png|svg)$/))||void 0===t?void 0:t[1])||null},T=function(e){return"png"===e||"svg"===e},k=function(e){var t=x(e);return"png"===t||"svg"===t},E=function(e){var t=(e||{}).type;return!!t&&d.jo.includes(t)},C=function(){var e=(0,o.Z)(l().mark((function e(t,n,r,i){var a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:if(a=e.sent,e.prev=3,o=JSON.parse(a),!(0,y.dS)(o)){e.next=9;break}return e.abrupt("return",{type:d.LO.excalidraw,data:(0,b.nu)({elements:(0,f._M)(o.elements||[]),appState:S(S({theme:null==n?void 0:n.theme,fileHandle:i||t.handle||null},(0,c.s)(o.appState||{})),n?(0,m.W)(o.elements||[],n,null):{}),files:o.files},n,r)});case 9:if(!(0,y.HT)(o)){e.next=11;break}return e.abrupt("return",{type:d.LO.excalidrawlib,data:o});case 11:throw new Error((0,h.t)("alerts.couldNotLoadInvalidFile"));case 14:throw e.prev=14,e.t0=e.catch(3),console.error(e.t0.message),new Error((0,h.t)("alerts.couldNotLoadInvalidFile"));case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),O=function(){var e=(0,o.Z)(l().mark((function e(t,n,r,i){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t,n,r,i);case 2:if((a=e.sent).type===d.LO.excalidraw){e.next=5;break}throw new Error((0,h.t)("alerts.couldNotLoadInvalidFile"));case 5:return e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unpublished",n=JSON.parse(e);if(!(0,y.HT)(n))throw new Error("Invalid library");var r=n.libraryItems||n.library;return(0,b.wJ)(r,t)},I=function(){var e=(0,o.Z)(l().mark((function e(t){var n,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"unpublished",e.t0=P,e.next=4,_(t);case 4:return e.t1=e.sent,e.t2=n,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{t.toBlob((function(t){if(!t)return n(new p.l((0,h.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));e(t)}))}catch(e){n(e)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=window.crypto.subtle,e.next=4,z(t);case 4:return e.t1=e.sent,e.next=7,e.t0.digest.call(e.t0,"SHA-1",e.t1);case 7:return n=e.sent,e.abrupt("return",(0,g.G3)(new Uint8Array(n)));case 11:return e.prev=11,e.t2=e.catch(0),console.error(e.t2),e.abrupt("return",(0,u.x0)(40));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(){var t=r.result;e(t)},r.onerror=function(e){return n(e)},r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.indexOf(","),r=atob(e.slice(n+1)),i=e.slice(0,n).split(":")[1].split(";")[0],a=new ArrayBuffer(r.length),o=new Uint8Array(a),s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return new File([a],t,{type:i})},N=function(){var e=(0,o.Z)(l().mark((function e(t,r){var a,o,s,u,c,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==d.LO.svg){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,Promise.all([n.e(736).then(n.t.bind(n,4881,23)).then((function(e){return e.default})),n.e(736).then(n.bind(n,100)).then((function(e){return e.default}))]);case 4:if(a=e.sent,o=(0,i.Z)(a,2),s=o[0],u=o[1],c=u({pica:s({features:["js","wasm"]})}),r.outputType&&(f=r.outputType,c._create_blob=function(e){return this.pica.toBlob(e.out_canvas,f,.8).then((function(t){return e.out_blob=t,e}))}),E(t)){e.next=12;break}throw new Error((0,h.t)("errors.unsupportedFileType"));case 12:return e.t0=File,e.next=15,c.toBlob(t,{max:r.maxWidthOrHeight});case 15:return e.t1=e.sent,e.t2=[e.t1],e.t3=t.name,e.t4={type:r.outputType||t.type},e.abrupt("return",new e.t0(e.t2,e.t3,e.t4));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new File([(new TextEncoder).encode(e)],t,{type:d.LO.svg})},j=function(){var e=(0,o.Z)(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dataTransfer.files.item(0),e.next=3,B(t);case 3:if(r=e.sent,!n){e.next=10;break}return e.next=7,H(n);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.t1=e.t0,e.t2=r,e.abrupt("return",{file:e.t1,fileHandle:e.t2});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=(0,o.Z)(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.kr){e.next=16;break}return e.prev=1,n=t.dataTransfer.items[0],e.next=5,n.getAsFileSystemHandle();case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=null;case 8:return r=e.t0,e.abrupt("return",r);case 12:return e.prev=12,e.t1=e.catch(1),console.warn(e.t1.name,e.t1.message),e.abrupt("return",null);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),F=function(e){var t=null,n="".concat((0,r.Z)(new Uint8Array(e).slice(0,8)).join(" ")," "),i="255 216 255 ",a="71 73 70 56 57 97 ";return"137 80 78 71 13 10 26 10 "===n?t=d.LO.png:n.startsWith(i)?t=d.LO.jpg:n.startsWith(a)&&(t=d.LO.gif),t},U=function(e,t,n){return new File([e],n||"",{type:t})},H=function(){var e=(0,o.Z)(l().mark((function e(t){var n,r,i,a,o,s,u,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type){e.next=28;break}if(null===(n=t)||void 0===n||null===(r=n.name)||void 0===r||!r.endsWith(".excalidrawlib")){e.next=11;break}return e.t0=U,e.next=5,z(t);case 5:e.t1=e.sent,e.t2=d.LO.excalidrawlib,e.t3=t.name,t=(0,e.t0)(e.t1,e.t2,e.t3),e.next=26;break;case 11:if(null===(i=t)||void 0===i||null===(a=i.name)||void 0===a||!a.endsWith(".excalidraw")){e.next=21;break}return e.t4=U,e.next=15,z(t);case 15:e.t5=e.sent,e.t6=d.LO.excalidraw,e.t7=t.name,t=(0,e.t4)(e.t5,e.t6,e.t7),e.next=26;break;case 21:return e.next=23,z(t);case 23:o=e.sent,(s=F(o))&&(t=U(o,s,t.name));case 26:e.next=34;break;case 28:if(!E(t)){e.next=34;break}return e.next=31,z(t);case 31:u=e.sent,(c=F(u))&&c!==t.type&&(t=U(u,c,t.name));case 34:return e.abrupt("return",t);case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(e){return"arrayBuffer"in e?e.arrayBuffer():new Promise((function(t,n){var r=new FileReader;r.onload=function(e){var r;if(null===(r=e.target)||void 0===r||!r.result)return n(new Error("Couldn't convert blob to ArrayBuffer"));t(e.target.result)},r.readAsArrayBuffer(e)}))}},1393:function(e,t,n){"use strict";n.d(t,{I$:function(){return h},NL:function(){return m},kr:function(){return o}});var r=n(1930),i=n(8950),a=n(7945),o=function(){if("undefined"==typeof self)return!1;if("top"in self&&self!==top)try{top}catch(e){return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}(),s=o?n.e(736).then(n.bind(n,2254)):n.e(736).then(n.bind(n,3499));function l(){return l=(0,i.Z)(a.mark((function e(){var t,n=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}o?n.e(736).then(n.bind(n,6474)):n.e(736).then(n.bind(n,9521));var u=o?n.e(736).then(n.bind(n,9475)):n.e(736).then(n.bind(n,6281));function c(){return c=(0,i.Z)(a.mark((function e(){var t,n=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}var d=n(8288),f=n(6797),p=n(6340),h=function(e){var t,n,i,a=null===(t=e.extensions)||void 0===t?void 0:t.reduce((function(e,t){return e.push(d.LO[t]),e}),[]),o=null===(n=e.extensions)||void 0===n?void 0:n.reduce((function(e,t){return"jpg"===t?e.concat(".jpg",".jpeg"):e.concat(".".concat(t))}),[]);return function(){return l.apply(this,arguments)}({description:e.description,extensions:o,mimeTypes:a,multiple:null!==(i=e.multiple)&&void 0!==i&&i,legacySetup:function(t,n,i){var a=(0,p.Ds)(n,500),o=function(){s(),document.addEventListener(d.Ks.KEYUP,a),document.addEventListener(d.Ks.POINTER_UP,a),a()},s=function(){var n;if(null!==(n=i.files)&&void 0!==n&&n.length){var a=e.multiple?(0,r.Z)(i.files):i.files[0];t(a)}};requestAnimationFrame((function(){window.addEventListener(d.Ks.FOCUS,o)}));var l=window.setInterval((function(){s()}),500);return function(e){clearInterval(l),a.cancel(),window.removeEventListener(d.Ks.FOCUS,o),document.removeEventListener(d.Ks.KEYUP,a),document.removeEventListener(d.Ks.POINTER_UP,a),e&&(console.warn("Opening the file was canceled (legacy-fs)."),e(new f._))}}})},m=function(e,t){return function(){return c.apply(this,arguments)}(e,{fileName:"".concat(t.name,".").concat(t.extension),description:t.description,extensions:[".".concat(t.extension)]},t.fileHandle)}},673:function(e,t,n){"use strict";n.r(t),n.d(t,{decodePngMetadata:function(){return x},decodeSvgMetadata:function(){return k},encodePngMetadata:function(){return _},encodeSvgMetadata:function(){return T},getTEXtChunk:function(){return S}});var r=n(8950),i=n(7945),a=n.n(i),o=n(2983),s=n.n(o),l=n(1194),u=n(3434),c=n.n(u),d=n(2744),f=n(8288),p=n(434),h=function(e){return new Promise((function(t,n){var r="string"==typeof e?new Blob([(new TextEncoder).encode(e)]):new Blob([e instanceof Uint8Array?e:new Uint8Array(e)]),i=new FileReader;i.onload=function(e){if(!e.target||"string"!=typeof e.target.result)return n(new Error("couldn't convert to byte string"));t(e.target.result)},i.readAsBinaryString(r)}))},m=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0,i=e.length;r<i;r++)n[r]=e.charCodeAt(r);return t},g=function(e){return new TextDecoder("utf-8").decode(m(e))},v=function(){var e=(0,r.Z)(a().mark((function e(t){var n=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>1&&void 0!==n[1]&&n[1])){e.next=5;break}e.t0=window.btoa(t),e.next=10;break;case 5:return e.t1=window,e.next=8,h(t);case 8:e.t2=e.sent,e.t0=e.t1.btoa.call(e.t1,e.t2);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.abrupt("return",n?window.atob(t):g(window.atob(t)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.text,!1===t.compress){e.next=11;break}return e.prev=2,e.next=5,h((0,d.deflate)(n));case 5:r=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("encode: cannot deflate",e.t0);case 11:if(e.t1=!!r,e.t2=r,e.t2){e.next=17;break}return e.next=16,h(n);case 16:e.t2=e.sent;case 17:return e.t3=e.t2,e.abrupt("return",{version:"1",encoding:"bstring",compressed:e.t1,encoded:e.t3});case 19:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.encoding,e.next="bstring"===e.t0?3:12;break;case 3:if(!t.compressed){e.next=7;break}e.t1=t.encoded,e.next=10;break;case 7:return e.next=9,g(t.encoded);case 9:e.t1=e.sent;case 10:return n=e.t1,e.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(t.encoding,'"'));case 13:if(!t.compressed){e.next=15;break}return e.abrupt("return",(0,d.inflate)(new Uint8Array(m(n)),{to:"string"}));case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s(),e.t1=Uint8Array,e.next=4,(0,p.vZ)(t);case 4:if(e.t2=e.sent,e.t3=new e.t1(e.t2),n=(0,e.t0)(e.t3),!(r=n.find((function(e){return"tEXt"===e.name})))){e.next=10;break}return e.abrupt("return",l.decode(r.data));case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.blob,r=t.metadata,e.t0=s(),e.t1=Uint8Array,e.next=5,(0,p.vZ)(n);case 5:return e.t2=e.sent,e.t3=new e.t1(e.t2),i=(0,e.t0)(e.t3),e.t4=l,e.t5=f.LO.excalidraw,e.t6=JSON,e.next=13,b({text:r,compress:!0});case 13:return e.t7=e.sent,e.t8=e.t6.stringify.call(e.t6,e.t7),o=e.t4.encode.call(e.t4,e.t5,e.t8),i.splice(-1,0,o),e.abrupt("return",new Blob([c()(i)],{type:f.LO.png}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:if((null==(n=e.sent)?void 0:n.keyword)!==f.LO.excalidraw){e.next=19;break}if(e.prev=4,"encoded"in(r=JSON.parse(n.text))){e.next=10;break}if(!("type"in r)||r.type!==f.r8.excalidraw){e.next=9;break}return e.abrupt("return",n.text);case 9:throw new Error("FAILED");case 10:return e.next=12,w(r);case 12:return e.abrupt("return",e.sent);case 15:throw e.prev=15,e.t0=e.catch(4),console.error(e.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.text,e.t0=v,e.t1=JSON,e.next=5,b({text:n});case 5:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),e.next=9,(0,e.t0)(e.t3,!0);case 9:return r=e.sent,i="",i+="\x3c!-- payload-type:".concat(f.LO.excalidraw," --\x3e"),i+="\x3c!-- payload-version:2 --\x3e",i+="\x3c!-- payload-start --\x3e",i+=r,i+="\x3c!-- payload-end --\x3e",e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o,s,l,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.svg).includes("payload-type:".concat(f.LO.excalidraw))){e.next=26;break}if(r=n.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){e.next=5;break}throw new Error("INVALID");case 5:return i=n.match(/<!-- payload-version:(\d+) -->/),o=(null==i?void 0:i[1])||"1",s="1"!==o,e.prev=8,e.next=11,y(r[1],s);case 11:if(l=e.sent,"encoded"in(u=JSON.parse(l))){e.next=17;break}if(!("type"in u)||u.type!==f.r8.excalidraw){e.next=16;break}return e.abrupt("return",l);case 16:throw new Error("FAILED");case 17:return e.next=19,w(u);case 19:return e.abrupt("return",e.sent);case 22:throw e.prev=22,e.t0=e.catch(8),console.error(e.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return e.stop()}}),e,null,[[8,22]])})));return function(t){return e.apply(this,arguments)}}()},5523:function(e,t,n){"use strict";n.d(t,{HT:function(){return b},I_:function(){return m},NI:function(){return w},Um:function(){return g},dS:function(){return y},n8:function(){return v},t1:function(){return S}});var r=n(6655),i=n(8950),a=n(7945),o=n.n(a),s=n(1393),l=n(8897),u=n(8288),c=n(5118),d=n(434);function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e,t){var n,r={},i=f(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;!a.isDeleted&&"fileId"in a&&a.fileId&&t[a.fileId]&&(r[a.fileId]=t[a.fileId])}}catch(e){i.e(e)}finally{i.f()}return r},m=function(e,t,n,r){var i={type:u.r8.excalidraw,version:u.Kr.excalidraw,source:u.pb,elements:"local"===r?(0,c._M)(e):(0,c.BQ)(e),appState:"local"===r?(0,l.s)(t):(0,l.eS)(t),files:"local"===r?h(e,n):void 0};return JSON.stringify(i,null,2)},g=function(){var e=(0,i.Z)(o().mark((function e(t,n,r){var i,a,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=m(t,n,r,"local"),a=new Blob([i],{type:u.LO.excalidraw}),e.next=4,(0,s.NL)(a,{name:n.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,d.g8)(n.fileHandle)?null:n.fileHandle});case 4:return l=e.sent,e.abrupt("return",{fileHandle:l});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),v=function(){var e=(0,i.Z)(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.I$)({description:"Excalidraw files"});case 2:return r=e.sent,e.t0=d.cT,e.next=6,(0,d.gY)(r);case 6:return e.t1=e.sent,e.t2=t,e.t3=n,e.t4=r.handle,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t4));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(e){return(null==e?void 0:e.type)===u.r8.excalidraw&&(!e.elements||Array.isArray(e.elements)&&(!e.appState||"object"===(0,r.Z)(e.appState)))},b=function(e){return"object"===(0,r.Z)(e)&&e&&e.type===u.r8.excalidrawLibrary&&(1===e.version||2===e.version)},w=function(e){var t={type:u.r8.excalidrawLibrary,version:u.Kr.excalidrawLibrary,source:u.pb,libraryItems:e};return JSON.stringify(t,null,2)},S=function(){var e=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w(t),e.next=3,(0,s.NL)(new Blob([n],{type:u.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},7053:function(e,t,n){"use strict";n.d(t,{Di:function(){return P},WV:function(){return O},rF:function(){return x},xS:function(){return I},zh:function(){return E}});var r=n(7169),i=n(8950),a=n(5169),o=n(8821),s=n(1930),l=n(7945),u=n.n(l),c=n(434),d=n(679),f=n(4739),p=n(9487),h=n(8925),m=n(6797),g=n(8211),v=n(9787),y=n(8288);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=(0,f.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),T=function(e){return JSON.parse(JSON.stringify(e))},k=function(e,t){return!e.find((function(e){return e.elements.length===t.elements.length&&e.elements.every((function(e,n){return e.id===t.elements[n].id&&e.versionNonce===t.elements[n].versionNonce}))}))},E=function(e,t){var n,r=[],i=S(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;k(e,a)&&r.push(a)}}catch(e){i.e(e)}finally{i.f()}return[].concat(r,(0,s.Z)(e))},C=(0,a.Z)((function e(t){var n=this;(0,o.Z)(this,e),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return n.updateQueue[n.updateQueue.length-1]},this.notifyListeners=function(){if(n.updateQueue.length>0)p.e_.set(x,{status:"loading",libraryItems:n.lastLibraryItems,isInitialized:n.isInitialized});else{n.isInitialized=!0,p.e_.set(x,{status:"loaded",libraryItems:n.lastLibraryItems,isInitialized:n.isInitialized});try{var e,t;null===(e=(t=n.app.props).onLibraryChange)||void 0===e||e.call(t,T(n.lastLibraryItems))}catch(e){console.error(e)}}},this.resetLibrary=function(){return n.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var e=(0,i.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getLastUpdateTask()||n.lastLibraryItems;case 3:r=e.sent,n.updateQueue.length>0?t(n.getLatestLibrary()):t(T(r)),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",t(n.lastLibraryItems));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())},this.updateLibrary=function(){var e=(0,i.Z)(u().mark((function e(t){var r,a,o,s,l,f,p,h,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryItems,a=t.prompt,o=void 0!==a&&a,s=t.merge,l=void 0!==s&&s,f=t.openLibraryMenu,p=void 0!==f&&f,h=t.defaultStatus,v=void 0===h?"unpublished":h,p&&n.app.setState({isLibraryOpen:!0}),e.abrupt("return",n.setLibrary((function(){return new Promise(function(){var e=(0,i.Z)(u().mark((function e(t,i){var a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,"function"==typeof r?r(n.lastLibraryItems):r;case 3:if(!((a=e.sent)instanceof Blob)){e.next=10;break}return e.next=7,(0,c.lV)(a,v);case 7:s=e.sent,e.next=11;break;case 10:s=(0,d.wJ)(a,v);case 11:!o||window.confirm((0,g.t)("alerts.confirmAddLibrary",{numShapes:s.length}))?t(l?E(n.lastLibraryItems,s):s):i(new m._),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),i(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}())})).finally((function(){n.app.focusContainer()})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setLibrary=function(e){var t=new Promise(function(){var t=(0,i.Z)(u().mark((function t(r,i){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.getLastUpdateTask();case 3:return"function"==typeof e&&(e=e(n.lastLibraryItems)),t.t0=T,t.next=7,e;case 7:t.t1=t.sent,n.lastLibraryItems=(0,t.t0)(t.t1),r(n.lastLibraryItems),t.next=15;break;case 12:t.prev=12,t.t2=t.catch(0),i(t.t2);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()).catch((function(e){if("AbortError"===e.name)return console.warn("Library update aborted by user"),n.lastLibraryItems;throw e})).finally((function(){n.updateQueue=n.updateQueue.filter((function(e){return e!==t})),n.notifyListeners()}));return n.updateQueue.push(t),n.notifyListeners(),t},this.app=t}));t.ZP=C;var O=function(e){var t,n=Math.ceil(Math.sqrt(e.length)),r=[],i=0,a=0,o=0,l=0,u=0,c=0,d=0,f=S(e);try{var p=function(){var f=t.value;u&&u%n==0&&(a+=o+50,i=0,c=0,d++),0===c&&(o=function(t){return e.slice(t*n,t*n+n).reduce((function(e,t){var n=(0,h.v2)(t.elements).height;return Math.max(e,n)}),0)}(d)),l=function(t){var r,i=0,a=0,o=0,s=S(e);try{for(s.s();!(r=s.n()).done;){var l=r.value;if(i%n==0&&(a=0),a===t){var u=(0,h.v2)(l.elements).width;o=Math.max(o,u)}i++,a++}}catch(e){s.e(e)}finally{s.f()}return o}(c);var p=(0,h.v2)(f.elements),m=p.minX,g=p.minY,v=p.width,y=p.height,b=(l-v)/2,_=(o-y)/2;r.push.apply(r,(0,s.Z)(f.elements.map((function(e){return w(w({},e),{},{x:e.x+i+b-m,y:e.y+a+_-g})})))),i+=l+50,u++,c++};for(f.s();!(t=f.n()).done;)p()}catch(e){f.e(e)}finally{f.f()}return r},P=function(){var e=new URLSearchParams(window.location.hash.slice(1)).get(y.ah.addLibrary)||new URLSearchParams(window.location.search).get(y.UO.addLibrary),t=e?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return e?{libraryUrl:e,idToken:t}:null},I=function(e){var t=e.excalidrawAPI,n=e.getInitialLibraryItems,r=(0,v.useRef)(n);(0,v.useEffect)((function(){if(t){var e=function(e){var n=e.libraryUrl,r=e.idToken;if(window.location.hash.includes(y.ah.addLibrary)){var a=new URLSearchParams(window.location.hash.slice(1));a.delete(y.ah.addLibrary),window.history.replaceState({},y.iC,"#".concat(a.toString()))}else if(window.location.search.includes(y.UO.addLibrary)){var o=new URLSearchParams(window.location.search);o.delete(y.UO.addLibrary),window.history.replaceState({},y.iC,"?".concat(o.toString()))}t.updateLibrary({libraryItems:new Promise(function(){var e=(0,i.Z)(u().mark((function e(t,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(decodeURIComponent(n));case 3:return i=e.sent,e.next=6,i.blob();case 6:a=e.sent,t(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()),prompt:r!==t.id,merge:!0,defaultStatus:"published",openLibraryMenu:!0})},n=function(t){t.preventDefault();var n=P();n&&(t.stopImmediatePropagation(),window.history.replaceState({},"",t.oldURL),e(n))};r.current&&t.updateLibrary({libraryItems:r.current()});var a=P();return a&&e(a),window.addEventListener(y.Ks.HASHCHANGE,n),function(){window.removeEventListener(y.Ks.HASHCHANGE,n)}}}),[t])}},679:function(e,t,n){"use strict";n.d(t,{ET:function(){return w},lY:function(){return S},nu:function(){return _},wJ:function(){return T}});var r=n(2577),i=n(7169),a=n(5118),o=n(1974),s=n(6954),l=n(8288),u=n(8897),c=n(6938),d=n(1935),f=n(6340);function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0},y=function(e,t){var n,r,i,l,u,c,d,p,h,m,v,y,b,w,S,_={type:t.type||e.type,version:e.version||1,versionNonce:null!==(n=e.versionNonce)&&void 0!==n?n:0,isDeleted:null!==(r=e.isDeleted)&&void 0!==r&&r,id:e.id||(0,s.kb)(),fillStyle:e.fillStyle||"hachure",strokeWidth:e.strokeWidth||1,strokeStyle:null!==(i=e.strokeStyle)&&void 0!==i?i:"solid",roughness:null!==(l=e.roughness)&&void 0!==l?l:1,opacity:null==e.opacity?100:e.opacity,angle:e.angle||0,x:null!==(u=null!==(c=t.x)&&void 0!==c?c:e.x)&&void 0!==u?u:0,y:null!==(d=null!==(p=t.y)&&void 0!==p?p:e.y)&&void 0!==d?d:0,strokeColor:e.strokeColor,backgroundColor:e.backgroundColor,width:e.width||0,height:e.height||0,seed:null!==(h=e.seed)&&void 0!==h?h:1,groupIds:null!==(m=e.groupIds)&&void 0!==m?m:[],strokeSharpness:null!==(v=e.strokeSharpness)&&void 0!==v?v:(0,o.dt)(e.type)?"round":"sharp",boundElements:e.boundElementIds?e.boundElementIds.map((function(e){return{type:"arrow",id:e}})):null!==(y=e.boundElements)&&void 0!==y?y:[],updated:null!==(b=e.updated)&&void 0!==b?b:(0,f.C3)(),link:null!==(w=e.link)&&void 0!==w?w:null,locked:null!==(S=e.locked)&&void 0!==S&&S};return g(g(g({},_),(0,a.Qp)(_)),t)},b=function(e){var t,n,i;switch(e.type){case"text":var a=e.fontSize,o=e.fontFamily;if("font"in e){var s=e.font.split(" "),u=(0,r.Z)(s,2),d=u[0],f=u[1];a=parseInt(d,10),i=f,o=Object.keys(l.ut).includes(i)?l.ut[i]:l.rk}return y(e,{fontSize:a,fontFamily:o,text:null!==(t=e.text)&&void 0!==t?t:"",baseline:e.baseline,textAlign:e.textAlign||l.Hg,verticalAlign:e.verticalAlign||l.hs,containerId:null!==(n=e.containerId)&&void 0!==n?n:null,originalText:e.originalText||e.text});case"freedraw":return y(e,{points:e.points,lastCommittedPoint:null,simulatePressure:e.simulatePressure,pressures:e.pressures});case"image":return y(e,{status:e.status||"pending",fileId:e.fileId,scale:e.scale||[1,1]});case"line":case"draw":case"arrow":var p=e.startArrowhead,h=void 0===p?null:p,m=e.endArrowhead,g=void 0===m?"arrow"===e.type?"arrow":null:m,v=e.x,b=e.y,w=!Array.isArray(e.points)||e.points.length<2?[[0,0],[e.width,e.height]]:e.points;if(0!==w[0][0]||0!==w[0][1]){var S=c._.getNormalizedPoints(e);w=S.points,v=S.x,b=S.y}return y(e,{type:"draw"===e.type?"line":e.type,startBinding:e.startBinding,endBinding:e.endBinding,lastCommittedPoint:null,startArrowhead:h,endArrowhead:g,points:w,x:v,y:b});case"ellipse":case"rectangle":case"diamond":return y(e,{})}},w=function(e,t){var n=t?(0,f.xn)(t):null;return(e||[]).reduce((function(e,t){if("selection"!==t.type&&!(0,a.QD)(t)){var r=b(t);if(r){var i=null==n?void 0:n.get(t.id);i&&i.version>r.version&&(r=(0,d.ZP)(r,i.version)),e.push(r)}}return e}),[])},S=function(e,t){var n,i,a;e=e||{};var o,s=(0,u.im)(),l={},c=p(Object.entries(s));try{for(c.s();!(o=c.n()).done;){var d=(0,r.Z)(o.value,2),h=d[0],m=d[1],y=e[h],b=t?t[h]:void 0;l[h]=void 0!==y?y:void 0!==b?b:m}}catch(e){c.e(e)}finally{c.f()}return g(g({},l),{},{cursorButton:(null==t?void 0:t.cursorButton)||"up",penDetected:null!==(n=null==t?void 0:t.penDetected)&&void 0!==n?n:!!e.penMode&&null!==(i=e.penDetected)&&void 0!==i&&i,activeTool:g(g({},(0,f.Om)(s,l.activeTool.type&&v[l.activeTool.type]?l.activeTool:{type:"selection"})),{},{lastActiveToolBeforeEraser:null,locked:null!==(a=l.activeTool.locked)&&void 0!==a&&a}),zoom:"number"==typeof e.zoom?{value:e.zoom}:e.zoom||s.zoom,isLibraryOpen:!!l.isLibraryMenuDocked&&l.isLibraryOpen})},_=function(e,t,n){return{elements:w(null==e?void 0:e.elements,n),appState:S(null==e?void 0:e.appState,t||null),files:(null==e?void 0:e.files)||{}}},x=function(e){var t=w((0,a.Lm)(e.elements),null);return t.length?g(g({},e),{},{elements:t}):null},T=function(){var e,t=arguments.length>1?arguments[1]:void 0,n=[],r=p(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(Array.isArray(i)){var a=x({status:t,elements:i,id:(0,s.kb)(),created:Date.now()});a&&n.push(a)}else{var o=i,l=x(g(g({},o),{},{id:o.id||(0,s.kb)(),status:o.status||t,created:o.created||Date.now()}));l&&n.push(l)}}}catch(e){r.e(e)}finally{r.f()}return n}},2383:function(e,t,n){"use strict";n.d(t,{$u:function(){return P},Pp:function(){return L},lV:function(){return B},nW:function(){return C},nz:function(){return A},q$:function(){return I},rj:function(){return k},sw:function(){return M},wq:function(){return R}});var r=n(7169),i=n(2577),a=n(6340),o=n(1935),s=n(7901),l=n(1319),u=n(3646),c=n(8211),d=n(9787),f=n(45),p=n(6066),h=n(3063),m=n(6552),g=n(8288),v=n(9910),y=n(75),b=n(2325),w=n(5118),S=(n(4404),n(7047)),_=n(4512);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=document.createElement("img");k.src="data:".concat(g.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var E=!1,C=function(e){var t=e.element,n=e.appState,r=e.setAppState,s=e.onLinkOpen,h=t.link||"",m=(0,d.useState)(h),v=(0,i.Z)(m,2),y=v[0],b=v[1],w=(0,d.useRef)(null),x="editor"===n.showHyperlinkPopup||!h,T=(0,d.useCallback)((function(){if(w.current){var e=P(w.current.value);!t.link&&e&&(0,S.L)("hyperlink","create"),(0,o.DR)(t,{link:e}),r({showHyperlinkPopup:"info"})}}),[t,r]);(0,d.useLayoutEffect)((function(){return function(){T()}}),[T]),(0,d.useEffect)((function(){var e=null,i=function(i){x||(e&&clearTimeout(e),F(t,n,[i.clientX,i.clientY])&&(e=window.setTimeout((function(){r({showHyperlinkPopup:!1})}),500)))};return window.addEventListener(g.Ks.POINTER_MOVE,i,!1),function(){window.removeEventListener(g.Ks.POINTER_MOVE,i,!1),e&&clearTimeout(e)}}),[n,t,x,r]);var k=(0,d.useCallback)((function(){(0,S.L)("hyperlink","delete"),(0,o.DR)(t,{link:null}),x&&(w.current.value=""),r({showHyperlinkPopup:!1})}),[r,t,x]),E=O(t,n),C=E.x,A=E.y;return n.draggingElement||n.resizingElement||n.isRotating||n.openMenu?null:(0,_.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(A,"px"),left:"".concat(C,"px"),width:320,padding:5},children:[x?(0,_.jsx)("input",{className:(0,f.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:w,value:y,onChange:function(e){return b(e.target.value)},autoFocus:!0,onKeyDown:function(e){e.stopPropagation(),e[p.tW.CTRL_OR_CMD]&&e.key===p.tW.K&&e.preventDefault(),e.key!==p.tW.ENTER&&e.key!==p.tW.ESCAPE||T()}}):(0,_.jsx)("a",{href:t.link||"",className:(0,f.Z)("excalidraw-hyperlinkContainer-link",{"d-none":x}),target:I(t.link)?"_self":"_blank",onClick:function(e){if(t.link&&s){var n=(0,a.ag)(g.Ks.EXCALIDRAW_LINK,e.nativeEvent);s(t,n),n.defaultPrevented&&e.preventDefault()}},rel:"noopener noreferrer",children:t.link}),(0,_.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!x&&(0,_.jsx)(l.V,{type:"button",title:(0,c.t)("buttons.edit"),"aria-label":(0,c.t)("buttons.edit"),label:(0,c.t)("buttons.edit"),onClick:function(){(0,S.L)("hyperlink","edit","popup-ui"),r({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:u.gR}),h&&(0,_.jsx)(l.V,{type:"button",title:(0,c.t)("buttons.remove"),"aria-label":(0,c.t)("buttons.remove"),label:(0,c.t)("buttons.remove"),onClick:k,className:"excalidraw-hyperlinkContainer--remove",icon:u._I})]})]})},O=function(e,t){var n=(0,w.qf)(e),r=(0,i.Z)(n,2),o=r[0],s=r[1],l=(0,a._i)({sceneX:o+e.width/2,sceneY:s},t),u=l.x,c=l.y;return{x:u-t.offsetLeft-160,y:c-t.offsetTop-85}},P=function(e){return(e=e.trim())&&(e.includes("://")||/^[[\\/]/.test(e)||(e="https://".concat(e))),e},I=function(e){return!!(null!=e&&e.includes(location.origin)||null!=e&&e.startsWith("/"))},A=(0,s.z)({name:"hyperlink",perform:function(e,t){return"editor"!==t.showHyperlinkPopup&&{elements:e,appState:T(T({},t),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(e){return e[p.tW.CTRL_OR_CMD]&&e.key===p.tW.K},contextItemLabel:function(e,t){return D(e,t)},contextItemPredicate:function(e,t){return 1===(0,y.eD)(e,t).length},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,i=(0,y.eD)(t,n);return(0,_.jsx)(l.V,{type:"button",icon:u.p4,"aria-label":(0,c.t)(D(t,n)),title:"".concat((0,c.t)("labels.link.label")," - ").concat((0,a.uY)("CtrlOrCmd+K")),onClick:function(){return r(null)},selected:1===i.length&&!!i[0].link})}}),D=function(e,t){return(0,y.eD)(e,t)[0].link?"labels.link.edit":"labels.link.create"},M=function(e,t,n){var r=(0,i.Z)(e,4),a=r[0],o=r[1],s=r[2],l=r[3],u=h.Dn,c=u/n.zoom.value,d=u/n.zoom.value,f=u/n.zoom.value,p=(a+s)/2,g=(o+l)/2,v=(u-8)/(2*n.zoom.value),y=4/n.zoom.value,b=s+y-v,w=o-y-f+v,S=(0,m.U1)(b+c/2,w+d/2,p,g,t),_=(0,i.Z)(S,2);return[_[0]-c/2,_[1]-d/2,c,d]},R=function(e,t,n,r){var a=(0,i.Z)(n,2),o=a[0],s=a[1];if(!e.link||t.selectedElementIds[e.id])return!1;var l=4/t.zoom.value;if(!r&&t.viewModeEnabled&&(0,b.pX)(e,[o,s],l))return!0;var u=(0,w.qf)(e),c=(0,i.Z)(u,4),d=c[0],f=c[1],p=c[2],h=c[3],m=M([d,f,p,h],e.angle,t),g=(0,i.Z)(m,4),v=g[0],y=g[1],S=g[2],_=g[3];return o>v-l&&o<v+l+S&&s>y-l&&s<y+_+l},N=null,L=function(e,t){N&&clearTimeout(N),N=window.setTimeout((function(){return j(e,t)}),g.sA)},j=function(e,t){if(e.link){var n=(0,v.bK)();n.classList.add("excalidraw-tooltip--visible"),n.style.maxWidth="20rem",n.textContent=e.link;var r=(0,w.qf)(e),o=(0,i.Z)(r,4),s=o[0],l=o[1],u=o[2],c=o[3],d=M([s,l,u,c],e.angle,t),f=(0,i.Z)(d,4),p=f[0],h=f[1],m=f[2],g=f[3],y=(0,a._i)({sceneX:p,sceneY:h},t);(0,v.Js)(n,{left:y.x,top:y.y,width:m,height:g},"top"),(0,S.L)("hyperlink","tooltip","link-icon"),E=!0}},B=function(){N&&clearTimeout(N),E&&(E=!1,(0,v.bK)().classList.remove("excalidraw-tooltip--visible"))},F=function(e,t,n){var r=(0,i.Z)(n,2),o=r[0],s=r[1],l=(0,a.dE)({clientX:o,clientY:s},t),u=l.x,c=l.y,d=15/t.zoom.value;if((0,b.pX)(e,[u,c],d))return!1;var f=(0,w.qf)(e),p=(0,i.Z)(f,3),h=p[0],m=p[1],g=p[2];if(u>=h&&u<=g&&c>=m-85&&c<=m)return!1;var v=O(e,t),y=v.x,S=v.y;return!(o>=y-d&&o<=y+320+10+d&&s>=S-d&&s<=S+d+10+42)}},8290:function(e,t,n){"use strict";n.d(t,{$q:function(){return z},DK:function(){return T},H:function(){return k},HG:function(){return v},N1:function(){return m},R:function(){return S},Ww:function(){return P},Y9:function(){return C},ZB:function(){return R},cz:function(){return h},ek:function(){return U},el:function(){return b}});var r=n(7169),i=n(2577),a=n(75),o=n(1974),s=n(2325),l=n(1935),u=n(1564),c=n(6938),d=n(6340),f=n(6066);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var h=function(e){return!e[f.tW.CTRL_OR_CMD]},m=function(e){return e.isBindingEnabled},g=function(e,t){var n=[];return t.forEach((function(t){var r=e.getNonDeletedElement(t);null!=r&&n.push(r)})),n},v=function(e,t,n){var r=new Set,i=new Set;y(e,t,n,"start",r,i),y(e,n,t,"end",r,i);var a=Array.from(i).filter((function(e){return!r.has(e)}));g(u.Z.getScene(e),a).forEach((function(t){var n;(0,l.DR)(t,{boundElements:null===(n=t.boundElements)||void 0===n?void 0:n.filter((function(t){return"arrow"!==t.type||t.id!==e.id}))})}))},y=function(e,t,n,r,i,a){if("keep"!==t)if(null!=t)null!=n&&("keep"===n?x(e,t,r):"start"!==r&&n.id===t.id)||(_(e,t,r),i.add(t.id));else{var o=E(e,r);null!=o&&a.add(o)}},b=function(e){e.forEach((function(e){(0,o.Mn)(e)?v(e,L(e,"start"),L(e,"end")):(0,o.f0)(e)&&w(e)}))},w=function(e){B(e).forEach((function(t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];return v(r,"end"===a?"keep":e,"start"===a?"keep":e)}))},S=function(e,t,n,r){null!=t.startBoundElement&&_(e,t.startBoundElement,"start");var i=C(r,n);null==i||x(e,i,"end")||_(e,i,"end")},_=function(e,t,n){(0,l.DR)(e,(0,r.Z)({},"start"===n?"startBinding":"endBinding",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({elementId:t.id},O(e,t,n)))),(0,d.xn)(t.boundElements||[]).has(e.id)||(0,l.DR)(t,{boundElements:(t.boundElements||[]).concat({id:e.id,type:"arrow"})})},x=function(e,t,n){var r=e["start"===n?"endBinding":"startBinding"];return T(e,null==r?void 0:r.elementId,t)},T=function(e,t,n){return t===n.id&&e.points.length<3},k=function(e){e.forEach((function(e){(0,o.Mn)(e)&&v(e,null,null)}))},E=function(e,t){var n="start"===t?"startBinding":"endBinding",i=e[n];return null==i?null:((0,l.DR)(e,(0,r.Z)({},n,null)),i.elementId)},C=function(e,t){return(0,a.QG)(t.getNonDeletedElements(),(function(t){return(0,o.f0)(t,!1)&&(0,s.uu)(t,e)}))},O=function(e,t,n){var r="start"===n?-1:1,i=-1===r?0:e.points.length-1,a=i-r,o=c._.getPointAtIndexGlobalCoordinates(e,i),l=c._.getPointAtIndexGlobalCoordinates(e,a);return{focus:(0,s.T_)(t,l,o),gap:Math.max(1,(0,s.oT)(t,o))}},P=function(e,t){var n,r=(null!==(n=e.boundElements)&&void 0!==n?n:[]).filter((function(e){return"arrow"===e.type}));if(0!==r.length){var i=null!=t?t:{},a=i.newSize,s=i.simultaneouslyUpdated,c=A(s);g(u.Z.getScene(e),r.map((function(e){return e.id}))).forEach((function(t){if((0,o.bt)(t)){var n=e;if(I(t,n)){var r=M(n,t.startBinding,a),i=M(n,t.endBinding,a);c.has(t.id)?(0,l.DR)(t,{startBinding:r,endBinding:i}):(D(t,"start",r,e),D(t,"end",i,e))}}}))}},I=function(e,t){var n,r;return(null===(n=e.startBinding)||void 0===n?void 0:n.elementId)===t.id||(null===(r=e.endBinding)||void 0===r?void 0:r.elementId)===t.id},A=function(e){return new Set((e||[]).map((function(e){return e.id})))},D=function(e,t,n,i){if(!(null==n||n.elementId!==i.id&&e.points.length>2)){var a=u.Z.getScene(e).getElement(n.elementId);if(null!=a){var o,l="start"===t?-1:1,d=-1===l?0:e.points.length-1,f=d-l,p=c._.getPointAtIndexGlobalCoordinates(e,f),h=(0,s.j_)(a,n.focus,p);if(0===n.gap)o=h;else{var m=(0,s.MZ)(a,p,h,n.gap);o=0===m.length?h:m[0]}c._.movePoints(e,[{index:d,point:c._.pointFromAbsoluteCoords(e,o)}],(0,r.Z)({},"start"===t?"startBinding":"endBinding",n))}}},M=function(e,t,n){if(null==t||null==n)return t;var r=t.gap,i=t.focus,a=t.elementId,o=n.width,l=n.height,u=e.width,c=e.height;return{elementId:a,gap:Math.max(1,Math.min((0,s.fb)(e,o,l),r*(o<l?o/u:l/c))),focus:i}},R=function(e){var t=new Set(e.map((function(e){return e.id})));return e.flatMap((function(e){return(0,o.Mn)(e,!1)?N(e).filter((function(e){return!t.has(e.id)})):(0,o.f0)(e,!1)?B(e).filter((function(e){return!t.has(e[0].id)})):[]}))},N=function(e){return[L(e,"start"),L(e,"end")].filter((function(e){return null!=e}))},L=function(e,t){return C(j(e,t),u.Z.getScene(e))},j=function(e,t){var n="start"===t?0:-1;return(0,d.AK)(c._.getPointAtIndexGlobalCoordinates(e,n))},B=function(e){return u.Z.getScene(e).getNonDeletedElements().map((function(t){if(!(0,o.Mn)(t,!1))return null;var n=F(t,"start",e),r=F(t,"end",e);return n||r?[t,n&&r?"both":n?"start":"end",e]:null})).filter((function(e){return null!=e}))},F=function(e,t,n){return null==e["start"===t?"startBinding":"endBinding"]&&!x(e,n,t)&&(0,s.uu)(n,j(e,t))},U=function(e,t,n,r){var i=new Set,a=new Set,s="duplicatesServeAsOld"===r;t.forEach((function(e){var t=e.boundElements;if(null!=t&&t.length>0&&(t.forEach((function(e){s&&!n.has(e.id)&&i.add(e.id)})),a.add(n.get(e.id))),(0,o.Mn)(e)){if(null!=e.startBinding){var r=e.startBinding.elementId;s&&!n.has(r)&&a.add(r)}if(null!=e.endBinding){var l=e.endBinding.elementId;s&&!n.has(l)&&a.add(l)}null==e.startBinding&&null==e.endBinding||i.add(n.get(e.id))}})),e.filter((function(e){var t=e.id;return i.has(t)})).forEach((function(e){var t=e.startBinding,r=e.endBinding;(0,l.DR)(e,{startBinding:H(t,n),endBinding:H(r,n)})})),e.filter((function(e){var t=e.id;return a.has(t)})).forEach((function(e){var t=e.boundElements;null!=t&&t.length>0&&(0,l.DR)(e,{boundElements:t.map((function(e){return n.has(e.id)?{id:n.get(e.id),type:e.type}:e}))})}))},H=function(e,t){var n;if(null==e)return null;var r=e.elementId;return{focus:e.focus,gap:e.gap,elementId:null!==(n=t.get(r))&&void 0!==n?n:r}},z=function(e,t){var n=new Set(t.map((function(e){return e.id}))),r=new Set;t.forEach((function(e){var t;(0,o.f0)(e)?null===(t=e.boundElements)||void 0===t||t.forEach((function(e){n.has(e.id)||r.add(e.id)})):(0,o.Mn)(e)&&(e.startBinding&&r.add(e.startBinding.elementId),e.endBinding&&r.add(e.endBinding.elementId))})),e.filter((function(e){var t=e.id;return r.has(t)})).forEach((function(e){(0,o.f0)(e)?(0,l.DR)(e,{boundElements:$(e.boundElements,n)}):(0,o.Mn)(e)&&(0,l.DR)(e,{startBinding:V(e.startBinding,n),endBinding:V(e.endBinding,n)})}))},V=function(e,t){return null==e||t.has(e.elementId)?null:e},$=function(e,t){return e?e.filter((function(e){return!t.has(e.id)})):null}},8925:function(e,t,n){"use strict";n.d(t,{CM:function(){return p},KP:function(){return w},Pi:function(){return b},UC:function(){return f},Ut:function(){return _},Y5:function(){return y},os:function(){return x},qf:function(){return d},v2:function(){return T},wC:function(){return S}});var r=n(2577),i=n(6552),a=n(8234),o=n(3063),s=n(1974),l=n(5001);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){return(0,s.F9)(e)?g(e):(0,s.bt)(e)?v(e):[e.x,e.y,e.x+e.width,e.y+e.height]},f=function(e){var t=Math.floor(e.width/2)+1,n=e.width,r=Math.floor(e.height/2)+1;return[t,0,n,r,t,e.height,0,r]},p=function(e){var t,n=u(e.sets);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("path"===r.type)return r.ops}}catch(e){n.e(e)}finally{n.f()}return e.sets[0].ops},h=function(e,t){var n=[0,0],i=e.reduce((function(e,i){var a=i.op,o=i.data;if("move"===a)n=o;else if("bcurveTo"===a){var s=[o[0],o[1]],l=[o[2],o[3]],u=[o[4],o[5]],c=n;n=u;for(var d=function(e,t){return Math.pow(1-e,3)*u[t]+3*e*Math.pow(1-e,2)*l[t]+3*Math.pow(e,2)*(1-e)*s[t]+c[t]*Math.pow(e,3)},f=0;f<=1;){var p=d(f,0),h=d(f,1);if(t){var m=t(p,h),g=(0,r.Z)(m,2);p=g[0],h=g[1]}e.minY=Math.min(e.minY,h),e.minX=Math.min(e.minX,p),e.maxX=Math.max(e.maxX,p),e.maxY=Math.max(e.maxY,h),f+=.1}}return e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[i.minX,i.minY,i.maxX,i.maxY]},m=function(e){var t,n=1/0,i=1/0,a=-1/0,o=-1/0,s=u(e);try{for(s.s();!(t=s.n()).done;){var l=(0,r.Z)(t.value,2),c=l[0],d=l[1];n=Math.min(n,c),i=Math.min(i,d),a=Math.max(a,c),o=Math.max(o,d)}}catch(e){s.e(e)}finally{s.f()}return[n,i,a,o]},g=function(e){var t=m(e.points),n=(0,r.Z)(t,4),i=n[0],a=n[1],o=n[2],s=n[3];return[i+e.x,a+e.y,o+e.x,s+e.y]},v=function(e){var t;if(e.points.length<2||!(0,o.R2)(e)){var n=e.points.reduce((function(e,t){var n=(0,r.Z)(t,2),i=n[0],a=n[1];return e.minY=Math.min(e.minY,a),e.minX=Math.min(e.minX,i),e.maxX=Math.max(e.maxX,i),e.maxY=Math.max(e.maxY,a),e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),i=n.minX,a=n.minY,s=n.maxX,l=n.maxY;t=[i+e.x,a+e.y,s+e.x,l+e.y]}else{var u=(0,o.R2)(e),c=p(u[0]),d=h(c),f=(0,r.Z)(d,4),m=f[0],g=f[1],v=f[2],y=f[3];t=[m+e.x,g+e.y,v+e.x,y+e.y]}return t},y=function(e,t,n,a){var o=p(t[0]);if(o.length<1)return null;var s="start"===n?1:o.length-1,l=o[s].data,u=[l[4],l[5]],c=[l[2],l[3]],d=[l[0],l[1]],f=o[s-1],h=[0,0];"move"===f.op?h=f.data:"bcurveTo"===f.op&&(h=[f.data[4],f.data[5]]);var m=function(e,t){return Math.pow(1-e,3)*u[t]+3*e*Math.pow(1-e,2)*c[t]+3*Math.pow(e,2)*(1-e)*d[t]+h[t]*Math.pow(e,3)},g="start"===n?h:u,v=(0,r.Z)(g,2),y=v[0],b=v[1],w=[m(.3,0),m(.3,1)],S=w[0],_=w[1],x=Math.hypot(y-S,b-_),T=(y-S)/x,k=(b-_)/x,E={arrow:30,bar:15,dot:15,triangle:15}[a],C=0;if("arrow"===a){var O=(0,r.Z)(e.points[e.points.length-1],2),P=O[0],I=O[1],A=e.points.length>1?e.points[e.points.length-2]:[0,0],D=(0,r.Z)(A,2),M=D[0],R=D[1];C=Math.hypot(P-M,I-R)}else for(var N=0;N<e.points.length;N++){var L=e.points[N-1]||[0,0],j=(0,r.Z)(L,2),B=j[0],F=j[1],U=(0,r.Z)(e.points[N],2),H=U[0],z=U[1];C+=Math.hypot(H-B,z-F)}var V=Math.min(E,C/2),$=y-T*V,G=b-k*V;if("dot"===a)return[y,b,Math.hypot(G-b,$-y)+e.strokeWidth];var W={arrow:20,bar:90,triangle:25}[a],q=(0,i.U1)($,G,y,b,-W*Math.PI/180),Z=(0,r.Z)(q,2),K=Z[0],X=Z[1],Y=(0,i.U1)($,G,y,b,W*Math.PI/180),Q=(0,r.Z)(Y,2);return[y,b,K,X,Q[0],Q[1]]},b=function(e){var t,n=d(e),a=(0,r.Z)(n,4),l=a[0],u=a[1],c=a[2],f=a[3],g=(l+c)/2,v=(u+f)/2;if((0,s.F9)(e)){var y=m(e.points.map((function(t){var n=(0,r.Z)(t,2),a=n[0],o=n[1];return(0,i.U1)(a,o,g-e.x,v-e.y,e.angle)}))),b=(0,r.Z)(y,4),w=b[0],S=b[1],_=b[2],x=b[3];return[w+e.x,S+e.y,_+e.x,x+e.y]}if((0,s.bt)(e))t=function(e,t,n){if(e.points.length<2||!(0,o.R2)(e)){var a=e.points.reduce((function(a,o){var s=(0,r.Z)(o,2),l=s[0],u=s[1],c=(0,i.U1)(e.x+l,e.y+u,t,n,e.angle),d=(0,r.Z)(c,2);return l=d[0],u=d[1],a.minY=Math.min(a.minY,u),a.minX=Math.min(a.minX,l),a.maxX=Math.max(a.maxX,l),a.maxY=Math.max(a.maxY,u),a}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[a.minX,a.minY,a.maxX,a.maxY]}var s=(0,o.R2)(e),l=p(s[0]);return h(l,(function(r,a){return(0,i.U1)(e.x+r,e.y+a,t,n,e.angle)}))}(e,g,v);else if("diamond"===e.type){var T=(0,i.U1)(g,u,g,v,e.angle),k=(0,r.Z)(T,2),E=k[0],C=k[1],O=(0,i.U1)(g,f,g,v,e.angle),P=(0,r.Z)(O,2),I=P[0],A=P[1],D=(0,i.U1)(l,v,g,v,e.angle),M=(0,r.Z)(D,2),R=M[0],N=M[1],L=(0,i.U1)(c,v,g,v,e.angle),j=(0,r.Z)(L,2),B=j[0],F=j[1];t=[Math.min(E,I,R,B),Math.min(C,A,N,F),Math.max(E,I,R,B),Math.max(C,A,N,F)]}else if("ellipse"===e.type){var U=(c-l)/2,H=(f-u)/2,z=Math.cos(e.angle),V=Math.sin(e.angle),$=Math.hypot(U*z,H*V),G=Math.hypot(H*z,U*V);t=[g-$,v-G,g+$,v+G]}else{var W=(0,i.U1)(l,u,g,v,e.angle),q=(0,r.Z)(W,2),Z=q[0],K=q[1],X=(0,i.U1)(l,f,g,v,e.angle),Y=(0,r.Z)(X,2),Q=Y[0],J=Y[1],ee=(0,i.U1)(c,f,g,v,e.angle),te=(0,r.Z)(ee,2),ne=te[0],re=te[1],ie=(0,i.U1)(c,u,g,v,e.angle),ae=(0,r.Z)(ie,2),oe=ae[0],se=ae[1];t=[Math.min(Z,Q,ne,oe),Math.min(K,J,re,se),Math.max(Z,Q,ne,oe),Math.max(K,J,re,se)]}return t},w=function(e){if(!e.length)return[0,0,0,0];var t=1/0,n=-1/0,i=1/0,a=-1/0;return e.forEach((function(e){var o=b(e),s=(0,r.Z)(o,4),l=s[0],u=s[1],c=s[2],d=s[3];t=Math.min(t,l),i=Math.min(i,u),n=Math.max(n,c),a=Math.max(a,d)})),[t,i,n,a]},S=function(e,t,n){if(!(0,s.bt)(e)&&!(0,s.F9)(e))return[e.x,e.y,e.x+t,e.y+n];var i,u=(0,l.z)(0,t,(0,l.z)(1,n,e.points));if((0,s.F9)(e))i=m(u);else{var c=a.Z.generator(),d="sharp"===e.strokeSharpness?c.linearPath(u,(0,o.i)(e)):c.curve(u,(0,o.i)(e)),f=p(d);i=h(f)}var g=i,v=(0,r.Z)(g,4),y=v[0],b=v[1],w=v[2],S=v[3];return[y+e.x,b+e.y,w+e.x,S+e.y]},_=function(e,t,n){var i=a.Z.generator(),s="sharp"===n?i.linearPath(t,(0,o.i)(e)):i.curve(t,(0,o.i)(e)),l=p(s),u=h(l),c=(0,r.Z)(u,4),d=c[0],f=c[1],m=c[2],g=c[3];return[d+e.x,f+e.y,m+e.x,g+e.y]},x=function(e,t){if(!e.length)return[0,0,0,0];var n=1/0,a=e[0];return e.forEach((function(e){var o=b(e),s=(0,r.Z)(o,4),l=s[0],u=s[1],c=s[2],d=s[3],f=(0,i.LW)((l+c)/2,(u+d)/2,t.x,t.y);f<n&&(n=f,a=e)})),b(a)},T=function(e){var t=w(e),n=(0,r.Z)(t,4),i=n[0],a=n[1],o=n[2],s=n[3];return{minX:i,minY:a,maxX:o,maxY:s,width:o-i,height:s-a,midX:(i+o)/2,midY:(a+s)/2}}},2325:function(e,t,n){"use strict";n.d(t,{uu:function(){return H},T_:function(){return ie},j_:function(){return ae},oT:function(){return $},wX:function(){return L},MZ:function(){return oe},wB:function(){return j},Qu:function(){return B},pX:function(){return U},fb:function(){return z}});var r=n(2577),i=function(e,t){return[0,0,0,0,t,e,1,0]},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[0,0,0,0,0,0,0,0];if(t<0||t>7)throw new Error("Expected `index` between 0 and 7, got `".concat(t,"`"));return 0!==e&&(n[t]=e),n},o=function(e){return[e[0],e[1],e[2],e[3],-e[4],-e[5],-e[6],-e[7]]},s=function(e,t){return m(t)?[e[0]-t,e[1],e[2],e[3],e[4],e[5],e[6],e[7]]:[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3],e[4]-t[4],e[5]-t[5],e[6]-t[6],e[7]-t[7]]},l=function(e,t){return m(t)?[e[0]*t,e[1]*t,e[2]*t,e[3]*t,e[4]*t,e[5]*t,e[6]*t,e[7]*t]:[u(e,t),t[1]*e[0]+t[0]*e[1]-t[4]*e[2]+t[5]*e[3]+t[2]*e[4]-t[3]*e[5]-t[7]*e[6]-t[6]*e[7],t[2]*e[0]+t[0]*e[2]-t[6]*e[3]+t[3]*e[6],t[3]*e[0]+t[6]*e[2]+t[0]*e[3]-t[2]*e[6],t[4]*e[0]+t[2]*e[1]-t[1]*e[2]+t[7]*e[3]+t[0]*e[4]+t[6]*e[5]-t[5]*e[6]+t[3]*e[7],t[5]*e[0]-t[3]*e[1]+t[7]*e[2]+t[1]*e[3]-t[6]*e[4]+t[0]*e[5]+t[4]*e[6]+t[2]*e[7],t[6]*e[0]+t[3]*e[2]-t[2]*e[3]+t[0]*e[6],t[7]*e[0]+t[6]*e[1]+t[5]*e[2]+t[4]*e[3]+t[3]*e[4]+t[2]*e[5]+t[1]*e[6]+t[0]*e[7]]},u=function(e,t){return t[0]*e[0]+t[2]*e[2]+t[3]*e[3]-t[6]*e[6]},c=function(e,t){return[d(e,t),e[1]*t[7]+e[4]*t[5]-e[5]*t[4]+e[7]*t[1],e[2]*t[7]-e[4]*t[6]+e[6]*t[4]+e[7]*t[2],e[3]*t[7]+e[5]*t[6]-e[6]*t[5]+e[7]*t[3],e[4]*t[7]+e[7]*t[4],e[5]*t[7]+e[7]*t[5],e[6]*t[7]+e[7]*t[6],e[7]*t[7]]},d=function(e,t){return e[0]*t[7]+e[1]*t[6]+e[2]*t[5]+e[3]*t[4]+e[4]*t[3]+e[5]*t[2]+e[6]*t[1]+e[7]*t[0]},f=function(e){return Math.sqrt(Math.abs(e[0]*e[0]-e[2]*e[2]-e[3]*e[3]+e[6]*e[6]))},p=function(e){var t=f(e);if(0===t||1===t)return e;var n=e[6]<0?-1:1;return l(e,n/t)},h=function(e){var t=function(e){return Math.sqrt(Math.abs(e[7]*e[7]-e[5]*e[5]-e[4]*e[4]+e[1]*e[1]))}(e);return 0===t||1===t?e:l(e,1/t)},m=function(e){return"number"==typeof e},g=(a(1,1),a(1,2),a(1,3),a(1,4),a(1,5),a(1,6),a(1,7),function(e,t,n){return p([0,n,e,t,0,0,0,0])}),v=function(e,t){return p(c(t,e))},y=function(e,t){return n=e,[(r=t)[0]*n[0]+r[2]*n[2]+r[3]*n[3]-r[6]*n[6],r[1]*n[0]+r[0]*n[1]-r[4]*n[2]+r[5]*n[3]+r[2]*n[4]-r[3]*n[5]-r[7]*n[6]-r[6]*n[7],r[2]*n[0]+r[0]*n[2]-r[6]*n[3]+r[3]*n[6],r[3]*n[0]+r[6]*n[2]+r[0]*n[3]-r[2]*n[6],r[4]*n[0]+r[7]*n[3]+r[0]*n[4]+r[3]*n[7],r[5]*n[0]+r[7]*n[2]+r[0]*n[5]+r[2]*n[7],r[6]*n[0]+r[0]*n[6],r[7]*n[0]+r[0]*n[7]];var n,r},b=function(e){var t=(0,r.Z)(e,2),n=t[0];return[0,0,0,0,t[1],n,1,0]},w=function(e){return[e[5],e[4]]},S=function(e,t){return p((n=e,[(r=t)[0]*n[0],r[1]*n[0]+r[0]*n[1],r[2]*n[0]+r[0]*n[2],r[3]*n[0]+r[0]*n[3],r[4]*n[0]+r[2]*n[1]-r[1]*n[2]+r[0]*n[4],r[5]*n[0]-r[3]*n[1]+r[1]*n[3]+r[0]*n[5],r[6]*n[0]+r[3]*n[2]-r[2]*n[3]+r[0]*n[6],r[7]*n[0]+r[6]*n[1]+r[5]*n[2]+r[4]*n[3]+r[3]*n[4]+r[2]*n[5]+r[1]*n[6]]));var n,r},_=function(e,t){return f(c(e,t))},x=function(e,t){return d(e,t)},T=function(e){return[0,0,0,0,e[4],e[5],0,0]},k=function(e,t){return n=l(e,Math.sin(t/2)),r=Math.cos(t/2),m(r)?[n[0]+r,n[1],n[2],n[3],n[4],n[5],n[6],n[7]]:[n[0]+r[0],n[1]+r[1],n[2]+r[2],n[3]+r[3],n[4]+r[4],n[5]+r[5],n[6]+r[6],n[7]+r[7]];var n,r},E=function(e,t){return p(l(l(e,t),o(e)))},C=n(6552),O=n(1493),P=n(8925),I=n(3063),A=n(1974),D=n(5118),M=n(6340);function R(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(e,t,n,r){var i=10/t.zoom.value,a=[n,r];return F(t,e)?U(e,a,i):B(e,t,a)},j=function(e,t,n,r){var i=10/t.zoom.value;return!B(e,t,[n,r])&&U(e,[n,r],i)},B=function(e,t,n){var r=10/t.zoom.value,i=(0,D.iB)(e)?G:function(e){if("arrow"===e.type)return!1;if("freedraw"===e.type)return!0;var t=!(0,M.Qm)(e.backgroundColor)||(0,A.Xo)(e);return"line"===e.type?t&&(0,C.g6)(e.points):t||(0,A.pC)(e)}(e)?W:q;return V({element:e,point:n,threshold:r,check:i})},F=function(e,t){return e.selectedElementIds[t.id]},U=function(e,t,n){var i=(0,r.Z)(t,2),a=i[0],o=i[1],s=(0,P.qf)(e),l=(0,r.Z)(s,4),u=l[0],c=l[1],d=l[2],f=l[3],p=(u+d)/2,h=(c+f)/2,m=(0,C.U1)(a,o,p,h,-e.angle),g=(0,r.Z)(m,2),v=g[0],y=g[1];return v>u-n&&v<d+n&&y>c-n&&y<f+n},H=function(e,t){var n=t.x,r=t.y,i=z(e,e.width,e.height);return V({element:e,point:[n,r],threshold:i,check:Z})},z=function(e,t,n){var r=("diamond"===e.type?1/Math.sqrt(2):1)*Math.min(t,n);return Math.max(16,Math.min(.25*r,32))},V=function(e){switch(e.element.type){case"rectangle":case"image":case"text":case"diamond":case"ellipse":var t=$(e.element,e.point);return e.check(t,e.threshold);case"freedraw":return!!e.check(K(e.element,e.point),e.threshold)&&J(e.element,e.point,e.threshold);case"arrow":case"line":return ee(e);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},$=function(e,t){switch(e.type){case"rectangle":case"image":case"text":return K(e,t);case"diamond":return X(e,t);case"ellipse":return Y(e,t)}},G=function(e,t){return e<0},W=function(e,t){return e<t},q=function(e,t){return Math.abs(e)<t},Z=function(e,t){return 0<=e&&e<t},K=function(e,t){var n=te(e,t),i=(0,r.Z)(n,4),a=i[1],o=i[2],s=i[3];return Math.max(x(a,g(0,1,-s)),x(a,g(1,0,-o)))},X=function(e,t){var n=te(e,t),i=(0,r.Z)(n,4),a=i[1],o=i[2],s=i[3],l=g(s,o,-s*o);return x(a,l)},Y=function(e,t){var n,i=Q(e,t),a=(0,r.Z)(i,2),o=a[0],s=a[1];return n=s,-Math.sign(n[1])*x(o,s)},Q=function(e,t){var n=te(e,t),a=(0,r.Z)(n,4),o=a[1],s=a[2],l=a[3],u=w(o),c=(0,r.Z)(u,2),d=c[0],f=c[1],p=.707,h=.707,m=s,g=l;[0,1,2,3].forEach((function(e){var t=m*p,n=g*h,r=(m*m-g*g)*Math.pow(p,3)/m,i=(g*g-m*m)*Math.pow(h,3)/g,a=t-r,o=n-i,s=d-r,l=f-i,u=Math.hypot(o,a),c=Math.hypot(l,s);p=Math.min(1,Math.max(0,(s*u/c+r)/m)),h=Math.min(1,Math.max(0,(l*u/c+i)/g));var v=Math.hypot(h,p);p/=v,h/=v}));var b,S=i(m*p,g*h);return[o,y(v(o,b=S),b)]},J=function(e,t,n){var i,a;if(0===e.angle)i=t[0]-e.x,a=t[1]-e.y;else{var o=(0,P.qf)(e),s=(0,r.Z)(o,4),l=s[0],u=s[1],c=s[2],d=s[3],f=(0,C.xj)(t,[l+(c-l)/2,u+(d-u)/2],-e.angle);i=f[0]-e.x,a=f[1]-e.y}var p,h=(0,r.Z)(e.points,2),m=h[0],g=h[1];if((0,C.LW)(m[0],m[1],i,a)<n||(0,C.LW)(g[0],g[1],i,a)<n)return!0;for(var v=0;v<e.points.length;v++){var y=[g[0]-m[0],g[1]-m[1]],b=Math.hypot(y[1],y[0]),w=[y[0]/b,y[1]/b],S=[i-m[0],a-m[1]],_=(S[0]*w[0]+S[1]*w[1])/Math.hypot(w[1],w[0]);p=[m[0]+w[0]*_,m[1]+w[1]*_];var x=(0,C.LW)(p[0],p[1],m[0],m[1]),T=(0,C.LW)(p[0],p[1],g[0],g[1]);if(p=T<x&&x>b?g:x<T&&T>b?m:p,Math.hypot(a-p[1],i-p[0])<n)return!0;m=g,g=e.points[v+1]}var k=(0,I.R2)(e);return!(!k||!k.sets.length)&&ge(k,i,a,n)},ee=function(e){var t=e.element,n=e.threshold;if(!(0,I.R2)(t))return!1;var i=te(e.element,e.point),a=(0,r.Z)(i,4),o=a[0],s=a[1],l=a[2],u=a[3],c=g(0,1,-u),d=g(1,0,-l);if(!W(x(s,c),n)||!W(x(s,d),n))return!1;var f=w(o),p=(0,r.Z)(f,2),h=p[0],m=p[1],v=(0,I.R2)(t);return!!v&&(!(e.check!==W||!v.some((function(e){return me(e,h,m,t.strokeSharpness)})))||v.some((function(e){return ge(e,h,m,n)})))},te=function(e,t){var n,i=b(t),a=(0,P.qf)(e),o=re(a),l=k(o,e.angle),u=E(l,i),c=function(e){return[0,0,0,0,Math.abs(e[4]),Math.abs(e[5]),1,0]}(s(u,T(o))),d=(n=e.x,[0,0,0,0,e.y,n,0,0]),f=s(u,d),p=(0,r.Z)(a,4),h=p[0],m=p[1];return[f,c,(p[2]-h)/2,(p[3]-m)/2]},ne=function(e){var t=(0,P.qf)(e),n=re(t),r=k(n,e.angle),i=o(function(e){return[1,0,0,0,-.5*e[5],.5*e[4],0,0]}(T(n)));return l(i,r)},re=function(e){var t=(0,r.Z)(e,4),n=t[0],a=t[1],o=t[2],s=t[3];return i((n+o)/2,(a+s)/2)},ie=function(e,t,n){var r=ne(e),i=E(r,b(t)),a=E(r,b(n)),o=v(i,a),s=e.height/e.width,l=e.width/2,u=e.height/2,c=o[2],d=o[3],f=o[1],p=Math.abs(d),h=Math.abs(c);switch(e.type){case"rectangle":case"image":case"text":return f/(l*(h+s*p));case"diamond":return p<h?f/(h*l):f/(p*u);case"ellipse":return f/(l*Math.sqrt(Math.pow(c,2)+Math.pow(s,2)*Math.pow(d,2)))}},ae=function(e,t,n){if(0===t){var r=(0,P.qf)(e),i=re(r);return w(i)}var a,s=ne(e),l=E(s,b(n)),u=o(s);switch(e.type){case"rectangle":case"image":case"text":case"diamond":a=he(e,t,l);break;case"ellipse":a=pe(e,t,l)}return w(E(u,a))},oe=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=ne(e),a=E(i,b(t)),s=E(i,b(n)),l=v(a,s),u=o(i);return se(e,l,a,r).map((function(e){return w(E(u,e))}))},se=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;switch(e.type){case"rectangle":case"image":case"text":case"diamond":var a=le(e);r=a.flatMap((function(e,n){var r=[e,a[(n+1)%4]];return ue(t,ce(r,i))})).concat(a.flatMap((function(e){return fe(e,i,t)})));break;case"ellipse":r=de(e,i,t)}if(r.length<2)return[];var o=r.sort((function(e,t){return _(e,n)-_(t,n)}));return[o[0],o[o.length-1]]},le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t*e.width/2,r=t*e.height/2;switch(e.type){case"rectangle":case"image":case"text":return[i(n,r),i(n,-r),i(-n,-r),i(-n,r)];case"diamond":return[i(0,r),i(n,0),i(0,-r),i(-n,0)]}},ue=function(e,t){var n=(0,r.Z)(t,2),i=n[0],a=n[1];return x(i,e)*x(a,e)>=0?[]:[S(e,v(i,a))]},ce=function(e,t){var n=(0,r.Z)(e,2),i=n[0],a=n[1],o=function(e,t){var n=.5*t;return[1,0,0,0,n*e[4],n*e[5],0,0]}(function(e,t){return h([0,0,0,0,t[4]-e[4],t[5]-e[5],0,0])}(i,a),t);return[E(o,i),E(o,a)]},de=function(e,t,n){var r=e.width/2+t,a=e.height/2+t,o=n[2],s=n[3],l=n[1],u=r*r*o*o+a*a*s*s,c=u-l*l;if(0===u||c<=0)return[];var d=Math.sqrt(c),f=-r*r*o*l,p=-a*a*s*l;return[i((f+r*a*s*d)/u,(p-r*a*o*d)/u),i((f-r*a*s*d)/u,(p+r*a*o*d)/u)]},fe=function(e,t,n){if(0===t)return 0===x(n,e)?[e]:[];var a=n[2],o=n[3],s=n[1],l=w(e),u=(0,r.Z)(l,2),c=u[0],d=u[1],f=a*a+o*o,p=t*t*f-Math.pow(a*c+o*d+s,2);if(0===f||p<=0)return[];var h=Math.sqrt(p),m=c*o*o-d*a*o-a*s,g=d*a*a-c*a*o-o*s;return[i((m+o*h)/f,(g-a*h)/f),i((m-o*h)/f,(g+a*h)/f)]},pe=function(e,t,n){var a=Math.abs(t),o=e.width*a/2,s=e.height*a/2,l=Math.sign(t),u=w(n),c=(0,r.Z)(u,2),d=c[0],f=c[1],p=0===f?1e-4:f,h=Math.pow(d,2)*Math.pow(s,2)+Math.pow(p,2)*Math.pow(o,2),m=(-d*Math.pow(s,2)+l*p*Math.sqrt(Math.max(0,h-Math.pow(o,2)*Math.pow(s,2))))/h,g=(-m*d-1)/p,v=-Math.pow(o,2)*m/(Math.pow(g,2)*Math.pow(s,2)+Math.pow(m,2)*Math.pow(o,2));return i(v,(-m*v-1)/g)},he=function(e,t,n){var r=Math.abs(t),i=Math.sign(t),a=le(e,r),o=0,s=null;return a.forEach((function(e){var t=i*v(n,e)[1];t>o&&(o=t,s=e)})),s},me=function(e,t,n,r){var i,a=[],o=!1,s=R((0,P.CM)(e));try{for(s.s();!(i=s.n()).done;){var l=i.value;"move"===l.op?(o=!o)&&a.push([l.data[0],l.data[1]]):"bcurveTo"===l.op?o&&(a.push([l.data[0],l.data[1]]),a.push([l.data[2],l.data[3]]),a.push([l.data[4],l.data[5]])):"lineTo"===l.op&&o&&a.push([l.data[0],l.data[1]])}}catch(e){s.e(e)}finally{s.f()}if(a.length>=4){if("sharp"===r)return(0,C.c9)(a,t,n);var u=(0,O.s)(a,10,5);return(0,C.c9)(u,t,n)}return!1},ge=function(e,t,n,i){var a=(0,P.CM)(e),o=[0,0];return a.some((function(a,s){var l=a.op,u=a.data;if("move"===l)o=u;else{if("bcurveTo"===l){var c=[u[0],u[1]],d=[u[2],u[3]],f=[u[4],u[5]],p=o;o=f;var h=function(e,t,n,i,a,o){for(var s=(0,r.Z)(a,2),l=s[0],u=s[1],c=function(r,a){return Math.pow(1-r,3)*i[a]+3*r*Math.pow(1-r,2)*n[a]+3*Math.pow(r,2)*(1-r)*t[a]+e[a]*Math.pow(r,3)},d=0;d<=1;){var f=c(d,0),p=c(d,1);if(Math.sqrt(Math.pow(f-l,2)+Math.pow(p-u,2))<o)return!0;d+=.01}return!1}(p,c,d,f,[t,n],i);return h}if("lineTo"===l)return me(e,t,n,"sharp");"qcurveTo"===l&&console.warn("qcurveTo is not implemented yet")}return!1}))}},5637:function(e,t,n){"use strict";n.d(t,{PK:function(){return p},Xx:function(){return h},bp:function(){return g},oA:function(){return m}});var r=n(2577),i=n(7169),a=n(8950),o=n(7945),s=n.n(o),l=n(8288),u=n(8211),c=n(1974);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=function(e){n(e)},r.src=e}))},h=function(){var e=(0,a.Z)(s().mark((function e(t){var n,r,i,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fileIds,r=t.files,i=t.imageCache,o=new Map,u=new Map,e.next=5,Promise.all(n.reduce((function(e,t){var n=r[t];return n&&!o.has(t)?(o.set(t,!0),e.concat((0,a.Z)(s().mark((function e(){var r,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.mimeType!==l.LO.binary){e.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return r=p(n.dataURL),a={image:r,mimeType:n.mimeType},i.set(t,a),e.next=8,r;case 8:o=e.sent,i.set(t,f(f({},a),{},{image:o})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),u.set(t,!0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))())):e}),[]));case 5:return e.abrupt("return",{imageCache:i,updatedFiles:o,erroredFiles:u});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){return e.filter((function(e){return(0,c.wi)(e)}))},g=function(){var e=(0,a.Z)(s().mark((function e(t){var n,i,a,o,c,d,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(new DOMParser).parseFromString(t,l.LO.svg),i=n.querySelector("svg"),!n.querySelector("parsererror")&&"svg"===(null==(s=i)?void 0:s.nodeName.toLowerCase())){e.next=7;break}throw new Error((0,u.t)("errors.invalidSVGString"));case 7:return i.hasAttribute("xmlns")||i.setAttribute("xmlns",l.hR),i.hasAttribute("width")&&i.hasAttribute("height")||(a=i.getAttribute("viewBox"),o=i.getAttribute("width")||"50",c=i.getAttribute("height")||"50",a&&(d=a.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(f=(0,r.Z)(d,3),o=f[1],c=f[2]),i.setAttribute("width",o),i.setAttribute("height",c)),e.abrupt("return",i.outerHTML);case 10:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}()},5118:function(e,t,n){"use strict";n.d(t,{ox:function(){return l.ox},BQ:function(){return $},_M:function(){return G},EJ:function(){return E},o8:function(){return x},Sy:function(){return o.Sy},os:function(){return s.os},KP:function(){return s.KP},Un:function(){return v},$V:function(){return k},qf:function(){return s.qf},Pi:function(){return s.Pi},jt:function(){return h},Lm:function(){return H},Qp:function(){return i.Qp},uK:function(){return i.uK},T:function(){return y.T},xx:function(){return y.xx},Uo:function(){return F},n2:function(){return m},PC:function(){return l.PC},kK:function(){return l.kK},n_:function(){return U},wX:function(){return u.wX},r2:function(){return a.r2},wB:function(){return u.wB},QD:function(){return i.QD},qP:function(){return z},iB:function(){return a.iB},Up:function(){return o.Up},vw:function(){return o.vw},y8:function(){return o.y8},VL:function(){return o.VL},oN:function(){return S.oN},RT:function(){return L},b_:function(){return R},vY:function(){return y.vY},N_:function(){return o.N_}});var r=n(7169),i=n(6126),a=n(1974),o=n(2791),s=n(8925),l=n(267),u=n(2325),c=n(2577),d=n(2726),f=["rotation"],p=function(e,t,n){return t>=e[0]&&t<=e[0]+e[2]&&n>=e[1]&&n<=e[1]+e[3]},h=function(e,t,n,r,i,a){return e.reduce((function(e,o){if(e)return e;var s=function(e,t,n,r,i,a){if(!t.selectedElementIds[e.id])return!1;var o=(0,l.PC)(e,i,a),s=o.rotation,u=(0,d.Z)(o,f);if(s&&p(s,n,r))return"rotation";var c=Object.keys(u).filter((function(e){var t=u[e];return!!t&&p(t,n,r)}));return c.length>0&&c[0]}(o,t,n,r,i,a);return s?{element:o,transformHandleType:s}:null}),null)},m=function(e,t,n,r,i){var a=(0,c.Z)(e,4),o=a[0],s=a[1],u=a[2],d=a[3],f=(0,l.kK)([o,s,u,d],0,r,i,l.ox);return Object.keys(f).find((function(e){var r=f[e];return r&&p(r,t,n)}))||!1},g=["ns","nesw","ew","nwse"],v=function(e){var t=e.element,n=e.transformHandleType,r=t&&Math.sign(t.height)*Math.sign(t.width)==-1,i=null;switch(n){case"n":case"s":i="ns";break;case"w":case"e":i="ew";break;case"nw":case"se":i=r?"nesw":"nwse";break;case"ne":case"sw":i=r?"nwse":"nesw";break;case"rotation":return"grab"}return i&&t&&(i=function(e,t){var n=g.indexOf(e);if(n>=0){var r=Math.round(t/(Math.PI/4));e=g[(n+r)%g.length]}return e}(i,t.angle)),i?"".concat(i,"-resize"):""},y=n(8634),b=n(8290),w=n(1935),S=n(5710),_=n(242),x=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7?arguments[7]:void 0,u=(0,s.KP)(t),d=(0,c.Z)(u,2),f={x:n-d[0],y:r-d[1]};t.forEach((function(n){if(T(i,a,o,e,n,f),!n.groupIds.length||l.editingGroupId&&!(0,_.zq)(l,n)){var r=(0,S.WJ)(n);r&&T(i,a,o,e,r,f)}(0,b.Ww)(n,{simultaneouslyUpdated:t})}))},T=function(e,t,n,r,i,a){var o,s;if(e){var l=e&&t<n,u=e&&t>n,c=r.originalElements.get(i.id);o=l&&c?c.x:i.x+a.x,s=u&&c?c.y:i.y+a.y}else o=i.x+a.x,s=i.y+a.y;(0,w.DR)(i,{x:o,y:s})},k=function(e,t,n){var r=(0,s.KP)(e),i=(0,c.Z)(r,2);return[t-i[0],n-i[1]]},E=function(e,t,n,r,a,o,s,l,u,c,d){if(u)if(d)l=s/d;else{var f=(0,i.uK)(t,s,o<r?-l:l);s=f.width,(l=f.height)<0&&(l=-l)}var p=a<n?n-s:n,h=o<r?r-l:r;c&&(p=n-(s+=s)/2,h=r-(l+=l)/2),0!==s&&0!==l&&(0,w.DR)(e,{x:p,y:h,width:s,height:l})},C=n(6066),O=n(6340),P=n(1564),I=n(8288),A=n(3917),D=n(828),M=function(e,t,n,r,i,a){var o=r.zoom,s=180*n/Math.PI,l=e*(o.value-1)/2,u=t*(o.value-1)/2;return e>i&&1!==o.value&&(l=i*(o.value-1)/2),t>a&&1!==o.value&&(u=a*(o.value-1)/2),"translate(".concat(l,"px, ").concat(u,"px) scale(").concat(o.value,") rotate(").concat(s,"deg)")},R=function(e){var t,n=e.id,r=e.onChange,i=e.onSubmit,o=e.getViewportCoords,s=e.element,l=e.canvas,u=e.excalidrawContainer,d=e.app,f=function(){var e,r=d.state,i=null===(e=P.Z.getScene(s))||void 0===e?void 0:e.getElement(n);if(i){var l=i.textAlign,u=i.verticalAlign,f=(0,S.hP)((0,O.mO)(i));if(i&&(0,a.iB)(i)){var h=i.x,m=i.y,g=(0,S.tl)(i),v=i.width,y=i.height,b=i.width,_=i.height;if(g&&i.containerId){var x=function(e,t){var n=t.style.fontFamily.replace(/"/g,"");return(0,O.$g)({fontFamily:e.fontFamily})!==n||"".concat(e.fontSize,"px")!==t.style.fontSize}(i,p),T=Number(p.style.height.slice(0,-2));if(T>0&&(_=T),x&&(t=g.height,_=i.height),t||(t=g.height),v=g.width-2*I.gK,y=g.height-2*I.gK,b=v,h=g.x+I.gK,_>y){var k=Math.min(_-y,f);return void(0,w.DR)(g,{height:g.height+k})}if(g.height>t&&_<y){var E=Math.min(y-_,f);(0,w.DR)(g,{height:g.height-E})}else u===I.oX.MIDDLE&&(m=g.y+g.height/2-_/2),u===I.oX.BOTTOM&&(m=g.y+g.height-_-I.gK)}var C=o(h,m),A=(0,c.Z)(C,2),D=A[0],R=A[1],N=p.selectionStart,L=p.selectionEnd,j=p.value.length;if(p.value=i.originalText,N===L&&L!==j){var B=j-L;p.selectionStart=p.value.length-B,p.selectionEnd=p.value.length-B}var F=i.originalText.split("\n"),U=i.containerId?f:i.height/F.length;g||(v=(r.width-8-D)/r.zoom.value);var H=(r.height-R)/r.zoom.value,z=g?g.angle:i.angle;Object.assign(p.style,{font:(0,O.mO)(i),lineHeight:"".concat(U,"px"),width:"".concat(b,"px"),height:"".concat(_,"px"),left:"".concat(D,"px"),top:"".concat(R,"px"),transform:M(b,_,z,r,v,H),textAlign:l,verticalAlign:u,color:i.strokeColor,opacity:i.opacity/100,filter:"var(--theme-filter)",maxWidth:"".concat(v,"px"),maxHeight:"".concat(H,"px")}),(0,O.h2)()&&(p.style.fontFamily=(0,O.$g)(i)),(0,w.DR)(i,{x:h,y:m})}}},p=document.createElement("textarea");p.dir="auto",p.tabIndex=0,p.dataset.type="wysiwyg",p.wrap="off",p.classList.add("excalidraw-wysiwyg");var h="pre",m="normal";(0,a.Xh)(s)&&(h="pre-wrap",m="break-word"),Object.assign(p.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:m,whiteSpace:h,overflowWrap:"break-word"}),f(),r&&(p.oninput=function(){var e,t=null===(e=P.Z.getScene(s))||void 0===e?void 0:e.getElement(n),i=(0,O.mO)(t),o=Math.round(p.scrollHeight/(0,S.hP)(i));if((0,a.Xh)(s)&&o>1){var l="auto";if(2===o){var u=(0,S.tl)(s);1===(0,S.lD)(p.value,i,u.width).split("\n").length&&(l="".concat(p.scrollHeight/2,"px"))}p.style.height=l,p.style.height="".concat(p.scrollHeight,"px")}r(p.value.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n"))}),p.onkeydown=function(e){if(!e.shiftKey&&D.Lo.keyTest(e))e.preventDefault(),d.actionManager.executeAction(D.Lo),f();else if(!e.shiftKey&&D.CZ.keyTest(e))e.preventDefault(),d.actionManager.executeAction(D.CZ),f();else if(A.Tu.keyTest(e))d.actionManager.executeAction(A.Tu);else if(A.Zq.keyTest(e))d.actionManager.executeAction(A.Zq);else if(e.key===C.tW.ESCAPE)e.preventDefault(),T=!0,k();else if(e.key===C.tW.ENTER&&e[C.tW.CTRL_OR_CMD]){if(e.preventDefault(),e.isComposing||229===e.keyCode)return;T=!0,k()}else(e.key===C.tW.TAB||e[C.tW.CTRL_OR_CMD]&&(e.code===C.aU.BRACKET_LEFT||e.code===C.aU.BRACKET_RIGHT))&&(e.preventDefault(),e.shiftKey||e.code===C.aU.BRACKET_LEFT?b():y(),p.dispatchEvent(new Event("input")))};var g=" ".repeat(4),v=new RegExp("^ {1,".concat(4,"}")),y=function(){var e=p.selectionStart,t=p.selectionEnd,n=_(),r=p.value;n.forEach((function(e){var t=r.slice(0,e),n=r.slice(e);r="".concat(t).concat(g).concat(n)})),p.value=r,p.selectionStart=e+4,p.selectionEnd=t+4*n.length},b=function(){var e=p.selectionStart,t=p.selectionEnd,n=_(),r=[],i=p.value;n.forEach((function(e){var t=i.slice(e,e+4).match(v);if(t){var n=i.slice(0,e),a=i.slice(e+t[0].length);i="".concat(n).concat(a),r.push(e)}})),p.value=i,r.length&&(e>r[r.length-1]?p.selectionStart=Math.max(e-4,r[r.length-1]):p.selectionStart=e,p.selectionEnd=Math.max(p.selectionStart,t-4*r.length))},_=function(){var e=p.selectionStart,t=p.selectionEnd,n=p.value,r=n.slice(0,e).match(/[^\n]*$/)[0].length;return e-=r,n.slice(e,t).split("\n").reduce((function(t,n,r,i){return t.concat(r?t[r-1]+i[r-1].length+1:e)}),[]).reverse()},x=function(e){e.preventDefault(),e.stopPropagation()},T=!1,k=function(){var e;E();var t=null===(e=P.Z.getScene(s))||void 0===e?void 0:e.getElement(s.id);if(t){var n=p.value,r=(0,S.tl)(t);if(r)if(n=t.text,p.value){var o=(0,S.xB)(r);o&&o===s.id||(0,w.DR)(r,{boundElements:(r.boundElements||[]).concat({type:"text",id:s.id})})}else{var l;(0,w.DR)(r,{boundElements:null===(l=r.boundElements)||void 0===l?void 0:l.filter((function(e){return!(0,a.iB)(e)}))})}i({text:n,viaKeyboard:T,originalText:p.value})}},E=function(){j||(j=!0,p.onblur=null,p.oninput=null,p.onkeydown=null,B&&B.disconnect(),window.removeEventListener("resize",f),window.removeEventListener("wheel",x,!0),window.removeEventListener("pointerdown",N),window.removeEventListener("pointerup",R),window.removeEventListener("blur",k),L(),p.remove())},R=function e(t){window.removeEventListener("pointerup",e);var n=null==t?void 0:t.target,r=n instanceof HTMLInputElement&&n.closest(".color-picker-input")&&(0,O.s)(n);setTimeout((function(){p.onblur=k,n&&r&&(n.onblur=function(){p.focus()}),r||p.focus()}))},N=function(e){var t=e.target instanceof HTMLInputElement&&e.target.closest(".color-picker-input")&&(0,O.s)(e.target);((e.target instanceof HTMLElement||e.target instanceof SVGElement)&&e.target.closest(".".concat(I.$C.SHAPE_ACTIONS_MENU))&&!(0,O.s)(e.target)||t)&&(p.onblur=null,window.addEventListener("pointerup",R),window.addEventListener("blur",k))},L=P.Z.getScene(s).addCallback((function(){var e;f(),null!==(e=document.activeElement)&&void 0!==e&&e.closest(".color-picker-input")||p.focus()})),j=!1;p.select(),R();var B=null;l&&"ResizeObserver"in window?(B=new window.ResizeObserver((function(){f()}))).observe(l):window.addEventListener("resize",f),window.addEventListener("pointerdown",N),window.addEventListener("wheel",x,{passive:!1,capture:!0}),null==u||u.querySelector(".excalidraw-textEditorContainer").appendChild(p)},N=n(75),L=function(e,t){return Boolean(!e.viewModeEnabled&&"custom"!==e.activeTool.type&&(e.editingElement||"selection"!==e.activeTool.type&&"eraser"!==e.activeTool.type)||(0,N.eD)(t,e).length)};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(e){return e.reduce((function(e,t){return e+t.version}),0)},U=function(e){return e.filter((function(e){return!e.isDeleted&&!(0,i.QD)(e)}))},H=function(e){return e.filter((function(e){return!e.isDeleted}))},z=function(e){return!e.isDeleted},V=function(e){return H(e).map((function(e){return(0,a.dt)(e.type)?B(B({},e),{},{lastCommittedPoint:null}):e}))},$=function(e){return V(e)},G=function(e){return V(e)}},6938:function(e,t,n){"use strict";n.d(t,{_:function(){return w}});var r=n(1930),i=n(7169),a=n(2577),o=n(8821),s=n(5169),l=n(6552),u=n(5118),c=n(8925),d=n(1935),f=n(1564),p=n(8290),h=n(6340),m=n(1974);function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(){function e(t,n){(0,o.Z)(this,e),this.elementId=t.id,f.Z.mapElementToScene(this.elementId,n),e.normalizePoints(t),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1}}return(0,s.Z)(e,null,[{key:"getElement",value:function(e){var t;return(null===(t=f.Z.getScene(e))||void 0===t?void 0:t.getNonDeletedElement(e))||null}},{key:"handleBoxSelection",value:function(t,n,r){var i;if(!n.editingLinearElement||"selection"!==(null===(i=n.draggingElement)||void 0===i?void 0:i.type))return!1;var o=n.editingLinearElement,s=o.selectedPointsIndices,l=o.elementId,c=e.getElement(l);if(!c)return!1;var d=(0,u.qf)(n.draggingElement),f=(0,a.Z)(d,4),p=f[0],h=f[1],m=f[2],g=f[3],v=e.getPointsGlobalCoordinates(c).reduce((function(e,n,r){return(n[0]>=p&&n[0]<=m&&n[1]>=h&&n[1]<=g||t.shiftKey&&null!=s&&s.includes(r))&&e.push(r),e}),[]);r({editingLinearElement:b(b({},o),{},{selectedPointsIndices:v.length?v:null})})}},{key:"handlePointDragging",value:function(t,n,r,i,a){if(!t.editingLinearElement)return!1;var o=t.editingLinearElement,s=o.selectedPointsIndices,l=o.elementId,u=o.isDragging,c=e.getElement(l);if(!c)return!1;var d=c.points[o.pointerDownState.lastClickedPoint];if(s&&d){!1===u&&n({editingLinearElement:b(b({},o),{},{isDragging:!0})});var f=e.createPointAt(c,r-o.pointerOffset.x,i-o.pointerOffset.y,t.gridSize),p=f[0]-d[0],g=f[1]-d[1];if(e.movePoints(c,s.map((function(n){return{index:n,point:n===o.pointerDownState.lastClickedPoint?e.createPointAt(c,r-o.pointerOffset.x,i-o.pointerOffset.y,t.gridSize):[c.points[n][0]+p,c.points[n][1]+g],isDragging:n===o.pointerDownState.lastClickedPoint}}))),(0,m.Mn)(c,!1)){var v=[];0===s[0]&&v.push((0,h.AK)(e.getPointGlobalCoordinates(c,c.points[0])));var y=s[s.length-1];y===c.points.length-1&&v.push((0,h.AK)(e.getPointGlobalCoordinates(c,c.points[y]))),v.length&&a(c,v)}return!0}return!1}},{key:"handlePointerUp",value:function(t,n,r){var i,a=n.elementId,o=n.selectedPointsIndices,s=n.isDragging,u=n.pointerDownState,c=e.getElement(a);if(!c)return n;var d={};if(s&&o){var m,v=g(o);try{for(v.s();!(m=v.n()).done;){var y=m.value;if(0===y||y===c.points.length-1){(0,l.g6)(c.points,r.zoom.value)&&e.movePoints(c,[{index:y,point:0===y?c.points[c.points.length-1]:c.points[0]}]);var w=(0,p.N1)(r)?(0,p.Y9)((0,h.AK)(e.getPointAtIndexGlobalCoordinates(c,y)),f.Z.getScene(c)):null;d[0===y?"startBindingElement":"endBindingElement"]=w}}}catch(e){v.e(e)}finally{v.f()}}return b(b(b({},n),d),{},{selectedPointsIndices:s||t.shiftKey?!s&&t.shiftKey&&null!==(i=u.prevSelectedPointsIndices)&&void 0!==i&&i.includes(u.lastClickedPoint)?o&&o.filter((function(e){return e!==u.lastClickedPoint})):o:null!=o&&o.includes(u.lastClickedPoint)?[u.lastClickedPoint]:o,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"handlePointerDown",value:function(t,n,i,o,s){var c,h={didAddPoint:!1,hitElement:null};if(!n.editingLinearElement)return h;var g=n.editingLinearElement.elementId,v=e.getElement(g);if(!v)return h;if(t.altKey)return null==n.editingLinearElement.lastUncommittedPoint&&(0,d.DR)(v,{points:[].concat((0,r.Z)(v.points),[e.createPointAt(v,s.x,s.y,n.gridSize)])}),o.resumeRecording(),i({editingLinearElement:b(b({},n.editingLinearElement),{},{pointerDownState:{prevSelectedPointsIndices:n.editingLinearElement.selectedPointsIndices,lastClickedPoint:-1},selectedPointsIndices:[v.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,p.Y9)(s,f.Z.getScene(v))})}),h.didAddPoint=!0,h;var y=e.getPointIndexUnderCursor(v,n.zoom,s.x,s.y);if(y>-1)h.hitElement=v;else{var w=n.editingLinearElement,_=w.startBindingElement,x=w.endBindingElement;(0,p.N1)(n)&&(0,m.Mn)(v)&&(0,p.HG)(v,_,x)}var T=(0,u.qf)(v),k=(0,a.Z)(T,4),E=k[0],C=k[1],O=(E+k[2])/2,P=(C+k[3])/2,I=y>-1&&(0,l.U1)(v.x+v.points[y][0],v.y+v.points[y][1],O,P,v.angle),A=y>-1||t.shiftKey?t.shiftKey||null!==(c=n.editingLinearElement.selectedPointsIndices)&&void 0!==c&&c.includes(y)?S([].concat((0,r.Z)(n.editingLinearElement.selectedPointsIndices||[]),[y])):[y]:null;return i({editingLinearElement:b(b({},n.editingLinearElement),{},{pointerDownState:{prevSelectedPointsIndices:n.editingLinearElement.selectedPointsIndices,lastClickedPoint:y},selectedPointsIndices:A,pointerOffset:I?{x:s.x-I[0],y:s.y-I[1]}:{x:0,y:0}})}),h}},{key:"handlePointerMove",value:function(t,n,r,i,a){var o=i.elementId,s=i.lastUncommittedPoint,l=e.getElement(o);if(!l)return i;var u=l.points,c=u[u.length-1];if(!t.altKey)return c===s&&e.deletePoints(l,[u.length-1]),b(b({},i),{},{lastUncommittedPoint:null});var d=e.createPointAt(l,n-i.pointerOffset.x,r-i.pointerOffset.y,a);return c===s?e.movePoints(l,[{index:l.points.length-1,point:d}]):e.addPoints(l,[{point:d}]),b(b({},i),{},{lastUncommittedPoint:l.points[l.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(e,t){var n=(0,u.qf)(e),r=(0,a.Z)(n,4),i=r[0],o=r[1],s=(i+r[2])/2,c=(o+r[3])/2,d=e.x,f=e.y,p=(0,l.U1)(d+t[0],f+t[1],s,c,e.angle),h=(0,a.Z)(p,2);return[d=h[0],f=h[1]]}},{key:"getPointsGlobalCoordinates",value:function(e){var t=(0,u.qf)(e),n=(0,a.Z)(t,4),r=n[0],i=n[1],o=n[2],s=n[3],c=(r+o)/2,d=(i+s)/2;return e.points.map((function(t){var n=e.x,r=e.y,i=(0,l.U1)(n+t[0],r+t[1],c,d,e.angle),o=(0,a.Z)(i,2);return[n=o[0],r=o[1]]}))}},{key:"getPointAtIndexGlobalCoordinates",value:function(e,t){var n=t<0?e.points.length+t:t,r=(0,u.qf)(e),i=(0,a.Z)(r,4),o=i[0],s=i[1],c=(o+i[2])/2,d=(s+i[3])/2,f=e.points[n],p=e.x,h=e.y;return(0,l.U1)(p+f[0],h+f[1],c,d,e.angle)}},{key:"pointFromAbsoluteCoords",value:function(e,t){var n=(0,u.qf)(e),r=(0,a.Z)(n,4),i=r[0],o=r[1],s=(i+r[2])/2,c=(o+r[3])/2,d=(0,l.U1)(t[0],t[1],s,c,-e.angle),f=(0,a.Z)(d,2),p=f[0],h=f[1];return[p-e.x,h-e.y]}},{key:"getPointIndexUnderCursor",value:function(e,t,n,r){for(var i=this.getPointsGlobalCoordinates(e),a=i.length;--a>-1;){var o=i[a];if((0,l.LW)(n,r,o[0],o[1])*t.value<this.POINT_HANDLE_SIZE/2+1)return a}return-1}},{key:"createPointAt",value:function(e,t,n,r){var i=(0,l.wC)(t,n,r),o=(0,u.qf)(e),s=(0,a.Z)(o,4),c=s[0],d=s[1],f=(c+s[2])/2,p=(d+s[3])/2,h=(0,l.U1)(i[0],i[1],f,p,-e.angle),m=(0,a.Z)(h,2),g=m[0],v=m[1];return[g-e.x,v-e.y]}},{key:"getNormalizedPoints",value:function(e){var t=e.points,n=t[0][0],r=t[0][1];return{points:t.map((function(e,t){return[e[0]-n,e[1]-r]})),x:e.x+n,y:e.y+r}}},{key:"normalizePoints",value:function(t){(0,d.DR)(t,e.getNormalizedPoints(t))}},{key:"duplicateSelectedPoints",value:function(t){if(!t.editingLinearElement)return!1;var n=t.editingLinearElement,r=n.selectedPointsIndices,i=n.elementId,a=e.getElement(i);if(!a||null===r)return!1;var o=a.points,s=[],l=!1,u=-1,c=o.reduce((function(e,t,n){if(++u,e.push(t),r.includes(n)){var i=o[n+1];i||(l=!0),e.push(i?[(t[0]+i[0])/2,(t[1]+i[1])/2]:[t[0],t[1]]),s.push(u+1),++u}return e}),[]);if((0,d.DR)(a,{points:c}),l){var f=a.points[a.points.length-1];e.movePoints(a,[{index:a.points.length-1,point:[f[0]+30,f[1]+30]}])}return{appState:b(b({},t),{},{editingLinearElement:b(b({},t.editingLinearElement),{},{selectedPointsIndices:s})})}}},{key:"deletePoints",value:function(t,n){var r=0,i=0;if(n.includes(0)){var a=t.points.find((function(e,t){return!n.includes(t)}));a&&(r=a[0],i=a[1])}var o=t.points.reduce((function(e,t,a){return n.includes(a)||e.push(e.length?[t[0]-r,t[1]-i]:[0,0]),e}),[]);e._updatePoints(t,o,r,i)}},{key:"addPoints",value:function(t,n){var i=[].concat((0,r.Z)(t.points),(0,r.Z)(n.map((function(e){return e.point}))));e._updatePoints(t,i,0,0)}},{key:"movePoints",value:function(t,n,r){var i=t.points,a=0,o=0,s=n.find((function(e){return 0===e.index}));s&&(a=s.point[0]-i[s.index][0],o=s.point[1]-i[s.index][1]);var l=i.map((function(e,t){var r=n.find((function(e){return e.index===t}));if(r){if(s)return e;var l=r.point[0]-i[r.index][0],u=r.point[1]-i[r.index][1];return[e[0]+l,e[1]+u]}return a||o?[e[0]-a,e[1]-o]:e}));e._updatePoints(t,l,a,o,r)}},{key:"_updatePoints",value:function(e,t,n,r,i){var a=(0,c.Ut)(e,t,e.strokeSharpness||"round"),o=(0,c.Ut)(e,e.points,e.strokeSharpness||"round"),s=(a[0]+a[2])/2,u=(a[1]+a[3])/2,f=(o[0]+o[2])/2-s,p=(o[1]+o[3])/2-u,h=(0,l.U1)(n,r,f,p,e.angle);(0,d.DR)(e,b(b({},i),{},{points:t,x:e.x+h[0],y:e.y+h[1]}))}}]),e}();w.POINT_HANDLE_SIZE=20;var S=function(e){var t=(0,r.Z)(new Set(e.filter((function(e){return null!==e&&-1!==e}))));return(t=t.sort((function(e,t){return e-t}))).length?t:null}},1935:function(e,t,n){"use strict";n.d(t,{BE:function(){return p},DR:function(){return f},ZP:function(){return h}});var r=n(6655),i=n(7169),a=n(3063),o=n(1564),s=n(5001),l=n(6954),u=n(6340);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e,t){var n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=!1,f=t,p=f.points,h=f.fileId;for(var m in void 0!==p&&(t=d(d({},(0,s.k)(p)),t)),t){var g=t[m];if(void 0!==g){if(e[m]===g&&("object"!==(0,r.Z)(g)||null===g||"groupIds"===m||"scale"===m))continue;if("scale"===m){var v=e[m],y=g;if(v[0]===y[0]&&v[1]===y[1])continue}else if("points"===m){var b=e[m],w=g;if(b.length===w.length){for(var S=!1,_=b.length;--_;){var x=b[_],T=w[_];if(x[0]!==T[0]||x[1]!==T[1]){S=!0;break}}if(!S)continue}}e[m]=g,c=!0}}return c?(void 0===t.height&&void 0===t.width&&void 0===h&&void 0===p||(0,a.bI)(e),e.version++,e.versionNonce=(0,l.LU)(),e.updated=(0,u.C3)(),i&&(null===(n=o.Z.getScene(e))||void 0===n||n.informMutation()),e):e},p=function(e,t){var n=!1;for(var i in t){var a=t[i];if(void 0!==a){if(e[i]===a&&("object"!==(0,r.Z)(a)||null===a))continue;n=!0}}return n?d(d(d({},e),t),{},{updated:(0,u.C3)(),version:e.version+1,versionNonce:(0,l.LU)()}):e},h=function(e,t){return e.version=(null!=t?t:e.version)+1,e.versionNonce=(0,l.LU)(),e.updated=(0,u.C3)(),e}},2791:function(e,t,n){"use strict";n.d(t,{KE:function(){return T},N_:function(){return x},OL:function(){return C},Sy:function(){return O},Up:function(){return w},VL:function(){return _},vw:function(){return E},y8:function(){return k}});var r=n(6655),i=n(2577),a=n(7169),o=n(2726),s=n(6340),l=n(6954),u=n(1935),c=n(242),d=n(5118),f=n(6552),p=n(8925),h=n(5710),m=n(8288),g=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","strokeSharpness","boundElements","link","locked"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e,t){var n,r,i=t.x,a=t.y,u=t.strokeColor,c=t.backgroundColor,d=t.fillStyle,f=t.strokeWidth,p=t.strokeStyle,h=t.roughness,m=t.opacity,v=t.width,y=void 0===v?0:v,b=t.height,w=void 0===b?0:b,S=t.angle,_=void 0===S?0:S,x=t.groupIds,T=void 0===x?[]:x,k=t.strokeSharpness,E=t.boundElements,C=void 0===E?null:E,O=t.link,P=void 0===O?null:O,I=t.locked,A=(0,o.Z)(t,g);return{id:A.id||(0,l.kb)(),type:e,x:i,y:a,width:y,height:w,angle:_,strokeColor:u,backgroundColor:c,fillStyle:d,strokeWidth:f,strokeStyle:p,roughness:h,opacity:m,groupIds:T,strokeSharpness:k,seed:null!==(n=A.seed)&&void 0!==n?n:(0,l.LU)(),version:A.version||1,versionNonce:null!==(r=A.versionNonce)&&void 0!==r?r:0,isDeleted:!1,boundElements:C,updated:(0,s.C3)(),link:P,locked:I}},w=function(e){return b(e.type,e)},S=function(e,t){return{x:"center"===e.textAlign?t.width/2:"right"===e.textAlign?t.width:0,y:"middle"===e.verticalAlign?t.height/2:0}},_=function(e){var t=(0,h.X1)(e.text,(0,s.mO)(e)),n=S(e,t);return(0,u.BE)(y(y({},b("text",e)),{},{text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,textAlign:e.textAlign,verticalAlign:e.verticalAlign,x:e.x-n.x,y:e.y-n.y,width:t.width,height:t.height,baseline:t.baseline,containerId:e.containerId||null,originalText:e.text}),{})},x=function(e,t){var n=t.text,r=t.isDeleted,a=t.originalText,o=(0,h.tl)(e);o&&(n=(0,h.lD)(n,(0,s.mO)(e),o.width));var l=function(e,t){var n=null,r=(0,h.tl)(e);r&&(n=r.width-2*m.gK);var a,o,l=(0,h.X1)(t,(0,s.mO)(e),n),c=l.width,g=l.height,v=l.baseline,y=e.textAlign,b=e.verticalAlign;if("center"!==y||b!==m.oX.MIDDLE||e.containerId){var w=(0,d.qf)(e),_=(0,i.Z)(w,4),x=_[0],T=_[1],k=_[2],E=_[3],C=(0,p.wC)(e,c,g),O=(0,i.Z)(C,4),P=(x-O[0])/2,I=(T-O[1])/2,A=(k-O[2])/2,D=(E-O[3])/2,M=(0,f.yq)({s:!0,e:"center"===y||"left"===y,w:"center"===y||"right"===y},e.x,e.y,e.angle,P,I,A,D),R=(0,i.Z)(M,2);a=R[0],o=R[1]}else{var N=(0,h.X1)(e.text,(0,s.mO)(e),n),L=S(e,{width:c-N.width,height:g-N.height});a=e.x-L.x,o=e.y-L.y}if(r){var j=r.height,B=r.width;g>j-2*m.gK&&(j=g+2*m.gK),c>B-2*m.gK&&(B=c+2*m.gK),j===r.height&&B===r.width||(0,u.DR)(r,{height:j,width:B})}return{width:c,height:g,x:Number.isFinite(a)?a:e.x,y:Number.isFinite(o)?o:e.y,baseline:v}}(e,n);return(0,u.BE)(e,y({text:n,originalText:a,isDeleted:null!=r?r:e.isDeleted},l))},T=function(e){return y(y({},b(e.type,e)),{},{points:e.points||[],pressures:[],simulatePressure:e.simulatePressure,lastCommittedPoint:null})},k=function(e){return y(y({},b(e.type,e)),{},{points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:e.startArrowhead,endArrowhead:e.endArrowhead})},E=function(e){return y(y({},b("image",e)),{},{strokeColor:"transparent",status:"pending",fileId:null,scale:[1,1]})},C=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null==t||"object"!==(0,r.Z)(t))return t;if("[object Object]"===Object.prototype.toString.call(t)){var i="function"==typeof t.constructor?Object.create(Object.getPrototypeOf(t)):{};for(var a in t)if(t.hasOwnProperty(a)){if(0===n&&("shape"===a||"canvas"===a))continue;i[a]=e(t[a],n+1)}return i}if(Array.isArray(t)){for(var o=t.length,s=new Array(o);o--;)s[o]=e(t[o],n+1);return s}return t},O=function(e,t,n,r){var i,a,o=C(n);return(0,s.h2)()?(o.id="".concat(o.id,"_copy"),null!==(i=window.h)&&void 0!==i&&null!==(a=i.app)&&void 0!==a&&a.getSceneElementsIncludingDeleted().find((function(e){return e.id===o.id}))&&(o.id+="_copy")):o.id=(0,l.kb)(),o.updated=(0,s.C3)(),o.seed=(0,l.LU)(),o.groupIds=(0,c.Qy)(o.groupIds,e,(function(e){return t.has(e)||t.set(e,(0,l.kb)()),t.get(e)})),r&&(o=Object.assign(o,r)),o}},8634:function(e,t,n){"use strict";n.d(t,{LW:function(){return b},T:function(){return I},l2:function(){return E},vY:function(){return w},xx:function(){return P}});var r=n(7169),i=n(1930),a=n(2577),o=n(8288),s=n(5001),l=n(6552),u=n(8925),c=n(1974),d=n(1935),f=n(6126),p=n(6340),h=n(8290),m=n(1564),g=n(5710);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){return e>=2*Math.PI?e-2*Math.PI:e},w=function(e,t,n,r,i,o,s,l,u,d,f){if(1===n.length){var p=(0,a.Z)(n,1)[0];return"rotation"===t?(S(p,l,u,i),(0,h.Ww)(p)):!(0,c.bt)(p)||2!==p.points.length||"nw"!==t&&"ne"!==t&&"sw"!==t&&"se"!==t?!(0,c.iB)(p)||"nw"!==t&&"ne"!==t&&"sw"!==t&&"se"!==t?t&&E(e.originalElements,s,p,t,o,l,u):(k(p,t,o,l,u),(0,h.Ww)(p)):_(p,r,i,l,u),!0}if(n.length>1){if("rotation"===t)return O(e,n,l,u,i,d,f),!0;if("nw"===t||"ne"===t||"sw"===t||"se"===t)return C(n,t,l,u),!0}return!1},S=function(e,t,n,r){var i=(0,u.qf)(e),s=(0,a.Z)(i,4),l=s[0],c=s[1],f=(l+s[2])/2,p=(c+s[3])/2,h=5*Math.PI/2+Math.atan2(n-p,t-f);r&&(h+=o.ay/2,h-=h%o.ay),h=b(h),(0,d.DR)(e,{angle:h});var v=(0,g.xB)(e);if(v){var y=m.Z.getScene(e).getElement(v);(0,d.DR)(y,{angle:h})}},_=function(e,t,n,r,o){var s=(0,u.qf)(e),c=(0,a.Z)(s,4),p=c[0],h=c[1],m=(p+c[2])/2,g=(h+c[3])/2,v=(0,l.U1)(r,o,m,g,-e.angle),y=(0,a.Z)(v,2),b=y[0],w=y[1],S="end"===t?[b-e.x,w-e.y]:[e.x+e.points[1][0]-b,e.y+e.points[1][1]-w],_=(0,a.Z)(S,2),x=_[0],T=_[1];if(n){var k=function(e,t,n,r){var a=f.uK.apply(void 0,[e].concat((0,i.Z)((0,l.U1)(t,n,0,0,r))));return(0,l.U1)(a.width,a.height,0,0,-r)}(e.type,x,T,e.angle),E=(0,a.Z)(k,2);x=E[0],T=E[1]}var C=(0,l.yq)("end"===t?{s:!0,e:!0}:{n:!0,w:!0},e.x,e.y,e.angle,0,0,(e.points[1][0]-x)/2,(e.points[1][1]-T)/2),O=(0,a.Z)(C,2),P=O[0],I=O[1];(0,d.DR)(e,{x:P,y:I,points:[[0,0],[x,T]]})},x=function(e,t,n){return(0,c.bt)(e)||(0,c.F9)(e)?{points:(0,s.z)(0,t,(0,s.z)(1,n,e.points))}:{}},T=function(e,t,n){var r=e.fontSize*(t/e.width);if(r<1)return null;var i=(0,g.X1)(e.text,(0,p.mO)({fontSize:r,fontFamily:e.fontFamily}),e.containerId?e.width:null);return{size:r,baseline:i.baseline+(n-i.height)}},k=function(e,t,n,r,i){var o,s=(0,u.qf)(e),c=(0,a.Z)(s,4),f=c[0],p=c[1],h=c[2],m=c[3],g=(f+h)/2,v=(p+m)/2,y=(0,l.U1)(r,i,g,v,-e.angle),b=(0,a.Z)(y,2),w=b[0],S=b[1];switch(t){case"se":o=Math.max((w-f)/(h-f),(S-p)/(m-p));break;case"nw":o=Math.max((h-w)/(h-f),(m-S)/(m-p));break;case"ne":o=Math.max((w-f)/(h-f),(m-S)/(m-p));break;case"sw":o=Math.max((h-w)/(h-f),(S-p)/(m-p))}if(o>0){var _=e.width*o,x=e.height*o,k=T(e,_,x);if(null===k)return;var E=(0,u.wC)(e,_,x),C=(0,a.Z)(E,4),O=(f-C[0])/2,P=(p-C[1])/2,I=(h-C[2])/2,A=(m-C[3])/2,D=(0,l.yq)(function(e,t){return{n:/^(n|ne|nw)$/.test(e)||t&&/^(s|se|sw)$/.test(e),s:/^(s|se|sw)$/.test(e)||t&&/^(n|ne|nw)$/.test(e),w:/^(w|nw|sw)$/.test(e)||t&&/^(e|ne|se)$/.test(e),e:/^(e|ne|se)$/.test(e)||t&&/^(w|nw|sw)$/.test(e)}}(t,n),e.x,e.y,e.angle,O,P,I,A),M=(0,a.Z)(D,2),R=M[0],N=M[1];(0,d.DR)(e,{fontSize:k.size,width:_,height:x,baseline:k.baseline,x:R,y:N})}},E=function(e,t,n,r,s,c,f){var m=e.get(n.id),v=(0,u.wC)(m,m.width,m.height),b=(0,a.Z)(v,4),w=[b[0],b[1]],S=[b[2],b[3]],_=(0,l.H5)(w,S),k=(0,l.xj)([c,f],_,-m.angle),E=(0,u.wC)(n,n.width,n.height),C=(0,a.Z)(E,4),O=C[0],P=C[1],I=C[2]-O,A=C[3]-P,D=(S[0]-w[0])/I,M=(S[1]-w[1])/A,R={},N=(0,g.WJ)(n);r.includes("e")&&(D=(k[0]-w[0])/I),r.includes("s")&&(M=(k[1]-w[1])/A),r.includes("w")&&(D=(S[0]-k[0])/I),r.includes("n")&&(M=(S[1]-k[1])/A);var L=m.width,j=m.height,B=n.width*D,F=n.height*M;if(s&&(B=2*B-L,F=2*F-j),t){var U=Math.abs(B)/L,H=Math.abs(F)/j;if(1===r.length&&(F*=U,B*=H),2===r.length){var z=Math.max(U,H);B=L*z*Math.sign(B),F=j*z*Math.sign(F)}}if(N){var V=e.get(N.id);if(V&&(R={fontSize:V.fontSize,baseline:V.baseline}),t){var $=T(N,B-2*o.gK,F-2*o.gK);if(null===$)return;R={fontSize:$.size,baseline:$.baseline}}else{var G=(0,g.AT)((0,p.mO)(N)),W=(0,g.w_)((0,p.mO)(N));B=Math.ceil(Math.max(B,G)),F=Math.ceil(Math.max(F,W))}}var q=(0,u.wC)(m,B,F),Z=(0,a.Z)(q,4),K=Z[0],X=Z[1],Y=Z[2]-K,Q=Z[3]-X,J=[].concat(w);if(["n","w","nw"].includes(r)&&(J=[S[0]-Math.abs(Y),S[1]-Math.abs(Q)]),"ne"===r){var ee=[w[0],S[1]];J=[ee[0],ee[1]-Math.abs(Q)]}if("sw"===r){var te=[S[0],w[1]];J=[te[0]-Math.abs(Y),te[1]]}t&&(["s","n"].includes(r)&&(J[0]=_[0]-Y/2),["e","w"].includes(r)&&(J[1]=_[1]-Q/2)),B<0&&(r.includes("e")&&(J[0]-=Math.abs(Y)),r.includes("w")&&(J[0]+=Math.abs(Y))),F<0&&(r.includes("s")&&(J[1]-=Math.abs(Q)),r.includes("n")&&(J[1]+=Math.abs(Q))),s&&(J[0]=_[0]-Math.abs(Y)/2,J[1]=_[1]-Math.abs(Q)/2);var ne=m.angle,re=(0,l.xj)(J,_,ne),ie=[J[0]+Math.abs(Y)/2,J[1]+Math.abs(Q)/2],ae=(0,l.xj)(ie,_,ne);J=(0,l.xj)(re,ae,-ne);var oe=x(m,B,F),se=(0,i.Z)(J);se[0]+=m.x-K,se[1]+=m.y-X;var le=y({width:Math.abs(B),height:Math.abs(F),x:se[0],y:se[1]},oe);"scale"in n&&"scale"in m&&(0,d.DR)(n,{scale:[(Math.sign(D)||m.scale[0])*m.scale[0],(Math.sign(M)||m.scale[1])*m.scale[1]]}),0!==le.width&&0!==le.height&&Number.isFinite(le.x)&&Number.isFinite(le.y)&&((0,h.Ww)(n,{newSize:{width:le.width,height:le.height}}),(0,d.DR)(n,le),N&&R&&(0,d.DR)(N,{fontSize:R.fontSize}),(0,g.RB)(n,r))},C=function(e,t,n,r){var s,l,f=(0,u.KP)(e),p=(0,a.Z)(f,4),m=p[0],v=p[1],b=p[2],w=p[3];switch(t){case"se":s=Math.max((n-m)/(b-m),(r-v)/(w-v)),l=function(e,t,n){var r=(0,a.Z)(t,2),i=r[0],o=r[1],l=(0,a.Z)(n,2),u=l[0],c=l[1];return{x:e.x+(i-m)*(s-1)+i-u,y:e.y+(o-v)*(s-1)+o-c}};break;case"nw":s=Math.max((b-n)/(b-m),(w-r)/(w-v)),l=function(e,t,n){var r=(0,a.Z)(t,4),i=r[2],o=r[3],l=(0,a.Z)(n,4),u=l[2],c=l[3];return{x:e.x-(b-i)*(s-1)+i-u,y:e.y-(w-o)*(s-1)+o-c}};break;case"ne":s=Math.max((n-m)/(b-m),(w-r)/(w-v)),l=function(e,t,n){var r=(0,a.Z)(t,4),i=r[0],o=r[3],l=(0,a.Z)(n,4),u=l[0],c=l[3];return{x:e.x+(i-m)*(s-1)+i-u,y:e.y-(w-o)*(s-1)+o-c}};break;case"sw":s=Math.max((b-n)/(b-m),(r-v)/(w-v)),l=function(e,t,n){var r=(0,a.Z)(t,3),i=r[1],o=r[2],l=(0,a.Z)(n,3),u=l[1],c=l[2];return{x:e.x-(b-o)*(s-1)+o-c,y:e.y+(i-v)*(s-1)+i-u}}}if(s>0){var S=e.reduce((function(t,n){if(!t)return t;var r=n.width*s,a=n.height*s,d=(0,g.WJ)(n),f={};if(d){var p=T(d,r-2*o.gK,a-2*o.gK);if(null===p)return null;f={fontSize:p.size,baseline:p.baseline}}if((0,c.iB)(n)){var m=T(n,r,a);if(null===m)return null;f={fontSize:m.size,baseline:m.baseline}}var v=(0,u.qf)(n),b=x(n,r,a);(0,h.Ww)(n,{newSize:{width:r,height:a},simultaneouslyUpdated:e});var w=(0,u.wC)(y(y({},n),b),r,a),S=l(n,v,w),_=S.x,k=S.y;return[].concat((0,i.Z)(t),[y(y({width:r,height:a,x:_,y:k},b),f)])}),[]);S&&e.forEach((function(e,n){(0,d.DR)(e,S[n]);var r=(0,g.WJ)(e);r&&((0,d.DR)(r,{fontSize:S[n].fontSize,baseline:S[n].baseline}),(0,g.RB)(e,t))}))}},O=function(e,t,n,r,i,s,c){var f=5*Math.PI/2+Math.atan2(r-c,n-s);i&&(f+=o.ay/2,f-=f%o.ay),t.forEach((function(t,n){var r,i,o=(0,u.qf)(t),p=(0,a.Z)(o,4),h=p[0],v=p[1],y=(h+p[2])/2,w=(v+p[3])/2,S=null!==(r=null===(i=e.originalElements.get(t.id))||void 0===i?void 0:i.angle)&&void 0!==r?r:t.angle,_=(0,l.U1)(y,w,s,c,f+S-t.angle),x=(0,a.Z)(_,2),T=x[0],k=x[1];(0,d.DR)(t,{x:t.x+(T-y),y:t.y+(k-w),angle:b(f+S)});var E=(0,g.xB)(t);if(E){var C=m.Z.getScene(t).getElement(E);(0,d.DR)(C,{x:C.x+(T-y),y:C.y+(k-w),angle:b(f+S)})}}))},P=function(e,t,n,r){var i=1===t.length?(0,u.qf)(t[0]):(0,u.KP)(t),o=(0,a.Z)(i,4),s=o[0],c=o[1],d=o[2],f=o[3],p=(s+d)/2,h=(c+f)/2,m=1===t.length?t[0].angle:0,g=(0,l.U1)(n,r,p,h,-m),v=(0,a.Z)(g,2);switch(n=v[0],r=v[1],e){case"n":return(0,l.U1)(n-(s+d)/2,r-c,0,0,m);case"s":return(0,l.U1)(n-(s+d)/2,r-f,0,0,m);case"w":return(0,l.U1)(n-s,r-(c+f)/2,0,0,m);case"e":return(0,l.U1)(n-d,r-(c+f)/2,0,0,m);case"nw":return(0,l.U1)(n-s,r-c,0,0,m);case"ne":return(0,l.U1)(n-d,r-c,0,0,m);case"sw":return(0,l.U1)(n-s,r-f,0,0,m);case"se":return(0,l.U1)(n-d,r-f,0,0,m);default:return[0,0]}},I=function(e,t){var n=(0,a.Z)(t.points,2),r=(0,a.Z)(n[1],2),i=r[0],o=r[1];return"nw"===e&&(i<0||o<0)||"ne"===e&&i>=0||"sw"===e&&i<=0||"se"===e&&(i>0||o>0)?"end":"origin"}},6126:function(e,t,n){"use strict";n.d(t,{QD:function(){return a},Qp:function(){return s},uK:function(){return o}}),n(1935);var r=n(1974),i=n(8288),a=function(e){return(0,r.bt)(e)||(0,r.F9)(e)?e.points.length<2:0===e.width&&0===e.height},o=function(e,t,n){var r=Math.abs(t),a=Math.abs(n);if("line"===e||"arrow"===e||"freedraw"===e){var o=Math.round(Math.atan(a/r)/i.ay)*i.ay;0===o?n=0:o===Math.PI/2?t=0:n=Math.round(r*Math.tan(o))*Math.sign(n)||n}else"selection"!==e&&(n=r*Math.sign(n));return{width:t,height:n}},s=function(e){var t={width:e.width,height:e.height,x:e.x,y:e.y};if(e.width<0){var n=Math.abs(e.width);t.width=n,t.x=e.x-n}if(e.height<0){var r=Math.abs(e.height);t.height=r,t.y=e.y-r}return t}},5710:function(e,t,n){"use strict";n.d(t,{AT:function(){return S},P7:function(){return f},RB:function(){return p},WJ:function(){return k},X1:function(){return h},hP:function(){return v},lD:function(){return b},oN:function(){return d},tl:function(){return E},w_:function(){return _},xB:function(){return T}});var r,i,a=n(1930),o=n(6340),s=n(1935),l=n(8288),u=n(1564),c=n(5118),d=function(e,t){var n=t?t.width-2*l.gK:void 0,r=e.text;t&&(r=b(e.originalText,(0,o.mO)(e),t.width));var i=h(e.originalText,(0,o.mO)(e),n),a=e.y,u=e.x;if(t){var c=t.height;u=t.x+l.gK,e.verticalAlign===l.oX.TOP?a=t.y+l.gK:e.verticalAlign===l.oX.BOTTOM?a=t.y+t.height-i.height-l.gK:(a=t.y+t.height/2-i.height/2,i.height>t.height-2*l.gK&&(c=i.height+2*l.gK,a=t.y+c/2-i.height/2)),(0,s.DR)(t,{height:c})}(0,s.DR)(e,{width:i.width,height:i.height,baseline:i.baseline,y:a,x:u,text:r})},f=function(e,t,n){var r=(0,o.xn)(e);t.forEach((function(e){var t=n.get(e.id),i=T(e);if(i){var a=n.get(i);if(a){var o,l=r.get(t);l&&(0,s.DR)(l,{boundElements:null===(o=e.boundElements)||void 0===o?void 0:o.concat({type:"text",id:a})});var u=r.get(a);u&&(0,c.iB)(u)&&(0,s.DR)(u,{containerId:l?t:null})}}}))},p=function(e,t){var n=T(e);if(n){var r=u.Z.getScene(e).getElement(n);if(r&&r.text){if(!e)return;var i,a=r.text,c=r.height,d=e.height,f=r.baseline;if("n"!==t&&"s"!==t){a&&(a=b(r.originalText,(0,o.mO)(r),e.width));var p=h(a,(0,o.mO)(r),e.width);c=p.height,f=p.baseline}if(c>e.height-2*l.gK){var m=(d=c+2*l.gK)-e.height,g="ne"===t||"nw"===t||"n"===t?e.y-m:e.y;(0,s.DR)(e,{height:d,y:g})}i=r.verticalAlign===l.oX.TOP?e.y+l.gK:r.verticalAlign===l.oX.BOTTOM?e.y+e.height-c-l.gK:e.y+e.height/2-c/2,(0,s.DR)(r,{text:a,width:e.width-2*l.gK,height:c,x:e.x+l.gK,y:i,baseline:f})}}},h=function(e,t,n){e=e.split("\n").map((function(e){return e||" "})).join("\n");var r=document.createElement("div");if(r.style.position="absolute",r.style.whiteSpace="pre",r.style.font=t,r.style.minHeight="1em",n){var i=v(t);r.style.width="".concat(String(n),"px"),r.style.maxWidth="".concat(String(n),"px"),r.style.overflow="hidden",r.style.wordBreak="break-word",r.style.lineHeight="".concat(String(i),"px"),r.style.whiteSpace="pre-wrap"}document.body.appendChild(r),r.innerText=e;var a=document.createElement("span");a.style.display="inline-block",a.style.overflow="hidden",a.style.width="1px",a.style.height="1px",r.appendChild(a);var o=a.offsetTop+a.offsetHeight,s=r.offsetWidth,l=r.offsetHeight;return document.body.removeChild(r),{width:s,height:l,baseline:o}},m="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),g={},v=function(e){return g[e]||(g[e]=h(m,e,null).height),g[e]},y=function(e,t){r||(r=document.createElement("canvas"));var n=r.getContext("2d");n.font=t;var i=n.measureText(e);return(0,o.h2)()?10*i.width:i.width},b=function(e,t,n){var r=n-2*l.gK,i=[],a=e.split("\n"),o=y(" ",t);return a.forEach((function(e){var n=e.split(" ");if(1===n.length&&""===n[0])i.push(n[0]);else{for(var a="",s=0,l=0;l<n.length;)if(y(n[l],t)>=r){for(a&&i.push(a),a="",s=0;n[l].length>0;){var u=n[l][0],c=w.calculate(u,t);s+=c,n[l]=n[l].slice(1),s>=r?(" "===a.slice(-1)&&(a=a.slice(0,-1)),i.push(a),a=u,(s=c)===r&&(a="",s=0)):a+=u}s+o>=r?(i.push(a),a="",s=0):(a+=" ",s+=o),l++}else{for(;s<r&&l<n.length;){var d=n[l];if((s=y(a+d,t))>=r){i.push(a),s=0,a="";break}if(l++,a+="".concat(d," "),s+o>=r){i.push(a.slice(0,-1)),a="",s=0;break}}s===r&&(a="",s=0)}a&&(" "===a.slice(-1)&&(a=a.slice(0,-1)),i.push(a))}})),i.join("\n")},w=(i={},{calculate:function(e,t){var n=e.charCodeAt(0);if(i[t]||(i[t]=[]),!i[t][n]){var r=y(e,t);i[t][n]=r}return i[t][n]},getCache:function(e){return i[e]}}),S=function(e){var t=x(e);return 0===t?h(m.split("").join("\n"),e).width+2*l.gK:t+2*l.gK},_=function(e){return v(e)+2*l.gK},x=function(e){var t=w.getCache(e);if(!t)return 0;var n=t.filter((function(e){return void 0!==e}));return Math.max.apply(Math,(0,a.Z)(n))},T=function(e){var t,n,r;return null!=e&&null!==(t=e.boundElements)&&void 0!==t&&t.length&&(null==e||null===(n=e.boundElements)||void 0===n||null===(r=n.filter((function(e){return"text"===e.type}))[0])||void 0===r?void 0:r.id)||null},k=function(e){if(!e)return null;var t,n=T(e);return n&&(null===(t=u.Z.getScene(e))||void 0===t?void 0:t.getElement(n))||null},E=function(e){return e&&e.containerId&&(null===(t=u.Z.getScene(e))||void 0===t?void 0:t.getElement(e.containerId))||null;var t}},267:function(e,t,n){"use strict";n.d(t,{PC:function(){return h},kK:function(){return p},ox:function(){return l}});var r=n(2577),i=n(8925),a=n(6552),o=n(5118),s={mouse:8,pen:16,touch:28},l={e:!0,s:!0,n:!0,w:!0},u={e:!0,s:!0,n:!0,w:!0},c={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},d={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},f=function(e,t,n,i,o,s,l){var u=(0,a.U1)(e+n/2,t+i/2,o,s,l),c=(0,r.Z)(u,2);return[c[0]-n/2,c[1]-i/2,n,i]},p=function(e,t,n,i){var a=(0,r.Z)(e,4),o=a[0],l=a[1],u=a[2],c=a[3],d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},p=s[i],h=p/n.value,m=p/n.value,g=p/n.value,v=p/n.value,y=u-o,b=c-l,w=(o+u)/2,S=(l+c)/2,_=4/n.value,x=(p-8)/(2*n.value),T={nw:d.nw?void 0:f(o-_-g+x,l-_-v+x,h,m,w,S,t),ne:d.ne?void 0:f(u+_-x,l-_-v+x,h,m,w,S,t),sw:d.sw?void 0:f(o-_-g+x,c+_-x,h,m,w,S,t),se:d.se?void 0:f(u+_-x,c+_-x,h,m,w,S,t),rotation:d.rotation?void 0:f(o+y/2-h/2,l-_-v+x-16/n.value,h,m,w,S,t)},k=5*s.mouse/n.value;return Math.abs(y)>k&&(d.n||(T.n=f(o+y/2-h/2,l-_-v+x,h,m,w,S,t)),d.s||(T.s=f(o+y/2-h/2,c+_-x,h,m,w,S,t))),Math.abs(b)>k&&(d.w||(T.w=f(o-_-g+x,l+b/2-m/2,h,m,w,S,t)),d.e||(T.e=f(u+_-x,l+b/2-m/2,h,m,w,S,t))),T},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mouse";if(e.locked)return{};var a={};if("arrow"===e.type||"line"===e.type||"freedraw"===e.type){if(2===e.points.length){var s=(0,r.Z)(e.points,2)[1];0===s[0]||0===s[1]?a=d:s[0]>0&&s[1]<0?a=c:s[0]>0&&s[1]>0?a=d:s[0]<0&&s[1]>0?a=c:s[0]<0&&s[1]<0&&(a=d)}}else(0,o.iB)(e)&&(a=u);return p((0,i.qf)(e),e.angle,t,n,a)}},1974:function(e,t,n){"use strict";n.d(t,{F9:function(){return o},Lx:function(){return d},Mn:function(){return c},Xh:function(){return g},Xo:function(){return m},bt:function(){return l},dt:function(){return u},f0:function(){return f},iB:function(){return a},mG:function(){return p},pC:function(){return i},r2:function(){return h},wi:function(){return r}});var r=function(e){return!!e&&"image"===e.type&&!!e.fileId},i=function(e){return!!e&&"image"===e.type},a=function(e){return null!=e&&"text"===e.type},o=function(e){return null!=e&&s(e.type)},s=function(e){return"freedraw"===e},l=function(e){return null!=e&&u(e.type)},u=function(e){return"arrow"===e||"line"===e},c=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=e&&(!e.locked||!0===t)&&d(e.type)},d=function(e){return"arrow"===e},f=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!(null==e||e.locked&&!0!==t||"rectangle"!==e.type&&"diamond"!==e.type&&"ellipse"!==e.type&&"image"!==e.type&&("text"!==e.type||e.containerId))},p=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!(null==e||e.locked&&!0!==t||"rectangle"!==e.type&&"diamond"!==e.type&&"ellipse"!==e.type&&"image"!==e.type)},h=function(e){return"text"===(null==e?void 0:e.type)||"diamond"===(null==e?void 0:e.type)||"rectangle"===(null==e?void 0:e.type)||"ellipse"===(null==e?void 0:e.type)||"arrow"===(null==e?void 0:e.type)||"freedraw"===(null==e?void 0:e.type)||"line"===(null==e?void 0:e.type)},m=function(e){var t;return f(e)&&!(null===(t=e.boundElements)||void 0===t||!t.some((function(e){return"text"===e.type})))},g=function(e){return null!==e&&a(e)&&null!==e.containerId}},6797:function(e,t,n){"use strict";n.d(t,{_:function(){return h},l:function(){return p}});var r=n(5169),i=n(8821),a=n(2248),o=n(7245),s=n(2312),l=n(5901);function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,n){return c=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,l.Z)(i,n.prototype),i},c.apply(null,arguments)}function d(e){var t="function"==typeof Map?new Map:void 0;return d=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,(0,s.Z)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,l.Z)(r,e)},d(e)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}var p=function(e){(0,a.Z)(n,e);var t=f(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Couldn't export canvas.",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CANVAS_ERROR";return(0,i.Z)(this,n),(e=t.call(this)).name=a,e.message=r,e}return(0,r.Z)(n)}(d(Error)),h=function(e){(0,a.Z)(n,e);var t=f(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request Aborted";return(0,i.Z)(this,n),t.call(this,e,"AbortError")}return(0,r.Z)(n)}(d(DOMException))},242:function(e,t,n){"use strict";n.d(t,{AI:function(){return T},F$:function(){return f},Fb:function(){return b},Nd:function(){return y},Qy:function(){return S},S_:function(){return _},YS:function(){return w},bO:function(){return g},h6:function(){return x},iE:function(){return v},iJ:function(){return m},yO:function(){return h},zq:function(){return p}});var r=n(1930),i=n(2577),a=n(7169),o=n(75),s=n(5710);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e,t,n){var r=n.filter((function(t){return t.groupIds.includes(e)}));return r.length<2?t.selectedGroupIds[e]||t.editingGroupId===e?d(d({},t),{},{selectedGroupIds:d(d({},t.selectedGroupIds),{},(0,a.Z)({},e,!1)),editingGroupId:null}):t:d(d({},t),{},{selectedGroupIds:d(d({},t.selectedGroupIds),{},(0,a.Z)({},e,!0)),selectedElementIds:d(d({},t.selectedElementIds),Object.fromEntries(r.map((function(e){return[e.id,!0]}))))})},p=function(e,t){return null!=h(e,t)},h=function(e,t){return t.groupIds.filter((function(t){return t!==e.editingGroupId})).find((function(t){return e.selectedGroupIds[t]}))},m=function(e){return Object.entries(e.selectedGroupIds).filter((function(e){var t=(0,i.Z)(e,2);return t[0],t[1]})).map((function(e){var t=(0,i.Z)(e,2),n=t[0];return t[1],n}))},g=function(e,t){var n=d(d({},e),{},{selectedGroupIds:{}}),r=(0,o.eD)(t,e);if(!r.length)return d(d({},n),{},{editingGroupId:null});var i,a=l(r);try{for(a.s();!(i=a.n()).done;){var s=i.value.groupIds;if(e.editingGroupId){var u=s.indexOf(e.editingGroupId);u>-1&&(s=s.slice(0,u))}if(s.length>0){var c=s[s.length-1];n=f(c,n,t)}}}catch(e){a.e(e)}finally{a.f()}return n},v=function(e,t){return d(d({},e),{},{editingGroupId:t.groupIds.length?t.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,a.Z)({},t.id,!0)})},y=function(e,t){return e.groupIds.includes(t)},b=function(e,t){return e.filter((function(e){return y(e,t)}))},w=function(e,t){return e.groupIds.find((function(e){return t[e]}))},S=function(e,t,n){for(var i=(0,r.Z)(e),a=t?e.indexOf(t):-1,o=a>-1?a:e.length,s=0;s<o;s++)i[s]=n(i[s]);return i},_=function(e,t,n){var i=(0,r.Z)(e),a=n?i.indexOf(n):-1,o=a>-1?a:i.length;return i.splice(o,0,t),i},x=function(e,t){return e.filter((function(e){return!t[e]}))},T=function(e){var t=new Map;return e.forEach((function(e){var n=0===e.groupIds.length?e.id:e.groupIds[e.groupIds.length-1],i=t.get(n)||[],a=(0,s.WJ)(e);a&&i.push(a),t.set(n,[].concat((0,r.Z)(i),[e]))})),Array.from(t.values())}},8211:function(e,t,n){"use strict";n.d(t,{Fp:function(){return u},G3:function(){return m},Mj:function(){return c},m0:function(){return h},t:function(){return v}});var r=n(8950),i=n(7945),a=n.n(i),o=n(1463),s=n(4451),l=n(8288),u={code:"en",label:"English"},c=[{code:"ar-SA",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",rtl:!0},{code:"bg-BG",label:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438"},{code:"ca-ES",label:"Catal\xe0"},{code:"cs-CZ",label:"\u010cesky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},{code:"es-ES",label:"Espa\xf1ol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"\u0641\u0627\u0631\u0633\u06cc",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Fran\xe7ais"},{code:"he-IL",label:"\u05e2\u05d1\u05e8\u05d9\u05ea",rtl:!0},{code:"hi-IN",label:"\u0939\u093f\u0928\u094d\u0926\u0940"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"\u65e5\u672c\u8a9e"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"\u049a\u0430\u0437\u0430\u049b \u0442\u0456\u043b\u0456"},{code:"ko-KR",label:"\ud55c\uad6d\uc5b4"},{code:"lt-LT",label:"Lietuvi\u0173"},{code:"lv-LV",label:"Latvie\u0161u"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokm\xe5l"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugu\xeas Brasileiro"},{code:"pt-PT",label:"Portugu\xeas"},{code:"ro-RO",label:"Rom\xe2n\u0103"},{code:"ru-RU",label:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},{code:"sk-SK",label:"Sloven\u010dina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"T\xfcrk\xe7e"},{code:"uk-UA",label:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"},{code:"zh-CN",label:"\u7b80\u4f53\u4e2d\u6587"},{code:"zh-TW",label:"\u7e41\u9ad4\u4e2d\u6587"}].concat([u]).sort((function(e,t){return e.label>t.label?1:-1})).filter((function(e){return s[e.code]>=85})),d="__test__";"production"===l.Vi.DEVELOPMENT&&c.unshift({code:d,label:"test language"},{code:"".concat(d,".rtl"),label:"\u202atest language (rtl)\u202c",rtl:!0});var f=u,p={},h=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=t,document.documentElement.dir=f.rtl?"rtl":"ltr",document.documentElement.lang=f.code,!t.code.startsWith(d)){e.next=7;break}p={},e.next=10;break;case 7:return e.next=9,n(940)("./".concat(f.code,".json"));case 9:p=e.sent;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){return f},g=function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(void 0===e[r])return;e=e[r]}if("string"==typeof e)return e},v=function(e,t){if(f.code.startsWith(d)){var n=t?"".concat(e,"(").concat(JSON.stringify(t).slice(1,-1),")"):e;return"\u202a[[".concat(n,"]]\u202c")}var r=e.split("."),i=g(p,r)||g(o,r);if(void 0===i)throw new Error("Can't find translation for ".concat(e));if(t)for(var a in t)i=i.replace("{{".concat(a,"}}"),String(t[a]));return i}},9487:function(e,t,n){"use strict";n.d(t,{e_:function(){return a},yE:function(){return i}});var r=n(4739),i=(n(9787),Symbol()),a=(0,r.Vv)()},6066:function(e,t,n){"use strict";n.d(t,{Dt:function(){return a},E0:function(){return c},ED:function(){return i},Ge:function(){return d},OA:function(){return u},Um:function(){return r},Wl:function(){return l},aU:function(){return o},tW:function(){return s}});var r=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),i=/^Win/.test(window.navigator.platform),a=/\b(android)\b/i.test(navigator.userAgent),o={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",G:"KeyG",F:"KeyF",H:"KeyH",V:"KeyV",X:"KeyX",Z:"KeyZ",R:"KeyR"},s={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:r?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",A:"a",D:"d",E:"e",G:"g",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k"},l=function(e){return e===s.ARROW_LEFT||e===s.ARROW_RIGHT||e===s.ARROW_DOWN||e===s.ARROW_UP},u=function(e){return e.altKey},c=function(e){return e.shiftKey},d=function(e){return e.shiftKey}},6552:function(e,t,n){"use strict";n.d(t,{H5:function(){return l},LW:function(){return s},U1:function(){return i},c9:function(){return c},g6:function(){return u},wC:function(){return h},xj:function(){return a},yq:function(){return o}});var r=n(8288),i=function(e,t,n,r,i){return[(e-n)*Math.cos(i)-(t-r)*Math.sin(i)+n,(e-n)*Math.sin(i)+(t-r)*Math.cos(i)+r]},a=function(e,t,n){return i(e[0],e[1],t[0],t[1],n)},o=function(e,t,n,r,i,a,o,s){var l=Math.cos(r),u=Math.sin(r);return e.e&&e.w?t+=i+o:e.e?(t+=i*(1+l),n+=i*u,t+=o*(1-l),n+=o*-u):e.w&&(t+=i*(1-l),n+=i*-u,t+=o*(1+l),n+=o*u),e.n&&e.s?n+=a+s:e.n?(t+=a*u,n+=a*(1-l),t+=s*-u,n+=s*(1+l)):e.s&&(t+=a*-u,n+=a*(1+l),t+=s*u,n+=s*(1-l)),[t,n]},s=function(e,t,n,r){var i=n-e,a=r-t;return Math.hypot(i,a)},l=function(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.length>=3){var n=[e[0],e[e.length-1]],i=n[0],a=n[1];return s(i[0],i[1],a[0],a[1])<=r.qx/t}return!1},c=function(e,t,n){var r=e.length;if(r<3)return!1;for(var i=[Number.MAX_SAFE_INTEGER,n],a=[t,n],o=0,s=0;s<r;s++){var l=e[s],u=e[(s+1)%r];if(p(l,u,a,i)){if(0===f(l,a,u))return d(l,a,u);o++}}return o%2==1},d=function(e,t,n){return t[0]<=Math.max(e[0],n[0])&&t[0]>=Math.min(e[0],n[0])&&t[1]<=Math.max(e[1],n[1])&&t[1]>=Math.min(e[1],n[1])},f=function(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return 0===r?0:r>0?1:2},p=function(e,t,n,r){var i=f(e,t,n),a=f(e,t,r),o=f(n,r,e),s=f(n,r,t);return i!==a&&o!==s||!(0!==i||!d(e,n,t))||!(0!==a||!d(e,r,t))||!(0!==o||!d(n,e,r))||!(0!==s||!d(n,t,r))},h=function(e,t,n){return n?[Math.round(e/n)*n,Math.round(t/n)*n]:[e,t]}},3024:function(e,t,n){"use strict";n.d(t,{$D:function(){return _},Fl:function(){return S},I_:function(){return p.I_},N7:function(){return g.N7},NI:function(){return p.NI},NL:function(){return w},ZY:function(){return m.ZY},cT:function(){return m.cT},i1:function(){return x},lV:function(){return m.lV},zh:function(){return v.zh}});var r=n(8950),i=n(7169),a=n(7945),o=n.n(a),s=n(4162),l=n(8897),u=n(5118),c=n(679),d=n(8288),f=n(673),p=n(5523),h=n(6665),m=n(434),g=n(3063),v=n(7053);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){var t=e.elements,n=e.appState,r=e.files,i=e.maxWidthOrHeight,a=e.getDimensions,o=(0,c.nu)({elements:t,appState:n},null,null),l=o.elements,d=o.appState,f=d.exportBackground,p=d.viewBackgroundColor;return(0,s.NL)((0,u.Lm)(l),b(b({},d),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),r||{},{exportBackground:f,viewBackgroundColor:p},(function(e,t){var n,r=document.createElement("canvas");if(i){"function"==typeof a&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var o=Math.max(e,t),s=i/o;return r.width=e*s,r.height=t*s,{canvas:r,scale:s}}var l=(null==a?void 0:a(e,t))||{width:e,height:t};return r.width=l.width,r.height=l.height,{canvas:r,scale:null!==(n=l.scale)&&void 0!==n?n:1}}))},S=function(){var e=(0,r.Z)(o().mark((function e(t){var n,i,a,s,l,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(i=t).mimeType,s=void 0===a?d.LO.png:a,l=i.quality,s===d.LO.png&&"number"==typeof l&&console.warn('"quality" will be ignored for "'.concat(d.LO.png,'" mimeType')),"image/jpg"===s&&(s=d.LO.jpg),s!==d.LO.jpg||null!==(n=t.appState)&&void 0!==n&&n.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(d.LO.jpg,'" mimeType')),t=b(b({},t),{},{appState:b(b({},t.appState),{},{exportBackground:!0})})),e.next=6,w(t);case 6:return u=e.sent,l=l||(/image\/jpe?g/.test(s)?.92:.8),e.abrupt("return",new Promise((function(e,n){u.toBlob(function(){var i=(0,r.Z)(o().mark((function r(i){var a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i){r.next=2;break}return r.abrupt("return",n(new Error("couldn't export to blob")));case 2:if(!i||s!==d.LO.png||null===(a=t.appState)||void 0===a||!a.exportEmbedScene){r.next=6;break}return r.next=5,(0,f.encodePngMetadata)({blob:i,metadata:(0,p.I_)(t.elements,t.appState,t.files||{},"local")});case 5:i=r.sent;case 6:e(i);case 7:case"end":return r.stop()}}),r)})));return function(e){return i.apply(this,arguments)}}(),s,l)})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i,a,d,f,p,h,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.elements,r=t.appState,i=void 0===r?(0,l.im)():r,a=t.files,d=void 0===a?{}:a,f=t.exportPadding,p=(0,c.nu)({elements:n,appState:i},null,null),h=p.elements,m=p.appState,e.abrupt("return",(0,s.$D)((0,u.Lm)(h),b(b({},m),{},{exportPadding:f}),d));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("svg"!==t.type){e.next=8;break}return e.next=3,_(t);case 3:return n=e.sent,e.next=6,(0,h.dd)(n.outerHTML);case 6:case 11:case 17:e.next=20;break;case 8:if("png"!==t.type){e.next=13;break}return e.next=11,(0,h.uR)(S(t));case 13:if("json"!==t.type){e.next=19;break}return r=b(b({offsetTop:0,offsetLeft:0,width:0,height:0},(0,l.im)()),t.appState),e.next=17,(0,h.vQ)(t.elements,r,t.files);case 19:throw new Error("Invalid export type");case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},5001:function(e,t,n){"use strict";n.d(t,{k:function(){return i},z:function(){return a}});var r=n(1930),i=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{width:Math.max.apply(Math,(0,r.Z)(t))-Math.min.apply(Math,(0,r.Z)(t)),height:Math.max.apply(Math,(0,r.Z)(n))-Math.min.apply(Math,(0,r.Z)(n))}},a=function(e,t,n){var i=n.map((function(t){return t[e]})),a=Math.max.apply(Math,(0,r.Z)(i)),o=Math.min.apply(Math,(0,r.Z)(i)),s=a-o,l=0===s?1:t/s,u=1/0,c=n.map((function(t){return t.map((function(t,n){if(n!==e)return t;var r=t*l;return u=Math.min(r,u),r}))}));if(2===c.length)return c;var d=o-u;return c.map((function(t){return t.map((function(t,n){return n===e?t+d:t}))}))}},6954:function(e,t,n){"use strict";n.d(t,{LU:function(){return l},kb:function(){return u}});var r=n(8152),i=n(5605),a=n(6340),o=new r.k(Date.now()),s=0,l=function(){return Math.floor(o.next()*Math.pow(2,31))},u=function(){return(0,a.h2)()?"id".concat(s++):(0,i.x0)()}},3063:function(e,t,n){"use strict";n.d(t,{Dn:function(){return U},i:function(){return K},N7:function(){return ie},R2:function(){return W},bI:function(){return Z},lw:function(){return J},Rg:function(){return te}});var r=n(1930),i=n(7169),a=n(2577),o=n(1974),s=n(8925),l=n(6340),u=n(6552),c=n(8234),d=n(8897),f=n(8288);function p(e,t,n,r=(e=>e)){return e*r(.5-t*(.5-n))}function h(e,t){return[e[0]+t[0],e[1]+t[1]]}function m(e,t){return[e[0]-t[0],e[1]-t[1]]}function g(e,t){return[e[0]*t,e[1]*t]}function v(e){return[e[1],-e[0]]}function y(e,t){return e[0]*t[0]+e[1]*t[1]}function b(e,t){return e[0]===t[0]&&e[1]===t[1]}function w(e,t){return function(e){return e[0]*e[0]+e[1]*e[1]}(m(e,t))}function S(e){return function(e,t){return[e[0]/t,e[1]/t]}(e,function(e){return Math.hypot(e[0],e[1])}(e))}function _(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function x(e,t,n){let r=Math.sin(n),i=Math.cos(n),a=e[0]-t[0],o=e[1]-t[1],s=a*r+o*i;return[a*i-o*r+t[0],s+t[1]]}function T(e,t,n){return h(e,g(m(t,e),n))}function k(e,t,n){return h(e,g(t,n))}var{min:E,PI:C}=Math,O=C+1e-4;function P(e,t={}){return function(e,t={}){let{size:n=16,smoothing:r=.5,thinning:i=.5,simulatePressure:a=!0,easing:o=(e=>e),start:s={},end:l={},last:u=!1}=t,{cap:c=!0,taper:d=0,easing:f=(e=>e*(2-e))}=s,{cap:b=!0,taper:_=0,easing:C=(e=>--e*e*e+1)}=l;if(0===e.length||n<=0)return[];let P,I=e[e.length-1].runningLength,A=Math.pow(n*r,2),D=[],M=[],R=e.slice(0,10).reduce(((e,t)=>{let r=t.pressure;if(a){let i=E(1,t.distance/n),a=E(1,1-i);r=E(1,e+.275*i*(a-e))}return(e+r)/2}),e[0].pressure),N=p(n,i,e[e.length-1].pressure,o),L=e[0].vector,j=e[0].point,B=j,F=j,U=B;for(let S=0;S<e.length;S++){let{pressure:t}=e[S],{point:r,vector:s,distance:l,runningLength:u}=e[S];if(S<e.length-1&&I-u<3)continue;if(i){if(a){let e=E(1,l/n),r=E(1,1-e);t=E(1,R+.275*e*(r-R))}N=p(n,i,t,o)}else N=n/2;void 0===P&&(P=N);let c=u<d?f(u/d):1,b=I-u<_?C((I-u)/_):1;if(N=Math.max(.01,N*Math.min(c,b)),S===e.length-1){let e=g(v(s),N);D.push(m(r,e)),M.push(h(r,e));continue}let k=e[S+1].vector,H=y(s,k);if(H<0){let e=g(v(L),N);for(let t=1/13,n=0;n<=1;n+=t)F=x(m(r,e),r,O*n),D.push(F),U=x(h(r,e),r,O*-n),M.push(U);j=F,B=U;continue}let z=g(v(T(k,s,H)),N);F=m(r,z),(S<=1||w(j,F)>A)&&(D.push(F),j=F),U=h(r,z),(S<=1||w(B,U)>A)&&(M.push(U),B=U),R=t,L=s}let H=e[0].point.slice(0,2),z=e.length>1?e[e.length-1].point.slice(0,2):h(e[0].point,[1,1]),V=[],$=[];if(1===e.length){if(!d&&!_||u){let e=k(H,S(v(m(H,z))),-(P||N)),t=[];for(let n=1/13,r=n;r<=1;r+=n)t.push(x(e,H,2*O*r));return t}}else{if(!(d||_&&1===e.length))if(c)for(let e=1/13,n=e;n<=1;n+=e){let e=x(M[0],H,O*n);V.push(e)}else{let e=m(D[0],M[0]),t=g(e,.5),n=g(e,.51);V.push(m(H,t),m(H,n),h(H,n),h(H,t))}let t=v(function(e){return[-e[0],-e[1]]}(e[e.length-1].vector));if(_||d&&1===e.length)$.push(z);else if(b){let e=k(z,t,N);for(let t=1/29,n=t;n<1;n+=t)$.push(x(e,z,3*O*n))}else $.push(h(z,g(t,N)),h(z,g(t,.99*N)),m(z,g(t,.99*N)),m(z,g(t,N)))}return D.concat($,M.reverse(),V)}(function(e,t={}){var n;let{streamline:r=.5,size:i=16,last:a=!1}=t;if(0===e.length)return[];let o=.15+.85*(1-r),s=Array.isArray(e[0])?e:e.map((({x:e,y:t,pressure:n=.5})=>[e,t,n]));if(2===s.length){let e=s[1];s=s.slice(0,-1);for(let t=1;t<5;t++)s.push(T(s[0],e,t/4))}1===s.length&&(s=[...s,[...h(s[0],[1,1]),...s[0].slice(2)]]);let l=[{point:[s[0][0],s[0][1]],pressure:s[0][2]>=0?s[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],u=!1,c=0,d=l[0],f=s.length-1;for(let p=1;p<s.length;p++){let e=a&&p===f?s[p].slice(0,2):T(d.point,s[p],o);if(b(d.point,e))continue;let t=_(e,d.point);if(c+=t,p<f&&!u){if(c<i)continue;u=!0}d={point:e,pressure:s[p][2]>=0?s[p][2]:.5,vector:S(m(d.point,e)),distance:t,runningLength:c},l.push(d)}return l[0].vector=(null==(n=l[1])?void 0:n.vector)||[0,0],l}(e,t),t)}var I=n(5710);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M="invert(100%) hue-rotate(180deg) saturate(1.25)",R=(0,d.im)(),N=function(e,t){return(0,o.wi)(e)&&!t.imageCache.has(e.fileId)},L=function(e,t){var n;return"dark"===t.theme&&(0,o.wi)(e)&&!N(e,t)&&(null===(n=t.imageCache.get(e.fileId))||void 0===n?void 0:n.mimeType)!==f.LO.svg},j=function(e){return[8,8+e]},B=function(e){return[1.5,6+e]},F=function(e){return"freedraw"===e.type?12*e.strokeWidth:20},U=14,H=document.createElement("img");H.src="data:".concat(f.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var z=document.createElement("img");z.src="data:".concat(f.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var V=function(e,t,n,r){switch(n.globalAlpha=e.opacity/100,e.type){case"rectangle":case"diamond":case"ellipse":n.lineJoin="round",n.lineCap="round",t.draw(W(e));break;case"arrow":case"line":n.lineJoin="round",n.lineCap="round",W(e).forEach((function(e){t.draw(e)}));break;case"freedraw":n.save(),n.fillStyle=e.strokeColor;var i=function(e){return ne.get(e)}(e),a=W(e);a&&t.draw(a),n.fillStyle=e.strokeColor,n.fill(i),n.restore();break;case"image":var s,u=(0,o.wi)(e)?null===(s=r.imageCache.get(e.fileId))||void 0===s?void 0:s.image:void 0;null==u||u instanceof Promise?function(e,t,n){t.fillStyle="#E7E7E7",t.fillRect(0,0,e.width,e.height);var r=Math.min(e.width,e.height),i=Math.min(r,Math.min(.4*r,100));t.drawImage("error"===e.status?z:H,e.width/2-i/2,e.height/2-i/2,i,i)}(e,n,r.zoom.value):n.drawImage(u,0,0,e.width,e.height);break;default:if(!(0,o.iB)(e))throw new Error("Unimplemented type ".concat(e.type));var c=(0,l.dZ)(e.text),d=c&&!n.canvas.isConnected;d&&document.body.appendChild(n.canvas),n.canvas.setAttribute("dir",c?"rtl":"ltr"),n.save(),n.font=(0,l.mO)(e),n.fillStyle=e.strokeColor,n.textAlign=e.textAlign;var p=e.text.replace(/\r\n?/g,"\n").split("\n"),h=e.containerId?(0,I.hP)((0,l.mO)(e)):e.height/p.length,m=e.height-e.baseline;e.verticalAlign===f.oX.BOTTOM&&(m=f.gK);for(var g="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,v=0;v<p.length;v++)n.fillText(p[v],g,(v+1)*h-m);n.restore(),d&&n.canvas.remove()}n.globalAlpha=1},$=new WeakMap,G=new WeakMap,W=function(e){return G.get(e)},q=function(e,t){return G.set(e,t)},Z=function(e){return G.delete(e)},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={seed:e.seed,strokeLineDash:"dashed"===e.strokeStyle?j(e.strokeWidth):"dotted"===e.strokeStyle?B(e.strokeWidth):void 0,disableMultiStroke:"solid"!==e.strokeStyle,strokeWidth:"solid"!==e.strokeStyle?e.strokeWidth+.5:e.strokeWidth,fillWeight:e.strokeWidth/2,hachureGap:4*e.strokeWidth,roughness:e.roughness,stroke:e.strokeColor,preserveVertices:t};switch(e.type){case"rectangle":case"diamond":case"ellipse":return n.fillStyle=e.fillStyle,n.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor,"ellipse"===e.type&&(n.curveFitting=1),n;case"line":case"freedraw":return(0,u.g6)(e.points)&&(n.fillStyle=e.fillStyle,n.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor),n;case"arrow":return n;default:throw new Error("Unimplemented type ".concat(e.type))}},X=function(e,t){var n=G.get(e);if(void 0===n)switch($.delete(e),e.type){case"rectangle":if("round"===e.strokeSharpness){var i=e.width,o=e.height,l=.25*Math.min(i,o);n=t.path("M ".concat(l," 0 L ").concat(i-l," 0 Q ").concat(i," 0, ").concat(i," ").concat(l," L ").concat(i," ").concat(o-l," Q ").concat(i," ").concat(o,", ").concat(i-l," ").concat(o," L ").concat(l," ").concat(o," Q 0 ").concat(o,", 0 ").concat(o-l," L 0 ").concat(l," Q 0 0, ").concat(l," 0"),K(e,!0))}else n=t.rectangle(0,0,e.width,e.height,K(e));q(e,n);break;case"diamond":var c=(0,s.UC)(e),d=(0,a.Z)(c,8),f=d[0],p=d[1],h=d[2],m=d[3],g=d[4],v=d[5],y=d[6],b=d[7];n="round"===e.strokeSharpness?t.path("M ".concat(f+.25*(h-f)," ").concat(p+.25*(m-p)," L ").concat(h-.25*(h-f)," ").concat(m-.25*(m-p),"\n            C ").concat(h," ").concat(m,", ").concat(h," ").concat(m,", ").concat(h-.25*(h-g)," ").concat(m+.25*(v-m),"\n            L ").concat(g+.25*(h-g)," ").concat(v-.25*(v-m),"\n            C ").concat(g," ").concat(v,", ").concat(g," ").concat(v,", ").concat(g-.25*(g-y)," ").concat(v-.25*(v-b),"\n            L ").concat(y+.25*(g-y)," ").concat(b+.25*(v-b),"\n            C ").concat(y," ").concat(b,", ").concat(y," ").concat(b,", ").concat(y+.25*(f-y)," ").concat(b-.25*(b-p),"\n            L ").concat(f-.25*(f-y)," ").concat(p+.25*(b-p),"\n            C ").concat(f," ").concat(p,", ").concat(f," ").concat(p,", ").concat(f+.25*(h-f)," ").concat(p+.25*(m-p)),K(e,!0)):t.polygon([[f,p],[h,m],[g,v],[y,b]],K(e)),q(e,n);break;case"ellipse":n=t.ellipse(e.width/2,e.height/2,e.width,e.height,K(e)),q(e,n);break;case"line":case"arrow":var w=K(e),S=e.points.length?e.points:[[0,0]];if(n="sharp"===e.strokeSharpness?w.fill?[t.polygon(S,w)]:[t.linearPath(S,w)]:[t.curve(S,w)],"arrow"===e.type){var _=e.startArrowhead,x=void 0===_?null:_,T=e.endArrowhead,k=void 0===T?"arrow":T,E=function(e,n,r,i){var o=(0,s.Y5)(e,n,r,i);if(null===o)return[];if("dot"===i){var l=(0,a.Z)(o,3),u=l[0],c=l[1],d=l[2];return[t.circle(u,c,d,D(D({},w),{},{fill:e.strokeColor,fillStyle:"solid",stroke:"none"}))]}if("triangle"===i){var f=(0,a.Z)(o,6),p=f[0],h=f[1],m=f[2],g=f[3],v=f[4],y=f[5];return delete w.strokeLineDash,[t.polygon([[p,h],[m,g],[v,y],[p,h]],D(D({},w),{},{fill:e.strokeColor,fillStyle:"solid"}))]}var b=(0,a.Z)(o,6),S=b[0],_=b[1],x=b[2],T=b[3],k=b[4],E=b[5];if("dotted"===e.strokeStyle){var C=B(e.strokeWidth-1);w.strokeLineDash=[C[0],C[1]-1]}else delete w.strokeLineDash;return[t.line(x,T,S,_,w),t.line(k,E,S,_,w)]};if(null!==x){var C,O=E(e,n,"start",x);(C=n).push.apply(C,(0,r.Z)(O))}if(null!==k){var P,I=E(e,n,"end",k);(P=n).push.apply(P,(0,r.Z)(I))}}q(e,n);break;case"freedraw":re(e),n=(0,u.g6)(e.points)?t.polygon(e.points,D(D({},K(e)),{},{stroke:"none"})):null,q(e,n);break;case"text":case"image":q(e,null)}},Y=function(e,t){var n=t?t.zoom:R.zoom,r=$.get(e),i=r&&r.canvasZoom!==n.value&&!(null!=t&&t.shouldCacheIgnoreZoom);if(!r||i||r.theme!==t.theme){var u=function(e,t,n){var r=document.createElement("canvas"),i=r.getContext("2d"),u=F(e),d=0,f=0;if((0,o.bt)(e)||(0,o.F9)(e)){var p=(0,s.qf)(e),h=(0,a.Z)(p,4),m=h[0],g=h[1],v=h[2],y=h[3];r.width=(0,l.TE)(m,v)*window.devicePixelRatio*t.value+u*t.value*2,r.height=(0,l.TE)(g,y)*window.devicePixelRatio*t.value+u*t.value*2,d=e.x>m?(0,l.TE)(e.x,m)*window.devicePixelRatio*t.value:0,f=e.y>g?(0,l.TE)(e.y,g)*window.devicePixelRatio*t.value:0,i.translate(d,f)}else r.width=e.width*window.devicePixelRatio*t.value+u*t.value*2,r.height=e.height*window.devicePixelRatio*t.value+u*t.value*2;i.save(),i.translate(u*t.value,u*t.value),i.scale(window.devicePixelRatio*t.value,window.devicePixelRatio*t.value);var b=c.Z.canvas(r);return L(e,n)&&(i.filter=M),V(e,b,i,n),i.restore(),{element:e,canvas:r,theme:n.theme,canvasZoom:t.value,canvasOffsetX:d,canvasOffsetY:f}}(e,n,t);return $.set(e,u),u}return r},Q=function(e,t,n,r){var i=e.element,l=F(i),u=(0,s.qf)(i),c=(0,a.Z)(u,4),d=c[0],f=c[1],p=c[2],h=c[3];(0,o.F9)(i)&&(d=Math.floor(d),p=Math.ceil(p),f=Math.floor(f),h=Math.ceil(h));var m=((d+p)/2+r.scrollX)*window.devicePixelRatio,g=((f+h)/2+r.scrollY)*window.devicePixelRatio,v=N(i,r),y="scale"in e.element&&!v?e.element.scale[0]:1,b="scale"in e.element&&!v?e.element.scale[1]:1;n.save(),n.scale(1/window.devicePixelRatio*y,1/window.devicePixelRatio*b),n.translate(m*y,g*b),n.rotate(i.angle*y*b),n.drawImage(e.canvas,-(p-d)/2*window.devicePixelRatio-l*e.canvasZoom/e.canvasZoom,-(h-f)/2*window.devicePixelRatio-l*e.canvasZoom/e.canvasZoom,e.canvas.width/e.canvasZoom,e.canvas.height/e.canvasZoom),n.restore()},J=function(e,t,n,r){var i=t.generator;switch(e.type){case"selection":n.save(),n.translate(e.x+r.scrollX,e.y+r.scrollY),n.fillStyle="rgba(0, 0, 255, 0.10)",n.fillRect(0,0,e.width,e.height),n.restore();break;case"freedraw":if(X(e,i),r.isExporting){var o=Y(e,r);Q(o,0,n,r)}else{var l=(0,s.qf)(e),u=(0,a.Z)(l,4),c=u[0],d=u[1],f=u[2],p=u[3],h=(c+f)/2+r.scrollX,m=(d+p)/2+r.scrollY,g=(f-c)/2-(e.x-c),v=(p-d)/2-(e.y-d);n.save(),n.translate(h,m),n.rotate(e.angle),n.translate(-g,-v),V(e,t,n,r),n.restore()}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":if(X(e,i),r.isExporting){var y=(0,s.qf)(e),b=(0,a.Z)(y,4),w=b[0],S=b[1],_=b[2],x=b[3],T=(w+_)/2+r.scrollX,k=(S+x)/2+r.scrollY,E=(_-w)/2-(e.x-w),C=(x-S)/2-(e.y-S);n.save(),n.translate(T,k),n.rotate(e.angle),n.translate(-E,-C),L(e,r)&&(n.filter="none"),V(e,t,n,r),n.restore()}else{var O=Y(e,r);Q(O,0,n,r)}break;default:throw new Error("Unimplemented type ".concat(e.type))}},ee=function(e,t,n){if(void 0===n)return e.draw(t);var r={sets:t.sets,shape:t.shape,options:D(D({},t.options),{},{fixedDecimalPlaceDigits:n})};return e.draw(r)},te=function(e,t,n,r,i,c,d){var p=(0,s.qf)(e),h=(0,a.Z)(p,4),m=h[0],g=h[1],v=h[2],y=h[3],b=(v-m)/2-(e.x-m),w=(y-g)/2-(e.y-g),S=180*e.angle/Math.PI,_=t.generator,x=n;if(e.link){var T=n.ownerDocument.createElementNS(f.hR,"a");T.setAttribute("href",e.link),x.appendChild(T),x=T}switch(e.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":X(e,_);var k=ee(t,W(e),f.zK),E=e.opacity/100;1!==E&&(k.setAttribute("stroke-opacity","".concat(E)),k.setAttribute("fill-opacity","".concat(E))),k.setAttribute("stroke-linecap","round"),k.setAttribute("transform","translate(".concat(i||0," ").concat(c||0,") rotate(").concat(S," ").concat(b," ").concat(w,")")),x.appendChild(k);break;case"line":case"arrow":X(e,_);var C=n.ownerDocument.createElementNS(f.hR,"g"),O=e.opacity/100;C.setAttribute("stroke-linecap","round"),W(e).forEach((function(n){var r=ee(t,n,f.zK);1!==O&&(r.setAttribute("stroke-opacity","".concat(O)),r.setAttribute("fill-opacity","".concat(O))),r.setAttribute("transform","translate(".concat(i||0," ").concat(c||0,") rotate(").concat(S," ").concat(b," ").concat(w,")")),"line"===e.type&&(0,u.g6)(e.points)&&"transparent"!==e.backgroundColor&&r.setAttribute("fill-rule","evenodd"),C.appendChild(r)})),x.appendChild(C);break;case"freedraw":X(e,_),re(e);var P=e.opacity/100,I=W(e),A=I?ee(t,I,f.zK):n.ownerDocument.createElementNS(f.hR,"g");1!==P&&(A.setAttribute("stroke-opacity","".concat(P)),A.setAttribute("fill-opacity","".concat(P))),A.setAttribute("transform","translate(".concat(i||0," ").concat(c||0,") rotate(").concat(S," ").concat(b," ").concat(w,")")),A.setAttribute("stroke","none");var D=n.ownerDocument.createElementNS(f.hR,"path");D.setAttribute("fill",e.strokeColor),D.setAttribute("d",ie(e)),A.appendChild(D),x.appendChild(A);break;case"image":var R=(0,o.wi)(e)&&r[e.fileId];if(R){var N="image-".concat(R.id),L=n.querySelector("#".concat(N));if(!L){(L=n.ownerDocument.createElementNS(f.hR,"symbol")).id=N;var j=n.ownerDocument.createElementNS(f.hR,"image");j.setAttribute("width","100%"),j.setAttribute("height","100%"),j.setAttribute("href",R.dataURL),L.appendChild(j),x.prepend(L)}var B=n.ownerDocument.createElementNS(f.hR,"use");B.setAttribute("href","#".concat(N)),d&&R.mimeType!==f.LO.svg&&B.setAttribute("filter",M),B.setAttribute("width","".concat(Math.round(e.width))),B.setAttribute("height","".concat(Math.round(e.height))),B.setAttribute("transform","translate(".concat(i||0," ").concat(c||0,") rotate(").concat(S," ").concat(b," ").concat(w,")")),x.appendChild(B)}break;default:if(!(0,o.iB)(e))throw new Error("Unimplemented type ".concat(e.type));var F=e.opacity/100,U=n.ownerDocument.createElementNS(f.hR,"g");1!==F&&(U.setAttribute("stroke-opacity","".concat(F)),U.setAttribute("fill-opacity","".concat(F))),U.setAttribute("transform","translate(".concat(i||0," ").concat(c||0,") rotate(").concat(S," ").concat(b," ").concat(w,")"));for(var H=e.text.replace(/\r\n?/g,"\n").split("\n"),z=e.height/H.length,V=e.height-e.baseline,$="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,G=(0,l.dZ)(e.text)?"rtl":"ltr",q="center"===e.textAlign?"middle":"right"===e.textAlign||"rtl"===G?"end":"start",Z=0;Z<H.length;Z++){var K=n.ownerDocument.createElementNS(f.hR,"text");K.textContent=H[Z],K.setAttribute("x","".concat($)),K.setAttribute("y","".concat((Z+1)*z-V)),K.setAttribute("font-family",(0,l.$g)(e)),K.setAttribute("font-size","".concat(e.fontSize,"px")),K.setAttribute("fill",e.strokeColor),K.setAttribute("text-anchor",q),K.setAttribute("style","white-space: pre;"),K.setAttribute("direction",G),U.appendChild(K)}x.appendChild(U)}},ne=new WeakMap([]);function re(e){var t=ie(e),n=new Path2D(t);return ne.set(e,n),n}function ie(e){return function(e){if(!e.length)return"";var t=e.length-1;return e.reduce((function(e,n,r,i){return r===t?e.push(n,ae(n,i[0]),"L",i[0],"Z"):e.push(n,ae(n,i[r+1])),e}),["M",e[0],"Q"]).join(" ").replace(oe,"$1")}(P(e.simulatePressure?e.points:e.points.length?e.points.map((function(t,n){var r=(0,a.Z)(t,2);return[r[0],r[1],e.pressures[n]]})):[[0,0,.5]],{simulatePressure:e.simulatePressure,size:4.25*e.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(e){return Math.sin(e*Math.PI/2)},last:!!e.lastCommittedPoint}))}function ae(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}var oe=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},3547:function(e,t,n){"use strict";n.d(t,{Eu:function(){return k},OO:function(){return E},M_:function(){return R}});var r,i=n(2577),a=n(1930),o=n(5284),s=n(5118),l=n(756),u=n(1868),c=n(3063),d=n(8982),f=n(6938),p=n(242),h=n(2325),m=n(8290),g=n(6340);!function(e){e.ACTIVE="active",e.AWAY="away",e.IDLE="idle"}(r||(r={}));var v=n(8288),y=n(2383);function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S,_=(0,g.Q5)(),x=function(e,t,n,r,i,a,o,s){var l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];e.save(),e.translate(a,o),e.rotate(s),l&&e.fillRect(t-a,n-o,r,i),e.strokeRect(t-a,n-o,r,i),e.restore()},T=function(e,t,n,r){e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),e.stroke()},k=function(e,t,n,h,g,y,w){if(null===y)return{atLeastOneVisibleElement:!1};var S=w.renderScrollbars,k=void 0===S||S,E=w.renderSelection,I=void 0===E||E,A=w.renderGrid,R=void 0===A||A,N=w.isExporting,L=y.getContext("2d");L.setTransform(1,0,0,1,0,0),L.save(),L.scale(h,h);var j=y.width/h,B=y.height/h;N&&"dark"===w.theme&&(L.filter=v.ZF),"string"==typeof w.viewBackgroundColor?(("transparent"===w.viewBackgroundColor||5===w.viewBackgroundColor.length||9===w.viewBackgroundColor.length||/(hsla|rgba)\(/.test(w.viewBackgroundColor))&&L.clearRect(0,0,j,B),L.save(),L.fillStyle=w.viewBackgroundColor,L.fillRect(0,0,j,B),L.restore()):L.clearRect(0,0,j,B),L.save(),L.scale(w.zoom.value,w.zoom.value),R&&t.gridSize&&function(e,t,n,r,i,a){e.save(),e.strokeStyle="rgba(0,0,0,0.1)",e.beginPath();for(var o=n;o<n+i+2*t;o+=t)e.moveTo(o,r-t),e.lineTo(o,r+a+2*t);for(var s=r;s<r+a+2*t;s+=t)e.moveTo(n-t,s),e.lineTo(n+i+2*t,s);e.stroke(),e.restore()}(L,t.gridSize,-Math.ceil(w.zoom.value/t.gridSize)*t.gridSize+w.scrollX%t.gridSize,-Math.ceil(w.zoom.value/t.gridSize)*t.gridSize+w.scrollY%t.gridSize,j/w.zoom.value,B/w.zoom.value);var F,U=e.filter((function(e){return M(e,j,B,{zoom:w.zoom,offsetLeft:t.offsetLeft,offsetTop:t.offsetTop,scrollX:w.scrollX,scrollY:w.scrollY})}));if(U.forEach((function(e){try{(0,c.lw)(e,g,L,w),N||D(e,L,t)}catch(e){console.error(e)}})),t.editingLinearElement){var H=f._.getElement(t.editingLinearElement.elementId);H&&function(e,t,n,r){e.save(),e.translate(n.scrollX,n.scrollY),e.lineWidth=1/n.zoom.value,f._.getPointsGlobalCoordinates(r).forEach((function(r,i){var a,o;e.strokeStyle="red",e.setLineDash([]),e.fillStyle=null!==(a=t.editingLinearElement)&&void 0!==a&&null!==(o=a.selectedPointsIndices)&&void 0!==o&&o.includes(i)?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";var s=f._.POINT_HANDLE_SIZE;T(e,r[0],r[1],s/2/n.zoom.value)})),e.restore()}(L,t,w,H)}if(n)try{(0,c.lw)(n,g,L,w)}catch(e){console.error(e)}if((0,m.N1)(t)&&t.suggestedBindings.filter((function(e){return null!=e})).forEach((function(e){P(L,w,e)})),I&&!t.multiElement&&!t.editingLinearElement){var z,V=e.reduce((function(e,n){var r=[];if(t.selectedElementIds[n.id]&&!(0,p.zq)(t,n)&&r.push(o.black),w.remoteSelectedElementIds[n.id]&&r.push.apply(r,(0,a.Z)(w.remoteSelectedElementIds[n.id].map((function(e){return(0,d.X)(e,t).background})))),r.length){var l=(0,s.qf)(n),u=(0,i.Z)(l,4),c=u[0],f=u[1],h=u[2],m=u[3];e.push({angle:n.angle,elementX1:c,elementY1:f,elementX2:h,elementY2:m,selectionColors:r})}return e}),[]),$=function(t){var n=(0,p.Fb)(e,t),r=(0,s.KP)(n),a=(0,i.Z)(r,4),l=a[0],u=a[1],c=a[2],d=a[3];V.push({angle:0,elementX1:l,elementX2:c,elementY1:u,elementY2:d,selectionColors:[o.black]})},G=b((0,p.iJ)(t));try{for(G.s();!(z=G.n()).done;)$(z.value)}catch(e){G.e(e)}finally{G.f()}t.editingGroupId&&$(t.editingGroupId),V.forEach((function(e){return O(L,w,e)}));var W=(0,u.eD)(e,t);if(L.save(),L.translate(w.scrollX,w.scrollY),1===W.length){L.fillStyle=o.white;var q=(0,s.PC)(W[0],w.zoom,"mouse");t.viewModeEnabled||C(L,w,q,W[0].angle)}else if(W.length>1&&!t.isRotating){var Z=4/w.zoom.value;L.fillStyle=o.white;var K=(0,s.KP)(W),X=(0,i.Z)(K,4),Y=X[0],Q=X[1],J=X[2],ee=X[3],te=L.getLineDash();L.setLineDash([2/w.zoom.value]);var ne=L.lineWidth;L.lineWidth=1/w.zoom.value,x(L,Y-Z,Q-Z,J-Y+2*Z,ee-Q+2*Z,(Y+J)/2,(Q+ee)/2,0),L.lineWidth=ne,L.setLineDash(te);var re=(0,s.kK)([Y,Q,J,ee],0,w.zoom,"mouse",s.ox);W.some((function(e){return!e.locked}))&&C(L,w,re,0)}L.restore()}for(var ie in L.restore(),w.remotePointerViewportCoords){var ae=w.remotePointerViewportCoords[ie],oe=ae.x,se=ae.y;oe-=t.offsetLeft,se-=t.offsetTop;var le=oe<0||oe>j-9||se<0||se>B-14;oe=Math.max(oe,0),oe=Math.min(oe,j-9),se=Math.max(se,0),se=Math.min(se,B-14);var ue=(0,d.X)(ie,t),ce=ue.background,de=ue.stroke;L.save(),L.strokeStyle=de,L.fillStyle=ce;var fe=w.remotePointerUserStates[ie];(le||fe===r.AWAY)&&(L.globalAlpha=.48),w.remotePointerButton&&"down"===w.remotePointerButton[ie]&&(L.beginPath(),L.arc(oe,se,15,0,2*Math.PI,!1),L.lineWidth=3,L.strokeStyle="#ffffff88",L.stroke(),L.closePath(),L.beginPath(),L.arc(oe,se,15,0,2*Math.PI,!1),L.lineWidth=1,L.strokeStyle=de,L.stroke(),L.closePath()),L.beginPath(),L.moveTo(oe,se),L.lineTo(oe+1,se+14),L.lineTo(oe+4,se+9),L.lineTo(oe+9,se+10),L.lineTo(oe,se),L.fill(),L.stroke();var pe=w.remotePointerUsernames[ie],he="";fe===r.AWAY?he=_?"\u26ab\ufe0f":" (".concat(r.AWAY,")"):fe===r.IDLE?he=_?"\u{1f4a4}":" (".concat(r.IDLE,")"):fe===r.ACTIVE&&(he=_?"\u{1f7e2}":"");var me="".concat(pe?"".concat(pe," "):"").concat(he);if(!le&&me){var ge=oe+9,ve=se+14,ye=L.measureText(me),be=ye.actualBoundingBoxDescent+ye.actualBoundingBoxAscent;L.fillStyle=de,L.fillRect(ge-1,ve-1,ye.width+8+2,be+8+2),L.fillStyle=ce,L.fillRect(ge,ve,ye.width+8,be+8),L.fillStyle=o.white,L.fillText(me,ge+4,ve+4+ye.actualBoundingBoxAscent)}L.restore(),L.closePath()}return k&&(F=(0,l.tJ)(e,j,B,w),L.save(),L.fillStyle=l.w1,L.strokeStyle="rgba(255,255,255,0.8)",[F.horizontal,F.vertical].forEach((function(e){e&&function(e,t,n,r,i,a){e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+i-a),e.quadraticCurveTo(t+r,n+i,t+r-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath(),e.fill(),e.stroke()}(L,e.x,e.y,e.width,e.height,l.nn/2)})),L.restore()),L.restore(),{atLeastOneVisibleElement:U.length>0,scrollBars:F}},E=(0,g.hR)((function(e,t,n,r,i,a,o,s){var l=k(e,t,n,r,i,a,o);null==s||s(l)}),{trailing:!0}),C=function(e,t,n,r){Object.keys(n).forEach((function(i){var a=n[i];void 0!==a&&(e.save(),e.lineWidth=1/t.zoom.value,"rotation"===i?T(e,a[0]+a[2]/2,a[1]+a[3]/2,a[2]/2):x(e,a[0],a[1],a[2],a[3],a[0]+a[2]/2,a[1]+a[3]/2,r,!0),e.restore())}))},O=function(e,t,n){var r=n.angle,i=n.elementX1,a=n.elementY1,o=n.elementX2,s=n.elementY2,l=n.selectionColors,u=o-i,c=s-a,d=4/t.zoom.value,f=8/t.zoom.value,p=4/t.zoom.value;e.save(),e.translate(t.scrollX,t.scrollY),e.lineWidth=1/t.zoom.value;for(var h=l.length,m=0;m<h;++m)e.strokeStyle=l[m],e.setLineDash([f,p+(f+p)*(h-1)]),e.lineDashOffset=(f+p)*m,x(e,i-d,a-d,u+2*d,c+2*d,i+u/2,a+c/2,r);e.restore()},P=function(e,t,n){var r=Array.isArray(n)?A:I;e.save(),e.translate(t.scrollX,t.scrollY),r(e,n),e.restore()},I=function(e,t){var n=(0,s.qf)(t),r=(0,i.Z)(n,4),a=r[0],o=r[1],l=r[2]-a,u=r[3]-o,c=(0,h.fb)(t,l,u);e.strokeStyle="rgba(0,0,0,.05)",e.lineWidth=c-4;var d=2+c/2;switch(t.type){case"rectangle":case"text":case"image":x(e,a-d,o-d,l+2*d,u+2*d,a+l/2,o+u/2,t.angle);break;case"diamond":var f=Math.hypot(l,u);!function(e,t,n,r,i,a){e.save(),e.translate(r,i),e.rotate(a),e.beginPath(),e.moveTo(0,n/2),e.lineTo(t/2,0),e.lineTo(0,-n/2),e.lineTo(-t/2,0),e.closePath(),e.stroke(),e.restore()}(e,l+d*f/u*2,u+d*f/l*2,a+l/2,o+u/2,t.angle);break;case"ellipse":!function(e,t,n,r,i,a){e.beginPath(),e.ellipse(r,i,t/2,n/2,a,0,2*Math.PI),e.stroke()}(e,l+2*d,u+2*d,a+l/2,o+u/2,t.angle)}},A=function(e,t){var n=(0,i.Z)(t,3),r=n[0],a=n[1],o=n[2],s=(0,h.fb)(o,o.width,o.height);e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="rgba(0,0,0,.05)",("both"===a?[0,-1]:"start"===a?[0]:[-1]).forEach((function(t){var n=f._.getPointAtIndexGlobalCoordinates(r,t),a=(0,i.Z)(n,2),o=a[0],l=a[1];T(e,o,l,s)}))},D=function(e,t,n){if(e.link&&!n.selectedElementIds[e.id]){var r=(0,s.qf)(e),a=(0,i.Z)(r,4),o=a[0],l=a[1],u=a[2],c=a[3],d=(0,y.sw)([o,l,u,c],e.angle,n),f=(0,i.Z)(d,4),p=f[0],h=f[1],m=f[2],g=f[3],v=p+m/2,b=h+g/2;if(t.save(),t.translate(n.scrollX+v,n.scrollY+b),t.rotate(e.angle),S&&S.zoom===n.zoom.value)t.drawImage(S,p-v,h-b,m,g);else{(S=document.createElement("canvas")).zoom=n.zoom.value,S.width=m*window.devicePixelRatio*n.zoom.value,S.height=g*window.devicePixelRatio*n.zoom.value;var w=S.getContext("2d");w.scale(window.devicePixelRatio*n.zoom.value,window.devicePixelRatio*n.zoom.value),w.fillStyle="#fff",w.fillRect(0,0,m,g),w.drawImage(y.rj,0,0,m,g),w.restore(),t.drawImage(S,p-v,h-b,m,g)}t.restore()}},M=function(e,t,n,r){var a=(0,s.Pi)(e),o=(0,i.Z)(a,4),l=o[0],u=o[1],c=o[2],d=o[3],f=(0,g.dE)({clientX:r.offsetLeft,clientY:r.offsetTop},r),p=(0,g.dE)({clientX:r.offsetLeft+t,clientY:r.offsetTop+n},r);return f.x<=c&&f.y<=d&&p.x>=l&&p.y>=u},R=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=i.offsetX,o=void 0===a?0:a,s=i.offsetY,l=void 0===s?0:s,u=i.exportWithDarkMode,d=void 0!==u&&u;n&&e.forEach((function(e){if(!e.isDeleted)try{(0,c.Rg)(e,t,n,r,e.x+o,e.y+l,d)}catch(e){console.error(e)}}))}},1564:function(e,t,n){"use strict";var r=n(8821),i=n(5169),a=n(5118),o=function(e){return"string"==typeof e},s=function(){function e(){(0,r.Z)(this,e),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap=new Map}return(0,i.Z)(e,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getElement",value:function(e){return this.elementsMap.get(e)||null}},{key:"getNonDeletedElement",value:function(e){var t=this.getElement(e);return t&&(0,a.qP)(t)?t:null}},{key:"replaceAllElements",value:function(t){var n=this;this.elements=t,this.elementsMap.clear(),t.forEach((function(t){n.elementsMap.set(t.id,t),e.mapElementToScene(t,n)})),this.nonDeletedElements=(0,a.Lm)(this.elements),this.informMutation()}},{key:"informMutation",value:function(){for(var e=0,t=Array.from(this.callbacks);e<t.length;e++)(0,t[e])()}},{key:"addCallback",value:function(e){var t=this;if(this.callbacks.has(e))throw new Error;return this.callbacks.add(e),function(){if(!t.callbacks.has(e))throw new Error;t.callbacks.delete(e)}}},{key:"destroy",value:function(){var t=this;e.sceneMapById.forEach((function(n,r){n===t&&e.sceneMapById.delete(r)})),this.callbacks.clear()}}],[{key:"mapElementToScene",value:function(e,t){o(e)?this.sceneMapById.set(e,t):this.sceneMapByElement.set(e,t)}},{key:"getScene",value:function(e){return o(e)?this.sceneMapById.get(e)||null:this.sceneMapByElement.get(e)||null}}]),e}();s.sceneMapByElement=new WeakMap,s.sceneMapById=new Map,t.Z=s},8120:function(e,t,n){"use strict";n.d(t,{$b:function(){return o},CJ:function(){return h},M9:function(){return u},OW:function(){return m},PD:function(){return s},QG:function(){return p},Un:function(){return f},Zd:function(){return l},bZ:function(){return d},gP:function(){return c}});var r=n(2577),i=n(5118),a=n(1974),o=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"line"===e||"freedraw"===e},s=function(e){return"image"!==e},l=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"freedraw"===e||"arrow"===e||"line"===e},u=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"arrow"===e||"line"===e},c=function(e){return"rectangle"===e||"arrow"===e||"line"===e||"diamond"===e},d=function(e){return"text"===e},f=function(e){return"arrow"===e},p=function(e,t){for(var n=null,r=e.length-1;r>=0;--r){var i=e[r];if(!i.isDeleted&&t(i)){n=i;break}}return n},h=function(e,t){return e.filter((function(e){return!e.isDeleted&&t(e)}))},m=function(e,t,n){for(var o=null,s=e.length-1;s>=0;--s)if(!e[s].isDeleted){var l=(0,i.qf)(e[s]),u=(0,r.Z)(l,4),c=u[0],d=u[1],f=u[2],p=u[3];if(c<t&&t<f&&d<n&&n<p){o=e[s];break}}return(0,a.mG)(o,!1)?o:null}},4162:function(e,t,n){"use strict";n.d(t,{$D:function(){return v},Cg:function(){return b},NL:function(){return g},oj:function(){return m}});var r=n(2577),i=n(8950),a=n(7945),o=n.n(a),s=n(8234),l=n(8925),u=n(3547),c=n(6340),d=n(8288),f=n(8897),p=n(5523),h=n(5637),m="\x3c!-- svg-source:excalidraw --\x3e",g=function(){var e=(0,i.Z)(o().mark((function e(t,n,i,a){var l,c,p,m,g,v,b,w,S,_,x,T,k,E,C,O,P,I,A=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=a.exportBackground,c=a.exportPadding,p=void 0===c?d.qy:c,m=a.viewBackgroundColor,g=A.length>4&&void 0!==A[4]?A[4]:function(e,t){var r=document.createElement("canvas");return r.width=e*n.exportScale,r.height=t*n.exportScale,{canvas:r,scale:n.exportScale}},v=y(t,p),b=(0,r.Z)(v,4),w=b[0],S=b[1],_=b[2],x=b[3],T=g(_,x),k=T.canvas,E=T.scale,C=void 0===E?1:E,O=(0,f.im)(),e.next=7,(0,h.Xx)({imageCache:new Map,fileIds:(0,h.oA)(t).map((function(e){return e.fileId})),files:i});case 7:return P=e.sent,I=P.imageCache,(0,u.Eu)(t,n,null,C,s.Z.canvas(k),k,{viewBackgroundColor:l?m:null,scrollX:-w+p,scrollY:-S+p,zoom:O.zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{},theme:n.exportWithDarkMode?"dark":"light",imageCache:I,renderScrollbars:!1,renderSelection:!1,renderGrid:!1,isExporting:!0}),e.abrupt("return",k);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),v=function(){var e=(0,i.Z)(o().mark((function e(t,i,a){var l,c,f,h,g,v,b,w,S,_,x,T,k,E,C,O,P,I;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=i.exportPadding,c=void 0===l?d.qy:l,f=i.viewBackgroundColor,h=i.exportScale,g=void 0===h?1:h,v=i.exportEmbedScene,b="",!v){e.next=14;break}return e.prev=3,e.next=6,Promise.resolve().then(n.bind(n,673));case 6:return e.next=8,e.sent.encodeSvgMetadata({text:(0,p.I_)(t,i,a||{},"local")});case 8:b=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:return w=y(t,c),S=(0,r.Z)(w,4),_=S[0],x=S[1],T=S[2],k=S[3],(E=document.createElementNS(d.hR,"svg")).setAttribute("version","1.1"),E.setAttribute("xmlns",d.hR),E.setAttribute("viewBox","0 0 ".concat(T," ").concat(k)),E.setAttribute("width","".concat(T*g)),E.setAttribute("height","".concat(k*g)),i.exportWithDarkMode&&E.setAttribute("filter",d.ZF),C="https://excalidraw.com/",C=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.12.0"),null!==(O=C)&&void 0!==O&&O.startsWith("/")&&(C=C.replace("/","".concat(window.location.origin,"/"))),C="".concat(C,"/dist/excalidraw-assets/"),E.innerHTML="\n  ".concat(m,"\n  ").concat(b,'\n  <defs>\n    <style>\n      @font-face {\n        font-family: "Virgil";\n        src: url("').concat(C,'Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("').concat(C,'Cascadia.woff2");\n      }\n    </style>\n  </defs>\n  '),i.exportBackground&&f&&((P=E.ownerDocument.createElementNS(d.hR,"rect")).setAttribute("x","0"),P.setAttribute("y","0"),P.setAttribute("width","".concat(T)),P.setAttribute("height","".concat(k)),P.setAttribute("fill",f),E.appendChild(P)),I=s.Z.svg(E),(0,u.M_)(t,I,E,a||{},{offsetX:-_+c,offsetY:-x+c,exportWithDarkMode:i.exportWithDarkMode}),e.abrupt("return",E);case 29:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),y=function(e,t){var n=(0,l.KP)(e),i=(0,r.Z)(n,4),a=i[0],o=i[1],s=i[2],u=i[3];return[a,o,(0,c.TE)(a,s)+2*t,(0,c.TE)(o,u)+t+t]},b=function(e,t,n){var i=y(e,t).map((function(e){return Math.trunc(e*n)})),a=(0,r.Z)(i,4);return[a[2],a[3]]}},75:function(e,t,n){"use strict";n.d(t,{$b:function(){return o.$b},CJ:function(){return o.CJ},M9:function(){return o.M9},N:function(){return i.N},OW:function(){return o.OW},PR:function(){return i.PR},QG:function(){return o.QG},Un:function(){return o.Un},W:function(){return a.W},Yp:function(){return i.Yp},Zd:function(){return o.Zd},Zs:function(){return i.Zs},_4:function(){return r._4},bZ:function(){return o.bZ},eD:function(){return i.eD},gP:function(){return o.gP},j:function(){return s.j}});var r=n(756),i=n(1868),a=n(2264),o=n(8120),s=n(746)},2264:function(e,t,n){"use strict";n.d(t,{W:function(){return s},s:function(){return o}});var r=n(2577),i=n(5118),a=n(6340),o=function(e){var t=e.scenePoint,n=e.viewportDimensions,r=e.zoom;return{scrollX:n.width/2*(1/r.value)-t.x,scrollY:n.height/2*(1/r.value)-t.y}},s=function(e,t,n){if(!(e=(0,i.n_)(e)).length)return{scrollX:0,scrollY:0};var s=(0,i.KP)(e),l=(0,r.Z)(s,4),u=l[0],c=l[1],d=l[2],f=l[3];if(function(e,t,n){var i=(0,r.Z)(n,4),o=i[0],s=i[1],l=i[2],u=i[3],c=(0,a._i)({sceneX:o,sceneY:s},e),d=c.x,f=c.y,p=(0,a._i)({sceneX:l,sceneY:u},e),h=p.x,m=p.y;return h-d>e.width||m-f>e.height}(t,0,[u,c,d,f])){var p=(0,i.os)(e,(0,a.dE)({clientX:t.scrollX,clientY:t.scrollY},t)),h=(0,r.Z)(p,4);u=h[0],c=h[1],d=h[2],f=h[3]}return o({scenePoint:{x:(u+d)/2,y:(c+f)/2},viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})}},756:function(e,t,n){"use strict";n.d(t,{WM:function(){return s},_4:function(){return d},nn:function(){return l},tJ:function(){return c},w1:function(){return u}});var r=n(2577),i=n(5118),a=n(6340),o=n(8211),s=4,l=6,u="rgba(0,0,0,0.3)",c=function(e,t,n,u){var c=u.scrollX,d=u.scrollY,f=u.zoom;if(0===e.length)return{horizontal:null,vertical:null};var p=(0,i.KP)(e),h=(0,r.Z)(p,4),m=h[0],g=h[1],v=h[2],y=h[3],b=t/f.value,w=n/f.value,S=t-b,_=n-w,x={top:parseInt((0,a.IH)("sat")),bottom:parseInt((0,a.IH)("sab")),left:parseInt((0,a.IH)("sal")),right:parseInt((0,a.IH)("sar"))},T=(0,o.G3)().rtl,k=S/2-c+x.left,E=_/2-d+x.top,C=k+b-x.right,O=E+w-x.bottom,P=Math.min(m,k),I=Math.min(g,E),A=Math.max(v,C),D=Math.max(y,O);return{horizontal:k===P&&C===A?null:{x:Math.max(x.left,s)+(k-P)/(A-P)*t,y:n-l-Math.max(s,x.bottom),width:(C-k)/(A-P)*t-Math.max(2*s,x.left+x.right),height:l},vertical:E===I&&O===D?null:{x:T?Math.max(x.left,s):t-l-Math.max(x.right,s),y:(E-I)/(D-I)*n+Math.max(x.top,s),width:l,height:(O-E)/(D-I)*n-Math.max(2*s,x.top+x.bottom)}}},d=function(e,t,n){var i=[e.horizontal,e.vertical].map((function(e){return null!=e&&e.x<=t&&t<=e.x+e.width&&e.y<=n&&n<=e.y+e.height})),a=(0,r.Z)(i,2),o=a[0],s=a[1];return{isOverEither:o||s,isOverHorizontal:o,isOverVertical:s}}},1868:function(e,t,n){"use strict";n.d(t,{N:function(){return s},PR:function(){return l},Yp:function(){return o},Zs:function(){return c},eD:function(){return u}});var r=n(2577),i=n(5118),a=n(1974),o=function(e,t){var n=(0,i.qf)(t),o=(0,r.Z)(n,4),s=o[0],l=o[1],u=o[2],c=o[3];return e.filter((function(e){var t=(0,i.Pi)(e),n=(0,r.Z)(t,4),o=n[0],d=n[1],f=n[2],p=n[3];return!1===e.locked&&"selection"!==e.type&&!(0,a.Xh)(e)&&s<=o&&l<=d&&u>=f&&c>=p}))},s=function(e,t){return e.some((function(e){return t.selectedElementIds[e.id]}))},l=function(e,t,n){var r=Array.from(new Set(u(e,t).map((function(e){return n(e)}))));return 1===r.length?r[0]:null},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.filter((function(e){return t.selectedElementIds[e.id]||n&&(0,a.Xh)(e)&&t.selectedElementIds[null==e?void 0:e.containerId]?e:null}))},c=function(e,t){return t.editingElement?[t.editingElement]:u(e,t,!0)}},746:function(e,t,n){"use strict";n.d(t,{E:function(){return i},j:function(){return r}});var r=function(e){return Math.max(.1,Math.min(e,30))},i=function(e,t){var n=e.viewportX,r=e.viewportY,i=e.nextZoom,a=n-t.offsetLeft,o=r-t.offsetTop,s=t.zoom.value;return{scrollX:t.scrollX+(a-a/s)+-(a-a/i),scrollY:t.scrollY+(o-o/s)+-(o-o/i),zoom:{value:i}}}},6340:function(e,t,n){"use strict";n.d(t,{$9:function(){return K},$g:function(){return _},$h:function(){return ae},AK:function(){return z},C3:function(){return ee},Ds:function(){return T},FG:function(){return V},Fc:function(){return v},G3:function(){return J},IH:function(){return F},Ip:function(){return Y},KJ:function(){return I},OF:function(){return A},Om:function(){return O},Oo:function(){return y},PI:function(){return q},Pr:function(){return N},Q5:function(){return X},Qm:function(){return W},TE:function(){return C},Uk:function(){return D},_Z:function(){return w},_i:function(){return B},ag:function(){return re},cx:function(){return $},dE:function(){return j},dZ:function(){return H},h2:function(){return ne},hR:function(){return k},mO:function(){return x},qr:function(){return G},qz:function(){return Q},rB:function(){return M},s:function(){return S},tH:function(){return Z},uY:function(){return L},v4:function(){return ie},wO:function(){return b},wo:function(){return R},xn:function(){return te},xp:function(){return se},y8:function(){return oe},yo:function(){return E},z8:function(){return P}});var r=n(6655),i=n(7169),a=n(1930),o=n(2577),s=n(5284),l=n(56),u=n(8288),c=n(5156),d=n(6066);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h,m,g=null,v=function(){if(g)return g;var e=new Date,t=e.getFullYear(),n="".concat(e.getMonth()+1).padStart(2,"0"),r="".concat(e.getDate()).padStart(2,"0"),i="".concat(e.getHours()).padStart(2,"0"),a="".concat(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"-").concat(i).concat(a)},y=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},b=function(e){return e instanceof HTMLElement&&e.className.includes("ToolIcon")},w=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement},S=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&("text"===e.type||"number"===e.type)},_=function(e){for(var t=e.fontFamily,n=0,r=Object.entries(u.ut);n<r.length;n++){var i=(0,o.Z)(r[n],2),a=i[0];if(i[1]===t)return"".concat(a,", ").concat(u._D)}return u._D},x=function(e){var t=e.fontSize,n=e.fontFamily;return"".concat(t,"px ").concat(_({fontFamily:n}))},T=function(e,t){var n=0,r=null,i=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];r=a,clearTimeout(n),n=window.setTimeout((function(){r=null,e.apply(void 0,a)}),t)};return i.flush=function(){if(clearTimeout(n),r){var t=r;r=null,e.apply(void 0,(0,a.Z)(t))}},i.cancel=function(){r=null,clearTimeout(n)},i},k=function(e,t){var n=null,r=null,i=null,o=function t(o){n=window.requestAnimationFrame((function(){n=null,e.apply(void 0,(0,a.Z)(o)),r=null,i&&(r=i,i=null,t(r))}))},s=function(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];r=a,null===n?o(r):null!=t&&t.trailing&&(i=a)};return s.flush=function(){null!==n&&(cancelAnimationFrame(n),n=null),r&&(e.apply(void 0,(0,a.Z)(i||r)),r=i=null)},s.cancel=function(){r=i=null,null!==n&&(cancelAnimationFrame(n),n=null)},s},E=function(e,t){if(!e.length||t<1)return[];for(var n=0,r=0,i=Array(Math.ceil(e.length/t));n<e.length;)i[r++]=e.slice(n,n+=t);return i},C=function(e,t){return Math.abs(e-t)},O=function(e,t){return"custom"===t.type?p(p({},e.activeTool),{},{type:"custom",customType:t.customType}):p(p({},e.activeTool),{},{lastActiveToolBeforeEraser:void 0===t.lastActiveToolBeforeEraser?e.activeTool.lastActiveToolBeforeEraser:t.lastActiveToolBeforeEraser,type:t.type,customType:null})},P=function(e){e&&(e.style.cursor="")},I=function(e,t){e&&(e.style.cursor=t)},A=function(e,t){h&&h.theme===t||function(){var e=t===u.C6.DARK;(h=document.createElement("canvas")).theme=t,h.height=20,h.width=20;var n=h.getContext("2d");n.lineWidth=1,n.beginPath(),n.arc(h.width/2,h.height/2,5,0,2*Math.PI),n.fillStyle=e?s.black:s.white,n.fill(),n.strokeStyle=e?s.white:s.black,n.stroke(),m=h.toDataURL(u.LO.svg)}(),I(e,"url(".concat(m,") ").concat(10," ").concat(10,", auto"))},D=function(e,t){e&&("selection"===t.activeTool.type?P(e):"eraser"===t.activeTool.type?A(e,t.theme):["image","custom"].includes(t.activeTool.type)||(e.style.cursor=u.oc.CROSSHAIR))},M=function(){var e;return"HTML"===(null===(e=document.fullscreenElement)||void 0===e?void 0:e.nodeName)},R=function(){return document.documentElement.requestFullscreen()},N=function(){return document.exitFullscreen()},L=function(e){return e=e.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),d.Um?e.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):e.replace(/\bCtrlOrCmd\b/i,"Ctrl")},j=function(e,t){var n=e.clientX,r=e.clientY,i=t.zoom,a=t.offsetLeft,o=t.offsetTop,s=t.scrollX,l=t.scrollY,u=1/i.value;return{x:(n-a)*u-s,y:(r-o)*u-l}},B=function(e,t){var n=e.sceneX,r=e.sceneY,i=t.zoom,a=t.offsetLeft,o=t.offsetTop,s=t.scrollX,l=t.scrollY;return{x:(n+s)*i.value+a,y:(r+l)*i.value+o}},F=function(e){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))},U=new RegExp("^[^".concat("A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufdfe-\ufe6f\ufefd-\uffff","]*[").concat("\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc","]")),H=function(e){return U.test(e)},z=function(e){var t=(0,o.Z)(e,2);return{x:t[0],y:t[1]}},V=function(e){if("AbortError"!==(null==e?void 0:e.name))throw e;console.warn(e)},$=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length,Math.max(n,0)))-1;++r<e.length;)if(t(e[r],r,e))return r;return-1},G=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length-1,Math.max(n,0)))+1;--r>-1;)if(t(e[r],r,e))return r;return-1},W=function(e){var t=5===e.length&&"0"===e.substr(4,1),n=9===e.length&&"00"===e.substr(7,2);return t||n||e===l.Z.elementBackground[0]},q=function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n},Z=function(e){return function(t){(0,c.unstable_batchedUpdates)(e,t)}},K=function(e){return k((function(t){(0,c.unstable_batchedUpdates)(e,t)}))},X=function(){var e=document.createElement("canvas").getContext("2d");return!!e&&(e.fillStyle="#f00",e.textBaseline="top",e.font="32px Arial",e.fillText("\u{1f600}",0,0),0!==e.getImageData(12,12,1,1).data[0])},Y=function(e){for(var t=e.parentElement;t;){if(t===document.body)return document;var n=window.getComputedStyle(t).overflowY;if(t.scrollHeight>t.clientHeight&&("auto"===n||"scroll"===n||"overlay"===n))return t;t=t.parentElement}return document},Q=function(e){for(var t=e.parentElement;t;){if(t.tabIndex>-1)return void t.focus();t=t.parentElement}},J=function(e){return Array.from(e).map((function(e){return"0".concat(e.toString(16)).slice(-2)})).join("")},ee=function(){return ne()?1:Date.now()},te=function(e){return e.reduce((function(e,t){return e.set("string"==typeof t?t:t.id,t),e}),new Map)},ne=function(){var e;return"undefined"!=typeof process&&"test"===(null===(e={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.12.0",IS_EXCALIDRAW_NPM_PACKAGE:!0})||void 0===e?void 0:e.NODE_ENV)},re=function(e,t){return new CustomEvent(e,{detail:{nativeEvent:t},cancelable:!0})},ie=function(e,t){var n=!1;for(var i in t){var a=t[i];if(void 0!==a){if(e[i]===a&&("object"!==(0,r.Z)(a)||null===a))continue;n=!0}}return n?p(p({},e),t):e},ae=function(){try{return window.self===window.top?"top":"iframe"}catch(e){return"iframe"}},oe=function(e){return!!e&&"object"===(0,r.Z)(e)&&"then"in e&&"catch"in e&&"finally"in e},se=function(e){var t=null==e?void 0:e.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return t?Array.from(t).filter((function(e){return e.tabIndex>-1&&!e.disabled})):[]}},9669:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(e){"use strict";e.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(e){"use strict";e.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},3147:function(e,t,n){"use strict";e.exports=n.p+"excalidraw-assets/Cascadia.woff2"},3940:function(e,t,n){"use strict";e.exports=n.p+"excalidraw-assets/Virgil.woff2"},9787:function(e){"use strict";e.exports=r},5156:function(e){"use strict";e.exports=i},7017:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3173:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},8950:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},8821:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},5169:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,{Z:function(){return i}})},7169:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},2312:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},2248:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(5901);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.Z)(e,t)}},2726:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})},7245:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(6655),i=n(3173);function a(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},5901:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},2577:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9139);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1930:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7017),i=n(9139);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},6655:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},9139:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7017);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},5605:function(e,t,n){"use strict";n.d(t,{x0:function(){return r}});let r=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),"")},5284:function(e){"use strict";e.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function(e){"use strict";e.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"Background","exportEmbedScene":"Embed scene","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library\u2026","libraries":"Browse libraries","loadingScene":"Loading scene\u2026","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","link":{"edit":"Edit link","create":"Create link","label":"Link"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Save as image","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save to current file","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn\'t add item to the library","errorRemovingFromLibrary":"Couldn\'t remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled."},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn\'t insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn\'t insert SVG image. The SVG markup looks invalid.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn\'t connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn\'t load library"},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Prevent pinch-zoom and accept freedraw input only from pen","link":"Add/ Update link for a selected shape","eraser":"Eraser"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn\'t export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editSelectedShape":"Edit selected shape (text/arrow/line)","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":{"pre":"Submit your library to be included in the ","link":"public library repository","post":"for other people to use in their drawings."},"noteGuidelines":{"pre":"The library needs to be manually approved first. Please read the ","link":"guidelines","post":" before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required."},"noteLicense":{"pre":"By submitting, you agree the library will be published under the ","link":"MIT License, ","post":"which in short means anyone can use them without restrictions."},"noteItems":"Each library item must have its own name so it\'s filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status","link":"here"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"},"colors":{"495057":"Gray 7","ffffff":"White","f8f9fa":"Gray 0","f1f3f5":"Gray 1","fff5f5":"Red 0","fff0f6":"Pink 0","f8f0fc":"Grape 0","f3f0ff":"Violet 0","edf2ff":"Indigo 0","e7f5ff":"Blue 0","e3fafc":"Cyan 0","e6fcf5":"Teal 0","ebfbee":"Green 0","f4fce3":"Lime 0","fff9db":"Yellow 0","fff4e6":"Orange 0","transparent":"Transparent","ced4da":"Gray 4","868e96":"Gray 6","fa5252":"Red 6","e64980":"Pink 6","be4bdb":"Grape 6","7950f2":"Violet 6","4c6ef5":"Indigo 6","228be6":"Blue 6","15aabf":"Cyan 6","12b886":"Teal 6","40c057":"Green 6","82c91e":"Lime 6","fab005":"Yellow 6","fd7e14":"Orange 6","000000":"Black","343a40":"Gray 8","c92a2a":"Red 9","a61e4d":"Pink 9","862e9c":"Grape 9","5f3dc4":"Violet 9","364fc7":"Indigo 9","1864ab":"Blue 9","0b7285":"Cyan 9","087f5b":"Teal 9","2b8a3e":"Green 9","5c940d":"Lime 9","e67700":"Yellow 9","d9480f":"Orange 9"}}')},4451:function(e){"use strict";e.exports=JSON.parse('{"ar-SA":92,"bg-BG":58,"bn-BD":0,"ca-ES":95,"cs-CZ":23,"da-DK":34,"de-DE":99,"el-GR":83,"en":100,"es-ES":99,"eu-ES":97,"fa-IR":60,"fi-FI":98,"fr-FR":99,"he-IL":95,"hi-IN":61,"hu-HU":96,"id-ID":99,"it-IT":99,"ja-JP":98,"kab-KAB":93,"kk-KZ":22,"ko-KR":98,"lt-LT":22,"lv-LV":100,"mr-IN":100,"my-MM":44,"nb-NO":100,"nl-NL":87,"nn-NO":96,"oc-FR":99,"pa-IN":89,"pl-PL":89,"pt-BR":96,"pt-PT":80,"ro-RO":100,"ru-RU":100,"si-LK":9,"sk-SK":99,"sl-SI":100,"sv-SE":100,"ta-IN":98,"tr-TR":100,"uk-UA":90,"zh-CN":99,"zh-HK":27,"zh-TW":100}')}},s={};function l(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,l),n.loaded=!0,n.exports}l.m=o,l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},l.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);l.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){a[e]=function(){return n[e]}}));return a.default=function(){return n},l.d(i,a),i},l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=function(e){return Promise.all(Object.keys(l.f).reduce((function(t,n){return l.f[n](e,t),t}),[]))},l.u=function(e){return"excalidraw-assets/"+{22:"locales/kk-KZ-json",24:"locales/nl-NL-json",71:"locales/sl-SI-json",81:"locales/eu-ES-json",82:"locales/de-DE-json",89:"locales/ro-RO-json",91:"locales/ar-SA-json",124:"locales/ru-RU-json",130:"locales/ca-ES-json",162:"locales/pa-IN-json",204:"locales/ja-JP-json",239:"locales/it-IT-json",265:"locales/cs-CZ-json",302:"locales/si-LK-json",312:"locales/he-IL-json",330:"locales/fa-IR-json",340:"locales/lt-LT-json",359:"locales/nb-NO-json",368:"locales/hu-HU-json",395:"locales/pt-PT-json",397:"locales/mr-IN-json",404:"locales/ta-IN-json",421:"locales/zh-TW-json",429:"locales/bn-BD-json",477:"locales/my-MM-json",512:"locales/fi-FI-json",513:"locales/el-GR-json",534:"locales/sv-SE-json",551:"locales/kab-KAB-json",579:"locales/uk-UA-json",628:"locales/bg-BG-json",674:"locales/pl-PL-json",680:"locales/zh-CN-json",682:"locales/fr-FR-json",690:"locales/oc-FR-json",721:"locales/pt-BR-json",736:"vendor",750:"locales/sk-SK-json",759:"locales/es-ES-json",768:"locales/lv-LV-json",790:"locales/da-DK-json",808:"locales/id-ID-json",828:"locales/hi-IN-json",844:"locales/ko-KR-json",885:"locales/nn-NO-json",920:"locales/zh-HK-json",977:"locales/tr-TR-json"}[e]+"-"+{22:"256f55e01b7d14c51a85",24:"9e2654c18661c817cad2",71:"053f1aa5c78d021e73e0",81:"5570769d29eb3be6fea1",82:"e7215ff06fe5513fd875",89:"314bb21d9405881aea46",91:"c45aab1368e1467c61fc",124:"7afc1507267127a4039e",130:"a414efadae57479408aa",162:"fff5fde7b22725f4892b",204:"6ca4d0a0a0da6439e399",239:"97f53316658e3c6e3cc2",265:"a898ae3675b2d66f2491",302:"09768735f21a6d7fe6c0",312:"cf135bd5c36e9008cf4c",330:"5f34cbf7e5dc2a5b6694",340:"d6dce1ea118b023d9b66",359:"a061d909ce3f9c28e569",368:"5f4e84e297b66cee16a9",395:"a5412c6c70653dd832bc",397:"f2dbf75cf336121866d9",404:"8227d446fbfcd3f8c7be",421:"529b943391afcfd5369d",429:"8522a1ce4e8fbd149dd3",477:"f8ea0cde2df903706156",512:"a58f3fd51d0149157782",513:"648c4e8a33d49e3c8d60",534:"daf16f824ce6bf253b94",551:"ca6c8cc0a4c6ce0394e8",579:"1b9f0b315899af8a00fd",628:"c0c83d33de789fc3ecc3",674:"556a5502303d62e61fc5",680:"a965551d944124b24b25",682:"2649082b2724353b1b7c",690:"36b68175896ab5fd8838",721:"8e000700411ca90b0a50",736:"52b1f3361986b6c6a4fe",750:"93cdc341372014e6d68e",759:"d4c3bba2e07c62d27ff7",768:"8cde5d34d4617c13212c",790:"3f6008b3d7f477f7c6b4",808:"8e2480705d678b85e0d8",828:"e3c279159830df6b85a7",844:"1c5c18219823218aec95",885:"34324eb373b2c86232e9",920:"76ff37dfc9fb93291975",977:"0a8595289a6099a03252"}[e]+".js"},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},a="ExcalidrawLib:",l.l=function(e,t,r,i){if(n[e])n[e].push(t);else{var o,s;if(void 0!==r)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==a+r){o=d;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,l.nc&&o.setAttribute("nonce",l.nc),o.setAttribute("data-webpack",a+r),o.src=e),n[e]=[t];var f=function(t,r){o.onerror=o.onload=null,clearTimeout(p);var i=n[e];if(delete n[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),s&&document.head.appendChild(o)}},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},l.p="",function(){l.b=document.baseURI||self.location.href;var e={388:0};l.f.j=function(t,n){var r=l.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var a=l.p+l.u(t),o=new Error;l.l(a,(function(n){if(l.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,r[1](o)}}),"chunk-"+t,t)}};var t=function(t,n){var r,i,a=n[0],o=n[1],s=n[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in o)l.o(o,r)&&(l.m[r]=o[r]);s&&s(l)}for(t&&t(n);u<a.length;u++)i=a[u],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var u={};return function(){"use strict";l.r(u),l.d(u,{Excalidraw:function(){return R},FONT_FAMILY:function(){return e.ut},MIME_TYPES:function(){return e.LO},THEME:function(){return e.C6},bumpVersion:function(){return T.ZP},defaultLang:function(){return h.Fp},exportToBlob:function(){return _.Fl},exportToCanvas:function(){return _.NL},exportToClipboard:function(){return _.i1},exportToSvg:function(){return _.$D},getFreeDrawSvgPath:function(){return _.N7},getNonDeletedElements:function(){return w.Lm},getSceneVersion:function(){return w.Uo},isInvisiblySmallElement:function(){return w.QD},isLinearElement:function(){return x.bt},languages:function(){return h.Mj},loadFromBlob:function(){return _.cT},loadLibraryFromBlob:function(){return _.lV},loadSceneOrLibraryFromBlob:function(){return _.ZY},mergeLibraryItems:function(){return _.zh},mutateElement:function(){return T.DR},newElementWith:function(){return T.BE},parseLibraryTokensFromUrl:function(){return k.Di},restore:function(){return S.nu},restoreAppState:function(){return S.lY},restoreElements:function(){return S.ET},restoreLibraryItems:function(){return S.wJ},sceneCoordsToViewportCoords:function(){return E._i},serializeAsJSON:function(){return _.I_},serializeLibraryAsJSON:function(){return _.NI},useHandleLibrary:function(){return k.xS},viewportCoordsToSceneCoords:function(){return E.dE}});var e=l(8288);"production"!==e.Vi.TEST&&(l.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.12.0","/dist/")),l(8336);var t=l(6479),n=l.n(t),r=l(9713),i=l.n(r),a=l(9787),o=l.n(a),s=l(8950),c=l(2577),d=l(7945),f=l.n(d),p=l(5440),h=l(8211),m=l(4512),g=function(e){var t=(0,a.useState)(!0),n=(0,c.Z)(t,2),r=n[0],i=n[1];return(0,a.useEffect)((function(){var t=function(){var e=(0,s.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.m0)(n);case 2:i(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=h.Mj.find((function(t){return t.code===e.langCode}))||h.Fp;t()}),[e.langCode]),r?(0,m.jsx)(p.z,{}):e.children},v=l(9660),y=(l(4285),l(3313),l(4739)),b=l(9487),w=l(5118),S=l(679),_=l(3024),x=l(1974),T=l(1935),k=l(7053),E=l(6340),C=["initialData","UIOptions"],O=["initialData","UIOptions"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(t){var n,r,i,o=t.onChange,s=t.initialData,l=t.excalidrawRef,u=t.onCollabButtonClick,c=t.isCollaborating,d=void 0!==c&&c,f=t.onPointerUpdate,p=t.renderTopRightUI,w=t.renderFooter,S=t.langCode,_=void 0===S?h.Fp.code:S,x=t.viewModeEnabled,T=t.zenModeEnabled,k=t.gridModeEnabled,E=t.libraryReturnUrl,C=t.theme,O=t.name,P=t.renderCustomStats,A=t.onPaste,D=t.detectScroll,M=void 0===D||D,R=t.handleKeyboardGlobally,N=void 0!==R&&R,L=t.onLibraryChange,j=t.autoFocus,B=void 0!==j&&j,F=t.generateIdForFile,U=t.onLinkOpen,H=t.onPointerDown,z=t.onScrollChange,V=null===(n=t.UIOptions)||void 0===n?void 0:n.canvasActions,$=I(I({},t.UIOptions),{},{canvasActions:I(I({},e.cW.canvasActions),V)});return null!=V&&V.export&&($.canvasActions.export.saveFileToDisk=null!==(r=null===(i=V.export)||void 0===i?void 0:i.saveFileToDisk)&&void 0!==r?r:e.cW.canvasActions.export.saveFileToDisk),(0,a.useEffect)((function(){var e=function(e){"number"==typeof e.scale&&1!==e.scale&&e.preventDefault()};return document.addEventListener("touchmove",e,{passive:!1}),function(){document.removeEventListener("touchmove",e)}}),[]),(0,m.jsx)(g,{langCode:_,children:(0,m.jsx)(y.zt,{unstable_createStore:function(){return b.e_},scope:b.yE,children:(0,m.jsx)(v.ZP,{onChange:o,initialData:s,excalidrawRef:l,onCollabButtonClick:u,isCollaborating:d,onPointerUpdate:f,renderTopRightUI:p,renderFooter:w,langCode:_,viewModeEnabled:x,zenModeEnabled:T,gridModeEnabled:k,libraryReturnUrl:E,theme:C,name:O,renderCustomStats:P,UIOptions:$,onPaste:A,detectScroll:M,handleKeyboardGlobally:N,onLibraryChange:L,autoFocus:B,generateIdForFile:F,onLinkOpen:U,onPointerDown:H,onScrollChange:z})})})},D=function(e,t){e.initialData;var r=e.UIOptions,i=void 0===r?{}:r,a=n()(e,C),o=(t.initialData,t.UIOptions),s=void 0===o?{}:o,l=n()(t,O),u=Object.keys(i),c=Object.keys(s);if(u.length!==c.length)return!1;var d=u.every((function(e){return"canvasActions"===e&&Object.keys(i.canvasActions).every((function(e){var t,n,r,a;return"export"===e&&null!=i&&null!==(t=i.canvasActions)&&void 0!==t&&t.export&&null!=s&&null!==(n=s.canvasActions)&&void 0!==n&&n.export?i.canvasActions.export.saveFileToDisk===s.canvasActions.export.saveFileToDisk:(null==i||null===(r=i.canvasActions)||void 0===r?void 0:r[e])===(null==s||null===(a=s.canvasActions)||void 0===a?void 0:a[e])})),!0})),f=Object.keys(e),p=Object.keys(t);return d&&f.length===p.length&&f.every((function(e){return a[e]===l[e]}))},M=(0,a.forwardRef)((function(e,t){return(0,m.jsx)(A,I(I({},e),{},{excalidrawRef:t}))})),R=o().memo(M,D)}(),u}())},74474:(e,t,n)=>{e.exports=n(60290)},30848:(e,t,n)=>{"use strict";n.d(t,{LC:()=>H});var r=n(45673),i=n(22222),a=n(67294),o=n(70743),s=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},l=Object.defineProperty,u=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,h=function(e,t,n){return t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},m=function(e,t){for(var n in t||(t={}))f.call(t,n)&&h(e,n,t[n]);if(d)for(var r=0,i=d(t);r<i.length;r++){n=i[r];p.call(t,n)&&h(e,n,t[n])}return e},g=function(e,t){return u(e,c(t))};function v(e,t,n,r){var i=(0,a.useMemo)((function(){return{queryArgs:e,serialized:"object"==typeof e?t({queryArgs:e,endpointDefinition:n,endpointName:r}):e}}),[e,t,n,r]),o=(0,a.useRef)(i);return(0,a.useEffect)((function(){o.current.serialized!==i.serialized&&(o.current=i)}),[i]),o.current.serialized===i.serialized?o.current.queryArgs:e}var y=Symbol();function b(e){var t=(0,a.useRef)(e);return(0,a.useEffect)((function(){(0,o.wU)(t.current,e)||(t.current=e)}),[e]),(0,o.wU)(t.current,e)?t.current:e}var w,S,_="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?a.useLayoutEffect:a.useEffect,x=function(e){return e},T=function(e){return e},k=function(e){return e.isUninitialized?g(m({},e),{isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:r.oZ.pending}):e};function E(e){return e.replace(e[0],e[0].toUpperCase())}function C(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,s([e],t))}(S=w||(w={})).query="query",S.mutation="mutation";var O=Symbol();var P,I,A,D,M,R,N,L,j,B,F,U,H=(0,r.Tk)((0,r.hF)(),(A=(I=void 0===P?{}:P).batch,D=void 0===A?o.dC:A,M=I.useDispatch,R=void 0===M?o.I0:M,N=I.useSelector,L=void 0===N?o.v9:N,j=I.useStore,B=void 0===j?o.oR:j,F=I.unstable__sideEffectsInRender,U=void 0!==F&&F,{name:O,init:function(e,t,n){var s=t.serializeQueryArgs,l=e,u=function(e){var t=e.api,n=e.moduleOptions,s=n.batch,l=n.useDispatch,u=n.useSelector,c=n.useStore,d=n.unstable__sideEffectsInRender,f=e.serializeQueryArgs,p=e.context,h=d?function(e){return e()}:a.useEffect;return{buildQueryHooks:function(e){var n=function(n,i){var o=void 0===i?{}:i,s=o.refetchOnReconnect,c=o.refetchOnFocus,d=o.refetchOnMountOrArgChange,m=o.skip,g=void 0!==m&&m,y=o.pollingInterval,w=void 0===y?0:y,S=t.endpoints[e].initiate,_=l(),x=v(g?r.CN:n,f,p.endpointDefinitions[e],e),T=b({refetchOnReconnect:s,refetchOnFocus:c,pollingInterval:w}),k=(0,a.useRef)(),E=k.current||{},C=E.queryCacheKey,O=E.requestId,P=u((function(e){var n;return!!C&&!!O&&!(null==(n=e[t.reducerPath].subscriptions[C])?void 0:n[O])}));return h((function(){k.current=void 0}),[P]),h((function(){var e,t=k.current;if(x===r.CN)return null==t||t.unsubscribe(),void(k.current=void 0);var n=null==(e=k.current)?void 0:e.subscriptionOptions;if(t&&t.arg===x)T!==n&&t.updateSubscriptionOptions(T);else{null==t||t.unsubscribe();var i=_(S(x,{subscriptionOptions:T,forceRefetch:d}));k.current=i}}),[_,S,d,x,T,P]),(0,a.useEffect)((function(){return function(){var e;null==(e=k.current)||e.unsubscribe(),k.current=void 0}}),[]),(0,a.useMemo)((function(){return{refetch:function(){var e;null==(e=k.current)||e.refetch()}}}),[])},d=function(n){var r=void 0===n?{}:n,i=r.refetchOnReconnect,o=r.refetchOnFocus,u=r.pollingInterval,c=void 0===u?0:u,d=t.endpoints[e].initiate,f=l(),p=(0,a.useState)(y),m=p[0],g=p[1],v=(0,a.useRef)(),w=b({refetchOnReconnect:i,refetchOnFocus:o,pollingInterval:c});h((function(){var e,t,n=null==(e=v.current)?void 0:e.subscriptionOptions;w!==n&&(null==(t=v.current)||t.updateSubscriptionOptions(w))}),[w]);var S=(0,a.useRef)(w);h((function(){S.current=w}),[w]);var _=(0,a.useCallback)((function(e,t){var n;return void 0===t&&(t=!1),s((function(){var r;null==(r=v.current)||r.unsubscribe(),v.current=n=f(d(e,{subscriptionOptions:S.current,forceRefetch:!t})),g(e)})),n}),[f,d]);return(0,a.useEffect)((function(){return function(){var e;null==(e=null==v?void 0:v.current)||e.unsubscribe()}}),[]),(0,a.useEffect)((function(){m===y||v.current||_(m,!0)}),[m,_]),(0,a.useMemo)((function(){return[_,m]}),[_,m])},S=function(n,s){var l=void 0===s?{}:s,d=l.skip,h=void 0!==d&&d,m=l.selectFromResult,g=void 0===m?x:m,y=t.endpoints[e].select,b=v(h?r.CN:n,f,p.endpointDefinitions[e],e),S=(0,a.useRef)(),T=(0,a.useMemo)((function(){return(0,i.P1)([y(b),function(e,t){return t},function(e){return b}],w)}),[y,b]),k=(0,a.useMemo)((function(){return(0,i.P1)([T],g)}),[T,g]),E=u((function(e){return k(e,S.current)}),o.wU),C=c(),O=T(C.getState(),S.current);return _((function(){S.current=O}),[O]),E};return{useQueryState:S,useQuerySubscription:n,useLazyQuerySubscription:d,useLazyQuery:function(e){var t=d(e),n=t[0],r=t[1],i=S(r,g(m({},e),{skip:r===y})),o=(0,a.useMemo)((function(){return{lastArg:r}}),[r]);return(0,a.useMemo)((function(){return[n,i,o]}),[n,i,o])},useQuery:function(e,t){var i=n(e,t),o=S(e,m({selectFromResult:e===r.CN||(null==t?void 0:t.skip)?void 0:k},t));return(0,a.useMemo)((function(){return m(m({},o),i)}),[o,i])}}},buildMutationHook:function(e){return function(n){var r=void 0===n?{}:n,c=r.selectFromResult,d=void 0===c?T:c,f=r.fixedCacheKey,p=t.endpoints[e],h=p.select,v=p.initiate,y=l(),b=(0,a.useState)(),w=b[0],S=b[1];(0,a.useEffect)((function(){return function(){(null==w?void 0:w.arg.fixedCacheKey)||null==w||w.reset()}}),[w]);var _=(0,a.useCallback)((function(e){var t=y(v(e,{fixedCacheKey:f}));return S(t),t}),[y,v,f]),x=(w||{}).requestId,k=(0,a.useMemo)((function(){return(0,i.P1)([h({fixedCacheKey:f,requestId:null==w?void 0:w.requestId})],d)}),[h,w,d,f]),E=u(k,o.wU),C=null==f?null==w?void 0:w.arg.originalArgs:void 0,O=(0,a.useCallback)((function(){s((function(){w&&S(void 0),f&&y(t.internalActions.removeMutationResult({requestId:x,fixedCacheKey:f}))}))}),[y,f,w,x]),P=(0,a.useMemo)((function(){return g(m({},E),{originalArgs:C,reset:O})}),[E,C,O]);return(0,a.useMemo)((function(){return[_,P]}),[_,P])}},usePrefetch:function(e,n){var r=l(),i=b(n);return(0,a.useCallback)((function(n,a){return r(t.util.prefetch(e,n,m(m({},i),a)))}),[e,r,i])}};function w(e,t,n){if((null==t?void 0:t.endpointName)&&e.isUninitialized){var r=t.endpointName,i=p.endpointDefinitions[r];f({queryArgs:t.originalArgs,endpointDefinition:i,endpointName:r})===f({queryArgs:n,endpointDefinition:i,endpointName:r})&&(t=void 0)}var a=e.isSuccess?e.data:null==t?void 0:t.data;void 0===a&&(a=e.data);var o=void 0!==a,s=e.isLoading,l=!o&&s,u=e.isSuccess||s&&o;return g(m({},e),{data:a,currentData:e.data,isFetching:s,isLoading:l,isSuccess:u})}}({api:e,moduleOptions:{batch:D,useDispatch:R,useSelector:L,useStore:B,unstable__sideEffectsInRender:U},serializeQueryArgs:s,context:n}),c=u.buildQueryHooks,d=u.buildMutationHook,f=u.usePrefetch;return C(l,{usePrefetch:f}),C(n,{batch:D}),{injectEndpoint:function(t,n){if(n.type===w.query){var r=c(t),i=r.useQuery,a=r.useLazyQuery,o=r.useLazyQuerySubscription,s=r.useQueryState,u=r.useQuerySubscription;C(l.endpoints[t],{useQuery:i,useLazyQuery:a,useLazyQuerySubscription:o,useQueryState:s,useQuerySubscription:u}),e["use"+E(t)+"Query"]=i,e["useLazy"+E(t)+"Query"]=a}else if(function(e){return e.type===w.mutation}(n)){var f=d(t);C(l.endpoints[t],{useMutation:f}),e["use"+E(t)+"Mutation"]=f}}}}}))},45673:(e,t,n)=>{"use strict";n.d(t,{CN:()=>X,Tk:()=>ne,hF:()=>pe,ni:()=>A,oZ:()=>r,sj:()=>U});var r,i,a=n(24268),o=n(12902),s=n(22222),l=n(97779),u=n(44815),c=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},d=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},f=Object.defineProperty,p=Object.defineProperties,h=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=function(e,t,n){return t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},b=function(e,t){for(var n in t||(t={}))g.call(t,n)&&y(e,n,t[n]);if(m)for(var r=0,i=m(t);r<i.length;r++){n=i[r];v.call(t,n)&&y(e,n,t[n])}return e},w=function(e,t){return p(e,h(t))},S=function(e,t){var n={};for(var r in e)g.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&m)for(var i=0,a=m(e);i<a.length;i++){r=a[i];t.indexOf(r)<0&&v.call(e,r)&&(n[r]=e[r])}return n},_=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))};(i=r||(r={})).uninitialized="uninitialized",i.pending="pending",i.fulfilled="fulfilled",i.rejected="rejected";function x(e,t){return e?t?function(e){return new RegExp("(^|:)//").test(e)}(t)?t:(e=function(e){return e.replace(/\/$/,"")}(e),e+"/"+(t=function(e){return e.replace(/^\//,"")}(t))):e:t}var T=function(e){return[].concat.apply([],e)};var k=a.PO;function E(e,t){if(e===t||!(k(e)&&k(t)||Array.isArray(e)&&Array.isArray(t)))return t;for(var n=Object.keys(t),r=Object.keys(e),i=n.length===r.length,a=Array.isArray(t)?[]:{},o=0,s=n;o<s.length;o++){var l=s[o];a[l]=E(e[l],t[l]),i&&(i=e[l]===a[l])}return i?e:a}var C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fetch.apply(void 0,e)},O=function(e){return e.status>=200&&e.status<=299},P=function(e,t){return _(void 0,null,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return"function"===typeof t?[2,t(e)]:"text"===t?[2,e.text()]:"json"!==t?[3,2]:[4,e.text()];case 1:return[2,(n=r.sent()).length?JSON.parse(n):null];case 2:return[2]}}))}))};function I(e){if(!(0,a.PO)(e))return e;for(var t=b({},e),n=0,r=Object.entries(t);n<r.length;n++){var i=r[n],o=i[0];"undefined"===typeof i[1]&&delete t[o]}return t}function A(e){var t=this;void 0===e&&(e={});var n=e,r=n.baseUrl,i=n.prepareHeaders,o=void 0===i?function(e){return e}:i,s=n.fetchFn,l=void 0===s?C:s,u=n.paramsSerializer,d=S(n,["baseUrl","prepareHeaders","fetchFn","paramsSerializer"]);return"undefined"===typeof fetch&&l===C&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),function(e,n){return _(t,null,(function(){var t,i,s,f,p,h,m,g,v,y,_,T,k,E,C,A,D,M,R,N,L,j,B,F,U,H,z,V,$,G,W,q,Z,K,X,Y;return c(this,(function(c){switch(c.label){case 0:return t=n.signal,i=n.getState,s=n.extra,f=n.endpoint,p=n.forced,h=n.type,v=(g="string"==typeof e?{url:e}:e).url,y=g.method,_=void 0===y?"GET":y,T=g.headers,k=void 0===T?new Headers({}):T,E=g.body,C=void 0===E?void 0:E,A=g.params,D=void 0===A?void 0:A,M=g.responseHandler,R=void 0===M?"json":M,N=g.validateStatus,L=void 0===N?O:N,j=S(g,["url","method","headers","body","params","responseHandler","validateStatus"]),B=b(w(b({},d),{method:_,signal:t,body:C}),j),F=B,[4,o(new Headers(I(k)),{getState:i,extra:s,endpoint:f,forced:p,type:h})];case 1:F.headers=c.sent(),U=function(e){return"object"===typeof e&&((0,a.PO)(e)||Array.isArray(e)||"function"===typeof e.toJSON)},!B.headers.has("content-type")&&U(C)&&B.headers.set("content-type","application/json"),U(C)&&function(e){var t,n;return null==(n=null==(t=e.get("content-type"))?void 0:t.trim())?void 0:n.startsWith("application/json")}(B.headers)&&(B.body=JSON.stringify(C)),D&&(H=~v.indexOf("?")?"&":"?",z=u?u(D):new URLSearchParams(I(D)),v+=H+z),v=x(r,v),V=new Request(v,B),$=V.clone(),m={request:$},c.label=2;case 2:return c.trys.push([2,4,,5]),[4,l(V)];case 3:return G=c.sent(),[3,5];case 4:return W=c.sent(),[2,{error:{status:"FETCH_ERROR",error:String(W)},meta:m}];case 5:q=G.clone(),m.response=q,K="",c.label=6;case 6:return c.trys.push([6,8,,9]),[4,Promise.all([P(G,R).then((function(e){return Z=e}),(function(e){return X=e})),q.text().then((function(e){return K=e}),(function(){}))])];case 7:if(c.sent(),X)throw X;return[3,9];case 8:return Y=c.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:G.status,data:K,error:String(Y)},meta:m}];case 9:return[2,L(G,Z)?{data:Z,meta:m}:{error:{status:G.status,data:Z},meta:m}]}}))}))}}var D=function(e,t){void 0===t&&(t=void 0),this.value=e,this.meta=t};var M,R,N=(0,a.PH)("__rtkq/focused"),L=(0,a.PH)("__rtkq/unfocused"),j=(0,a.PH)("__rtkq/online"),B=(0,a.PH)("__rtkq/offline"),F=!1;function U(e,t){return t?t(e,{onFocus:N,onFocusLost:L,onOffline:B,onOnline:j}):(n=function(){return e(N())},r=function(){return e(j())},i=function(){return e(B())},a=function(){"visible"===window.document.visibilityState?n():e(L())},F||"undefined"!==typeof window&&window.addEventListener&&(window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",n,!1),window.addEventListener("online",r,!1),window.addEventListener("offline",i,!1),F=!0),function(){window.removeEventListener("focus",n),window.removeEventListener("visibilitychange",a),window.removeEventListener("online",r),window.removeEventListener("offline",i),F=!1});var n,r,i,a}function H(e,t,n,r,i,a){return"function"===typeof e?e(t,n,r,i).map(z).map(a):Array.isArray(e)?e.map(z).map(a):[]}function z(e){return"string"===typeof e?{type:e}:e}function V(e){return e}function $(e,t,n,r){return H(n[e.meta.arg.endpointName][t],(0,a.KD)(e)?e.payload:void 0,(0,a.h_)(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,r)}function G(e,t,n){var r=e[t];r&&n(r)}function W(e){var t;return null!=(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)?t:e.requestId}function q(e,t,n){var r=e[W(t)];r&&n(r)}(R=M||(M={})).query="query",R.mutation="mutation";var Z={};function K(e){var t=e.reducerPath,n=e.queryThunk,i=e.mutationThunk,s=e.context,u=s.endpointDefinitions,c=s.apiUid,d=s.extractRehydrationInfo,f=s.hasRehydrationInfo,p=e.assertTagType,h=e.config,m=(0,a.PH)(t+"/resetApiState"),g=(0,a.oM)({name:t+"/queries",initialState:Z,reducers:{removeQueryResult:function(e,t){delete e[t.payload.queryCacheKey]},queryResultPatched:function(e,t){var n=t.payload,r=n.queryCacheKey,i=n.patches;G(e,r,(function(e){e.data=(0,o.QE)(e.data,i.concat())}))}},extraReducers:function(e){e.addCase(n.pending,(function(e,t){var n,i=t.meta,a=t.meta.arg;a.subscribe&&(null!=e[n=a.queryCacheKey]||(e[n]={status:r.uninitialized,endpointName:a.endpointName})),G(e,a.queryCacheKey,(function(e){e.status=r.pending,e.requestId=i.requestId,void 0!==a.originalArgs&&(e.originalArgs=a.originalArgs),e.startedTimeStamp=i.startedTimeStamp}))})).addCase(n.fulfilled,(function(e,t){var n=t.meta,i=t.payload;G(e,n.arg.queryCacheKey,(function(e){var t;e.requestId===n.requestId&&(e.status=r.fulfilled,e.data=null==(t=u[n.arg.endpointName].structuralSharing)||t?E(e.data,i):i,delete e.error,e.fulfilledTimeStamp=n.fulfilledTimeStamp)}))})).addCase(n.rejected,(function(e,t){var n=t.meta,i=n.condition,a=n.arg,o=n.requestId,s=t.error,l=t.payload;G(e,a.queryCacheKey,(function(e){if(i);else{if(e.requestId!==o)return;e.status=r.rejected,e.error=null!=l?l:s}}))})).addMatcher(f,(function(e,t){for(var n=d(t).queries,i=0,a=Object.entries(n);i<a.length;i++){var o=a[i],s=o[0],l=o[1];(null==l?void 0:l.status)!==r.fulfilled&&(null==l?void 0:l.status)!==r.rejected||(e[s]=l)}}))}}),v=(0,a.oM)({name:t+"/mutations",initialState:Z,reducers:{removeMutationResult:function(e,t){var n=W(t.payload);n in e&&delete e[n]}},extraReducers:function(e){e.addCase(i.pending,(function(e,t){var n=t.meta,i=t.meta,a=i.requestId,o=i.arg,s=i.startedTimeStamp;o.track&&(e[W(n)]={requestId:a,status:r.pending,endpointName:o.endpointName,startedTimeStamp:s})})).addCase(i.fulfilled,(function(e,t){var n=t.payload,i=t.meta;i.arg.track&&q(e,i,(function(e){e.requestId===i.requestId&&(e.status=r.fulfilled,e.data=n,e.fulfilledTimeStamp=i.fulfilledTimeStamp)}))})).addCase(i.rejected,(function(e,t){var n=t.payload,i=t.error,a=t.meta;a.arg.track&&q(e,a,(function(e){e.requestId===a.requestId&&(e.status=r.rejected,e.error=null!=n?n:i)}))})).addMatcher(f,(function(e,t){for(var n=d(t).mutations,i=0,a=Object.entries(n);i<a.length;i++){var o=a[i],s=o[0],l=o[1];(null==l?void 0:l.status)!==r.fulfilled&&(null==l?void 0:l.status)!==r.rejected||s===(null==l?void 0:l.requestId)||(e[s]=l)}}))}}),y=(0,a.oM)({name:t+"/invalidation",initialState:Z,reducers:{},extraReducers:function(e){e.addCase(g.actions.removeQueryResult,(function(e,t){for(var n=t.payload.queryCacheKey,r=0,i=Object.values(e);r<i.length;r++)for(var a=i[r],o=0,s=Object.values(a);o<s.length;o++){var l=s[o],u=l.indexOf(n);-1!==u&&l.splice(u,1)}})).addMatcher(f,(function(e,t){for(var n,r,i,a,o=d(t).provided,s=0,l=Object.entries(o);s<l.length;s++)for(var u=l[s],c=u[0],f=u[1],p=0,h=Object.entries(f);p<h.length;p++)for(var m=h[p],g=m[0],v=m[1],y=null!=(a=(r=null!=(n=e[c])?n:e[c]={})[i=g||"__internal_without_id"])?a:r[i]=[],b=0,w=v;b<w.length;b++){var S=w[b];y.includes(S)||y.push(S)}})).addMatcher((0,a.Q)((0,a.KD)(n),(0,a.h_)(n)),(function(e,t){for(var n,r,i,a,o=$(t,"providesTags",u,p),s=t.meta.arg.queryCacheKey,l=0,c=o;l<c.length;l++){var d=c[l],f=d.type,h=d.id,m=null!=(a=(r=null!=(n=e[f])?n:e[f]={})[i=h||"__internal_without_id"])?a:r[i]=[];m.includes(s)||m.push(s)}}))}}),S=(0,a.oM)({name:t+"/subscriptions",initialState:Z,reducers:{updateSubscriptionOptions:function(e,t){var n,r=t.payload,i=r.queryCacheKey,a=r.requestId,o=r.options;(null==(n=null==e?void 0:e[i])?void 0:n[a])&&(e[i][a]=o)},unsubscribeQueryResult:function(e,t){var n=t.payload,r=n.queryCacheKey,i=n.requestId;e[r]&&delete e[r][i]}},extraReducers:function(e){e.addCase(g.actions.removeQueryResult,(function(e,t){delete e[t.payload.queryCacheKey]})).addCase(n.pending,(function(e,t){var n,r,i,a,o=t.meta,s=o.arg,l=o.requestId;if(s.subscribe){var u=null!=(r=e[n=s.queryCacheKey])?r:e[n]={};u[l]=null!=(a=null!=(i=s.subscriptionOptions)?i:u[l])?a:{}}})).addCase(n.rejected,(function(e,t){var n,r,i,a,o=t.meta,s=o.condition,l=o.arg,u=o.requestId;t.error,t.payload;if(s&&l.subscribe){var c=null!=(r=e[n=l.queryCacheKey])?r:e[n]={};c[u]=null!=(a=null!=(i=l.subscriptionOptions)?i:c[u])?a:{}}})).addMatcher(f,(function(e){return b({},e)}))}}),_=(0,a.oM)({name:t+"/config",initialState:b({online:"undefined"===typeof navigator||void 0===navigator.onLine||navigator.onLine,focused:"undefined"===typeof document||"hidden"!==document.visibilityState,middlewareRegistered:!1},h),reducers:{middlewareRegistered:function(e,t){var n=t.payload;e.middlewareRegistered="conflict"!==e.middlewareRegistered&&c===n||"conflict"}},extraReducers:function(e){e.addCase(j,(function(e){e.online=!0})).addCase(B,(function(e){e.online=!1})).addCase(N,(function(e){e.focused=!0})).addCase(L,(function(e){e.focused=!1})).addMatcher(f,(function(e){return b({},e)}))}}),x=(0,l.UY)({queries:g.reducer,mutations:v.reducer,provided:y.reducer,subscriptions:S.reducer,config:_.reducer});return{reducer:function(e,t){return x(m.match(t)?void 0:e,t)},actions:w(b(b(b(b({},_.actions),g.actions),S.actions),v.actions),{unsubscribeMutationResult:v.actions.removeMutationResult,resetApiState:m})}}var X=Symbol.for("RTKQ/skipToken"),Y={status:r.uninitialized},Q=(0,o.ZP)(Y,(function(){})),J=(0,o.ZP)(Y,(function(){}));function ee(e){var t=e.serializeQueryArgs,n=e.reducerPath;return{buildQuerySelector:function(e,n){return function(r){var o=(0,s.P1)(a,(function(i){var a,o;return null!=(o=r===X||null==(a=null==i?void 0:i.queries)?void 0:a[t({queryArgs:r,endpointDefinition:n,endpointName:e})])?o:Q}));return(0,s.P1)(o,i)}},buildMutationSelector:function(){return function(e){var t,n;n="object"===typeof e?null!=(t=W(e))?t:X:e;var r=(0,s.P1)(a,(function(e){var t,r;return null!=(r=n===X||null==(t=null==e?void 0:e.mutations)?void 0:t[n])?r:J}));return(0,s.P1)(r,i)}},selectInvalidatedBy:function(e,t){for(var r,i=e[n],a=new Set,o=0,s=t.map(z);o<s.length;o++){var l=s[o],u=i.provided[l.type];if(u)for(var c=null!=(r=void 0!==l.id?u[l.id]:T(Object.values(u)))?r:[],d=0,f=c;d<f.length;d++){var p=f[d];a.add(p)}}return T(Array.from(a.values()).map((function(e){var t=i.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]})))}};function i(e){return b(b({},e),{status:t=e.status,isUninitialized:t===r.uninitialized,isLoading:t===r.pending,isSuccess:t===r.fulfilled,isError:t===r.rejected});var t}function a(e){return e[n]}}var te=function(e){var t=e.endpointName,n=e.queryArgs;return t+"("+JSON.stringify(n,(function(e,t){return(0,a.PO)(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))+")"};function ne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=(0,u.PW)((function(e){var n,r;return null==(r=t.extractRehydrationInfo)?void 0:r.call(t,e,{reducerPath:null!=(n=t.reducerPath)?n:"api"})})),r=w(b({reducerPath:"api",serializeQueryArgs:te,keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},t),{extractRehydrationInfo:n,tagTypes:d([],t.tagTypes||[])}),i={endpointDefinitions:{},batch:function(e){e()},apiUid:(0,a.x0)(),extractRehydrationInfo:n,hasRehydrationInfo:(0,u.PW)((function(e){return null!=n(e)}))},o={injectEndpoints:function(e){for(var t=e.endpoints({query:function(e){return w(b({},e),{type:M.query})},mutation:function(e){return w(b({},e),{type:M.mutation})}}),n=0,r=Object.entries(t);n<r.length;n++){var a=r[n],l=a[0],u=a[1];if(e.overrideExisting||!(l in i.endpointDefinitions)){i.endpointDefinitions[l]=u;for(var c=0,d=s;c<d.length;c++){d[c].injectEndpoint(l,u)}}}return o},enhanceEndpoints:function(e){var t=e.addTagTypes,n=e.endpoints;if(t)for(var a=0,s=t;a<s.length;a++){var l=s[a];r.tagTypes.includes(l)||r.tagTypes.push(l)}if(n)for(var u=0,c=Object.entries(n);u<c.length;u++){var d=c[u],f=d[0],p=d[1];"function"===typeof p?p(i.endpointDefinitions[f]):Object.assign(i.endpointDefinitions[f]||{},p)}return o}},s=e.map((function(e){return e.init(o,r,i)}));return o.injectEndpoints({endpoints:t.endpoints})}}var re=function(e){var t=e.reducerPath,n=e.api,r=e.context,i=n.internalActions,a=i.removeQueryResult,o=i.unsubscribeQueryResult;return function(e){var i={};return function(a){return function(l){var u,c=a(l);if(o.match(l)){var d=e.getState()[t];s(S=l.payload.queryCacheKey,null==(u=d.queries[S])?void 0:u.endpointName,e,d.config)}if(n.util.resetApiState.match(l))for(var f=0,p=Object.entries(i);f<p.length;f++){var h=p[f],m=h[0],g=h[1];g&&clearTimeout(g),delete i[m]}if(r.hasRehydrationInfo(l)){d=e.getState()[t];for(var v=r.extractRehydrationInfo(l).queries,y=0,b=Object.entries(v);y<b.length;y++){var w=b[y],S=w[0],_=w[1];s(S,null==_?void 0:_.endpointName,e,d.config)}}return c}};function s(e,n,o,s){var l,u=r.endpointDefinitions[n],c=null!=(l=null==u?void 0:u.keepUnusedDataFor)?l:s.keepUnusedDataFor,d=i[e];d&&clearTimeout(d),i[e]=setTimeout((function(){var n=o.getState()[t].subscriptions[e];n&&0!==Object.keys(n).length||o.dispatch(a({queryCacheKey:e})),delete i[e]}),1e3*c)}}},ie=function(e){var t=e.reducerPath,n=e.context,i=e.context.endpointDefinitions,o=e.mutationThunk,s=e.api,l=e.assertTagType,u=e.refetchQuery,c=s.internalActions.removeQueryResult;return function(e){return function(t){return function(n){var r=t(n);return(0,a.Q)((0,a.KD)(o),(0,a.h_)(o))(n)&&d($(n,"invalidatesTags",i,l),e),s.util.invalidateTags.match(n)&&d(H(n.payload,void 0,void 0,void 0,void 0,l),e),r}}};function d(e,i){var a=i.getState(),o=a[t],l=s.util.selectInvalidatedBy(a,e);n.batch((function(){for(var e=0,t=Array.from(l.values());e<t.length;e++){var n=t[e].queryCacheKey,a=o.queries[n],s=o.subscriptions[n];a&&s&&(0===Object.keys(s).length?i.dispatch(c({queryCacheKey:n})):a.status!==r.uninitialized&&i.dispatch(u(a,n)))}}))}},ae=function(e){var t=e.reducerPath,n=e.queryThunk,i=e.api,a=e.refetchQuery;return function(e){var s={};return function(t){return function(r){var a=t(r);return(i.internalActions.updateSubscriptionOptions.match(r)||i.internalActions.unsubscribeQueryResult.match(r))&&u(r.payload,e),(n.pending.match(r)||n.rejected.match(r)&&r.meta.condition)&&u(r.meta.arg,e),(n.fulfilled.match(r)||n.rejected.match(r)&&!r.meta.condition)&&l(r.meta.arg,e),i.util.resetApiState.match(r)&&function(){for(var e=0,t=Object.keys(s);e<t.length;e++){c(t[e])}}(),a}};function l(e,n){var i=e.queryCacheKey,l=n.getState()[t],u=l.queries[i],c=l.subscriptions[i];if(u&&u.status!==r.uninitialized){var d=o(c);if(Number.isFinite(d)){var f=s[i];(null==f?void 0:f.timeout)&&(clearTimeout(f.timeout),f.timeout=void 0);var p=Date.now()+d,h=s[i]={nextPollTimestamp:p,pollingInterval:d,timeout:setTimeout((function(){h.timeout=void 0,n.dispatch(a(u,i))}),d)}}}}function u(e,n){var i=e.queryCacheKey,a=n.getState()[t],u=a.queries[i],d=a.subscriptions[i];if(u&&u.status!==r.uninitialized){var f=o(d);if(Number.isFinite(f)){var p=s[i],h=Date.now()+f;(!p||h<p.nextPollTimestamp)&&l({queryCacheKey:i},n)}else c(i)}}function c(e){var t=s[e];(null==t?void 0:t.timeout)&&clearTimeout(t.timeout),delete s[e]}};function o(e){void 0===e&&(e={});for(var t=Number.POSITIVE_INFINITY,n=0,r=Object.values(e);n<r.length;n++){var i=r[n];i.pollingInterval&&(t=Math.min(i.pollingInterval,t))}return t}},oe=function(e){var t=e.reducerPath,n=e.context,i=e.api,a=e.refetchQuery,o=i.internalActions.removeQueryResult;return function(e){return function(t){return function(n){var r=t(n);return N.match(n)&&s(e,"refetchOnFocus"),j.match(n)&&s(e,"refetchOnReconnect"),r}}};function s(e,i){var s=e.getState()[t],l=s.queries,u=s.subscriptions;n.batch((function(){for(var t=0,n=Object.keys(u);t<n.length;t++){var c=n[t],d=l[c],f=u[c];if(f&&d)(Object.values(f).some((function(e){return!0===e[i]}))||Object.values(f).every((function(e){return void 0===e[i]}))&&s.config[i])&&(0===Object.keys(f).length?e.dispatch(o({queryCacheKey:c})):d.status!==r.uninitialized&&e.dispatch(a(d,c)))}}))}},se=new Error("Promise never resolved before cacheEntryRemoved."),le=function(e){var t=e.api,n=e.reducerPath,r=e.context,i=e.queryThunk,o=e.mutationThunk,s=(0,a.Gx)(i),l=(0,a.Gx)(o),u=(0,a.KD)(i,o);return function(e){var a={};return function(r){return function(d){var f=e.getState(),p=r(d),h=function(e){return s(e)?e.meta.arg.queryCacheKey:l(e)?e.meta.requestId:t.internalActions.removeQueryResult.match(e)?e.payload.queryCacheKey:t.internalActions.removeMutationResult.match(e)?W(e.payload):""}(d);if(i.pending.match(d)){var m=f[n].queries[h],g=e.getState()[n].queries[h];!m&&g&&c(d.meta.arg.endpointName,d.meta.arg.originalArgs,h,e,d.meta.requestId)}else if(o.pending.match(d)){(g=e.getState()[n].mutations[h])&&c(d.meta.arg.endpointName,d.meta.arg.originalArgs,h,e,d.meta.requestId)}else if(u(d)){(null==(S=a[h])?void 0:S.valueResolved)&&(S.valueResolved({data:d.payload,meta:d.meta.baseQueryMeta}),delete S.valueResolved)}else if(t.internalActions.removeQueryResult.match(d)||t.internalActions.removeMutationResult.match(d)){(S=a[h])&&(delete a[h],S.cacheEntryRemoved())}else if(t.util.resetApiState.match(d))for(var v=0,y=Object.entries(a);v<y.length;v++){var b=y[v],w=b[0],S=b[1];delete a[w],S.cacheEntryRemoved()}return p}};function c(e,n,i,o,s){var l=r.endpointDefinitions[e],u=null==l?void 0:l.onCacheEntryAdded;if(u){var c={},d=new Promise((function(e){c.cacheEntryRemoved=e})),f=Promise.race([new Promise((function(e){c.valueResolved=e})),d.then((function(){throw se}))]);f.catch((function(){})),a[i]=c;var p=t.endpoints[e].select(l.type===M.query?n:i),h=o.dispatch((function(e,t,n){return n})),m=w(b({},o),{getCacheEntry:function(){return p(o.getState())},requestId:s,extra:h,updateCachedData:l.type===M.query?function(r){return o.dispatch(t.util.updateQueryData(e,n,r))}:void 0,cacheDataLoaded:f,cacheEntryRemoved:d}),g=u(n,m);Promise.resolve(g).catch((function(e){if(e!==se)throw e}))}}}},ue=function(e){var t=e.api,n=e.context,r=e.queryThunk,i=e.mutationThunk,o=(0,a.zR)(r,i),s=(0,a.Iv)(r,i),l=(0,a.KD)(r,i);return function(e){var r={};return function(i){return function(a){var u,c,d,f=i(a);if(o(a)){var p=a.meta,h=p.requestId,m=p.arg,g=m.endpointName,v=m.originalArgs,y=n.endpointDefinitions[g],S=null==y?void 0:y.onQueryStarted;if(S){var _={},x=new Promise((function(e,t){_.resolve=e,_.reject=t}));x.catch((function(){})),r[h]=_;var T=t.endpoints[g].select(y.type===M.query?v:h),k=e.dispatch((function(e,t,n){return n})),E=w(b({},e),{getCacheEntry:function(){return T(e.getState())},requestId:h,extra:k,updateCachedData:y.type===M.query?function(n){return e.dispatch(t.util.updateQueryData(g,v,n))}:void 0,queryFulfilled:x});S(v,E)}}else if(l(a)){var C=a.meta,O=(h=C.requestId,C.baseQueryMeta);null==(u=r[h])||u.resolve({data:a.payload,meta:O}),delete r[h]}else if(s(a)){var P=a.meta,I=(h=P.requestId,P.rejectedWithValue);O=P.baseQueryMeta;null==(d=r[h])||d.reject({error:null!=(c=a.payload)?c:a.error,isUnhandledError:!I,meta:O}),delete r[h]}return f}}}},ce=function(e){var t=e.api,n=e.context.apiUid;e.reducerPath;return function(e){var r=!1;return function(i){return function(a){r||(r=!0,e.dispatch(t.internalActions.middlewareRegistered(n)));var o=i(a);return t.util.resetApiState.match(a)&&e.dispatch(t.internalActions.middlewareRegistered(n)),o}}}};function de(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,d([e],t))}var fe=Symbol(),pe=function(){return{name:fe,init:function(e,t,n){var i=t.baseQuery,s=(t.tagTypes,t.reducerPath),u=t.serializeQueryArgs,f=t.keepUnusedDataFor,p=t.refetchOnMountOrArgChange,h=t.refetchOnFocus,m=t.refetchOnReconnect;(0,o.vI)();var g=function(e){return e};Object.assign(e,{reducerPath:s,endpoints:{},internalActions:{onOnline:j,onOffline:B,onFocus:N,onFocusLost:L},util:{}});var v=function(e){var t=this,n=e.reducerPath,i=e.baseQuery,s=e.context.endpointDefinitions,l=e.serializeQueryArgs,u=e.api,d=function(e,n){return _(t,[e,n],(function(e,t){var n,r,a,o,l,u,d=t.signal,p=t.rejectWithValue,h=t.fulfillWithValue,m=t.dispatch,g=t.getState,v=t.extra;return c(this,(function(t){switch(t.label){case 0:n=s[e.endpointName],t.label=1;case 1:return t.trys.push([1,7,,8]),r=V,a=void 0,o={signal:d,dispatch:m,getState:g,extra:v,endpoint:e.endpointName,type:e.type,forced:"query"===e.type?f(e,g()):void 0},n.query?[4,i(n.query(e.originalArgs),o,n.extraOptions)]:[3,3];case 2:return a=t.sent(),n.transformResponse&&(r=n.transformResponse),[3,5];case 3:return[4,n.queryFn(e.originalArgs,o,n.extraOptions,(function(e){return i(e,o,n.extraOptions)}))];case 4:a=t.sent(),t.label=5;case 5:if(a.error)throw new D(a.error,a.meta);return l=h,[4,r(a.data,a.meta,e.originalArgs)];case 6:return[2,l.apply(void 0,[t.sent(),{fulfilledTimeStamp:Date.now(),baseQueryMeta:a.meta}])];case 7:if((u=t.sent())instanceof D)return[2,p(u.value,{baseQueryMeta:u.meta})];throw console.error(u),u;case 8:return[2]}}))}))};function f(e,t){var r,i,a,o,s=null==(i=null==(r=t[n])?void 0:r.queries)?void 0:i[e.queryCacheKey],l=null==(a=t[n])?void 0:a.config.refetchOnMountOrArgChange,u=null==s?void 0:s.fulfilledTimeStamp,c=null!=(o=e.forceRefetch)?o:e.subscribe&&l;return!!c&&(!0===c||(Number(new Date)-Number(u))/1e3>=c)}var p=(0,a.hg)(n+"/executeQuery",d,{getPendingMeta:function(){return{startedTimeStamp:Date.now()}},condition:function(e,t){var r,i,a=(0,t.getState)(),o=null==(i=null==(r=a[n])?void 0:r.queries)?void 0:i[e.queryCacheKey],s=null==o?void 0:o.fulfilledTimeStamp;return"pending"!==(null==o?void 0:o.status)&&(!!f(e,a)||!s)},dispatchConditionRejection:!0}),h=(0,a.hg)(n+"/executeMutation",d,{getPendingMeta:function(){return{startedTimeStamp:Date.now()}}});function m(e){return function(t){var n,r;return(null==(r=null==(n=null==t?void 0:t.meta)?void 0:n.arg)?void 0:r.endpointName)===e}}return{queryThunk:p,mutationThunk:h,prefetch:function(e,t,n){return function(r,i){var a=function(e){return"force"in e}(n)&&n.force,o=function(e){return"ifOlderThan"in e}(n)&&n.ifOlderThan,s=function(n){return void 0===n&&(n=!0),u.endpoints[e].initiate(t,{forceRefetch:n})},l=u.endpoints[e].select(t)(i());if(a)r(s());else if(o){var c=null==l?void 0:l.fulfilledTimeStamp;if(!c)return void r(s());(Number(new Date)-Number(new Date(c)))/1e3>=o&&r(s())}else r(s(!1))}},updateQueryData:function(e,t,n){return function(i,a){var s,l,c=u.endpoints[e].select(t)(a()),d={patches:[],inversePatches:[],undo:function(){return i(u.util.patchQueryData(e,t,d.inversePatches))}};if(c.status===r.uninitialized)return d;if("data"in c)if((0,o.o$)(c.data)){var f=(0,o.aS)(c.data,n),p=f[1],h=f[2];(s=d.patches).push.apply(s,p),(l=d.inversePatches).push.apply(l,h)}else{var m=n(c.data);d.patches.push({op:"replace",path:[],value:m}),d.inversePatches.push({op:"replace",path:[],value:c.data})}return i(u.util.patchQueryData(e,t,d.patches)),d}},patchQueryData:function(e,t,n){return function(r){var i=s[e];r(u.internalActions.queryResultPatched({queryCacheKey:l({queryArgs:t,endpointDefinition:i,endpointName:e}),patches:n}))}},buildMatchThunkActions:function(e,t){return{matchPending:(0,a.A6)((0,a.zR)(e),m(t)),matchFulfilled:(0,a.A6)((0,a.KD)(e),m(t)),matchRejected:(0,a.A6)((0,a.Iv)(e),m(t))}}}}({baseQuery:i,reducerPath:s,context:n,api:e,serializeQueryArgs:u}),y=v.queryThunk,S=v.mutationThunk,x=v.patchQueryData,T=v.updateQueryData,k=v.prefetch,E=v.buildMatchThunkActions,C=K({context:n,queryThunk:y,mutationThunk:S,reducerPath:s,assertTagType:g,config:{refetchOnFocus:h,refetchOnReconnect:m,refetchOnMountOrArgChange:p,keepUnusedDataFor:f,reducerPath:s}}),O=C.reducer,P=C.actions;de(e.util,{patchQueryData:x,updateQueryData:T,prefetch:k,resetApiState:P.resetApiState}),de(e.internalActions,P),Object.defineProperty(e.util,"updateQueryResult",{get:function(){return e.util.updateQueryData}}),Object.defineProperty(e.util,"patchQueryResult",{get:function(){return e.util.patchQueryData}});var I=function(e){var t=e.reducerPath,n=e.queryThunk,r={invalidateTags:(0,a.PH)(t+"/invalidateTags")},i=[ce,re,ie,ae,oe,le,ue].map((function(t){return t(w(b({},e),{refetchQuery:o}))}));return{middleware:function(e){return function(n){var r=l.qC.apply(void 0,i.map((function(t){return t(e)})))(n);return function(i){return e.getState()[t]?r(i):n(i)}}},actions:r};function o(e,t,r){return void 0===r&&(r={}),n(b({type:"query",endpointName:e.endpointName,originalArgs:e.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:t},r))}}({reducerPath:s,context:n,queryThunk:y,mutationThunk:S,api:e,assertTagType:g}),A=I.middleware,R=I.actions;de(e.util,R),de(e,{reducer:O,middleware:A});var F=ee({serializeQueryArgs:u,reducerPath:s}),U=F.buildQuerySelector,H=F.buildMutationSelector,z=F.selectInvalidatedBy;de(e.util,{selectInvalidatedBy:z});var $=function(e){var t=e.serializeQueryArgs,n=e.queryThunk,r=e.mutationThunk,i=e.api,a=e.context,o={},s={},l=i.internalActions,u=l.unsubscribeQueryResult,f=l.removeMutationResult,p=l.updateSubscriptionOptions;return{buildInitiateQuery:function(e,r){var a=function(s,l){var d=void 0===l?{}:l,f=d.subscribe,m=void 0===f||f,g=d.forceRefetch,v=d.subscriptionOptions;return function(l,d){var f=t({queryArgs:s,endpointDefinition:r,endpointName:e}),y=n({type:"query",subscribe:m,forceRefetch:g,subscriptionOptions:v,endpointName:e,originalArgs:s,queryCacheKey:f}),b=l(y);h(d);var w=b.requestId,S=b.abort,x=Object.assign(Promise.all([o[f],b]).then((function(){return i.endpoints[e].select(s)(d())})),{arg:s,requestId:w,subscriptionOptions:v,queryCacheKey:f,abort:S,unwrap:function(){return _(this,null,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,x];case 1:if((e=t.sent()).isError)throw e.error;return[2,e.data]}}))}))},refetch:function(){l(a(s,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){m&&l(u({queryCacheKey:f,requestId:w}))},updateSubscriptionOptions:function(t){x.subscriptionOptions=t,l(p({endpointName:e,requestId:w,queryCacheKey:f,options:t}))}});return o[f]||(o[f]=x,x.then((function(){delete o[f]}))),x}};return a},buildInitiateMutation:function(e){return function(t,n){var i=void 0===n?{}:n,a=i.track,o=void 0===a||a,l=i.fixedCacheKey;return function(n,i){var a=r({type:"mutation",endpointName:e,originalArgs:t,track:o,fixedCacheKey:l}),u=n(a);h(i);var c=u.requestId,d=u.abort,p=u.unwrap,m=u.unwrap().then((function(e){return{data:e}})).catch((function(e){return{error:e}})),g=function(){n(f({requestId:c,fixedCacheKey:l}))},v=Object.assign(m,{arg:u.arg,requestId:c,abort:d,unwrap:p,unsubscribe:g,reset:g});return s[c]=v,v.then((function(){delete s[c]})),l&&(s[l]=v,v.then((function(){s[l]===v&&delete s[l]}))),v}}},getRunningOperationPromises:function(){return d(d([],Object.values(o)),Object.values(s)).filter((function(e){return!!e}))},getRunningOperationPromise:function(e,n){var r=a.endpointDefinitions[e];if(r.type===M.query){var i=t({queryArgs:n,endpointDefinition:r,endpointName:e});return o[i]}return s[n]}};function h(e){}}({queryThunk:y,mutationThunk:S,api:e,serializeQueryArgs:u,context:n}),G=$.buildInitiateQuery,W=$.buildInitiateMutation,q=$.getRunningOperationPromises,Z=$.getRunningOperationPromise;return de(e.util,{getRunningOperationPromises:q,getRunningOperationPromise:Z}),{name:fe,injectEndpoint:function(t,n){var r,i=e;null!=(r=i.endpoints)[t]||(r[t]={}),n.type===M.query?de(i.endpoints[t],{select:U(t,n),initiate:G(t,n)},E(y,t)):function(e){return e.type===M.mutation}(n)&&de(i.endpoints[t],{select:H(),initiate:W(t)},E(S,t))}}}}};pe()},24268:(e,t,n)=>{"use strict";n.d(t,{xC:()=>P,PH:()=>I,hg:()=>G,HF:()=>F,oM:()=>M,A6:()=>K,Q:()=>Z,Gx:()=>ne,KD:()=>te,zR:()=>Q,PO:()=>k,Iv:()=>J,h_:()=>ee,x0:()=>U});var r=n(12902),i=n(22222),a=n(97779);function o(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var s=o();s.withExtraArgument=o;const l=s;var u,c=(u=function(e,t){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},u(e,t)},function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},f=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},p=Object.defineProperty,h=Object.defineProperties,m=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,b=function(e,t,n){return t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},w=function(e,t){for(var n in t||(t={}))v.call(t,n)&&b(e,n,t[n]);if(g)for(var r=0,i=g(t);r<i.length;r++){n=i[r];y.call(t,n)&&b(e,n,t[n])}return e},S=function(e,t){return h(e,m(t))},_=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i.P1.apply(void 0,e),a=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return n.apply(void 0,f([(0,r.mv)(e)?(0,r.Vk)(e):e],t))};return a},T="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?a.qC:a.qC.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function k(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var E=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return c(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,f([void 0],e[0].concat(this)))):new(t.bind.apply(t,f([void 0],e.concat(this))))},t}(Array);function C(e){return(0,r.o$)(e)?(0,r.ZP)(e,(function(){})):e}function O(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new E);n&&("boolean"===typeof n?r.push(l):r.push(l.withExtraArgument(n.extraArgument)));0;return r}(e)}}function P(e){var t,n=O(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,s=r.middleware,l=void 0===s?n():s,u=r.devTools,c=void 0===u||u,d=r.preloadedState,p=void 0===d?void 0:d,h=r.enhancers,m=void 0===h?void 0:h;if("function"===typeof o)t=o;else{if(!k(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=(0,a.UY)(o)}var g=l;"function"===typeof g&&(g=g(n));var v=a.md.apply(void 0,g),y=a.qC;c&&(y=T(w({trace:!1},"object"===typeof c&&c)));var b=[v];Array.isArray(m)?b=f([v],m):"function"===typeof m&&(b=m(b));var S=y.apply(void 0,b);return(0,a.MT)(t,p,S)}function I(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return w(w({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function A(e){return["type","payload","error","meta"].indexOf(e)>-1}function D(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function M(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,i="function"==typeof e.initialState?e.initialState:C(e.initialState),a=e.reducers||{},o=Object.keys(a),s={},l={},u={};function c(){var t="function"===typeof e.extraReducers?D(e.extraReducers):[e.extraReducers],n=t[0],a=void 0===n?{}:n,o=t[1],s=void 0===o?[]:o,u=t[2],c=void 0===u?void 0:u,d=w(w({},a),l);return function(e,t,n,i){void 0===n&&(n=[]);var a,o="function"===typeof t?D(t):[t,n,i],s=o[0],l=o[1],u=o[2];if("function"===typeof e)a=function(){return C(e())};else{var c=C(e);a=function(){return c}}function d(e,t){void 0===e&&(e=a());var n=f([s[t.type]],l.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var i;if((0,r.mv)(e))return"undefined"===typeof(i=n(e,t))?e:i;if((0,r.o$)(e))return(0,r.ZP)(e,(function(e){return n(e,t)}));if("undefined"===typeof(i=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return i}return e}),e)}return d.getInitialState=a,d}(i,d,s,c)}return o.forEach((function(e){var n,r,i=a[e],o=t+"/"+e;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,s[e]=n,l[o]=n,u[e]=r?I(o,r):I(o)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:s,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}function R(e){return function(t,n){function i(e){return k(t=e)&&"string"===typeof t.type&&Object.keys(t).every(A);var t}var a=function(t){i(n)?e(n.payload,t):e(n,t)};return(0,r.mv)(t)?(a(t),t):(0,r.ZP)(t,a)}}function N(e,t){return t(e)}function L(e){return Array.isArray(e)||(e=Object.values(e)),e}function j(e,t,n){for(var r=[],i=[],a=0,o=e=L(e);a<o.length;a++){var s=o[a],l=N(s,t);l in n.entities?i.push({id:l,changes:s}):r.push(s)}return[r,i]}function B(e){function t(t,n){var r=N(t,e);r in n.entities||(n.ids.push(r),n.entities[r]=t)}function n(e,n){for(var r=0,i=e=L(e);r<i.length;r++){t(i[r],n)}}function r(t,n){var r=N(t,e);r in n.entities||n.ids.push(r),n.entities[r]=t}function i(e,t){var n=!1;e.forEach((function(e){e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((function(e){return e in t.entities})))}function a(t,n){var r={},i={};if(t.forEach((function(e){e.id in n.entities&&(i[e.id]={id:e.id,changes:w(w({},i[e.id]?i[e.id].changes:null),e.changes)})})),(t=Object.values(i)).length>0){var a=t.filter((function(t){return function(t,n,r){var i=r.entities[n.id],a=Object.assign({},i,n.changes),o=N(a,e),s=o!==n.id;return s&&(t[n.id]=o,delete r.entities[n.id]),r.entities[o]=a,s}(r,t,n)})).length>0;a&&(n.ids=n.ids.map((function(e){return r[e]||e})))}}function o(t,r){var i=j(t,e,r),o=i[0];a(i[1],r),n(o,r)}return{removeAll:(s=function(e){Object.assign(e,{ids:[],entities:{}})},l=R((function(e,t){return s(t)})),function(e){return l(e,void 0)}),addOne:R(t),addMany:R(n),setOne:R(r),setMany:R((function(e,t){for(var n=0,i=e=L(e);n<i.length;n++){r(i[n],t)}})),setAll:R((function(e,t){e=L(e),t.ids=[],t.entities={},n(e,t)})),updateOne:R((function(e,t){return a([e],t)})),updateMany:R(a),upsertOne:R((function(e,t){return o([e],t)})),upsertMany:R(o),removeOne:R((function(e,t){return i([e],t)})),removeMany:R(i)};var s,l}function F(e){void 0===e&&(e={});var t=w({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,r=t.sortComparer,i={getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}},a={getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},r=x(t,n,(function(e,t){return e.map((function(e){return t[e]}))})),i=function(e,t){return t},a=function(e,t){return e[t]},o=x(t,(function(e){return e.length}));if(!e)return{selectIds:t,selectEntities:n,selectAll:r,selectTotal:o,selectById:x(n,i,a)};var s=x(e,n);return{selectIds:x(e,t),selectEntities:s,selectAll:x(e,r),selectTotal:x(e,o),selectById:x(s,i,a)}}},o=r?function(e,t){var n=B(e);function r(t,n){var r=(t=L(t)).filter((function(t){return!(N(t,e)in n.entities)}));0!==r.length&&s(r,n)}function i(e,t){0!==(e=L(e)).length&&s(e,t)}function a(t,n){for(var r=!1,i=0,a=t;i<a.length;i++){var o=a[i],s=n.entities[o.id];if(s){r=!0,Object.assign(s,o.changes);var u=e(s);o.id!==u&&(delete n.entities[o.id],n.entities[u]=s)}}r&&l(n)}function o(t,n){var i=j(t,e,n),o=i[0];a(i[1],n),r(o,n)}function s(t,n){t.forEach((function(t){n.entities[e(t)]=t})),l(n)}function l(n){var r=Object.values(n.entities);r.sort(t);var i=r.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(n.ids,i)||(n.ids=i)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:R((function(e,t){return r([e],t)})),updateOne:R((function(e,t){return a([e],t)})),upsertOne:R((function(e,t){return o([e],t)})),setOne:R((function(e,t){return i([e],t)})),setMany:R(i),setAll:R((function(e,t){e=L(e),t.entities={},t.ids=[],r(e,t)})),addMany:R(r),updateMany:R(a),upsertMany:R(o)}}(n,r):B(n);return w(w(w({selectId:n,sortComparer:r},i),a),o)}var U=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},H=["name","message","stack","code"],z=function(e,t){this.payload=e,this.meta=t},V=function(e,t){this.payload=e,this.meta=t},$=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=H;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};function G(e,t,n){var r=I(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:S(w({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=I(e+"/pending",(function(e,t,n){return{payload:void 0,meta:S(w({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=I(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||$)(e||"Rejected"),meta:S(w({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,l,u){var c,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):U(),p=new o,h=new Promise((function(e,t){return p.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:c||"Aborted"})}))})),m=!1;var g=function(){return _(this,null,(function(){var o,c,g,v,y;return d(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),v=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:l,extra:u}),null===(b=v)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,v];case 1:v=d.sent(),d.label=2;case 2:if(!1===v)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return m=!0,s(i(f,e,null==(c=null==n?void 0:n.getPendingMeta)?void 0:c.call(n,{requestId:f,arg:e},{getState:l,extra:u}))),[4,Promise.race([h,Promise.resolve(t(e,{dispatch:s,getState:l,extra:u,requestId:f,signal:p.signal,rejectWithValue:function(e,t){return new z(e,t)},fulfillWithValue:function(e,t){return new V(e,t)}})).then((function(t){if(t instanceof z)throw t;return t instanceof V?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return g=d.sent(),[3,5];case 4:return y=d.sent(),g=y instanceof z?a(null,f,e,y.payload,y.meta):a(y,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(g)&&g.meta.condition||s(g),[2,g]}var b}))}))}();return Object.assign(g,{abort:function(e){m&&(c=e,p.abort())},requestId:f,arg:e,unwrap:function(){return g.then(W)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}function W(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var q=function(e,t){return(n=e)&&"function"===typeof n.match?e.match(t):e(t);var n};function Z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return q(e,t)}))}}function K(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.every((function(e){return q(e,t)}))}}function X(e,t){if(!e||!e.meta)return!1;var n="string"===typeof e.meta.requestId,r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function Y(e){return"function"===typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function Q(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return X(e,["pending"])}:Y(e)?function(t){var n=e.map((function(e){return e.pending}));return Z.apply(void 0,n)(t)}:Q()(e[0])}function J(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return X(e,["rejected"])}:Y(e)?function(t){var n=e.map((function(e){return e.rejected}));return Z.apply(void 0,n)(t)}:J()(e[0])}function ee(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return e&&e.meta&&e.meta.rejectedWithValue};return 0===e.length||Y(e)?function(t){return K(J.apply(void 0,e),n)(t)}:ee()(e[0])}function te(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return X(e,["fulfilled"])}:Y(e)?function(t){var n=e.map((function(e){return e.fulfilled}));return Z.apply(void 0,n)(t)}:te()(e[0])}function ne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return X(e,["pending","fulfilled","rejected"])}:Y(e)?function(t){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];n.push(a.pending,a.rejected,a.fulfilled)}return Z.apply(void 0,n)(t)}:ne()(e[0])}Object.assign;var re="listenerMiddleware";I(re+"/add"),I(re+"/removeAll"),I(re+"/remove");(0,r.pV)()},56124:(e,t,n)=>{"use strict";n.d(t,{zD:()=>Mi});var r={};n.r(r),n.d(r,{json:()=>R});var i={};n.r(i),n.d(i,{json:()=>N});var a={};n.r(a),n.d(a,{json:()=>L});var o={};n.r(o),n.d(o,{json:()=>j});var s={};n.r(s),n.d(s,{json:()=>B});var l={};n.r(l),n.d(l,{json:()=>F});var u={};n.r(u),n.d(u,{json:()=>U});var c={};n.r(c),n.d(c,{json:()=>H});var d={};n.r(d),n.d(d,{json:()=>z});var f={};n.r(f),n.d(f,{json:()=>V});var p={};n.r(p),n.d(p,{json:()=>$});var h={};n.r(h),n.d(h,{json:()=>G});var m={};n.r(m),n.d(m,{json:()=>W});var g={};n.r(g),n.d(g,{json:()=>q});var v={};n.r(v),n.d(v,{json:()=>Z});var y={};n.r(y),n.d(y,{json:()=>K});var b={};n.r(b),n.d(b,{json:()=>X});var w={};n.r(w),n.d(w,{json:()=>Y});var S={};n.r(S),n.d(S,{json:()=>Q});var _=n(77410);var x,T;(0,_.env)().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(x||(x={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(T||(T={}));const k={};function E(e){return k[e]}function C(e,t,n,r,i){const a=t.inputParams[e];if(a&&void 0!==a.inputIndexStart){const e=a.inputIndexStart,o=0===a.inputIndexEnd?void 0:void 0===a.inputIndexEnd?e+1:a.inputIndexEnd;if("tensor"===a.type)return O(t.inputNames[a.inputIndexStart],n,r,i);if("tensors"===a.type){return t.inputNames.slice(e,o).map((e=>O(e,n,r,i)))}const s=O(t.inputNames.slice(e)[0],n,r,i),l=s.dataSync();return"number"===a.type?l[0]:_.util.toNestedArray(s.shape,l)}const o=t.attrParams[e];return o&&o.value}function O(e,t,n,r){const[i,a]=A(e);if(null!=r){const e=r.getHashTableHandleByName(i);if(null!=e)return e}const o=n.currentContextIds.find((e=>!!t[I(i,e)]));return void 0!==o?t[I(i,o)][a]:void 0}function P(e,t){const[n,r,i]=A(e);return[I(n,t&&t.currentContextId),r,i]}function I(e,t){return t?`${e}-${t}`:e}function A(e){const t=e.split(":");if(1===t.length)return[e,0,void 0];const n=t[0],r=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),r]}function D(e,t,n){let r=C("pad",e,t,n);if("explicit"===r){r=C("explicitPaddings",e,t,n);const i=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)i[e][0]=r[2*e],i[e][1]=r[2*e+1];return i}return r}function M(e){return e.kept?e:(0,_.clone)(e)}const R=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],N=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],L=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],j=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],B=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],F=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],U=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],H=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],z=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],V=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],$=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],G=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],W=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],q=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],Z=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],K=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],X=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],Y=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],Q=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class J{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[r,i,a,o,s,l,u,c,d,f,p,h,m,g,v,y,b,w,S].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e,t={}){const n=e.node,r=[],i=[],a=[],o=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?r.push(e[t.name]):"Const"===t.op?i.push(e[t.name]):null!=t.input&&0!==t.input.length||a.push(e[t.name]),e)),{});let s=[];const l=[];let u={},c={};null!=t&&(u=this.mapSignatureEntries(t.inputs),c=this.mapSignatureEntries(t.outputs));const d=Object.keys(o);d.forEach((e=>{const t=o[e];t.inputNames.forEach(((e,n)=>{const[r,,i]=P(e),a=o[r];if(null!=a.outputs){const e=a.outputs.indexOf(i);if(-1!==e){const i=`${r}:${e}`;t.inputNames[n]=i}}t.inputs.push(a),a.children.push(t)}))})),0===Object.keys(c).length?d.forEach((e=>{const t=o[e];0===t.children.length&&l.push(t)})):Object.keys(c).forEach((e=>{const[t]=P(e),n=o[t];null!=n&&(n.signatureKey=c[e],l.push(n))})),Object.keys(u).length>0?Object.keys(u).forEach((e=>{const[t]=P(e),n=o[t];n&&(n.signatureKey=u[e],s.push(n))})):s=r;let f={};null!=e.library&&null!=e.library.function&&(f=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const p={nodes:o,inputs:s,outputs:l,weights:i,placeholders:r,signature:t,functions:f};return a.length>0&&(p.initNodes=a),p}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=E(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.slice(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const r=n.type;let i;switch(n.type){case"string":i=te(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=te(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":i=de(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=de(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":i=re(e.attr,n.tfName,n.defaultValue||0),void 0===i&&n.tfDeprecatedName&&(i=re(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":i=ce(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=ce(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":i=ne(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=ne(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":i=pe(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=pe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":i=ue(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=ue(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":i=fe(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=fe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":i=oe(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=oe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":i=se(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=se(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":i=ae(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=ae(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:i,type:r},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let r={};null!=t&&(r=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const i=[],a=[];e.signature.inputArg.forEach((e=>{const[t]=P(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:ie(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,i.push(n),r[t]=n}));Object.keys(r).forEach((e=>{const t=r[e];t.inputNames.forEach(((e,n)=>{const[i,,a]=P(e),o=r[i];if(null!=o.outputs){const e=o.outputs.indexOf(a);if(-1!==e){const r=`${i}:${e}`;t.inputNames[n]=r}}t.inputs.push(o),o.children.push(t)}))}));const o=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=P(o[e.name]),i=r[t];null!=i&&(i.defaultOutput=n,a.push(i))}));const s=this.mapArgsToSignature(e);return{nodes:r,inputs:i,outputs:a,weights:n,placeholders:[],signature:s}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function ee(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=(0,_.env)().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function te(e,t,n,r=!1){const i=e[t];return null!=i?ee(i.s,r):n}function ne(e,t,n){const r=e[t];return r?r.b:n}function re(e,t,n){const r=e[t]||{},i=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof i?i:parseInt(i,10)}function ie(e){switch("string"===typeof e&&(e=x[e]),e){case x.DT_FLOAT:case x.DT_HALF:return"float32";case x.DT_INT32:case x.DT_INT64:case x.DT_INT8:case x.DT_UINT8:return"int32";case x.DT_BOOL:return"bool";case x.DT_DOUBLE:return"float32";case x.DT_STRING:return"string";default:return null}}function ae(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function oe(e,t,n){const r=e[t];return r&&r.type?ie(r.type):n}function se(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map((e=>ie(e))):n}function le(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"===typeof e.size?e.size:parseInt(e.size,10))):[]}function ue(e,t,n){const r=e[t];return r&&r.shape?le(r.shape):n}function ce(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((e=>"number"===typeof e?e:parseInt(e,10))):n}function de(e,t,n,r=!1){const i=e[t];return i&&i.list&&i.list.s?i.list.s.map((e=>ee(e,r))):n}function fe(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((e=>le(e))):n}function pe(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}class he{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return O(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return O(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return re(this.node.rawAttrs,e,t);if(null!=n.s)return te(this.node.rawAttrs,e,t);if(null!=n.b)return ne(this.node.rawAttrs,e,t);if(null!=n.shape)return ue(this.node.rawAttrs,e,t);if(null!=n.type)return oe(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return ce(this.node.rawAttrs,e,t);if(null!=n.list.s)return de(this.node.rawAttrs,e,t);if(null!=n.list.shape)return fe(this.node.rawAttrs,e,t);if(null!=n.list.b)return pe(this.node.rawAttrs,e,t);if(null!=n.list.type)return se(this.node.rawAttrs,e,t)}return t}}var me=n(56407),ge=n(13135),ve=n(85228),ye=n(24841),be=n(41274),we=n(49322),Se=n(9165),_e=n(70827),xe=n(24513),Te=n(80632),ke=n(33453),Ee=n(15265);var Ce=n(96235),Oe=n(17839),Pe=n(91470),Ie=n(72421),Ae=n(21891),De=n(77037),Me=n(29812),Re=n(80369),Ne=n(6825),Le=n(61661),je=n(70173),Be=n(2699),Fe=n(83233),Ue=n(34650),He=n(44842),ze=n(53426),Ve=n(26943),$e=n(82597),Ge=n(17474),We=n(64386),qe=n(17370),Ze=n(19036),Ke=n(60766),Xe=n(7409),Ye=n(97809),Qe=n(55503),Je=n(30625),et=n(99331),tt=n(34434),nt=n(83254),rt=n(3694),it=n(13261),at=n(50248),ot=n(21869),st=n(61173),lt=n(42279),ut=n(83582),ct=n(32634),dt=n(49451),ft=n(99133),pt=n(98151),ht=n(96230);function mt(e,t,n=""){if("number"!==typeof e&&"number"!==typeof t){_.util.assert(e.length===t.length,(()=>n+` Shapes ${e} and ${t} must match`));for(let r=0;r<e.length;r++){const i=e[r],a=t[r];_.util.assert(i<0||a<0||i===a,(()=>n+` Shapes ${e} and ${t} must match`))}}}function gt(e){return"number"!==typeof e&&!e.some((e=>e<0))}function vt(e,t,n){let r=yt(e,n);const i=!gt(r);if(i&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(i&&t.forEach((e=>{r=yt(e.shape,r)})),!gt(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function yt(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);const n=[];for(let r=0;r<e.length;++r){const i=e[r],a=t[r];if(i>=0&&a>=0&&i!==a)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[r]=i>=0?i:a}return n}class bt{constructor(e,t,n,r,i,a,o){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=i,this.dynamicSize=a,this.clearAfterRead=o,this.tensors=[],this.closed_=!1,this.idTensor=(0,_.scalar)(0),(0,_.keep)(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),mt(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,(0,_.keep)(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return(0,_.tensor)([],[0].concat(this.elementShape));const n=this.readMany(e);return mt(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),(0,_.stack)(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return(0,_.tensor)([],[0].concat(this.elementShape));const t=[];for(let r=0;r<this.size();r++)t.push(r);const n=this.readMany(t);return mt(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),(0,_.concat)(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,(0,_.unstack)(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const r=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const i=0===n?0:t.size/n,a=[];(0,_.tidy)((()=>{t=(0,_.reshape)(t,[1,n,i]);for(let n=0;n<e.length;++n){const o=[0,0===n?0:r[n-1],0],s=[1,e[n],i];a[n]=(0,_.reshape)((0,_.slice)(t,o,s),this.elementShape)}return a}));const o=[];for(let s=0;s<e.length;s++)o[s]=s;this.writeMany(o,a)}}class wt{constructor(e,t,n,r=-1){this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${e.dtype}`);mt(t,e.shape,"TensorList shape mismatch: "),(0,_.keep)(e)})),this.idTensor=(0,_.scalar)(0),this.maxNumElements=r,(0,_.keep)(this.idTensor)}get id(){return this.idTensor.id}copy(){return new wt([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t,n=-1){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==n&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);mt(e,this.elementShape,"TensorList shape mismatch: ");const r=vt(this.elementShape,this.tensors,e);return(0,_.tidy)((()=>{const e=this.tensors.map((e=>(0,_.reshape)(e,r)));return(0,_.stack)(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=vt(this.elementShape,this.tensors,e),r=this.tensors.pop();return mt(r.shape,e,"TensorList shape mismatch: "),(0,_.reshape)(r,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(mt(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");(0,_.keep)(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const t=new wt([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);mt(this.tensors[e].shape,t,"TensorList shape mismatch: ");const r=vt(this.elementShape,this.tensors,t);return(0,_.reshape)(this.tensors[e],r)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);mt(this.elementShape,t.shape,"TensorList shape mismatch: "),(0,_.keep)(t),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);mt(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=vt(this.elementShape,this.tensors,n);return 0===e.length?(0,_.tensor)([],[0].concat(r)):(0,_.tidy)((()=>{const t=e.map((e=>(0,_.reshape)(this.tensors[e],r)));return(0,_.stack)(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);mt(this.elementShape,t,"TensorList shape mismatch: ");const n=vt(this.elementShape,this.tensors,t);return 0===this.size()?(0,_.tensor)([],[0].concat(n)):(0,_.tidy)((()=>{const e=this.tensors.map((e=>(0,_.reshape)(e,n)));return(0,_.concat)(e,0)}))}}const St=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=C("thenBranch",e,t,n),i=C("elseBranch",e,t,n),a=C("cond",e,t,n),o=C("args",e,t,n);return(await a.data())[0]?n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap):n.functionMap[i].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=C("body",e,t,n),i=C("cond",e,t,n),a=C("args",e,t,n),o=await n.functionMap[i].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap),s=a.map((e=>e.id));let l=await o[0].data();o.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||e.dispose()}));let u=a;for(;l[0];){const e=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const t=u.map((e=>e.id));e.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const a=await n.functionMap[i].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await a[0].data(),a.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return u}case"LoopCond":return[M(C("pred",e,t,n))];case"Switch":{const r=C("pred",e,t,n);let i=C("data",e,t,n);return i.kept||(i=M(i)),(await r.data())[0]?[void 0,i]:[i,void 0]}case"Merge":{const r=e.inputNames.find((e=>void 0!==O(e,t,n)));if(r){return[M(O(r,t,n))]}return}case"Enter":{const r=C("frameName",e,t,n),i=C("tensor",e,t,n);return n.enterFrame(r),[M(i)]}case"Exit":{const r=C("tensor",e,t,n);return n.exitFrame(),[M(r)]}case"NextIteration":{const r=C("tensor",e,t,n);return n.nextIteration(),[M(r)]}case"TensorArrayV3":{const r=C("size",e,t,n),i=C("dtype",e,t,n),a=C("elementShape",e,t,n),o=C("dynamicSize",e,t,n),s=C("clearAfterRead",e,t,n),l=C("identicalElementShapes",e,t,n),u=C("name",e,t,n),c=new bt(u,i,r,a,l,o,s);return n.addTensorArray(c),[c.idTensor,(0,_.scalar)(1)]}case"TensorArrayWriteV3":{const r=C("tensorArrayId",e,t,n),i=C("index",e,t,n),a=C("tensor",e,t,n),o=n.getTensorArray(r.id);return o.write(i,a),[o.idTensor]}case"TensorArrayReadV3":{const r=C("tensorArrayId",e,t,n),i=C("index",e,t,n);return[n.getTensorArray(r.id).read(i)]}case"TensorArrayGatherV3":{const r=C("tensorArrayId",e,t,n),i=C("indices",e,t,n),a=C("dtype",e,t,n);return[n.getTensorArray(r.id).gather(i,a)]}case"TensorArrayScatterV3":{const r=C("tensorArrayId",e,t,n),i=C("indices",e,t,n),a=C("tensor",e,t,n),o=n.getTensorArray(r.id);return o.scatter(i,a),[o.idTensor]}case"TensorArrayConcatV3":{const r=C("tensorArrayId",e,t,n),i=n.getTensorArray(r.id),a=C("dtype",e,t,n);return[i.concat(a)]}case"TensorArraySplitV3":{const r=C("tensorArrayId",e,t,n),i=C("tensor",e,t,n),a=C("lengths",e,t,n),o=n.getTensorArray(r.id);return o.split(a,i),[o.idTensor]}case"TensorArraySizeV3":{const r=C("tensorArrayId",e,t,n),i=n.getTensorArray(r.id);return[(0,_.scalar)(i.size(),"int32")]}case"TensorArrayCloseV3":{const r=C("tensorArrayId",e,t,n),i=n.getTensorArray(r.id);return i.clearAndClose(),[i.idTensor]}case"TensorListSetItem":{const r=C("tensorListId",e,t,n),i=C("index",e,t,n),a=C("tensor",e,t,n),o=n.getTensorList(r.id);return o.setItem(i,a),[o.idTensor]}case"TensorListGetItem":{const r=C("tensorListId",e,t,n),i=C("index",e,t,n),a=C("elementShape",e,t,n),o=C("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(i,a,o)]}case"TensorListScatterV2":case"TensorListScatter":{const r=C("indices",e,t,n),i=function(e,t,n,r){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const i=Math.max(...t);if(null!=r&&-1!==r&&i>=r)throw new Error(`Max index must be < array size (${i}  vs. ${r})`);const a=new wt([],n,e.dtype,r),o=(0,_.unstack)(e,0);return t.forEach(((e,t)=>{a.setItem(e,o[t])})),a}(C("tensor",e,t,n),r,C("elementShape",e,t,n),C("numElements",e,t,n));return n.addTensorList(i),[i.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=C("elementShape",e,t,n),i=C("elementDType",e,t,n);let a;a="TensorListReserve"===e.op?"numElements":"maxNumElements";const o=function(e,t,n){return new wt([],e,t,n)}(r,i,C(a,e,t,n));return n.addTensorList(o),[o.idTensor]}case"TensorListGather":{const r=C("tensorListId",e,t,n),i=C("indices",e,t,n),a=C("elementShape",e,t,n),o=C("elementDType",e,t,n);return[n.getTensorList(r.id).gather(i,o,a)]}case"TensorListStack":{const r=C("tensorListId",e,t,n),i=C("elementShape",e,t,n),a=C("elementDType",e,t,n),o=C("numElements",e,t,n);return[n.getTensorList(r.id).stack(i,a,o)]}case"TensorListFromTensor":{const r=function(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);mt(e.shape.slice(1),t,"TensorList shape mismatch: ");const i=(0,_.unstack)(e);return new wt(i,t,r)}(C("tensor",e,t,n),C("elementShape",e,t,n),C("elementDType",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=C("tensorListId",e,t,n),i=n.getTensorList(r.id),a=C("dtype",e,t,n),o=C("elementShape",e,t,n);return[i.concat(a,o)]}case"TensorListPushBack":{const r=C("tensorListId",e,t,n),i=C("tensor",e,t,n),a=n.getTensorList(r.id);return a.pushBack(i),[a.idTensor]}case"TensorListPopBack":{const r=C("tensorListId",e,t,n),i=C("elementShape",e,t,n),a=C("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(i,a)]}case"TensorListSplit":{const r=C("tensor",e,t,n),i=C("elementShape",e,t,n),a=function(e,t,n){let r=0;const i=t.map((e=>(r+=e,r)));if(r!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${r}, and tensor's shape is: ${e.shape}`);const a=yt(e.shape.slice(1),n),o=0===r?0:e.size/r,s=(0,_.tidy)((()=>{const n=[];e=(0,_.reshape)(e,[1,r,o]);for(let r=0;r<t.length;++r){const s=[0,0===r?0:i[r-1],0],l=[1,t[r],o];n[r]=(0,_.reshape)((0,_.slice)(e,s,l),a)}return e.dispose(),n})),l=new wt([],n,e.dtype,t.length);for(let u=0;u<s.length;u++)l.setItem(u,s[u]);return l}(r,C("lengths",e,t,n),i);return n.addTensorList(a),[a.idTensor]}case"TensorListLength":{const r=C("tensorListId",e,t,n),i=n.getTensorList(r.id);return[(0,_.scalar)(i.size(),"int32")]}case"TensorListResize":{const r=C("tensorListId",e,t,n),i=C("size",e,t,n),a=n.getTensorList(r.id).resize(i);return n.addTensorList(a),[a.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};var _t=n(11355),xt=n(64794),Tt=n(32277),kt=n(71405),Et=n(64718),Ct=n(70473),Ot=n(15176),Pt=n(21174),It=n(96877),At=n(61749),Dt=n(25020),Mt=n(70557);function Rt(e,t,n){const[r,i]=C("fusedOps",e,t,n),a="biasadd"===r,o=!a,s="prelu"===i,l="fusedbatchnorm"===r,u=C("numArgs",e,t,n);if(a){if(s&&2!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&a&&1!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=C("strides",e,t,n),d=D(e,t,n),f=C("dataFormat",e,t,n).toUpperCase(),p=C("dilations",e,t,n);let[h,m]=C("args",e,t,n);o&&(m=h,h=void 0);return{stride:c,pad:d,dataFormat:f,dilations:p,biasArg:h,preluArg:m,activationFunc:i,leakyreluAlpha:C("leakyreluAlpha",e,t,n)}}var Nt=n(14006),Lt=n(14135),jt=n(90686),Bt=n(76708),Ft=n(44917),Ut=n(7846),Ht=n(75002),zt=n(47245),Vt=n(43596),$t=n(59640),Gt=n(6577);var Wt=n(93057),qt=n(62271),Zt=n(66380),Kt=n(36567);function Xt(e,t,n){return{boxes:C("boxes",e,t,n),scores:C("scores",e,t,n),maxOutputSize:C("maxOutputSize",e,t,n),iouThreshold:C("iouThreshold",e,t,n),scoreThreshold:C("scoreThreshold",e,t,n),softNmsSigma:C("softNmsSigma",e,t,n)}}var Yt=n(94608),Qt=n(43243),Jt=n(64978),en=n(49608);var tn=n(46092),nn=n(99494);class rn{constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=(0,_.scalar)(0),this.tensorMap=new Map,(0,_.keep)(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return nn.i(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),(0,_.tidy)((()=>{const e=(0,_.unstack)(t),r=n.length,i=e.length;_.util.assert(r===i,(()=>`The number of elements doesn't match, keys has ${r} elements, the values has ${i} elements.`));for(let t=0;t<r;t++){const r=n[t],i=e[t];(0,_.keep)(i),this.tensorMap.set(r,i)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return(0,_.tidy)((()=>{const e=[];for(let r=0;r<n.length;r++){const i=n[r],a=this.findWithDefault(i,t);e.push(a)}return(0,_.stack)(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}var an=n(26477),on=n(16500),sn=n(20636),ln=n(17630),un=n(86573),cn=n(50624),dn=n(2856),fn=n(38651),pn=n(15750),hn=n(95912);var mn=n(28687),gn=n(94653),vn=n(89065);var yn=n(31954),bn=n(27505),wn=n(79648),Sn=n(80682),_n=n(31510),xn=n(39758);var Tn=n(83307),kn=n(75130),En=n(25735),Cn=n(15475),On=n(90781),Pn=n(92998),In=n(40047),An=n(27394),Dn=n(9640),Mn=n(37405),Rn=n(93865),Nn=n(75746);var Ln=n(46884),jn=n(24926),Bn=n(57486),Fn=n(22676),Un=n(55158),Hn=n(79590),zn=n(4968),Vn=n(82991),$n=n(24136),Gn=n(47501),Wn=n(28644),qn=n(63100),Zn=n(87494);var Kn=n(7020),Xn=n(88447),Yn=n(13710),Qn=n(84415);var Jn=n(81300),er=n(71483),tr=n(39682),nr=n(27918),rr=n(28441),ir=n(89112),ar=n(68247),or=n(88194);function sr(e,t,n,r){const i=((e,t,n)=>{switch(e.category){case"arithmetic":return _.tidy((()=>((e,t,n)=>{switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[me.I(C("a",e,t,n),C("b",e,t,n))];case"AddN":return[ge.Q(C("tensors",e,t,n))];case"FloorMod":case"Mod":return[ve.w(C("a",e,t,n),C("b",e,t,n))];case"Mul":return[ye.d(C("a",e,t,n),C("b",e,t,n))];case"RealDiv":case"Div":return[be.h(C("a",e,t,n),C("b",e,t,n))];case"DivNoNan":return[we.N(C("a",e,t,n),C("b",e,t,n))];case"FloorDiv":return[Se.q(C("a",e,t,n),C("b",e,t,n))];case"Sub":return[_e.l(C("a",e,t,n),C("b",e,t,n))];case"Minimum":return[xe.L(C("a",e,t,n),C("b",e,t,n))];case"Maximum":return[Te.g(C("a",e,t,n),C("b",e,t,n))];case"Pow":return[ke.s(C("a",e,t,n),C("b",e,t,n))];case"SquaredDifference":return[Ee.$(C("a",e,t,n),C("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"basic_math":return _.tidy((()=>((e,t,n)=>{switch(e.op){case"Abs":case"ComplexAbs":return[Ce.W(C("x",e,t,n))];case"Acos":return[Oe.K(C("x",e,t,n))];case"Acosh":return[Pe._(C("x",e,t,n))];case"Asin":return[Ie.Z(C("x",e,t,n))];case"Asinh":return[Ae.V(C("x",e,t,n))];case"Atan":return[De.z(C("x",e,t,n))];case"Atan2":return[Me.f(C("x",e,t,n),C("y",e,t,n))];case"Atanh":return[Re.C(C("x",e,t,n))];case"Ceil":return[Ne.m(C("x",e,t,n))];case"Complex":return[Le.P(C("real",e,t,n),C("imag",e,t,n))];case"Cos":return[je.m(C("x",e,t,n))];case"Cosh":return[Be.f(C("x",e,t,n))];case"Elu":return[Fe.p(C("x",e,t,n))];case"Erf":return[Ue.q(C("x",e,t,n))];case"Exp":return[He.Q(C("x",e,t,n))];case"Expm1":return[ze.t(C("x",e,t,n))];case"Floor":return[Ve.G(C("x",e,t,n))];case"Log":return[$e.c(C("x",e,t,n))];case"Log1p":return[Ge.K(C("x",e,t,n))];case"Imag":return[We.a(C("x",e,t,n))];case"Neg":return[qe.W(C("x",e,t,n))];case"Reciprocal":return[Ze.M(C("x",e,t,n))];case"Real":return[Ke.k(C("x",e,t,n))];case"Relu":return[Xe.U(C("x",e,t,n))];case"Round":return[Ye.N(C("x",e,t,n))];case"Selu":return[Qe.U(C("x",e,t,n))];case"Sigmoid":return[Je.X(C("x",e,t,n))];case"Sin":return[et.O(C("x",e,t,n))];case"Sign":return[tt.X(C("x",e,t,n))];case"Sinh":return[nt.R(C("x",e,t,n))];case"Softplus":return[rt.W(C("x",e,t,n))];case"Sqrt":return[it._(C("x",e,t,n))];case"Square":return[at.h(C("x",e,t,n))];case"Tanh":return[ot.A(C("x",e,t,n))];case"Tan":return[st.O(C("x",e,t,n))];case"ClipByValue":return[lt.i(C("x",e,t,n),C("clipValueMin",e,t,n),C("clipValueMax",e,t,n))];case"Relu6":return[ut.b(C("x",e,t,n))];case"Rsqrt":return[ct.b(O(e.inputNames[0],t,n))];case"Prod":return[dt.W(C("x",e,t,n),C("axes",e,t,n))];case"LeakyRelu":return[ft.h(C("x",e,t,n),C("alpha",e,t,n))];case"Prelu":return[pt.A(C("x",e,t,n),C("alpha",e,t,n))];case"IsNan":return[ht.i(O(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"control":return St(e,t,n);case"convolution":return _.tidy((()=>((e,t,n)=>{switch(e.op){case"Conv1D":{const r=C("stride",e,t,n),i=C("pad",e,t,n),a=C("dataFormat",e,t,n).toUpperCase(),o=C("dilation",e,t,n);return[_t.P(C("x",e,t,n),C("filter",e,t,n),r,i,a,o)]}case"Conv2D":{const r=C("strides",e,t,n),i=D(e,t,n),a=C("dataFormat",e,t,n).toUpperCase(),o=C("dilations",e,t,n);return[xt.T(C("x",e,t,n),C("filter",e,t,n),[r[1],r[2]],i,a,[o[1],o[2]])]}case"_FusedConv2D":{const{stride:r,pad:i,dataFormat:a,dilations:o,biasArg:s,preluArg:l,activationFunc:u,leakyreluAlpha:c}=Rt(e,t,n);return[Tt.conv2d({x:C("x",e,t,n),filter:C("filter",e,t,n),strides:[r[1],r[2]],pad:i,dataFormat:a,dilations:[o[1],o[2]],bias:s,activation:u,preluActivationWeights:l,leakyreluAlpha:c})]}case"FusedDepthwiseConv2dNative":{const{stride:r,pad:i,dataFormat:a,dilations:o,biasArg:s,preluArg:l,activationFunc:u,leakyreluAlpha:c}=Rt(e,t,n);return[Tt.depthwiseConv2d({x:C("x",e,t,n),filter:C("filter",e,t,n),strides:[r[1],r[2]],pad:i,dataFormat:a,dilations:[o[1],o[2]],bias:s,activation:u,preluActivationWeights:l,leakyreluAlpha:c})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=C("outputShape",e,t,n),i=C("strides",e,t,n),a=D(e,t,n);return[kt.b(C("x",e,t,n),C("filter",e,t,n),r,[i[1],i[2]],a)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=C("strides",e,t,n),i=D(e,t,n),a=C("dilations",e,t,n),o=C("dataFormat",e,t,n).toUpperCase();return[Et.B(C("input",e,t,n),C("filter",e,t,n),[r[1],r[2]],i,o,[a[1],a[2]])]}case"Conv3D":{const r=C("strides",e,t,n),i=C("pad",e,t,n),a=C("dataFormat",e,t,n).toUpperCase(),o=C("dilations",e,t,n);return[Ct.p(C("x",e,t,n),C("filter",e,t,n),[r[1],r[2],r[3]],i,a,[o[1],o[2],o[3]])]}case"AvgPool":{const r=C("strides",e,t,n),i=C("pad",e,t,n),a=C("kernelSize",e,t,n);return[Ot.w(C("x",e,t,n),[a[1],a[2]],[r[1],r[2]],i)]}case"MaxPool":{const r=C("strides",e,t,n),i=C("pad",e,t,n),a=C("kernelSize",e,t,n);return[Pt._(C("x",e,t,n),[a[1],a[2]],[r[1],r[2]],i)]}case"MaxPoolWithArgmax":{const r=C("strides",e,t,n),i=C("pad",e,t,n),a=C("kernelSize",e,t,n),o=C("includeBatchInIndex",e,t,n),{result:s,indexes:l}=It.I(C("x",e,t,n),[a[1],a[2]],[r[1],r[2]],i,o);return[s,l]}case"AvgPool3D":{const r=C("strides",e,t,n),i=C("pad",e,t,n),a=C("kernelSize",e,t,n);return[At.u(C("x",e,t,n),[a[1],a[2],a[3]],[r[1],r[2],r[3]],i)]}case"MaxPool3D":{const r=C("strides",e,t,n),i=C("pad",e,t,n),a=C("kernelSize",e,t,n);return[Dt.Y(C("x",e,t,n),[a[1],a[2],a[3]],[r[1],r[2],r[3]],i)]}case"Dilation2D":{const r=C("strides",e,t,n),i=C("pad",e,t,n),a=C("dilations",e,t,n),o=r[1],s=r[2],l=a[1],u=a[2];return[Mt.W(C("x",e,t,n),C("filter",e,t,n),[o,s],i,[l,u],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"creation":return _.tidy((()=>((e,t,n)=>{switch(e.op){case"Fill":{const r=C("shape",e,t,n),i=C("dtype",e,t,n),a=C("value",e,t,n);return[Nt.h(r,a,i)]}case"LinSpace":{const r=C("start",e,t,n),i=C("stop",e,t,n),a=C("num",e,t,n);return[Lt.S(r,i,a)]}case"Multinomial":{const r=C("logits",e,t,n),i=C("numSamples",e,t,n),a=C("seed",e,t,n);return[jt.S(r,i,a)]}case"OneHot":{const r=C("indices",e,t,n),i=C("depth",e,t,n),a=C("onValue",e,t,n),o=C("offValue",e,t,n);return[Bt.l(r,i,a,o)]}case"Ones":return[Ft.i(C("shape",e,t,n),C("dtype",e,t,n))];case"OnesLike":return[Ut.J(C("x",e,t,n))];case"RandomUniform":return[Ht.L(C("shape",e,t,n),C("minval",e,t,n),C("maxval",e,t,n),C("dtype",e,t,n))];case"Range":{const r=C("start",e,t,n),i=C("stop",e,t,n),a=C("step",e,t,n);return[zt.w(r,i,a,C("dtype",e,t,n))]}case"TruncatedNormal":{const r=C("shape",e,t,n),i=C("mean",e,t,n),a=C("stdDev",e,t,n),o=C("seed",e,t,n);return[Vt.X(r,i,a,C("dtype",e,t,n),o)]}case"Zeros":return[$t.l(C("shape",e,t,n),C("dtype",e,t,n))];case"ZerosLike":return[Gt.P(C("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"dynamic":return(async(e,t,n)=>{switch(e.op){case"NonMaxSuppressionV5":{const{boxes:r,scores:i,maxOutputSize:a,iouThreshold:o,scoreThreshold:s,softNmsSigma:l}=Xt(e,t,n),u=await Wt.BHj.nonMaxSuppressionWithScoreAsync(r,i,a,o,s,l);return[u.selectedIndices,u.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:r,scores:i,maxOutputSize:a,iouThreshold:o,scoreThreshold:s}=Xt(e,t,n),l=C("padToMaxOutputSize",e,t,n),u=await Wt.BHj.nonMaxSuppressionPaddedAsync(r,i,a,o,s,l);return[u.selectedIndices,u.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:r,scores:i,maxOutputSize:a,iouThreshold:o,scoreThreshold:s}=Xt(e,t,n);return[await Wt.BHj.nonMaxSuppressionAsync(r,i,a,o,s)]}case"Where":{const r=qt.p(C("condition",e,t,n),"bool"),i=[await Zt.i(r)];return r.dispose(),i}case"ListDiff":return Kt.O(C("x",e,t,n),C("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n);case"evaluation":return _.tidy((()=>((e,t,n)=>{switch(e.op){case"LowerBound":{const r=C("sortedSequence",e,t,n),i=C("values",e,t,n);return[Yt.e(r,i)]}case"TopKV2":{const r=C("x",e,t,n),i=C("k",e,t,n),a=C("sorted",e,t,n),o=Qt.h(r,i,a);return[o.values,o.indices]}case"UpperBound":{const r=C("sortedSequence",e,t,n),i=C("values",e,t,n);return[Jt.G(r,i)]}case"Unique":{const r=C("x",e,t,n),i=en.T(r);return[i.values,i.indices]}case"UniqueV2":{const r=C("x",e,t,n),i=C("axis",e,t,n),a=en.T(r,i);return[a.values,a.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"image":return _.tidy((()=>((e,t,n)=>{switch(e.op){case"ResizeBilinear":{const r=C("images",e,t,n),i=C("size",e,t,n),a=C("alignCorners",e,t,n),o=C("halfPixelCenters",e,t,n);return[Wt.BHj.resizeBilinear(r,[i[0],i[1]],a,o)]}case"ResizeNearestNeighbor":{const r=C("images",e,t,n),i=C("size",e,t,n),a=C("alignCorners",e,t,n),o=C("halfPixelCenters",e,t,n);return[Wt.BHj.resizeNearestNeighbor(r,[i[0],i[1]],a,o)]}case"CropAndResize":{const r=C("image",e,t,n),i=C("boxes",e,t,n),a=C("boxInd",e,t,n),o=C("cropSize",e,t,n),s=C("method",e,t,n),l=C("extrapolationValue",e,t,n);return[Wt.BHj.cropAndResize(r,i,a,o,s,l)]}case"ImageProjectiveTransformV3":{const r=C("images",e,t,n),i=C("transforms",e,t,n),a=C("outputShape",e,t,n),o=C("fillValue",e,t,n),s=C("interpolation",e,t,n),l=C("fillMode",e,t,n);return[Wt.BHj.transform(r,i,s.toLowerCase(),l.toLowerCase(),o,a)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"graph":return _.tidy((()=>((e,t,n)=>{switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const r=C("default",e,t,n);return[O(e.name,t,n)||r];case"Placeholder":return[O(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[M(C("x",e,t,n))];case"IdentityN":return C("x",e,t,n).map((e=>M(e)));case"Shape":return[tn.R(C("x",e,t,n).shape,"int32")];case"ShapeN":return C("x",e,t,n).map((e=>tn.R(e.shape)));case"Size":return[nn.i(C("x",e,t,n).size,"int32")];case"Rank":return[nn.i(C("x",e,t,n).rank,"int32")];case"NoOp":return[nn.i(1)];case"Print":const i=C("x",e,t,n),a=C("data",e,t,n),o=C("message",e,t,n),s=C("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(o);for(let e=0;e<a.length;e++)console.log(Array.prototype.slice.call(a[e].dataSync()).slice(0,s));return[i];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"logical":return _.tidy((()=>((e,t,n)=>{switch(e.op){case"Equal":return[an.D(C("a",e,t,n),C("b",e,t,n))];case"NotEqual":return[on.Q(C("a",e,t,n),C("b",e,t,n))];case"Greater":return[sn.p(C("a",e,t,n),C("b",e,t,n))];case"GreaterEqual":return[ln.b(C("a",e,t,n),C("b",e,t,n))];case"Less":return[un.d(C("a",e,t,n),C("b",e,t,n))];case"LessEqual":return[cn.z(C("a",e,t,n),C("b",e,t,n))];case"LogicalAnd":return[dn.H(C("a",e,t,n),C("b",e,t,n))];case"LogicalNot":return[fn.h(C("a",e,t,n))];case"LogicalOr":return[pn.K(C("a",e,t,n),C("b",e,t,n))];case"Select":case"SelectV2":return[hn.a(C("condition",e,t,n),C("a",e,t,n),C("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"matrices":return _.tidy((()=>((e,t,n)=>{switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[mn.O(C("a",e,t,n),C("b",e,t,n),C("transposeA",e,t,n),C("transposeB",e,t,n))];case"Einsum":return[gn.W(C("equation",e,t,n),...C("tensors",e,t,n))];case"Transpose":return[vn.p(C("x",e,t,n),C("perm",e,t,n))];case"_FusedMatMul":const[r,i]=C("fusedOps",e,t,n),a="biasadd"===r,o="prelu"===i,s=C("numArgs",e,t,n),l=C("leakyreluAlpha",e,t,n);if(a){if(o&&2!==s)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&1!==s)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,c]=C("args",e,t,n);return[Tt.matMul({a:C("a",e,t,n),b:C("b",e,t,n),transposeA:C("transposeA",e,t,n),transposeB:C("transposeB",e,t,n),bias:u,activation:i,preluActivationWeights:c,leakyreluAlpha:l})];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"normalization":return _.tidy((()=>((e,t,n)=>{switch(e.op){case"EuclideanNorm":return[yn.d(C("x",e,t,n),C("axis",e,t,n),C("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[bn.t(C("x",e,t,n),C("mean",e,t,n),C("variance",e,t,n),C("offset",e,t,n),C("scale",e,t,n),C("epsilon",e,t,n))];case"LRN":return[wn.G(C("x",e,t,n),C("radius",e,t,n),C("bias",e,t,n),C("alpha",e,t,n),C("beta",e,t,n))];case"Softmax":return[Sn.X(C("x",e,t,n))];case"LogSoftmax":return[_n.C(C("x",e,t,n))];case"SparseToDense":return[xn.e(C("sparseIndices",e,t,n),C("outputShape",e,t,n),C("sparseValues",e,t,n),C("defaultValue",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"reduction":return _.tidy((()=>((e,t,n)=>{switch(e.op){case"Max":{const r=C("axis",e,t,n),i=C("keepDims",e,t,n);return[Tn.F(C("x",e,t,n),r,i)]}case"Mean":{const r=C("axis",e,t,n),i=C("keepDims",e,t,n);return[kn.J(C("x",e,t,n),r,i)]}case"Min":{const r=C("axis",e,t,n),i=C("keepDims",e,t,n);return[En.V(C("x",e,t,n),r,i)]}case"Sum":{const r=C("axis",e,t,n),i=C("keepDims",e,t,n);return[Cn.S(C("x",e,t,n),r,i)]}case"All":{const r=C("axis",e,t,n),i=C("keepDims",e,t,n);return[On.$(C("x",e,t,n),r,i)]}case"Any":{const r=C("axis",e,t,n),i=C("keepDims",e,t,n);return[Pn.Y(C("x",e,t,n),r,i)]}case"ArgMax":{const r=C("axis",e,t,n);return[In.N(C("x",e,t,n),r)]}case"ArgMin":{const r=C("axis",e,t,n);return[An.v(C("x",e,t,n),r)]}case"Prod":{const r=C("axis",e,t,n),i=C("keepDims",e,t,n);return[dt.W(C("x",e,t,n),r,i)]}case"Cumprod":{const r=C("axis",e,t,n),i=C("exclusive",e,t,n),a=C("reverse",e,t,n);return[Dn.$(C("x",e,t,n),r,i,a)]}case"Cumsum":{const r=C("axis",e,t,n),i=C("exclusive",e,t,n),a=C("reverse",e,t,n);return[Mn.z(C("x",e,t,n),r,i,a)]}case"Bincount":const r=C("x",e,t,n),i=C("weights",e,t,n),a=C("size",e,t,n);return[Rn.y(r,i,a)];case"DenseBincount":{const r=C("x",e,t,n),i=C("weights",e,t,n),a=C("size",e,t,n),o=C("binaryOutput",e,t,n);return[Nn.p(r,i,a,o)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"slice_join":return _.tidy((()=>((e,t,n)=>{switch(e.op){case"ConcatV2":case"Concat":{const r=C("n",e,t,n),i=C("axis",e,t,n);let a=C("tensors",e,t,n);return a=a.slice(0,r),[Ln.z(a,i)]}case"Gather":{const r=C("x",e,t,n),i=C("indices",e,t,n);return[jn.I(r,qt.p(i,"int32"),0)]}case"GatherV2":{const r=C("axis",e,t,n),i=C("batchDims",e,t,n),a=C("x",e,t,n),o=C("indices",e,t,n);return[jn.I(a,qt.p(o,"int32"),r,i)]}case"Reverse":{const r=C("dims",e,t,n),i=[];for(let e=0;e<r.length;e++)r[e]&&i.push(e);const a=C("x",e,t,n);return[Bn.G(a,i)]}case"ReverseV2":{const r=C("axis",e,t,n),i=C("x",e,t,n);return[Bn.G(i,r)]}case"Slice":{const r=C("begin",e,t,n),i=C("size",e,t,n);return[Fn.t(C("x",e,t,n),r,i)]}case"StridedSlice":{const r=C("begin",e,t,n),i=C("end",e,t,n),a=C("strides",e,t,n),o=C("beginMask",e,t,n),s=C("endMask",e,t,n),l=C("ellipsisMask",e,t,n),u=C("newAxisMask",e,t,n),c=C("shrinkAxisMask",e,t,n),d=C("x",e,t,n);return[Un.N(d,r,i,a,o,s,l,u,c)]}case"Pack":return(0,_.tidy)((()=>{const r=C("axis",e,t,n),i=C("tensors",e,t,n),a=i[0].shape,o=Hn.L(i[0]).shape,s=i.map((e=>{const t=_.util.arraysEqual(e.shape,a);if(!t&&!_.util.arraysEqual(Hn.L(e).shape,o))throw new Error("the input tensors shape does not match");return t?e:zn.X(e,a)}));return[Vn.k(s,r)]}));case"Unpack":{const r=C("axis",e,t,n),i=C("tensor",e,t,n);return $n.H(i,r)}case"Tile":{const r=C("reps",e,t,n);return[Gn.G(C("x",e,t,n),r)]}case"Split":case"SplitV":{const r=C("axis",e,t,n),i=C("numOrSizeSplits",e,t,n),a=C("x",e,t,n);return Wn.V(a,i,r)}case"ScatterNd":{const r=C("indices",e,t,n),i=C("values",e,t,n),a=C("shape",e,t,n);return[qn.s(r,i,a)]}case"GatherNd":{const r=C("x",e,t,n),i=C("indices",e,t,n);return[Zn.d(r,i)]}case"SparseToDense":{const r=C("sparseIndices",e,t,n),i=C("outputShape",e,t,n),a=C("sparseValues",e,t,n),o=C("defaultValue",e,t,n);return[xn.e(r,a,i,a.dtype===o.dtype?o:qt.p(o,a.dtype))]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"sparse":return _.tidy((()=>((e,t,n)=>{switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:r,outputValues:i,emptyRowIndicator:a,reverseIndexMap:o}=Wt.rVs.sparseFillEmptyRows(C("indices",e,t,n),C("values",e,t,n),C("denseShape",e,t,n),C("defaultValue",e,t,n));return[r,i,a,o]}case"SparseReshape":{const{outputIndices:r,outputShape:i}=Wt.rVs.sparseReshape(C("inputIndices",e,t,n),C("inputShape",e,t,n),C("newShape",e,t,n));return[r,i]}case"SparseSegmentMean":return[Wt.rVs.sparseSegmentMean(C("data",e,t,n),C("indices",e,t,n),C("segmentIds",e,t,n))];case"SparseSegmentSum":return[Wt.rVs.sparseSegmentSum(C("data",e,t,n),C("indices",e,t,n),C("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"spectral":return _.tidy((()=>((e,t,n)=>{switch(e.op){case"FFT":return[Kn.k(C("x",e,t,n))];case"IFFT":return[Xn.S(C("x",e,t,n))];case"RFFT":return[Yn.Q(C("x",e,t,n))];case"IRFFT":return[Qn.w(C("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"string":return _.tidy((()=>((e,t,n)=>{switch(e.op){case"StringNGrams":{const{nGrams:r,nGramsSplits:i}=Wt.Z_8.stringNGrams(C("data",e,t,n),C("dataSplits",e,t,n),C("separator",e,t,n),C("nGramWidths",e,t,n),C("leftPad",e,t,n),C("rightPad",e,t,n),C("padWidth",e,t,n),C("preserveShortSequences",e,t,n));return[r,i]}case"StringSplit":{const{indices:r,values:i,shape:a}=Wt.Z_8.stringSplit(C("input",e,t,n),C("delimiter",e,t,n),C("skipEmpty",e,t,n));return[r,i,a]}case"StringToHashBucketFast":return[Wt.Z_8.stringToHashBucketFast(C("input",e,t,n),C("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"transformation":return _.tidy((()=>((e,t,n)=>{switch(e.op){case"Cast":return[qt.p(C("x",e,t,n),C("dtype",e,t,n))];case"ExpandDims":{const r=C("axis",e,t,n);return[Jn.d(C("x",e,t,n),r)]}case"Squeeze":{const r=C("axis",e,t,n);return[Hn.L(C("x",e,t,n),r)]}case"Reshape":return[zn.X(C("x",e,t,n),C("shape",e,t,n))];case"MirrorPad":return[er.V(C("x",e,t,n),C("padding",e,t,n),C("mode",e,t,n))];case"PadV2":case"Pad":return[tr.v(C("x",e,t,n),C("padding",e,t,n),C("constantValue",e,t,n))];case"SpaceToBatchND":{const r=C("blockShape",e,t,n),i=C("paddings",e,t,n);return[nr.f(C("x",e,t,n),r,i)]}case"BatchToSpaceND":{const r=C("blockShape",e,t,n),i=C("crops",e,t,n);return[rr.E(C("x",e,t,n),r,i)]}case"DepthToSpace":{const r=C("blockSize",e,t,n),i=C("dataFormat",e,t,n).toUpperCase();return[ir.n(C("x",e,t,n),r,i)]}case"BroadcastTo":return[ar.U(C("x",e,t,n),C("shape",e,t,n))];case"BroadcastArgs":return[or.X(C("s0",e,t,n),C("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"hash_table":return(async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const i=C("keyDType",e,t,n),a=C("valueDType",e,t,n),o=new rn(i,a);return r.addHashTable(e.name,o),[o.handle]}case"LookupTableImport":case"LookupTableImportV2":{const i=C("tableHandle",e,t,n,r),a=C("keys",e,t,n),o=C("values",e,t,n),s=r.getHashTableById(i.id);return[await s.import(a,o)]}case"LookupTableFind":case"LookupTableFindV2":{const i=C("tableHandle",e,t,n,r),a=C("keys",e,t,n),o=C("defaultValue",e,t,n),s=r.getHashTableById(i.id);return[await s.find(a,o)]}case"LookupTableSize":case"LookupTableSizeV2":{const i=C("tableHandle",e,t,n,r);return[r.getHashTableById(i.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n,r);case"custom":const i=E(e.op);if(i&&i.customExecutor)return i.customExecutor(new he(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return _.util.isPromise(i)?i.then((e=>[].concat(e))):[].concat(i)}class lr{constructor(e={},t={},n={},r={}){this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=r,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function ur(e,t,n,r){const i=new Set,a=[];let o=null,s=null;const l=new Set,u=Object.keys(e).map((e=>A(e)[0]));let c=[];null!=r&&(c=r.map((e=>A(e.name)[0])));const d=[...t];for(;d.length>0;){const e=d.pop();(pr(e)||hr(e)||mr(e))&&null==o&&(o=e,s=o.children.map((e=>e.name)).filter((e=>i.has(e)))),i.add(e.name),null==n[e.name]&&(-1===u.indexOf(e.name)&&-1===c.indexOf(e.name)&&(0!==e.inputs.length?e.inputs.forEach((e=>{l.has(e.name)||(l.add(e.name),d.push(e))})):a.push(e.name)))}return{inputs:e,outputs:t,usedNodes:i,missingInputs:a,dynamicNode:o,syncInputs:s}}const cr=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],dr=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],fr=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function pr(e){return cr.indexOf(e.op)>=0}function hr(e){return dr.indexOf(e.op)>=0}function mr(e){return fr.indexOf(e.op)>=0}class gr{constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new gr(e.functions[t],this)}))}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),r=t.map((e=>e.name)).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}compile(e,t){const n=ur(e,t,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:i,syncInputs:a}=n;if(null!=i)throw new Error(`This execution contains the node '${i.name}', which has the dynamic op '${i.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${a}]`);if(r.length>0){const n=t.map((e=>e.name)),i=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs [${i}]. Missing the following inputs: [${r}]`)}return function(e,t,n){const{usedNodes:r,inputs:i}=n,a=[],o=Object.keys(i).map((e=>A(e)[0])).map((t=>e.nodes[t])),s=e.initNodes;o.forEach((e=>{r.has(e.name)&&a.push(e)})),e.weights.forEach((e=>{r.has(e.name)&&a.push(e)})),null!=s&&s.forEach((e=>{r.has(e.name)&&a.push(e)}));const l=new Set,u=[];for(;a.length>0;){const e=a.pop();l.add(e.name),t[e.name]||u.push(e),e.children.forEach((e=>{!l.has(e.name)&&r.has(e.name)&&e.inputs.every((e=>l.has(e.name)))&&a.push(e)}))}return u}(this.graph,this.weightMap,n)}execute(e,t){e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r=n.map((e=>this.graph.nodes[A(e)[0]])),i=t.map((e=>A(e)[0]));let a=i.map((e=>this.graph.nodes[e]));this.resetIntermediateTensors(),0===a.length&&(a=this._outputs);const o=this.getCompilationKey(r,a);let s=this.compiledMap.get(o);null==s&&(s=this.compile(e,a),this.compiledMap.set(o,s));const l={},u={};return(0,_.tidy)((()=>{const n=new lr(this.weightMap,l,u,this.functionExecutorMap),r=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,i]=A(t),a=[];a[i]=e[t],r[n]=a}));const a=this.getFrozenTensorIds(r),o={};for(let e=0;e<s.length;e++){const t=s[e];if(!r[t.name]){const e=sr(t,r,n,this._resourceManager);if(_.util.isPromise(e))throw new Error(`The execution of the op '${t.op}' returned a promise. Please use model.executeAsync() instead.`);r[t.name]=e,this.checkTensorForDisposal(t.name,t,r,n,a,i,o)}}return null==this.parent&&n.dispose(a),t.map((e=>O(e,r,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,r,i,a,o){"control"!==t.category&&-1===a.indexOf(e)&&(n[e].forEach((e=>{null!=e&&(o[e.id]=(o[e.id]||0)+t.children.length)})),t.inputs.forEach((e=>{if("control"!==e.category){const a=function(e,t,n){return t[I(e,n.currentContextId)]}(e.name,n,r);null!=a&&a.forEach((e=>{if(e&&!e.kept&&!i.has(e.id)){const n=o[e.id];if(1===n){if(this.keepTensorForDebug){const[n,i]=P(t.name,r);this.intermediateTensors[n]||(this.intermediateTensors[n]=[]),this.intermediateTensors[n][i]=e}else e.dispose();delete o[e.id]}else null!=n&&o[e.id]--}}))}})))}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((e=>this.intermediateTensors[e].forEach((e=>e.dispose())))),this.disposeTensorsMap())}disposeTensorsMap(){this.tensorsMap&&Object.keys(this.tensorsMap).forEach((e=>{this.tensorsMap[e].forEach((e=>{!e||e.kept||e.isDisposed||this.keepIds.has(e.id)||e.dispose()}))}))}getIntermediateTensors(){return this.tensorsMap}resetIntermediateTensors(){for(const e in this.intermediateTensors)this.intermediateTensors[e].forEach((e=>e.dispose())),delete this.intermediateTensors[e]}async _executeAsync(e,t,n=!1,r={},i={}){n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepTensorForDebug=(0,_.env)().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(u){console.warn(u.message)}this.resetIntermediateTensors();const a=new lr(this.weightMap,r,i,this.functionExecutorMap);this.tensorsMap=await this.executeWithControlFlow(e,a,t,n);const o=t.map((e=>O(e,this.tensorsMap,a))),s=o.map((e=>e.id)),l=Object.keys(e).map((t=>e[t].id));return this.keepIds=new Set([...s,...l,...this.weightIds]),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&a.dispose(this.keepIds),o}async executeFunctionAsync(e,t,n){const r=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(r,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,r){const i=Object.keys(e),a=i.map((e=>this.graph.nodes[A(e)[0]])),o=n.map((e=>A(e)[0]));let s=o.map((e=>this.graph.nodes[e]));0===s.length&&(s=this._outputs);const{usedNodes:l,missingInputs:u,dynamicNode:c,syncInputs:d}=ur(e,s,this.weightMap,this._initNodes),f=[...a,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),p=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,r]=A(t),i=[];i[r]=e[t],p[n]=i}));const h={},m=this.getFrozenTensorIds(p),g={};for(;f.length>0;){const e=this.processStack(a,f,t,p,g,m,o,h,l);await Promise.all(e)}null!=c||r||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const v=s.filter((e=>!pr(e)&&!O(e.name,p,t))).map((e=>e.name));if(v.length>0){let e="";throw null!=c&&(e=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${d}]`),new Error(`Cannot compute the outputs [${v}] from the provided inputs [${i}]. Consider providing the following inputs: [${u}]. ${e}`)}return p}processStack(e,t,n,r,i,a,o,s,l){const u=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let c="";if("Enter"===e.node.op&&C("isConstant",e.node,r,n)&&([c]=P(e.node.name,n)),null==r[e.node.name]){const d=sr(e.node,r,n,this._resourceManager);c||([c]=P(e.node.name,n));const f=n.currentContext;_.util.isPromise(d)?u.push(d.then((u=>(r[c]=u,n.currentContext=f,this.checkTensorForDisposal(c,e.node,r,n,a,o,s),this.processChildNodes(e.node,t,n,r,i,l),u)))):(r[c]=d,this.checkTensorForDisposal(c,e.node,r,n,a,o,s),this.processChildNodes(e.node,t,n,r,i,l))}else this.processChildNodes(e.node,t,n,r,i,l)}return u}processChildNodes(e,t,n,r,i,a){e.children.forEach((e=>{const[o]=P(e.name,n);!i[o]&&a.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!O(e,r,n)))&&(i[o]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!O(e,r,n)))&&(i[o]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[r]=A(t),i=this.graph.nodes[r];if(i.attrParams.shape&&i.attrParams.shape.value){const e=i.attrParams.shape.value,t=e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t));_.util.assert(t,(()=>`The shape of dict['${i.name}'] provided in model.execute(dict) must be [${e}], but was [${n.shape}]`))}i.attrParams.dtype&&i.attrParams.dtype.value&&_.util.assert(n.dtype===i.attrParams.dtype.value,(()=>`The dtype of dict['${i.name}'] provided in model.execute(dict) must be ${i.attrParams.dtype.value}, but was ${n.dtype}`))}))}mapInputs(e){const t={};for(const n in e)if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n]){t[this._signature.inputs[n].name]=e[n]}else t[n]=e[n];return t}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=A(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map((e=>{if(null!=this._signature&&null!=this._signature.outputs&&null!=this._signature.outputs[e]){return this._signature.outputs[e].name}return e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=A(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)}))}}class vr{constructor(e={},t={}){this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}class yr{constructor(e,t={}){this.modelUrl=e,this.loadOptions=t,this.version="n/a",null==t&&(this.loadOptions={}),this.resourceManager=new vr}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=_.io.browserHTTPRequest(e,this.loadOptions);else{const t=_.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(_.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return _.util.isPromise(e)?e.then((e=>this.loadSync(e))):this.loadSync(e)}loadSync(e){this.artifacts=e;const t=this.artifacts.modelTopology;let n;n=null!=this.artifacts.userDefinedMetadata&&null!=this.artifacts.userDefinedMetadata.signature?this.artifacts.userDefinedMetadata.signature:this.artifacts.signature,this.signature=n,this.version=`${t.versions.producer}.${t.versions.minConsumer}`;const r=_.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new gr(J.Instance.transformGraph(t,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=J.Instance.transformGraph(e.modelInitializer);this.initializer=new gr(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}async save(e,t){if("string"===typeof e){const t=_.io.getSaveHandlers(e);if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,t){return this.execute(e,this.outputNodes)}normalizeInputs(e){if(!(e instanceof _.Tensor)&&!Array.isArray(e))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error(`Input tensor count mismatch,the graph model has ${this.inputNodes.length} placeholders, while there are ${e.length} input tensors.`);return this.inputNodes.reduce(((t,n,r)=>(t[n]=e[r],t)),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}async function br(e,t={}){if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&"string"===typeof e&&(e=function(e){e.endsWith("/")||(e+="/");return`${e}model.json?tfjs-format=file`}(e));const n=new yr(e,t);return await n.load(),n}var wr=function(e,t){return(wr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Sr(e,t){function n(){this.constructor=e}wr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var _r=function(){return(_r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function xr(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}function Tr(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function kr(e){var t=e.shape[2],n=(0,_.argMax)(e,2),r=(0,_.reshape)(n,[-1]);return(0,_.oneHot)(r,t)}function Er(e,t){return(0,_.tidy)((function(){return(0,_.cast)((0,_.greater)(e,(0,_.scalar)(t)),"int32")}))}function Cr(e,t){var n=t.shape,r=n[0],i=n[1],a=n[2];return(0,_.tidy)((function(){var n=kr(t),o=(0,_.expandDims)((0,_.range)(0,a,1,"int32"),1),s=(0,_.cast)((0,_.matMul)(n,o),"int32"),l=(0,_.reshape)(s,[r,i]),u=(0,_.add)(l,(0,_.scalar)(1,"int32"));return(0,_.sub)(function(e,t){return(0,_.mul)(e,t)}(u,e),(0,_.scalar)(1,"int32"))}))}function Or(e){var t=e.shape,n=t[0],r=t[1],i=t[2];return(0,_.tidy)((function(){var t=kr(e),a=(0,_.expandDims)((0,_.range)(0,i,1,"int32"),1),o=(0,_.cast)((0,_.matMul)(t,a),"int32");return(0,_.reshape)(o,[n,r])}))}var Pr=function(){function e(e,t){this.model=e,this.outputStride=t;var n=this.model.inputs[0].shape;_.util.assert(-1===n[1]&&-1===n[2],(function(){return"Input shape ["+n[1]+", "+n[2]+"] must both be equal to or -1"}))}return e.prototype.predict=function(e){var t=this;return(0,_.tidy)((function(){var n=t.preprocessInput((0,_.cast)(e,"float32")),r=(0,_.expandDims)(n,0),i=t.model.predict(r).map((function(e){return(0,_.squeeze)(e,[0])})),a=t.nameOutputResults(i);return{heatmapScores:(0,_.sigmoid)(a.heatmap),offsets:a.offsets,displacementFwd:a.displacementFwd,displacementBwd:a.displacementBwd,segmentation:a.segmentation,partHeatmaps:a.partHeatmaps,longOffsets:a.longOffsets,partOffsets:a.partOffsets}}))},e.prototype.dispose=function(){this.model.dispose()},e}(),Ir=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sr(t,e),t.prototype.preprocessInput=function(e){return(0,_.tidy)((function(){return(0,_.sub)((0,_.div)(e,127.5),1)}))},t.prototype.nameOutputResults=function(e){return{offsets:e[0],segmentation:e[1],partHeatmaps:e[2],longOffsets:e[3],heatmap:e[4],displacementFwd:e[5],displacementBwd:e[6],partOffsets:e[7]}},t}(Pr),Ar=["nose","leftEye","rightEye","leftEar","rightEar","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle"],Dr=Ar.length,Mr=Ar.reduce((function(e,t,n){return e[t]=n,e}),{});[["leftHip","leftShoulder"],["leftElbow","leftShoulder"],["leftElbow","leftWrist"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["rightHip","rightShoulder"],["rightElbow","rightShoulder"],["rightElbow","rightWrist"],["rightHip","rightKnee"],["rightKnee","rightAnkle"],["leftShoulder","rightShoulder"],["leftHip","rightHip"]].map((function(e){var t=e[0],n=e[1];return[Mr[t],Mr[n]]}));function Rr(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1],s=n.top,l=n.bottom;return[o/(n.left+n.right+i),a/(s+l+r)]}function Nr(e,t,n,r){return{y:r.get(e,t,n),x:r.get(e,t,n+Dr)}}function Lr(e,t,n){var r=Nr(e.heatmapY,e.heatmapX,e.id,n),i=r.y,a=r.x;return{x:e.heatmapX*t+a,y:e.heatmapY*t+i}}function jr(e,t,n){return e<t?t:e>n?n:e}function Br(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Fr(e,t,n){void 0===n&&(n=.3);for(var r=0,i=0,a=0;a<e.length;a++)t.keypoints[a].score>n&&(i+=1,r+=Math.pow(e[a].x-t.keypoints[a].position.x,2)+Math.pow(e[a].y-t.keypoints[a].position.y,2));return 0===i?r=1/0:r/=i,r}function Ur(e,t,n,r,i,a,o){for(var s=o[0],l=o[1],u=n(e),c=u.y*r+u.x,d=i[Dr*(2*c)+t],f=i[Dr*(2*c+1)+t],p=e.y+d,h=e.x+f,m=0;m<a;m++){p=Math.min(p,s-1);var g=n({x:h=Math.min(h,l-1),y:p}),v=g.y*r+g.x;p+=d=i[Dr*(2*v)+t],h+=f=i[Dr*(2*v+1)+t]}return{x:h,y:p}}function Hr(e,t,n,r,i,a,o,s,l,u){for(var c=i[0],d=i[1],f=a[0],p=a[1],h=s[0],m=s[1],g=[],v=function(e){return function(e,t,n,r){var i=t[0],a=t[1],o=n[0],s=n[1],l=Math.round(((i+e.y+1)*s-1)/r);return{x:Math.round(((a+e.x+1)*o-1)/r),y:l}}(e,[c,d],[f,p],l)},y=0;y<r;y++){var b=Ur(e,y,v,o,t,u,[h,m]);g.push(b)}for(var w=-1,S=1/0,_=0;_<n.length;_++){var x=Fr(g,n[_]);x<S&&(w=_,S=x)}return w}function zr(e,t){var n=e[0],r=e[1];return[Math.round((r-1)/t+1),Math.round((n-1)/t+1)]}function Vr(e,t,n,r,i,a,o,s,l,u,c){for(var d=o[0],f=o[1],p=e.shape,h=p[0],m=p[1],g=t.shape.slice(0,2),v=g[0],y=g[1],b=(0,_.reshape)(t,[v,y,2,Dr]),w=new Float32Array(c*Dr*3).fill(0),S=0;S<n.length;S++)for(var x=S*Dr*3,T=n[S],k=0;k<Dr;k++){var E=T.keypoints[k],C=x+3*k;w[C]=E.score,w[C+1]=E.position.y,w[C+2]=E.position.x}var O=Rr([r,i],[d,f],s),P=O[0],I=O[1],A=(0,_.tensor)(w,[c,Dr,3]),D=s.top,M=s.left,R={variableNames:["segmentation","longOffsets","poses"],outputShape:[h,m],userCode:"\n    int convertToPositionInOutput(int pos, int pad, float scale, int stride) {\n      return round(((float(pos + pad) + 1.0) * scale - 1.0) / float(stride));\n    }\n\n    float convertToPositionInOutputFloat(\n        int pos, int pad, float scale, int stride) {\n      return ((float(pos + pad) + 1.0) * scale - 1.0) / float(stride);\n    }\n\n    float dist(float x1, float y1, float x2, float y2) {\n      return pow(x1 - x2, 2.0) + pow(y1 - y2, 2.0);\n    }\n\n    float sampleLongOffsets(float h, float w, int d, int k) {\n      float fh = fract(h);\n      float fw = fract(w);\n      int clH = int(ceil(h));\n      int clW = int(ceil(w));\n      int flH = int(floor(h));\n      int flW = int(floor(w));\n      float o11 = getLongOffsets(flH, flW, d, k);\n      float o12 = getLongOffsets(flH, clW, d, k);\n      float o21 = getLongOffsets(clH, flW, d, k);\n      float o22 = getLongOffsets(clH, clW, d, k);\n      float o1 = mix(o11, o12, fw);\n      float o2 = mix(o21, o22, fw);\n      return mix(o1, o2, fh);\n    }\n\n    int findNearestPose(int h, int w) {\n      float prob = getSegmentation(h, w);\n      if (prob < 1.0) {\n        return -1;\n      }\n\n      // Done(Tyler): convert from output space h/w to strided space.\n      float stridedH = convertToPositionInOutputFloat(\n        h, "+D+", "+I+", "+a+");\n      float stridedW = convertToPositionInOutputFloat(\n        w, "+M+", "+P+", "+a+");\n\n      float minDist = 1000000.0;\n      int iMin = -1;\n      for (int i = 0; i < "+c+"; i++) {\n        float curDistSum = 0.0;\n        int numKpt = 0;\n        for (int k = 0; k < "+Dr+"; k++) {\n          float dy = sampleLongOffsets(stridedH, stridedW, 0, k);\n          float dx = sampleLongOffsets(stridedH, stridedW, 1, k);\n\n          float y = float(h) + dy;\n          float x = float(w) + dx;\n\n          for (int s = 0; s < "+l+"; s++) {\n            int yRounded = round(min(y, float("+(r-1)+")));\n            int xRounded = round(min(x, float("+(i-1)+")));\n\n            float yStrided = convertToPositionInOutputFloat(\n              yRounded, "+D+", "+I+", "+a+");\n            float xStrided = convertToPositionInOutputFloat(\n              xRounded, "+M+", "+P+", "+a+");\n\n            float dy = sampleLongOffsets(yStrided, xStrided, 0, k);\n            float dx = sampleLongOffsets(yStrided, xStrided, 1, k);\n\n            y = y + dy;\n            x = x + dx;\n          }\n\n          float poseScore = getPoses(i, k, 0);\n          float poseY = getPoses(i, k, 1);\n          float poseX = getPoses(i, k, 2);\n          if (poseScore > "+u+") {\n            numKpt = numKpt + 1;\n            curDistSum = curDistSum + dist(x, y, poseX, poseY);\n          }\n        }\n        if (numKpt > 0 && curDistSum / float(numKpt) < minDist) {\n          minDist = curDistSum / float(numKpt);\n          iMin = i;\n        }\n      }\n      return iMin;\n    }\n\n    void main() {\n        ivec2 coords = getOutputCoords();\n        int nearestPose = findNearestPose(coords[0], coords[1]);\n        setOutput(float(nearestPose));\n      }\n  "};return(0,_.backend)().compileAndRun(R,[e,b,A])}function $r(){return"webgl"===(0,_.getBackend)()}function Gr(e,t,n,r,i,a,o,s,l,u,c,d){var f=o[0],p=o[1];return void 0===l&&(l=.2),void 0===u&&(u=8),void 0===c&&(c=.3),void 0===d&&(d=10),xr(this,void 0,void 0,(function(){var o,h,m,g,v;return Tr(this,(function(y){switch(y.label){case 0:return o=n.filter((function(e){return e.score>=l})),$r()?(m=(0,_.tidy)((function(){var n=Vr(e,t,o,r,i,a,[f,p],s,u,c,d),l=(0,_.engine)().makeTensorFromDataId(n.dataId,n.shape,n.dtype);return o.map((function(e,t){return function(e,t){return(0,_.tidy)((function(){return(0,_.cast)((0,_.equal)(e,(0,_.scalar)(t)),"int32")}))}(l,t)}))})),[4,Promise.all(m.map((function(e){return e.data()})))]):[3,2];case 1:return h=y.sent(),m.forEach((function(e){return e.dispose()})),[3,5];case 2:return[4,e.data()];case 3:return g=y.sent(),[4,t.data()];case 4:v=y.sent(),h=function(e,t,n,r,i,a,o,s,l,u){var c=o[0],d=o[1];void 0===u&&(u=5);for(var f=n.map((function(e){return new Uint8Array(r*i).fill(0)})),p=s.top,h=s.left,m=Rr([r,i],[c,d],s),g=m[0],v=m[1],y=zr([c,d],a)[0],b=0;b<r;b+=1)for(var w=0;w<i;w+=1){var S=b*i+w;if(1===e[S]){var _=Hr({x:w,y:b},t,n,u,[p,h],[g,v],y,[r,i],a,l);_>=0&&(f[_][S]=1)}}return f}(g,v,o,r,i,a,[f,p],s,u),y.label=5;case 5:return[2,h.map((function(e,t){return{data:e,pose:o[t],width:i,height:r}}))]}}))}))}function Wr(e,t,n,r,i,a,o,s,l,u,c,d,f){var p=s[0],h=s[1];return void 0===u&&(u=.2),void 0===c&&(c=8),void 0===d&&(d=.3),void 0===f&&(f=10),xr(this,void 0,void 0,(function(){var s,m,g,v,y,b;return Tr(this,(function(w){switch(w.label){case 0:return s=r.filter((function(e){return e.score>=u})),$r()?(g=(0,_.tidy)((function(){var r=Vr(e,t,s,i,a,o,[p,h],l,c,d,f),u=(0,_.engine)().makeTensorFromDataId(r.dataId,r.shape,r.dtype);return s.map((function(e,t){return function(e,t,n){return(0,_.tidy)((function(){return(0,_.sub)((0,_.mul)((0,_.cast)((0,_.equal)(e,(0,_.scalar)(n)),"int32"),(0,_.add)(t,1)),1)}))}(u,n,t)}))})),[4,Promise.all(g.map((function(e){return e.data()})))]):[3,2];case 1:return m=w.sent(),g.forEach((function(e){return e.dispose()})),[3,6];case 2:return[4,e.data()];case 3:return v=w.sent(),[4,t.data()];case 4:return y=w.sent(),[4,n.data()];case 5:b=w.sent(),m=function(e,t,n,r,i,a,o,s,l,u,c){var d=s[0],f=s[1];void 0===c&&(c=5);for(var p=r.map((function(e){return new Int32Array(i*a).fill(-1)})),h=l.top,m=l.left,g=Rr([i,a],[d,f],l),v=g[0],y=g[1],b=zr([d,f],o)[0],w=0;w<i;w+=1)for(var S=0;S<a;S+=1){var _=w*a+S;if(1===e[_]){var x=Hr({x:S,y:w},t,r,c,[h,m],[v,y],b,[i,a],o,u);x>=0&&(p[x][_]=n[_])}}return p}(v,y,b,s,i,a,o,[p,h],l,c),w.label=6;case 6:return[2,m.map((function(e,t){return{pose:s[t],data:e,height:i,width:a}}))]}}))}))}function qr(e){return Math.floor(e/2)}var Zr=function(){function e(e,t){this.priorityQueue=new Array(e),this.numberOfElements=-1,this.getElementValue=t}return e.prototype.enqueue=function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements)},e.prototype.dequeue=function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e},e.prototype.empty=function(){return-1===this.numberOfElements},e.prototype.size=function(){return this.numberOfElements+1},e.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1)},e.prototype.max=function(){return this.priorityQueue[0]},e.prototype.swim=function(e){for(;e>0&&this.less(qr(e),e);)this.exchange(e,qr(e)),e=qr(e)},e.prototype.sink=function(e){for(;2*e<=this.numberOfElements;){var t=2*e;if(t<this.numberOfElements&&this.less(t,t+1)&&t++,!this.less(e,t))break;this.exchange(e,t),e=t}},e.prototype.getValueAt=function(e){return this.getElementValue(this.priorityQueue[e])},e.prototype.less=function(e,t){return this.getValueAt(e)<this.getValueAt(t)},e.prototype.exchange=function(e,t){var n=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[t],this.priorityQueue[t]=n},e}();function Kr(e,t,n,r,i,a){for(var o=a.shape,s=o[0],l=o[1],u=!0,c=Math.max(n-i,0),d=Math.min(n+i+1,s),f=c;f<d;++f){for(var p=Math.max(r-i,0),h=Math.min(r+i+1,l),m=p;m<h;++m)if(a.get(f,m,e)>t){u=!1;break}if(!u)break}return u}var Xr=[["nose","leftEye"],["leftEye","leftEar"],["nose","rightEye"],["rightEye","rightEar"],["nose","leftShoulder"],["leftShoulder","leftElbow"],["leftElbow","leftWrist"],["leftShoulder","leftHip"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["nose","rightShoulder"],["rightShoulder","rightElbow"],["rightElbow","rightWrist"],["rightShoulder","rightHip"],["rightHip","rightKnee"],["rightKnee","rightAnkle"]].map((function(e){var t=e[0],n=e[1];return[Mr[t],Mr[n]]})),Yr=Xr.map((function(e){return e[1]})),Qr=Xr.map((function(e){return e[0]}));function Jr(e,t,n,r){return{y:jr(Math.round(e.y/t),0,n-1),x:jr(Math.round(e.x/t),0,r-1)}}function ei(e,t,n,r,i,a,o,s){void 0===s&&(s=2);for(var l=r.shape,u=l[0],c=l[1],d=function(e,t,n){var r=n.shape[2]/2;return{y:n.get(t.y,t.x,e),x:n.get(t.y,t.x,r+e)}}(e,Jr(t.position,a,u,c),o),f=Br(t.position,d),p=0;p<s;p++){var h=Jr(f,a,u,c),m=Nr(h.y,h.x,n,i);f=Br({x:h.x*a,y:h.y*a},{x:m.x,y:m.y})}var g=Jr(f,a,u,c),v=r.get(g.y,g.x,n);return{position:f,part:Ar[n],score:v}}function ti(e,t,n,r,i,a){var o=t.shape[2],s=Yr.length,l=new Array(o),u=e.part,c=e.score,d=Lr(u,r,n);l[u.id]={score:c,part:Ar[u.id],position:d};for(var f=s-1;f>=0;--f){var p=Yr[f],h=Qr[f];l[p]&&!l[h]&&(l[h]=ei(f,l[p],h,t,n,r,a))}for(f=0;f<s;++f)p=Qr[f],h=Yr[f],l[p]&&!l[h]&&(l[h]=ei(f,l[p],h,t,n,r,i));return l}function ni(e,t,n,r){var i=n.x,a=n.y;return e.some((function(e){var n=e.keypoints[r].position;return function(e,t,n,r){var i=n-e,a=r-t;return i*i+a*a}(a,i,n.y,n.x)<=t}))}function ri(e,t,n){return n.reduce((function(n,r,i){var a=r.position,o=r.score;return ni(e,t,a,i)||(n+=o),n}),0)/n.length}function ii(e,t,n,r,i,a,o,s){void 0===o&&(o=.5),void 0===s&&(s=20);for(var l=[],u=function(e,t,n){for(var r=n.shape,i=r[0],a=r[1],o=r[2],s=new Zr(i*a*o,(function(e){return e.score})),l=0;l<i;++l)for(var u=0;u<a;++u)for(var c=0;c<o;++c){var d=n.get(l,u,c);d<e||Kr(c,d,l,u,t,n)&&s.enqueue({score:d,part:{heatmapY:l,heatmapX:u,id:c}})}return s}(o,1,e),c=s*s;l.length<a&&!u.empty();){var d=u.dequeue();if(!ni(l,c,Lr(d.part,i,t),d.part.id)){var f=ti(d,e,t,i,n,r),p=ri(l,c,f);l.push({keypoints:f,score:p})}}return l}var ai,oi=[-123.15,-115.9,-103.06],si=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sr(t,e),t.prototype.preprocessInput=function(e){return(0,_.add)(e,oi)},t.prototype.nameOutputResults=function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5];return{offsets:a,segmentation:e[6],partHeatmaps:o,longOffsets:i,heatmap:r,displacementFwd:n,displacementBwd:t,partOffsets:e[7]}},t}(Pr),li="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/resnet50/",ui="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/mobilenet/";function ci(e){if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)return function(e){if("offsetHeight"in e&&0!==e.offsetHeight&&"offsetWidth"in e&&0!==e.offsetWidth)return[e.offsetHeight,e.offsetWidth];if(null!=e.height&&null!=e.width)return[e.height,e.width];throw new Error("HTMLImageElement must have height and width attributes set.")}(e);if("undefined"!=typeof ImageData&&e instanceof ImageData)return[e.height,e.width];if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)return function(e){return e.hasAttribute("height")&&e.hasAttribute("width")?[e.height,e.width]:[e.videoHeight,e.videoWidth]}(e);if(e instanceof _.Tensor)return[e.shape[0],e.shape[1]];throw new Error("error: Unknown input type: "+e+".")}function di(e,t){return function(e,t){return(e-1)%t==0}(e,t)?e:Math.floor(e/t)*t+1}var fi={low:"low",medium:"medium",high:"high",full:"full"},pi=((ai={})[fi.low]=.25,ai[fi.medium]=.5,ai[fi.high]=.75,ai[fi.full]=1,ai);function hi(e,t,n){var r=n[0],i=n[1],a=function(e){if("string"==typeof e){var t=pi[e];return _.util.assert("number"==typeof t,(function(){return"string value of inputResolution must be one of "+Object.values(fi).join(",")+" but was "+e+"."})),t}return _.util.assert("number"==typeof e&&e<=2&&e>=.1,(function(){return"inputResolution must be a string or number between 0.1 and 2, but was "+e})),e}(e);return[di(r*a,t),di(i*a,t)]}function mi(e,t,n,r,i){var a=t[0],o=t[1],s=n[0],l=n[1],u=r[0],c=u[0],d=u[1],f=r[1],p=f[0],h=f[1];return void 0===i&&(i=!1),(0,_.tidy)((function(){var t=_.image.resizeBilinear(e,[s,l],!0);return i&&(t=(0,_.sigmoid)(t)),function(e,t,n){var r=t[0],i=t[1],a=n[0],o=a[0],s=a[1],l=n[1],u=l[0],c=l[1];return(0,_.tidy)((function(){var t=(0,_.expandDims)(e);return(0,_.squeeze)(_.image.cropAndResize(t,[[o/(r+o+s-1),u/(i+u+c-1),(o+r-1)/(r+o+s-1),(u+i-1)/(i+u+c-1)]],[0],[r,i]),[0])}))}(t,[a,o],[[c,d],[p,h]])}))}function gi(e,t){var n=t[0],r=t[1],i=ci(e),a=i[0],o=i[1],s=r/n,l=[0,0,0,0],u=l[0],c=l[1],d=l[2],f=l[3];return o/a<s?(u=0,c=0,d=Math.round(.5*(s*a-o)),f=Math.round(.5*(s*a-o))):(u=Math.round(.5*(1/s*o-a)),c=Math.round(.5*(1/s*o-a)),d=0,f=0),{resized:(0,_.tidy)((function(){var t=function(e){return e instanceof _.Tensor?e:_.browser.fromPixels(e)}(e);return t=(0,_.pad3d)(t,[[u,c],[d,f],[0,0]]),_.image.resizeBilinear(t,[n,r])})),padding:{top:u,left:d,right:f,bottom:c}}}function vi(e){return xr(this,void 0,void 0,(function(){return Tr(this,(function(t){return[2,Promise.all(e.map((function(e){return e.buffer()})))]}))}))}function yi(e,t,n,r,i){var a=t[0],o=t[1],s=n[0],l=n[1],u=function(e,t,n,r,i){return void 0===r&&(r=0),void 0===i&&(i=0),1===n&&1===t&&0===r&&0===i?e:e.map((function(e){return function(e,t,n,r,i){return void 0===r&&(r=0),void 0===i&&(i=0),{score:e.score,keypoints:e.keypoints.map((function(e){var a=e.score,o=e.part,s=e.position;return{score:a,part:o,position:{x:s.x*n+i,y:s.y*t+r}}}))}}(e,t,n,r,i)}))}(e,(a+r.top+r.bottom)/s,(o+r.left+r.right)/l,-r.top,-r.left);return i?function(e,t){return t<=0?e:e.map((function(e){return function(e,t){return{score:e.score,keypoints:e.keypoints.map((function(e){var n=e.score,r=e.part,i=e.position;return{score:n,part:r,position:{x:t-1-i.x,y:i.y}}}))}}(e,t)}))}(u,o):u}var bi=!0,wi=!1,Si={architecture:"MobileNetV1",outputStride:16,quantBytes:4,multiplier:.75},_i=["MobileNetV1","ResNet50"],xi={MobileNetV1:[8,16,32],ResNet50:[32,16]},Ti={MobileNetV1:[.5,.75,1],ResNet50:[1]},ki=[1,2,4];var Ei={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20},Ci={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20,minKeypointScore:.3,refineSteps:10};function Oi(e){var t=e.segmentationThreshold,n=e.maxDetections,r=e.scoreThreshold,i=e.nmsRadius;if(t<0||t>1)throw new Error("segmentationThreshold "+t+". Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid maxDetections "+n+". Should be > 0");if(r<0||r>1)throw new Error("Invalid scoreThreshold "+r+". Should be in range [0.0, 1.0]");if(i<=0)throw new Error("Invalid nmsRadius "+i+".")}function Pi(e){var t=e.segmentationThreshold,n=e.maxDetections,r=e.scoreThreshold,i=e.nmsRadius,a=e.minKeypointScore,o=e.refineSteps;if(t<0||t>1)throw new Error("segmentationThreshold "+t+". Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid maxDetections "+n+". Should be > 0");if(r<0||r>1)throw new Error("Invalid scoreThreshold "+r+". Should be in range [0.0, 1.0]");if(i<=0)throw new Error("Invalid nmsRadius "+i+".");if(a<0||a>1)throw new Error("Invalid minKeypointScore "+a+".Should be in range [0.0, 1.0]");if(o<=0||o>20)throw new Error("Invalid refineSteps "+o+".Should be in range [1, 20]")}var Ii=function(){function e(e){this.baseModel=e}return e.prototype.predictForPersonSegmentation=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForPersonSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,partHeatmapLogits:t.partHeatmaps,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForMultiPersonInstanceSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,longOffsets:t.longOffsets,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd,partHeatmaps:t.partHeatmaps}},e.prototype.segmentPersonActivation=function(e,t,n){var r=this;void 0===n&&(n=.5);var i=ci(e),a=i[0],o=i[1],s=hi(t,this.baseModel.outputStride,[a,o]),l=gi(e,s),u=l.resized,c=l.padding,d=(0,_.tidy)((function(){var e=r.predictForPersonSegmentation(u),t=e.segmentLogits,i=e.heatmapScores,s=e.offsets,l=e.displacementFwd,d=e.displacementBwd,f=u.shape,p=f[0],h=f[1],m=mi(t,[a,o],[p,h],[[c.top,c.bottom],[c.left,c.right]],bi);return{segmentation:Er((0,_.squeeze)(m),n),heatmapScores:i,offsets:s,displacementFwd:l,displacementBwd:d}})),f=d.segmentation,p=d.heatmapScores,h=d.offsets,m=d.displacementFwd,g=d.displacementBwd;return u.dispose(),{segmentation:f,heatmapScores:p,offsets:h,displacementFwd:m,displacementBwd:g,padding:c,internalResolutionHeightAndWidth:s}},e.prototype.segmentPerson=function(e,t){return void 0===t&&(t=Ei),xr(this,void 0,void 0,(function(){var n,r,i,a,o,s,l,u,c,d,f,p,h,m,g,v,y,b;return Tr(this,(function(w){switch(w.label){case 0:return Oi(t=_r(_r({},Ei),t)),n=this.segmentPersonActivation(e,t.internalResolution,t.segmentationThreshold),r=n.segmentation,i=n.heatmapScores,a=n.offsets,o=n.displacementFwd,s=n.displacementBwd,l=n.padding,u=n.internalResolutionHeightAndWidth,c=r.shape,d=c[0],f=c[1],[4,r.data()];case 1:return p=w.sent(),r.dispose(),[4,vi([i,a,o,s])];case 2:return h=w.sent(),m=h[0],g=h[1],v=h[2],y=h[3],b=yi(b=ii(m,g,v,y,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[d,f],u,l,wi),i.dispose(),a.dispose(),o.dispose(),s.dispose(),[2,{height:d,width:f,data:p,allPoses:b}]}}))}))},e.prototype.segmentMultiPerson=function(e,t){return void 0===t&&(t=Ci),xr(this,void 0,void 0,(function(){var n,r,i,a,o,s,l,u,c,d,f,p,h,m,g,v,y,b,w,S,x,T=this;return Tr(this,(function(k){switch(k.label){case 0:return Pi(t=_r(_r({},Ci),t)),n=ci(e),r=n[0],i=n[1],a=hi(t.internalResolution,this.baseModel.outputStride,[r,i]),o=gi(e,a),s=o.resized,l=o.padding,u=(0,_.tidy)((function(){var e,n=T.predictForMultiPersonInstanceSegmentationAndPart(s),o=n.segmentLogits,u=n.longOffsets,c=n.heatmapScores,d=n.offsets,f=n.displacementFwd,p=n.displacementBwd,h=mi(o,[r,i],a,[[l.top,l.bottom],[l.left,l.right]],bi);return e=u,{segmentation:Er((0,_.squeeze)(h),t.segmentationThreshold),longOffsets:e,heatmapScoresRaw:c,offsetsRaw:d,displacementFwdRaw:f,displacementBwdRaw:p}})),c=u.segmentation,d=u.longOffsets,f=u.heatmapScoresRaw,p=u.offsetsRaw,h=u.displacementFwdRaw,m=u.displacementBwdRaw,[4,vi([f,p,h,m])];case 1:return g=k.sent(),v=g[0],y=g[1],b=g[2],w=g[3],S=yi(S=ii(v,y,b,w,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[r,i],a,l,wi),[4,Gr(c,d,S,r,i,this.baseModel.outputStride,a,l,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return x=k.sent(),s.dispose(),c.dispose(),d.dispose(),f.dispose(),p.dispose(),h.dispose(),m.dispose(),[2,x]}}))}))},e.prototype.segmentPersonPartsActivation=function(e,t,n){var r=this;void 0===n&&(n=.5);var i=ci(e),a=i[0],o=i[1],s=hi(t,this.baseModel.outputStride,[a,o]),l=gi(e,s),u=l.resized,c=l.padding,d=(0,_.tidy)((function(){var e=r.predictForPersonSegmentationAndPart(u),t=e.segmentLogits,i=e.partHeatmapLogits,s=e.heatmapScores,l=e.offsets,d=e.displacementFwd,f=e.displacementBwd,p=u.shape,h=p[0],m=p[1],g=mi(t,[a,o],[h,m],[[c.top,c.bottom],[c.left,c.right]],bi),v=mi(i,[a,o],[h,m],[[c.top,c.bottom],[c.left,c.right]],bi);return{partSegmentation:Cr(Er((0,_.squeeze)(g),n),v),heatmapScores:s,offsets:l,displacementFwd:d,displacementBwd:f}})),f=d.partSegmentation,p=d.heatmapScores,h=d.offsets,m=d.displacementFwd,g=d.displacementBwd;return u.dispose(),{partSegmentation:f,heatmapScores:p,offsets:h,displacementFwd:m,displacementBwd:g,padding:c,internalResolutionHeightAndWidth:s}},e.prototype.segmentPersonParts=function(e,t){return void 0===t&&(t=Ei),xr(this,void 0,void 0,(function(){var n,r,i,a,o,s,l,u,c,d,f,p,h,m,g,v,y,b;return Tr(this,(function(w){switch(w.label){case 0:return Oi(t=_r(_r({},Ei),t)),n=this.segmentPersonPartsActivation(e,t.internalResolution,t.segmentationThreshold),r=n.partSegmentation,i=n.heatmapScores,a=n.offsets,o=n.displacementFwd,s=n.displacementBwd,l=n.padding,u=n.internalResolutionHeightAndWidth,c=r.shape,d=c[0],f=c[1],[4,r.data()];case 1:return p=w.sent(),r.dispose(),[4,vi([i,a,o,s])];case 2:return h=w.sent(),m=h[0],g=h[1],v=h[2],y=h[3],b=yi(b=ii(m,g,v,y,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[d,f],u,l,wi),i.dispose(),a.dispose(),o.dispose(),s.dispose(),[2,{height:d,width:f,data:p,allPoses:b}]}}))}))},e.prototype.segmentMultiPersonParts=function(e,t){return void 0===t&&(t=Ci),xr(this,void 0,void 0,(function(){var n,r,i,a,o,s,l,u,c,d,f,p,h,m,g,v,y,b,w,S,x,T,k=this;return Tr(this,(function(E){switch(E.label){case 0:return Pi(t=_r(_r({},Ci),t)),n=ci(e),r=n[0],i=n[1],a=hi(t.internalResolution,this.baseModel.outputStride,[r,i]),o=gi(e,a),s=o.resized,l=o.padding,u=(0,_.tidy)((function(){var e=k.predictForMultiPersonInstanceSegmentationAndPart(s),n=e.segmentLogits,o=e.longOffsets,u=e.heatmapScores,c=e.offsets,d=e.displacementFwd,f=e.displacementBwd,p=e.partHeatmaps,h=mi(n,[r,i],a,[[l.top,l.bottom],[l.left,l.right]],bi),m=mi(p,[r,i],a,[[l.top,l.bottom],[l.left,l.right]],bi),g=o;return{segmentation:Er((0,_.squeeze)(h),t.segmentationThreshold),longOffsets:g,heatmapScoresRaw:u,offsetsRaw:c,displacementFwdRaw:d,displacementBwdRaw:f,partSegmentation:Or(m)}})),c=u.segmentation,d=u.longOffsets,f=u.heatmapScoresRaw,p=u.offsetsRaw,h=u.displacementFwdRaw,m=u.displacementBwdRaw,g=u.partSegmentation,[4,vi([f,p,h,m])];case 1:return v=E.sent(),y=v[0],b=v[1],w=v[2],S=v[3],x=yi(x=ii(y,b,w,S,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[r,i],a,l,wi),[4,Wr(c,d,g,x,r,i,this.baseModel.outputStride,a,l,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return T=E.sent(),s.dispose(),c.dispose(),d.dispose(),f.dispose(),p.dispose(),h.dispose(),m.dispose(),g.dispose(),[2,T]}}))}))},e.prototype.dispose=function(){this.baseModel.dispose()},e}();function Ai(e){return xr(this,void 0,void 0,(function(){var t,n,r,i,a,o;return Tr(this,(function(s){switch(s.label){case 0:if(t=e.outputStride,n=e.quantBytes,r=e.multiplier,null==_)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this\n        model.");return i=function(e,t,n){var r={1:"100",.75:"075",.5:"050"},i="model-stride"+e+".json";return 4===n?ui+"float/"+r[t]+"/"+i:ui+"quant"+n+"/"+r[t]+"/"+i}(t,r,n),[4,br(e.modelUrl||i)];case 1:return a=s.sent(),o=new Ir(a,t),[2,new Ii(o)]}}))}))}function Di(e){return xr(this,void 0,void 0,(function(){var t,n,r,i,a;return Tr(this,(function(o){switch(o.label){case 0:if(t=e.outputStride,n=e.quantBytes,null==_)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this\n        model.");return r=function(e,t){var n="model-stride"+e+".json";return 4===t?li+"float/"+n:li+"quant"+t+"/"+n}(t,n),[4,br(e.modelUrl||r)];case 1:return i=o.sent(),a=new si(i,t),[2,new Ii(a)]}}))}))}function Mi(e){return void 0===e&&(e=Si),xr(this,void 0,void 0,(function(){return Tr(this,(function(t){return"ResNet50"===(e=function(e){if(null==(e=e||Si).architecture&&(e.architecture="MobileNetV1"),_i.indexOf(e.architecture)<0)throw new Error("Invalid architecture "+e.architecture+". Should be one of "+_i);if(null==e.outputStride&&(e.outputStride=16),xi[e.architecture].indexOf(e.outputStride)<0)throw new Error("Invalid outputStride "+e.outputStride+". Should be one of "+xi[e.architecture]+" for architecture "+e.architecture+".");if(null==e.multiplier&&(e.multiplier=1),Ti[e.architecture].indexOf(e.multiplier)<0)throw new Error("Invalid multiplier "+e.multiplier+". Should be one of "+Ti[e.architecture]+" for architecture "+e.architecture+".");if(null==e.quantBytes&&(e.quantBytes=4),ki.indexOf(e.quantBytes)<0)throw new Error("Invalid quantBytes "+e.quantBytes+". Should be one of "+ki+" for architecture "+e.architecture+".");return e}(e)).architecture?[2,Di(e)]:"MobileNetV1"===e.architecture?[2,Ai(e)]:[2,null]}))}))}},92423:(e,t,n)=>{"use strict";var r={};n.r(r),n.d(r,{addImpl:()=>je,bincountImpl:()=>Fe,bincountReduceImpl:()=>Ue,ceilImpl:()=>$e,concatImpl:()=>Ge,equalImpl:()=>We,expImpl:()=>qe,expm1Impl:()=>Ze,floorImpl:()=>Ke,gatherNdImpl:()=>Xe,gatherV2Impl:()=>Ye,greaterEqualImpl:()=>Je,greaterImpl:()=>Qe,lessEqualImpl:()=>tt,lessImpl:()=>et,linSpaceImpl:()=>nt,logImpl:()=>rt,maxImpl:()=>it,maximumImpl:()=>at,minimumImpl:()=>ot,multiplyImpl:()=>st,negImpl:()=>ut,notEqualImpl:()=>ct,prodImpl:()=>ft,rangeImpl:()=>pt,rsqrtImpl:()=>ht,scatterImpl:()=>mt,sigmoidImpl:()=>gt,simpleAbsImpl:()=>Oe,sliceImpl:()=>vt,sparseFillEmptyRowsImpl:()=>yt,sparseReshapeImpl:()=>bt,sparseSegmentReductionImpl:()=>wt,sqrtImpl:()=>St,squaredDifferenceImpl:()=>_t,stridedSliceImpl:()=>xt,stringNGramsImpl:()=>kt,stringSplitImpl:()=>Ct,stringToHashBucketFastImpl:()=>Ot,subImpl:()=>Pt,tileImpl:()=>At,topKImpl:()=>Rt,transposeImpl:()=>dt,uniqueImpl:()=>Nt});var i=n(77410);const a={},o={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function s(e,t){if(!(e in a)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if("undefined"!==typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e):t;if(n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete a[e]}),!1),1===e)return n.getContext("webgl",o)||n.getContext("experimental-webgl",o);return n.getContext("webgl2",o)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;a[e]=n}const n=a[e];return null==n||n.isContextLost()?(delete a[e],s(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),a[e])}var l,u,c;function d(e,t){return[t,e]}function f(e){const t=i.util.sizeFromShape(e),n=Math.ceil(t/4);return i.util.sizeToSquarishShape(n)}function p(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function h(e,t){const n=e;let r,a,o,s,l,u,c,d,f,p;return 2===(0,i.env)().getNumber("WEBGL_VERSION")?(r=n.R32F,a=n.R16F,o=n.RGBA16F,s=n.RGBA32F,l=n.RED,c=4,d=1,f=n.HALF_FLOAT,p=n.FLOAT,u=n.RGBA8):(r=e.RGBA,a=e.RGBA,o=e.RGBA,s=n.RGBA,l=e.RGBA,c=4,d=4,f=null!=t?t.HALF_FLOAT_OES:null,p=e.FLOAT,u=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:a,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:s,textureFormatFloat:l,downloadTextureFormat:u,downloadUnpackNumChannels:c,defaultNumChannels:d,textureTypeHalfFloat:f,textureTypeFloat:p}}function m(e,t){const n=t();return(0,i.env)().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(l||(l={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(u||(u={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(c||(c={}));function g(e){return!!((0,i.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function v(e,t){return E(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}const y=/ERROR: [0-9]+:([0-9]+):/g;function b(e,t){const n=y.exec(t);if(null==n)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(e);const r=+n[1],a=e.split("\n"),o=a.length.toString().length+2,s=a.map(((e,t)=>i.util.rightPad((t+1).toString(),o)+e));let l=0;for(let i=0;i<s.length;i++)l=Math.max(s[i].length,l);const u=s.slice(0,r-1),c=s.slice(r-1,r),d=s.slice(r);console.log(u.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${i.util.rightPad(c[0],l)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join("\n"))}function w(e,t){if(m(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function S(e,t,n,r,i,a,o){const s=e.getAttribLocation(t,n);return-1!==s&&(m(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,r))),m(e,(()=>e.vertexAttribPointer(s,i,e.FLOAT,!1,a,o))),m(e,(()=>e.enableVertexAttribArray(s))),!0)}function _(e,t,n,r){m(e,(()=>function(e,t,n){C(e,n),m(e,(()=>e.activeTexture(e.TEXTURE0+n))),m(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}(e,t,r))),m(e,(()=>e.uniform1i(n,r)))}function x(e,t,n){m(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),m(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function T(e,t){m(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),m(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function k(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(e,t))}function E(e,t,n){const r=m(e,(()=>t()));if(null==r)throw new Error(n);return r}function C(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){throw new Error(`textureUnit must be in ${`[gl.TEXTURE0, gl.TEXTURE${n}]`}.`)}}function O(e,t=2){return i.util.sizeFromShape(e.slice(0,e.length-t))}function P(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function I(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[O(e),...P(e)]),t}function A(e){return e%2===0}let D,M;function R(e,t){return null!=e.getExtension(t)}function N(e){try{if(null!=s(e))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function L(e){if(0===e)return!1;const t=s(e);if(1!==e){if(R(t,"EXT_color_buffer_float"))return j(t);const e="EXT_color_buffer_half_float";if(R(t,e)){const n=t.getExtension(e);return function(e,t){const n=h(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const i=1,a=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,i,a,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),s}(t,n)}return!1}if(!R(t,"OES_texture_float"))return!1;if(!R(t,"WEBGL_color_buffer_float"))return!1;return j(t)}function j(e){const t=h(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),i}const B=(0,i.env)();function F(){let e,t,n,r,a,o,s,l,u,c;return 2===(0,i.env)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",a="texture",o="outputColor",s="out vec4 outputColor;",l="\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",u="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",a="texture2D",o="gl_FragColor",s="",l="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",u="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:o,defineOutput:s,defineSpecialNaN:l,defineSpecialInf:u,defineRound:c}}function U(e,t,n="index"){const r=i.util.computeStrides(t);return r.map(((t,i)=>`${`int ${e[i]} = ${n} / ${t}`}; ${i===r.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * ${t}`:`index -= ${e[i]} * ${t}`};`)).join("")}function H(e,t,n="index"){const r=i.util.computeStrides(t);return r.map(((t,i)=>`${`int ${e[i]} = ${n} / outShapeStrides[${i}]`}; ${i===r.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * outShapeStrides[${i}]`:`index -= ${e[i]} * outShapeStrides[${i}]`};`)).join("")}function z(e,t,n="index"){const r=function(e,t){const n=e.length,r=e.map((e=>`${t}[${e}]`)),i=new Array(n-1);i[n-2]=r[n-1];for(let a=n-3;a>=0;--a)i[a]=`(${i[a+1]} * ${r[a+1]})`;return i}(e.map(((e,t)=>t)),t);return r.map(((t,i)=>`${`int ${e[i]} = ${n} / ${r[i]}`}; ${i===r.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * ${r[i]}`:`index -= ${e[i]} * ${r[i]}`};`)).join("")}function V(e){const t=i.util.computeStrides(e).map((e=>e.toString()));return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}B.registerFlag("HAS_WEBGL",(()=>B.getNumber("WEBGL_VERSION")>0)),B.registerFlag("WEBGL_VERSION",(()=>N(2)?2:N(1)?1:0)),B.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),B.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===B.get("WEBGL_VERSION"))),B.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),B.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),B.registerFlag("WEBGL_PACK",(()=>B.getBool("HAS_WEBGL"))),B.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_PACK_CLIP",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_PACK_REDUCE",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_LAZILY_UNPACK",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_CONV_IM2COL",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function(e){if(null==D){const t=s(e);D=t.getParameter(t.MAX_TEXTURE_SIZE)}return D}(B.getNumber("WEBGL_VERSION")))),B.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function(e){if(null==M){const t=s(e);M=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,M)}(B.getNumber("WEBGL_VERSION")))),B.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=B.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=s(e);return t=R(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:R(n,"EXT_disjoint_timer_query")?1:0,t}(e)})),B.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>B.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!i.device_util.isMobile())),B.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function(e){if(0===e)return!1;const t=s(e);if(1===e){if(!R(t,"OES_texture_float"))return!1}else if(!R(t,"EXT_color_buffer_float"))return!1;return j(t)}(B.getNumber("WEBGL_VERSION")))),B.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!B.getBool("WEBGL_FORCE_F16_TEXTURES")&&B.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),B.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>L(B.getNumber("WEBGL_VERSION")))),B.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>{return 2===(e=B.getNumber("WEBGL_VERSION"))&&null!=s(e).fenceSync;var e})),B.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>B.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),B.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)})),B.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>i.device_util.isMobile()?1:-1),(e=>{if(e<0&&-1!==e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)})),B.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),B.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),B.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),B.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128));const $="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:G}=i.backend_util;function W(e,t,n){const r=[];if(e.forEach((e=>{const t=i.util.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(r.push(`uniform sampler2D ${e.name};`),r.push(`uniform int offset${e.name};`)),n.enableShapeUniforms){const{uniformShape:t}=re(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:r.push(`uniform int ${e.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${e.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${e.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${e.name}Shape;`)}r.push(`uniform ivec2 ${e.name}TexShape;`)}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{r.push(`uniform ${e.type} ${e.name}${e.arrayIndex?`[${e.arrayIndex}]`:""};`)}));const a=r.join("\n"),o=e.map((e=>function(e,t,n=!1,r){let a="";a+=n?Z(e,r):q(e,r);const o=e.shapeInfo.logicalShape,s=t.logicalShape;o.length<=s.length&&(a+=n?function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",o=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,l=G(e.shapeInfo.logicalShape,t.logicalShape),u=ne(s),c=s-o;let d;const f=["x","y","z","w","u","v"];d=0===o?"":s<2&&l.length>=1?"coords = 0;":l.map((e=>`coords.${f[e+c]} = 0;`)).join("\n");let p="";p=s<2&&o>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${f[t+c]}`)).join(", ");let h="return outputValue;";const m=1===i.util.sizeFromShape(e.shapeInfo.logicalShape),g=1===i.util.sizeFromShape(t.logicalShape);if(1!==o||m||g){if(m&&!g)h=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(l.length){const e=o-2,t=o-1;l.indexOf(e)>-1&&l.indexOf(t)>-1?h="return vec4(outputValue.x);":l.indexOf(e)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":l.indexOf(t)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${a}() {\n      ${u} coords = getOutputCoords();\n      ${d}\n      vec4 outputValue = get${r}(${p});\n      ${h}\n    }\n  `}(e,t):function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",o=t.texShape,s=e.shapeInfo.texShape,l=e.shapeInfo.logicalShape.length,u=t.logicalShape.length;if(!e.shapeInfo.isUniform&&l===u&&null==e.shapeInfo.flatOffset&&i.util.arraysEqual(s,o))return`\n      float ${a}() {\n        return sampleTexture(${n}, resultUV);\n      }\n    `;const c=ne(u),d=G(e.shapeInfo.logicalShape,t.logicalShape),f=u-l;let p;const h=["x","y","z","w","u","v"];p=0===l?"":u<2&&d.length>=1?"coords = 0;":d.map((e=>`coords.${h[e+f]} = 0;`)).join("\n");let m="";m=u<2&&l>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${h[t+f]}`)).join(", ");return`\n    float ${a}() {\n      ${c} coords = getOutputCoords();\n      ${p}\n      return get${r}(${m});\n    }\n  `}(e,t));return a}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),s=t.texShape,l=F(),u=function(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}(l);let c,d,f=function(e){return`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${K}\n    ${X}\n    ${Y}\n  `}(l);t.isPacked?(c=function(e,t,n){switch(e.length){case 0:return J();case 1:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${r[1]}.0);\n      }\n    `;if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${r[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);\n    }\n  `}(0,t,n);case 2:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(i.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));\n      }\n    `;const a=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[2]/2),a=i*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      int b = index / ${a};\n      index -= b * ${a};\n\n      int r = 2 * (index / ${i});\n      int c = imod(index, ${i}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[e.length-1]/2),a=i*Math.ceil(e[e.length-2]/2);let o=a,s="",l="b, r, c";for(let u=2;u<e.length-1;u++)o*=e[e.length-u-1],s=`\n      int b${u} = index / ${o};\n      index -= b${u} * ${o};\n    `+s,l=`b${u}, `+l;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      ${s}\n\n      int b = index / ${a};\n      index -= b * ${a};\n\n      int r = 2 * (index / ${i});\n      int c = imod(index, ${i}) * 2;\n\n      return ivec${e.length}(${l});\n    }\n  `}(e,t,n)}}(t.logicalShape,s,n.enableShapeUniforms),d=function(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}(l)):(c=function(e,t,n){switch(e.length){case 0:return J();case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `;if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,n);case 2:return function(e,t,n){if(i.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `;if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `;if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `;if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n){return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${H(["r","c","d"],e)}\n    return ivec3(r, c, d);\n  }\n`}const r=U(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec3(r, c, d);\n    }\n  `}(e,t,n);case 4:return function(e,t,n){if(n){return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${H(["r","c","d","d2"],e)}\n      return ivec4(r, c, d, d2);\n    }\n  `}const r=U(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec4(r, c, d, d2);\n    }\n  `}(e,t,n);case 5:return function(e,t){const n=U(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(e,t);case 6:return function(e,t){const n=U(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}(t.logicalShape,s,n.enableShapeUniforms),d=function(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}(l)),n.packedInputs&&(f+=Q);return[f,u,d,a,c,o,n.userCode].join("\n")}function q(e,t=!1){const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[i,a]=e.shapeInfo.texShape;if(1===i&&1===a)return`\n      float ${r}() {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const o=ee(n);if(t)return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${o});\n      return sampleTexture(${n}, uv);\n    }\n  `;const[s,l]=e.shapeInfo.texShape;return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${s}, ${l}, ${o});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${r}(int index) {\n        ${te(e)}\n      }\n    `;const i=e.shapeInfo.texShape,a=i[0],o=i[1];if(1===o&&1===a)return`\n      float ${r}(int index) {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const s=ee(n);if(1===o)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / float(${n}TexShape[0]));\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / ${a}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(1===a)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${s}) + 0.5) / float(${n}TexShape[1]), 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${s}) + 0.5) / ${o}.0, 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(t)return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `;return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${a}, ${o}, index + ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape;if(null!=o&&i.util.arraysEqual(n,o)){if(t)return`\n      float ${a}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `;const e=o[0];return`\n    float ${a}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${o[1]}.0, ${e}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `}const{newShape:s,keptDims:l}=i.util.squeezeShape(n),u=s;if(u.length<n.length){const n=["row","col"];return`\n      ${q(ie(e,u),t)}\n      float ${a}(int row, int col) {\n        return ${a}(${ae(n,l)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));\n        ${te(e)}\n      }\n    `;const c=o[0],d=o[1],f=ee(r);if(1===d)return t?`\n      float ${a}(int row, int col) {\n        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${a}(int row, int col) {\n      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${c}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(1===c)return t?`\n      float ${a}(int row, int col) {\n        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${a}(int row, int col) {\n      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${d}.0, 0.5);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(t)return`\n      float ${a}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${r}Shape[1] + col + ${f};\n        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n        return sampleTexture(${r}, uv);\n      }\n    `;return`\n  float ${a}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${n[1]} + col + ${f};\n    vec2 uv = uvFromFlat(${c}, ${d}, index);\n    return sampleTexture(${r}, uv);\n  }\n`}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[1]*n[2],s=n[2],{newShape:l,keptDims:u}=i.util.squeezeShape(n),c=l;if(c.length<n.length){const n=["row","col","depth"];return`\n        ${q(ie(e,c),t)}\n        float ${a}(int row, int col, int depth) {\n          return ${a}(${ae(n,u)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${o}, ${s}, 1)));\n        ${te(e)}\n      }\n    `;const d=e.shapeInfo.texShape,f=d[0],p=d[1],h=e.shapeInfo.flatOffset;if(p===o&&null==h)return t?`\n      float ${a}(int row, int col, int depth) {\n        int stride1 = ${r}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n        float ${a}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${s}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${p}.0, ${f}.0);\n          return sampleTexture(${r}, uv);\n        }\n      `;if(p===s&&null==h)return t?`\n      float ${a}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${a}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${p}.0, ${f}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;const m=ee(r);if(t)return`\n    float ${a}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${r}Shape[1] * ${r}Shape[2];\n      int stride1 = ${r}Shape[2];\n      int index = row * ${o} + col * ${s} + depth + ${m};\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n      return sampleTexture(${r}, uv);\n    }\n    `;return`\n      float ${a}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${o} + col * ${s} + depth + ${m};\n        vec2 uv = uvFromFlat(${f}, ${p}, index);\n        return sampleTexture(${r}, uv);\n      }\n  `}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[3],s=n[2]*o,l=n[1]*s,{newShape:u,keptDims:c}=i.util.squeezeShape(n);if(u.length<n.length){const n=["row","col","depth","depth2"];return`\n      ${q(ie(e,u),t)}\n      float ${a}(int row, int col, int depth, int depth2) {\n        return ${a}(${ae(n,c)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${l}, ${s}, ${o}, 1)));\n        ${te(e)}\n      }\n    `;const d=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,p=f[0],h=f[1],m=`int stride2 = ${r}Shape[3];`,g=`int stride1 = ${r}Shape[2] * stride2;`,v=`int stride0 = ${r}Shape[1] * stride1;`;if(h===l&&null==d)return t?`\n      float ${a}(int row, int col, int depth, int depth2) {\n        ${m}\n        ${g}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${s}, ${o}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${h}.0, ${p}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;if(h===o&&null==d)return t?`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${n[1]*n[2]}, ${n[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${h}.0, ${p}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;const y=ee(r);if(t)return`\n    float ${a}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${m}\n      ${g}\n      ${v}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${y});\n      return sampleTexture(${r}, uv);\n    }\n  `;return`\n    float ${a}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${l} + col * ${s} +\n          depth * ${o} + depth2;\n      vec2 uv = uvFromFlat(${p}, ${h}, index + ${y});\n      return sampleTexture(${r}, uv);\n    }\n  `}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],o=t[3]*a,s=t[2]*o,l=t[1]*s,{newShape:u,keptDims:c}=i.util.squeezeShape(t);if(u.length<t.length){const t=["row","col","depth","depth2","depth3"];return`\n      ${q(ie(e,u))}\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        return ${r}(${ae(t,c)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${l}, ${s}, ${o}, ${a})) +\n          depth3;\n        ${te(e)}\n      }\n    `;const d=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,p=f[0],h=f[1];if(h===l&&null==d)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${s}, ${o}, ${a}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${h}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(h===a&&null==d)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${h}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const m=ee(n);return`\n    float ${r}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${l} + col * ${s} + depth * ${o} +\n          depth2 * ${a} + depth3 + ${m};\n      vec2 uv = uvFromFlat(${p}, ${h}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:a,keptDims:o}=i.util.squeezeShape(t);if(a.length<t.length){const t=["row","col","depth","depth2","depth3","depth4"];return`\n      ${q(ie(e,a))}\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${r}(${ae(t,o)});\n      }\n    `}const s=t[5],l=t[4]*s,u=t[3]*l,c=t[2]*u,d=t[1]*c;if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${d}, ${c}, ${u}, ${l})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${s}, 1)));\n        ${te(e)}\n      }\n    `;const f=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,h=p[0],m=p[1];if(m===d&&null==f)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${c}, ${u}, ${l}, ${s})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${m}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(m===s&&null==f)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${m}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const g=ee(n);return`\n    float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${d} + col * ${c} + depth * ${u} +\n          depth2 * ${l} + depth3 * ${s} + depth4 + ${g};\n      vec2 uv = uvFromFlat(${h}, ${m}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function Z(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=F();return`\n    vec4 ${n}() {\n      return ${r.texture2D}(${t}, halfCR);\n    }\n  `}(e);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,a=F();if(t)return`\n    vec4 ${r}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${a.texture2D}(${n}, uv);\n    }\n  `;const o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return`\n    vec4 ${r}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${o[0]}, ${o[1]}, index);\n      return ${a.texture2D}(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,s=o[0],l=o[1],u=F();if(null!=o&&i.util.arraysEqual(n,o))return t?`\n      vec4 ${a}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n\n        return ${u.texture2D}(${r}, uv);\n      }\n    `:`\n      vec4 ${a}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${l}.0, ${s}.0);\n\n        return ${u.texture2D}(${r}, uv);\n      }\n    `;if(t)return`\n    vec4 ${a}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${u.texture2D}(${r}, uv);\n    }\n  `;const c=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],d=Math.ceil(n[1]/2);return`\n    vec4 ${a}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${d}, ${c[0]}, ${c[1]}, row, col);\n      return ${u.texture2D}(${r}, uv);\n    }\n  `}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===n[0]){const r=[1,2],a=["b","row","col"];return`\n        ${Z(ie(e,n.slice(1)),t)}\n        vec4 ${i}(int b, int row, int col) {\n          return ${i}(${ae(a,r)});\n        }\n      `}const s=F();if(t)return`\n    vec4 ${i}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${s.texture2D}(${r}, uv);\n    }\n  `;const l=o[0],u=o[1],c=Math.ceil(n[2]/2),d=c*Math.ceil(n[1]/2);return`\n    vec4 ${i}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${l}, ${u}, ${d}, ${c}, b, row, col);\n      return ${s.texture2D}(${r}, uv);\n    }\n  `}(e,t);default:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=F();if(t)return`\n    vec4 ${r}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${n}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${i.texture2D}(${n}, uv);\n    }\n  `;const a=e.shapeInfo.logicalShape,o=a.length,s=e.shapeInfo.texShape,l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],u=l[0],c=l[1],d=Math.ceil(a[o-1]/2);let f=d*Math.ceil(a[o-2]/2),p="int b, int row, int col",h=`b * ${f} + (row / 2) * ${d} + (col / 2)`;for(let m=2;m<o-1;m++)p=`int b${m}, `+p,f*=a[o-m-1],h=`b${m} * ${f} + `+h;return`\n    vec4 ${r}(${p}) {\n      int index = ${h};\n      int texR = index / ${c};\n      int texC = index - texR * ${c};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${u});\n      return ${i.texture2D}(${n}, uv);\n    }\n  `}(e,t)}}const K="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",X="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Y="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Q="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function J(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function ee(e){return`offset${e}`}function te(e){const t=e.name,n=i.util.sizeFromShape(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`\n    for (int i = 0; i < ${n}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function ne(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function re(e,t,n){const{newShape:r,keptDims:a}=i.util.squeezeShape(t),o=t.length,s=e&&3===o&&1===t[0],l=s?t.slice(1):r,u=!e&&o>1&&!i.util.arraysEqual(t,n)&&r.length<o||s;return{useSqueezeShape:u,uniformShape:u?l:t,keptDims:a}}function ie(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function ae(e,t){return t.map((t=>e[t])).join(", ")}function oe(e,t,n,r){const a=n.map(((e,n)=>{const r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),o=a.map((e=>e.shapeInfo)),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},l=W(a,s,t),u=function(e,t){const n=E(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(m(e,(()=>e.shaderSource(n,t))),m(e,(()=>e.compileShader(n))),(0,i.env)().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw b(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,l),c=e.createProgram(u);return(0,i.env)().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:u,source:l,webGLProgram:c,inShapeInfos:o,outShapeInfo:s,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:t,fragmentShader:u,source:l,webGLProgram:c,inShapeInfos:o,outShapeInfo:s},se(e,t,c))}function se(e,t,n){const r={},a={},o={},s=[];let l,u,c,d=null,f=null;f=e.getUniformLocation(n,"NAN",!1),1===(0,i.env)().getNumber("WEBGL_VERSION")&&(d=e.getUniformLocation(n,"INFINITY",!1));const p=!1;for(let i=0;i<t.variableNames.length;i++){const s=t.variableNames[i];r[s]=e.getUniformLocation(n,s,p),r[`offset${s}`]=e.getUniformLocation(n,`offset${s}`,p),t.enableShapeUniforms&&(a[`${s}Shape`]=e.getUniformLocation(n,`${s}Shape`,p),o[`${s}TexShape`]=e.getUniformLocation(n,`${s}TexShape`,p))}return t.enableShapeUniforms&&(l=e.getUniformLocation(n,"outShape",p),c=e.getUniformLocation(n,"outShapeStrides",p),u=e.getUniformLocation(n,"outTexShape",p)),t.customUniforms&&t.customUniforms.forEach(((t,r)=>{s[r]=e.getUniformLocation(n,t.name,p)})),{uniformLocations:r,customUniformLocations:s,infLoc:d,nanLoc:f,inShapesLocations:a,inTexShapesLocations:o,outShapeLocation:l,outShapeStridesLocation:c,outTexShapeLocation:u}}function le(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach(((e,n)=>{const r=e.logicalShape,a=t[n],o=a.shape;if(!i.util.arraysEqual(r,o))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${o} must match`);if(e.isUniform&&a.isUniform)return;const s=e.texShape,l=a.isUniform?null:a.texData.texShape;if(!i.util.arraysEqual(s,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${s} and ${l} must match`)}))}function ue(e){return(0,i.env)().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class ce{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=l.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=F();this.outputShape=e,this.enableShapeUniforms=ue(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?H(["r","c","d"],e):U(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${t.output} = result;\n      }\n    `}}class de{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=l.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=F();this.outputShape=e,this.enableShapeUniforms=ue(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?H(["r","c","d"],e):U(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${t.output} = result;\n      }\n    `}}class fe{constructor(e){this.variableNames=["A"],this.outTexUsage=u.DOWNLOAD;const t=F();this.outputShape=e,this.userCode=`\n      ${$}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}class pe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=u.DOWNLOAD;const t=F();this.outputShape=e,this.userCode=`\n      ${$}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}class he{constructor(e,t=!1){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=F();this.outputShape=e,this.enableShapeUniforms=ue(this.outputShape.length);let r="result";t&&(r="floor(result * 255. + 0.5)"),this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":V(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ${n.texture2D}(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ${n.output} = vec4(${r}, 0., 0., 0.);\n      }\n    `}}class me{constructor(e,t=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=F();this.outputShape=e,this.enableShapeUniforms=ue(this.outputShape.length);let r="",i="result";t&&(i="floor(result * 255. + 0.5)");for(let a=0;a<=1;a++)for(let t=0;t<=1;t++){const i=2*a+t;r+=`\n          localCoords = coords;\n          if(localCoords[2] + ${t} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {\n          localCoords[2] += ${t};\n          if (localCoords[1] + ${a} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {\n            localCoords[1] += ${a};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${n.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${i}] = values[0];\n            } else if (offset == 1) {\n              result[${i}] = values[1];\n            } else if (offset == 2) {\n              result[${i}] = values[2];\n            } else {\n              result[${i}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":V(e)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${r}\n\n          ${n.output} = ${i};\n        }\n    `}}function ge(e){const t=F();return function(e,t){const n=E(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(m(e,(()=>e.shaderSource(n,t))),m(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}function ve(e){return function(e,t){const n=E(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return m(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),m(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function ye(e){return function(e,t){const n=E(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return m(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),m(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Uint16Array([0,1,2,2,1,3]))}function be(e,t,n,r,a,o){!function(e,t){const n=(0,i.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw new Error(`Requested texture size [${e}x${t}] is invalid.`);if(e>n||t>n)throw new Error(`Requested texture size [${e}x${t}] greater than WebGL maximum on this browser / GPU [${n}x${n}].`)}(t,n);const s=function(e){return E(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),l=e.TEXTURE_2D;return m(e,(()=>e.bindTexture(l,s))),m(e,(()=>e.texParameteri(l,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),m(e,(()=>e.texParameteri(l,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),m(e,(()=>e.texParameteri(l,e.TEXTURE_MIN_FILTER,e.NEAREST))),m(e,(()=>e.texParameteri(l,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===(0,i.env)().getNumber("WEBGL_VERSION")?m(e,(()=>e.texImage2D(l,0,r,t,n,0,a,o,null))):m(e,(()=>e.texStorage2D(l,1,r,t,n))),m(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:s,texShape:[n,t]}}function we(e){return e.internalFormatFloat}function Se(e){return e.internalFormatHalfFloat}function _e(e){return e.downloadTextureFormat}function xe(e){return e.internalFormatPackedFloat}function Te(e){return e.internalFormatPackedHalfFloat}function ke(e,t,n,r,i,a,o,s){const l=e,u=new Float32Array(function(e,t){const[n,r]=p(e,t);return n*r*4}(a,o));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}class Ee{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const t=(0,i.env)().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,function(e,t){a[e]=t}(t,e)):this.gl=s(t);let n="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===(0,i.env)().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=v(this.gl,e),R(this.gl,t))this.textureHalfFloatExtension=v(this.gl,t);else if((0,i.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),R(this.gl,r))this.colorBufferHalfFloatExtension=v(this.gl,r);else if((0,i.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",R(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!R(this.gl,r))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(r)}this.vertexBuffer=ve(this.gl),this.indexBuffer=ye(this.gl),this.framebuffer=function(e){return E(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=h(this.gl,this.textureHalfFloatExtension)}get debug(){return(0,i.env)().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;m(e,(()=>e.finish())),m(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),m(e,(()=>e.deleteFramebuffer(this.framebuffer))),m(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),m(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),m(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[i,a]=d(t,n);return be(e,i,a,we(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[i,a]=d(t,n);return be(e,i,a,Se(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[i,a]=d(t,n);return be(e,i,a,_e(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){m(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===(0,i.env)().getNumber("WEBGL_VERSION")?m(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):m(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===(0,i.env)().getNumber("WEBGL_VERSION")?m(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):m(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),m(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,a,o){let s,l,u;m(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),a instanceof Uint8Array?(s=new Uint8Array(n*r*4),l=e.UNSIGNED_BYTE,u=e.RGBA):(s=new Float32Array(n*r*4),l=e.FLOAT,u=o.internalFormatPackedFloat),s.set(a),2===(0,i.env)().getNumber("WEBGL_VERSION")?m(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,l,s))):m(e,(()=>e.texImage2D(e.TEXTURE_2D,0,u,n,r,0,e.RGBA,l,s))),m(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t,n,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[i,a]=p(t,n);return be(e,i,a,Te(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[i,a]=p(t,n);return be(e,i,a,xe(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(T(this.gl,this.framebuffer),this.outputTexture=null),m(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n,r){const[i,a]=d(t,n),o=new Uint8Array(t*n*4);return m(e,(()=>e.readPixels(0,0,i,a,r.downloadTextureFormat,e.UNSIGNED_BYTE,o))),new Float32Array(o.buffer)}(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,r,i,a){return ke(this.gl,e,0,0,0,i,a,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const r=e,i=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const r=function(e,t,n,r){const i=e.createBuffer();m(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,i)));const a=16*t*n;return m(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ))),m(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),m(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),i}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if((0,i.env)().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,i=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=r.clientWaitSync(i,0,0);return e===r.ALREADY_SIGNALED||e===r.CONDITION_SATISFIED},t=i}else(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n){const r=new Float32Array(t*n*4);return m(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r))),r}(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=ge(t));const n=function(e){return E(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(t);return m(t,(()=>t.attachShader(n,this.vertexShader))),m(t,(()=>t.attachShader(n,e))),function(e,t){if(m(e,(()=>e.linkProgram(t))),!(0,i.env)().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(t,n),this.debug&&w(t,n),this.vertexAttrsAreBound||(this.setProgram(n),this.vertexAttrsAreBound=function(e,t,n){return m(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),S(e,t,"clipSpacePos",n,3,20,0)&&S(e,t,"uv",n,2,20,12)}(t,this.program,this.vertexBuffer)),n}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&m(this.gl,(()=>this.gl.deleteProgram(e)))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&w(this.gl,this.program),m(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t,n=!0){return this.throwIfDisposed(),n?function(e,t,n){return E(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),m(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),_(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[r,i]=p(t,n);this.setOutputMatrixTextureDriver(e,r,i)}setOutputMatrixWriteRegion(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}setOutputPackedMatrixWriteRegion(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&w(this.gl,this.program),k(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;this.debug&&this.debugValidate(),m(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),m(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=v(this.gl,2===(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await i.util.repeatedTry((()=>this.disposed||this.isQueryAvailable(e,(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),r&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||i.util.repeatedTry((()=>(this.pollItems(),0===this.itemsToPoll.length)))}bindTextureToFrameBuffer(e){this.throwIfDisposed(),x(this.gl,e,this.framebuffer),this.debug&&k(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(x(this.gl,this.outputTexture,this.framebuffer),this.debug&&k(this.gl)):T(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const r=this.gl;x(r,e,this.framebuffer),this.debug&&k(r),this.outputTexture=e,m(r,(()=>r.viewport(0,0,t,n))),m(r,(()=>r.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,r){this.throwIfDisposed(),m(this.gl,(()=>this.gl.scissor(e,t,n,r)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}function Ce(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&i.util.assert("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the CPU backend.`))}))}function Oe(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}i.Abs;function Pe(e){return(t,n,r,a,o)=>{const s=i.backend_util.assertAndGetBroadcastShape(t,n),l=s.length,u=i.util.computeStrides(s),c=i.util.sizeFromShape(s),d=i.util.getTypedArrayFromDType(o,c),f=t.length,p=n.length,h=i.util.computeStrides(t),m=i.util.computeStrides(n),g=i.backend_util.getBroadcastDims(t,s),v=i.backend_util.getBroadcastDims(n,s);if(g.length+v.length===0)for(let i=0;i<d.length;++i)d[i]=e(r[i%r.length],a[i%a.length]);else for(let y=0;y<d.length;++y){const t=i.util.indexToLoc(y,l,u),n=t.slice(-f);g.forEach((e=>n[e]=0));const o=i.util.locToIndex(n,f,h),s=t.slice(-p);v.forEach((e=>s[e]=0));const c=i.util.locToIndex(s,p,m);d[y]=e(r[o],a[c])}return[d,s]}}function Ie(e){const{inputs:t,backend:n}=e,{real:r,imag:i}=t,a=n.data.get(r.dataId).values,o=n.data.get(i.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",a),imag:n.makeTensorInfo(i.shape,"float32",o)},s}i.Complex;function Ae(e,t,n="float32"){if("complex64"===n){return Ie({inputs:{real:Ae(e,t,"float32"),imag:Ae(e,t,"float32")},backend:e})}const r=i.util.makeZerosTypedArray(i.util.sizeFromShape(t),n);return e.makeTensorInfo(t,n,r)}function De(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}i.Identity;function Me(e){const{inputs:t,backend:n}=e,{input:r}=t,i=n.data.get(r.dataId).complexTensorInfos.real,a=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,a)}i.Real;function Re(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dtype:o}=r;if("complex64"===o){if("complex64"===a.dtype)return De({inputs:{x:a},backend:n});const e=Ae(n,a.shape,a.dtype),t=Re({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),r=Ie({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),r}if("complex64"===a.dtype){const e=Me({inputs:{input:a},backend:n}),t=Re({inputs:{x:e},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(e),t}if(!i.util.hasEncodingLoss(a.dtype,o)){const e=De({inputs:{x:a},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:o}}if("int32"===o){const e=n.data.get(a.dataId).values,t=Int32Array.from(e);return n.makeTensorInfo(a.shape,"int32",t)}if("bool"===o){const e=n.data.get(a.dataId).values,t=i.util.toTypedArray([0],a.dtype),[r,o]=Pe(((e,t)=>e!==t?1:0))(a.shape,[],e,t,"bool");return n.makeTensorInfo(o,"bool",r)}throw new Error(`Error in Cast: failed to cast ${a.dtype} to ${o}`)}i.Cast;function Ne(e,t,n,r){return null==n?({inputs:n,backend:a})=>{const{a:o,b:s}=n,l=a;Ce([o,s],e);const u=l.data.get(o.dataId).values,c=l.data.get(s.dataId).values,d="string"===o.dtype?i.backend_util.fromUint8ToStringArray(u):u,f="string"===o.dtype?i.backend_util.fromUint8ToStringArray(c):c,p=r||o.dtype,[h,m]=t(o.shape,s.shape,d,f,p);return l.makeTensorInfo(m,p,h)}:({inputs:e,backend:i})=>{const{a,b:o}=e,s=i;if("complex64"===a.dtype||"complex64"===o.dtype){const e=Re({inputs:{x:a},backend:s,attrs:{dtype:"complex64"}}),t=s.data.get(e.dataId),r=t.complexTensorInfos.real,i=t.complexTensorInfos.imag,l=s.data.get(r.dataId).values,u=s.data.get(i.dataId).values,c=Re({inputs:{x:o},backend:s,attrs:{dtype:"complex64"}}),d=s.data.get(c.dataId),f=d.complexTensorInfos.real,p=d.complexTensorInfos.imag,h=s.data.get(f.dataId).values,m=s.data.get(p.dataId).values,[g,v,y]=n(a.shape,o.shape,l,u,h,m),b=s.makeTensorInfo(y,"float32",g),w=s.makeTensorInfo(y,"float32",v),S=Ie({inputs:{real:b,imag:w},backend:s});return s.disposeIntermediateTensorInfo(e),s.disposeIntermediateTensorInfo(c),s.disposeIntermediateTensorInfo(b),s.disposeIntermediateTensorInfo(w),S}{const e=s.data.get(a.dataId).values,n=s.data.get(o.dataId).values,i=r||a.dtype,[l,u]=t(a.shape,o.shape,e,n,i);return s.makeTensorInfo(u,i,l)}}}function Le(e){return(t,n,r,a,o,s)=>{const l=i.backend_util.assertAndGetBroadcastShape(t,n),u=i.util.sizeFromShape(l),c=l.length,d=i.util.computeStrides(l),f=i.util.getTypedArrayFromDType("float32",u),p=i.util.getTypedArrayFromDType("float32",u),h=i.backend_util.getBroadcastDims(t,l),m=i.backend_util.getBroadcastDims(n,l),g=i.backend_util.mergeRealAndImagArrays(r,a),v=i.backend_util.mergeRealAndImagArrays(o,s),y=t.length,b=i.util.computeStrides(t),w=n.length,S=i.util.computeStrides(n);if(h.length+m.length===0)for(let i=0;i<f.length;i++){const t=i%g.length,n=i%v.length,r=e(g[2*t],g[2*t+1],v[2*n],v[2*n+1]);f[i]=r.real,p[i]=r.imag}else for(let _=0;_<f.length;_++){const t=i.util.indexToLoc(_,c,d),n=t.slice(-y);h.forEach((e=>n[e]=0));const r=i.util.locToIndex(n,y,b),a=t.slice(-w);m.forEach((e=>a[e]=0));const o=i.util.locToIndex(a,w,S),s=e(g[2*r],g[2*r+1],v[2*o],v[2*o+1]);f[_]=s.real,p[_]=s.imag}return[f,p,l]}}const je=Pe(((e,t)=>e+t)),Be=Le(((e,t,n,r)=>({real:e+n,imag:t+r})));Ne(i.Add,je,Be),i.Add;function Fe(e,t,n,r,a){const o=i.util.sizeFromShape(r),s=i.util.makeZerosTypedArray(a,n);for(let i=0;i<e.length;i++){const n=e[i];if(n<0)throw new Error("Input x must be non-negative!");n>=a||(s[n]+=o>0?t[i]:1)}return s}function Ue(e,t,n,r=!1){const a=e.shape[0],o=e.shape[1],s=(0,i.buffer)([a,n],t.dtype);for(let i=0;i<a;i++)for(let a=0;a<o;a++){const o=e.get(i,a);if(o<0)throw new Error("Input x must be non-negative!");o>=n||(r?s.set(1,i,o):t.size>0?s.set(s.get(i,o)+t.get(i,a),i,o):s.set(s.get(i,o)+1,i,o))}return s}function He(e){return(t,n,r)=>{const a=i.util.getTypedArrayFromDType(n,t.length);for(let i=0;i<t.length;++i)a[i]=e(t[i],r);return a}}function ze(e,t,n){return({inputs:r,attrs:a,backend:o})=>{const{x:s}=r;if(Ce(s,e),"string"===s.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");const l=o,u=l.data.get(s.dataId).values,c=i.util.sizeFromShape(s.shape),d=n||s.dtype,f=i.util.getArrayFromDType(d,c);for(let e=0;e<c;++e)f[e]=t(u[e],a);return l.makeTensorInfo(s.shape,d,f)}}function Ve(e,t,n){return({inputs:r,attrs:i,backend:a})=>{const{x:o}=r;if(Ce(o,e),"string"===o.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");const s=a,l=s.data.get(o.dataId).values,u=n||o.dtype,c=t(l,u,i);return s.makeTensorInfo(o.shape,u,c)}}const $e=He((e=>Math.ceil(e)));Ve(i.Ceil,$e),i.Ceil;function Ge(e,t,n,r){const a=i.util.getArrayFromDType(n,i.util.sizeFromShape(t));if(r&&"string"!==n){let t=0;e.forEach((e=>{const n=i.util.sizeFromShape(e.shape);a.set(e.vals,t),t+=n}))}else{let r=0;e.forEach((e=>{const o="string"===n?i.backend_util.fromUint8ToStringArray(e.vals):e.vals;let s=0;for(let n=0;n<e.shape[0];++n){const i=n*t[1]+r;for(let t=0;t<e.shape[1];++t)a[i+t]=o[s++]}r+=e.shape[1]}))}return a}const We=Pe(((e,t)=>e===t?1:0)),qe=(Ne(i.Equal,We,null,"bool"),i.Equal,He((e=>Math.exp(e)))),Ze=(Ve(i.Exp,qe,"float32"),i.Exp,He((e=>Math.expm1(e)))),Ke=(Ve(i.Expm1,Ze),i.Expm1,He((e=>Math.floor(e))));Ve(i.Floor,Ke),i.Floor;function Xe(e,t,n,r,a,o,s,l,u){const c=(0,i.buffer)([r,o],n);for(let i=0;i<r;i++){const n=[];let r=0;for(let t=0;t<a;t++){const o=e[i*a+t];r+=o*s[t],n.push(o)}if(r<0||r>=u/o)throw new Error(`Invalid indices: ${n} does not index into ${l}`);for(let e=0;e<o;e++)c.values[i*o+e]=t.get(...t.indexToLoc(r*o+e))}return c}function Ye(e,t,n){const r=(0,i.buffer)(n,e.dtype);for(let i=0;i<r.size;++i){const n=r.indexToLoc(i).slice(),a=n[0],o=n[2],s=t.locToIndex([a,o]);n[2]=t.values[s];const l=e.locToIndex(n);0<=l&&l<e.values.length&&(r.values[i]=e.values[l])}return r}const Qe=Pe(((e,t)=>e>t?1:0)),Je=(Ne(i.Greater,Qe,null,"bool"),i.Greater,Pe(((e,t)=>e>=t?1:0))),et=(Ne(i.GreaterEqual,Je,null,"bool"),i.GreaterEqual,Pe(((e,t)=>e<t?1:0))),tt=(Ne(i.Less,et,null,"bool"),i.Less,Pe(((e,t)=>e<=t?1:0)));Ne(i.LessEqual,tt,null,"bool"),i.LessEqual;function nt(e,t,n){const r=(t-e)/(n-1),a=i.util.makeZerosTypedArray(n,"float32");a[0]=e;for(let i=1;i<a.length;i++)a[i]=a[i-1]+r;return a}const rt=He((e=>Math.log(e)));Ve(i.Log,rt),i.Log;function it(e,t,n,r){const a=i.util.getTypedArrayFromDType(r,i.util.sizeFromShape(n));for(let i=0;i<a.length;++i){const n=i*t;let r=e[n];for(let i=0;i<t;++i){const t=e[n+i];(Number.isNaN(t)||t>r)&&(r=t)}a[i]=r}return a}const at=Pe(((e,t)=>Math.max(e,t))),ot=(Ne(i.Maximum,at),i.Maximum,Pe(((e,t)=>Math.min(e,t)))),st=(Ne(i.Minimum,ot),i.Minimum,Pe(((e,t)=>e*t))),lt=Le(((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n})));Ne(i.Multiply,st,lt),i.Multiply;function ut(e,t,n){const r=i.util.createScalarValue(-1,n);return st([],t,r,e,n)}i.Neg;const ct=Pe(((e,t)=>e!==t?1:0));Ne(i.NotEqual,ct,null,"bool"),i.NotEqual;function dt(e,t,n,r,a){const o=t.length,s=i.util.sizeFromShape(t),l=i.util.computeStrides(t),u=i.util.computeStrides(a),c=i.util.getTypedArrayFromDType(n,i.util.sizeFromShape(a));for(let d=0;d<s;++d){const t=i.util.indexToLoc(d,o,l),n=new Array(t.length);for(let e=0;e<n.length;e++)n[e]=t[r[e]];c[i.util.locToIndex(n,o,u)]=e[d]}return c}i.Transpose;function ft(e,t,n,r){const[a,o]=i.backend_util.computeOutAndReduceShapes(e,r),s=(0,i.upcastType)(t,"int32"),l=i.util.makeZerosTypedArray(i.util.sizeFromShape(a),s),u=i.util.sizeFromShape(o);for(let i=0;i<l.length;++i){const e=i*u;let t=1;for(let r=0;r<u;++r)t*=n[e+r];l[i]=t}return{outVals:l,outShape:a,outDtype:s}}i.Prod;function pt(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return i.util.makeZerosTypedArray(0,r);const a=Math.abs(Math.ceil((t-e)/n)),o=i.util.makeZerosTypedArray(a,r);t<e&&1===n&&(n=-1),o[0]=e;for(let i=1;i<o.length;i++)o[i]=o[i-1]+n;return o}const ht=He((e=>1/Math.sqrt(e)));Ve(i.Rsqrt,ht),i.Rsqrt;function mt(e,t,n,r,a,o,s,l,u,c){const d=[r/a,a],f=e.values,p=t.values;if(0===r)return(0,i.buffer)(n,t.dtype);const h=(0,i.buffer)(d,t.dtype);"string"===typeof u||"number"===typeof u?h.values.fill(u):"boolean"===typeof u&&h.values.fill(+u);for(let i=0;i<o;i++){const e=[];let o=0;for(let t=0;t<s;t++){const n=f[i*s+t];e.push(n),o+=n*l[t]}if(o<0||o>=r/a)throw new Error(`Invalid indices: ${e} does not index into ${n}`);for(let n=0;n<a;n++)c?h.values[o*a+n]+=p[i*a+n]:h.values[o*a+n]=0===t.rank?p[0]:p[i*a+n]}return h}const gt=He((e=>1/(1+Math.exp(-e))));ze(i.Sigmoid,(e=>1/(1+Math.exp(-e)))),i.Sigmoid;function vt(e,t,n,r,a){const o=i.slice_util.isSliceContinous(r,t,n),s=i.util.sizeFromShape(n),l=i.util.computeStrides(r);if(o){const n=i.slice_util.computeFlatOffset(t,l);return"string"===a?e.slice(n,n+s):e.subarray(n,n+s)}const u="string"===a?i.backend_util.fromUint8ToStringArray(e):e,c=(0,i.buffer)(r,a,u),d=(0,i.buffer)(n,a);for(let i=0;i<d.size;++i){const e=d.indexToLoc(i),n=e.map(((e,n)=>e+t[n]));d.set(c.get(...n),...e)}return"string"===a?i.backend_util.fromStringArrayToUint8(d.values):d.values}i.Slice;function yt(e,t,n,r,a,o,s){const l=t[0],u=o[0],c=new Array(u),d=new Array(l),f=t[1];if(0===u){if(0!==l)throw new Error(i.backend_util.getSparseFillEmptyRowsIndicesDenseShapeMismatch(l));return[i.util.getArrayFromDType(n,0),[0,f],i.util.getArrayFromDType(a,0),c,d]}let p=!0,h=0;const m=new Array(u).fill(0);for(let v=0;v<l;++v){const t=e[v*f];if(t<0)throw new Error(i.backend_util.getSparseFillEmptyRowsNegativeIndexErrorMessage(v,t));if(t>=u)throw new Error(i.backend_util.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(v,t,u));++m[t],p=p&&t>=h,h=t}let g=!0;for(let i=0;i<u;++i){const e=0===m[i];c[i]=e,g=g&&!e,m[i]=Math.max(m[i],1),i>0&&(m[i]+=m[i-1])}if(g&&p){const t=e,n=r;for(let e=0;e<l;++e)d[e]=e;return[t,[l,f],n,c,d]}{const t=m[u-1],o=i.util.getArrayFromDType(n,t*f),p=i.util.getArrayFromDType(a,t),h=new Array(u).fill(0);for(let n=0;n<l;++n){const t=e[n*f],i=h[t],a=(0===t?0:m[t-1])+i;h[t]++;for(let r=0;r<f;++r)o[a*f+r]=e[n*f+r];p[a]=r[n],d[n]=a}for(let e=0;e<u;++e){if(0===h[e]){const t=0===e?0:m[e-1];o[t*f+0]=e;for(let e=1;e<f;++e)o[t*f+e]=0;p[t]=s}}return[o,[t,f],p,c,d]}}function bt(e,t,n,r,a){const o=i.util.sizeFromShape(r),s=t[0],l=a.length,u=[];let c=1,d=-1;for(let g=0;g<l;++g){const e=a[g];if(-1===e){if(-1!==d)throw new Error(i.backend_util.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(d,g));d=g,u.push(1)}else{if(e<0)throw new Error(i.backend_util.getSparseReshapeNegativeOutputDimErrorMessage(g,e));c*=e,u.push(e)}}if(-1!==d){if(c<=0)throw new Error(i.backend_util.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());const e=Math.trunc(o/c);if(c*e!==o)throw new Error(i.backend_util.getSparseReshapeInputOutputMultipleErrorMessage(r,u));u[d]=e}if(i.util.sizeFromShape(u)!==o)throw new Error(i.backend_util.getSparseReshapeInputOutputMismatchErrorMessage(r,u));const f=r.length,p=[];if(f>0){p[f-1]=1;for(let e=f-2;e>=0;--e)p[e]=p[e+1]*r[e+1]}const h=[];if(l>0){h[l-1]=1;for(let e=l-2;e>=0;--e)h[e]=h[e+1]*u[e+1]}const m=i.util.getArrayFromDType(n,s*l);for(let i=0;i<s;++i){let t=0;for(let n=0;n<f;++n)t+=e[i*f+n]*p[n];for(let e=0;e<l;++e)m[i*l+e]=Math.trunc(t/h[e]),t%=h[e]}return[m,[s,l],u]}function wt(e,t,n,r,a,o=!1,s=0){const l=r.length,u=[t[0],e.length/t[0]],c=u[1],d=l>0?a[l-1]+1:0;if(d<0)throw new Error(i.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());const f=t.slice();f[0]=d;const p=f.reduce(((e,t)=>e*t),1),h=i.util.getArrayFromDType(n,p);if(0===l)return d>0&&h.fill(s),[h,f];if(d<=0)throw new Error(i.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());let m=0,g=1,v=0,y=a[m];for(;;){let t=0;if(g<l){if(t=a[g],y===t){++g;continue}if(y>=t)throw new Error(i.backend_util.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(y<0||y>=d)throw new Error(i.backend_util.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(y,d));y>v&&h.fill(s,v*c,y*c);for(let n=m;n<g;++n){const t=r[n];if(t<0||t>=u[0])throw new Error(i.backend_util.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(n,r[n],u[0]));for(let n=0;n<c;n++)h[y*c+n]+=e[t*c+n]}if(o)for(let e=0;e<c;e++)h[y*c+e]/=g-m;if(m=g,++g,v=y+1,y=t,g>l)break}return v<d&&h.fill(s,v*c,d*c),[h,f]}const St=He((e=>Math.sqrt(e))),_t=(ze(i.Sqrt,(e=>Math.sqrt(e))),i.Sqrt,Pe(((e,t)=>{const n=e-t;return n*n})));Ne(i.SquaredDifference,_t),i.SquaredDifference;function xt(e,t,n,r){const a=(0,i.buffer)(e,t.dtype);for(let i=0;i<a.size;i++){const e=a.indexToLoc(i),o=new Array(e.length);for(let t=0;t<o.length;t++)o[t]=e[t]*n[t]+r[t];a.set(t.get(...o),...e)}return a}class Tt{constructor(e,t,n,r,a,o){this.separator=i.util.encodeString(e),this.nGramWidths=t,this.leftPad=i.util.encodeString(n),this.rightPad=i.util.encodeString(r),this.padWidth=a,this.preserveShort=o}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,i,a){for(let o=0;o<i;++o){const s=this.getPadWidth(a),l=Math.max(0,s-o),u=Math.max(0,s-(i-(o+1))),c=a-(l+u),d=t+(l>0?0:o-s);let f=0;f+=l*this.leftPad.length;for(let t=0;t<c;++t)f+=e[d+t].length;f+=u*this.rightPad.length;f+=(l+u+c-1)*this.separator.length,n[r+o]=new Uint8Array(f);const p=n[r+o];let h=0;const m=e=>e.forEach((e=>p[h++]=e));for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<c-1;++t)m(e[d+t]),m(this.separator);if(c>0){m(e[d+c-1]);for(let e=0;e<u;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<u-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let i=1;i<r;++i){let r=t[i]>=e;if(r=r&&t[i]<=n,!r)throw new Error(`Invalid split value ${t[i]}, must be in [${e}, ${n}]`);e=t[i]}if(e!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${e}`)}const a=r-1,o=i.util.getArrayFromDType("int32",r);if(0===n||0===r){const e=new Array(n);for(let t=0;t<=a;++t)o[t]=0;return[e,o]}o[0]=0;for(let i=1;i<=a;++i){const e=t[i]-t[i-1];let n=0;this.nGramWidths.forEach((t=>{n+=this.getNumNGrams(e,t)})),this.preserveShort&&e>0&&0===n&&(n=1),o[i]=o[i-1]+n}const s=new Array(o[a]);for(let i=0;i<a;++i){const n=t[i];let r=o[i];if(this.nGramWidths.forEach((a=>{const o=t[i+1]-t[i],l=this.getNumNGrams(o,a);this.createNGrams(e,n,s,r,l,a),r+=l})),this.preserveShort&&r===o[i]){const a=t[i+1]-t[i];if(0===a)continue;const o=a+2*this.padWidth,l=1;this.createNGrams(e,n,s,r,l,o)}}return[s,o]}}function kt(e,t,n,r,i,a,o,s){return new Tt(n,r,i,a,o,s).compute(e,t)}function Et(e,t,n,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){const i=t[0];let a=e.indexOf(i);for(;-1!==a;){const t=e.subarray(0,a);n&&0===t.length||r.push(t),a=(e=e.subarray(a+1)).indexOf(i)}return void(n&&0===e.length||r.push(e))}let i=0;for(let a=0;a<e.length+1;a++)if(a===e.length||-1!==t.indexOf(e[a])){const t=e.subarray(i,a);n&&0===t.length||r.push(t),i=a+1}}function Ct(e,t,n){const r=e.length,a=[];let o=0,s=0;const l=new Array(r);for(let i=0;i<r;++i){const r=a.length;Et(e[i],t,n,a);const u=a.length-r;l[i]=u,o+=u,s=Math.max(s,u)}const u=i.util.getArrayFromDType("int32",2*o),c=new Array(o),d=[r,s];let f=0;for(let i=0;i<r;++i)for(let e=0;e<l[i];++e)u[2*f]=i,u[2*f+1]=e,c[f]=a[f],++f;return[u,c,d]}function Ot(e,t){const n=i.util.getArrayFromDType("int32",e.length);for(let r=0;r<e.length;++r)n[r]=i.util.fingerPrint64(e[r]).modulo(t).getLowBitsUnsigned();return n}const Pt=Pe(((e,t)=>e-t)),It=Le(((e,t,n,r)=>({real:e-n,imag:t-r})));Ne(i.Sub,Pt,It),i.Sub;function At(e,t){const n=new Array(e.rank);for(let i=0;i<n.length;i++)n[i]=e.shape[i]*t[i];const r=(0,i.buffer)(n,e.dtype);for(let i=0;i<r.values.length;++i){const t=r.indexToLoc(i),n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=t[r]%e.shape[r];const a=e.locToIndex(n);r.values[i]=e.values[a]}return r}const Dt=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function Mt(e,t,n=0,r=e.length-1){for(;r>n;){if(r-n>600){const i=r-n+1,a=t-n+1,o=Math.log(i),s=.5*Math.exp(2*o/3),l=.5*Math.sqrt(o*s*(i-s)/i)*Math.sign(a-i/2);Mt(e,t,Math.max(n,Math.floor(t-a*s/i+l)),Math.min(r,Math.floor(t+(i-a)*s/i+l)))}const a=e[t];let o=n,s=r;for(i.util.swap(e,n,t),Dt(e[r],a)>0&&i.util.swap(e,n,r);o<s;){for(i.util.swap(e,o,s),o++,s--;Dt(e[o],a)<0;)o+=1;for(;Dt(e[s],a)>0;)s-=1}0===Dt(e[n],a)?i.util.swap(e,n,s):(s+=1,i.util.swap(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}}function Rt(e,t,n,r,a){const o=t[t.length-1],[s,l]=[e.length/o,o],u=i.util.getTypedArrayFromDType(n,s*r),c=i.util.getTypedArrayFromDType("int32",s*r);for(let i=0;i<s;i++){const t=i*l,n=e.subarray(t,t+l);let o=new Array(n.length);n.forEach(((e,t)=>o[t]={value:e,index:t})),r<o.length&&(Mt(o,r),o=o.slice(0,r)),a&&o.sort(Dt);const s=i*r,d=u.subarray(s,s+r),f=c.subarray(s,s+r);for(let e=0;e<r;e++)d[e]=o[e].value,f[e]=o[e].index}const d=t.slice();return d[d.length-1]=r,[(0,i.buffer)(d,n,u),(0,i.buffer)(d,"int32",c)]}function Nt(e,t,n,r){const a=i.util.parseAxisParam(t,n)[0],o=[1,n[0],1];for(let i=0;i<a;i++)o[0]*=n[i];o[1]=n[a];for(let i=a+1;i<n.length;i++)o[2]*=n[i];const s={},l=new Int32Array(n[a]),u=new i.TensorBuffer(o,r,e),c=[],d=1===o[0]&&1===o[2];for(let i=0;i<n[a];i++){let t;if(d)t=e[i].toString();else{const e=[];for(let t=0;t<o[0];t++)for(let n=0;n<o[2];n++)e.push(u.get(t,i,n));t=e.join(",")}if(void 0!==s[t])l[i]=s[t];else{const e=Object.keys(s).length;s[t]=e,l[i]=e,c.push(i)}}const f=o.slice();f[1]=Object.keys(s).length;const p=new i.TensorBuffer(f,r);c.forEach(((e,t)=>{for(let n=0;n<o[0];n++)for(let r=0;r<o[2];r++)p.set(u.get(n,e,r),n,t,r)}));const h=n.slice();return h[a]=f[1],{outputValues:p.values,outputShape:h,indices:l}}const{addImpl:Lt,bincountImpl:jt,bincountReduceImpl:Bt,ceilImpl:Ft,concatImpl:Ut,equalImpl:Ht,expImpl:zt,expm1Impl:Vt,floorImpl:$t,gatherNdImpl:Gt,gatherV2Impl:Wt,greaterImpl:qt,greaterEqualImpl:Zt,lessImpl:Kt,lessEqualImpl:Xt,linSpaceImpl:Yt,logImpl:Qt,maxImpl:Jt,maximumImpl:en,minimumImpl:tn,multiplyImpl:nn,negImpl:rn,notEqualImpl:an,prodImpl:on,rangeImpl:sn,rsqrtImpl:ln,scatterImpl:un,sigmoidImpl:cn,simpleAbsImpl:dn,sliceImpl:fn,sparseFillEmptyRowsImpl:pn,sparseReshapeImpl:hn,sparseSegmentReductionImpl:mn,sqrtImpl:gn,stridedSliceImpl:vn,stringNGramsImpl:yn,stringSplitImpl:bn,stringToHashBucketFastImpl:wn,subImpl:Sn,tileImpl:_n,topKImpl:xn,transposeImpl:Tn,uniqueImpl:kn}=r;function En(e,t){return 1===t?[e]:function(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>`${e}.${t}`))}(e,t)}class Cn{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=ue(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=En("rc",this.rank),t=ne(this.rank),n=this.getOutOfBoundsCondition(e),r=this.getSetup(e),i=this.getOutput(e);this.userCode=`\n        void main() {\n          ${t} rc = getOutputCoords();\n\n          if(${n}) {\n            setOutput(vec4(0));\n          } else {\n            ${r}\n\n            setOutput(vec4(${i}));\n          }\n        }\n      `}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let r=0;r<=1;r++){let i=`${0===n?"r":"rp1"}, ${0===r?"c":"cp1"}`;for(let t=2;t<this.rank;t++)i=`${e[e.length-1-t]},`+i;t.push(i)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let n=this.rank-2;n<this.rank;n++)t+=`${e[n]} >= ${this.enableShapeUniforms?`outShape[${n}]`:this.outputShape[n]}`,n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],r=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`\n      int r = ${t[0]};\n      int c = ${t[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${n};\n      bool rEdge = rp1 >= ${r};\n    `}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){return`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${t[0]}),\n            cEdge ? 0. : getA(${t[1]}),\n            rEdge ? 0. : getA(${t[2]}),\n            rEdge || cEdge ? 0. : getA(${t[3]})`}}class On{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=ue(this.outputShape.length);let n="";for(let a=0;a<4;a++){let e="thisRC = rc;";a%2===1&&(e+="thisRC.z += 1;"),a>1&&(e+="thisRC.y += 1;"),n+=`\n        ${e}\n        ${a>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${a}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${a>0?"}":""}\n      `}var r,i;this.userCode=`\n      ${r=t,i=this.enableShapeUniforms,`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${i?z(["r","c","d"],"inputShape"):U(["r","c","d"],r)}\n      return ivec3(r, c, d);\n    }\n  `}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":V(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};\n\n        ${n}\n\n        setOutput(result);\n      }\n    `}}class Pn{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,t,n){const r=An(t,n),i=Dn(e,r,n);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);const a=In(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=a,this.log();const e=this.freeTextures[i].shift();return this.usedTextures[i].push(e),e}let o;return r===c.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===c.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===c.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===c.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===c.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(o),this.numUsedTextures++,this._numBytesAllocated+=a,this.log(),o}releaseTexture(e,t,n,r){if(null==this.freeTextures)return;const a=An(n,r),o=Dn(t,a,r);o in this.freeTextures||(this.freeTextures[o]=[]);const s=In(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),l=(0,i.env)().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==l&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=s):(this.freeTextures[o].push(e),this.numFreeTextures++,this._numBytesFree+=s),this.numUsedTextures--;const u=this.usedTextures[o],c=u.indexOf(e);if(c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");u.splice(c,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function In(e,t,n,r,i){const a=function(e,t){switch(e){case c.PACKED_2X2_FLOAT32:return xe(t);case c.PACKED_2X2_FLOAT16:return Te(t);case c.UNPACKED_FLOAT32:return we(t);case c.UNPACKED_FLOAT16:return Se(t);case c.PACKED_4X1_UNSIGNED_BYTE:return _e(t);default:throw new Error(`Unknown physical texture type ${e}`)}}(t,r);let o;if(i){const[t,n]=p(e[0],e[1]);o=t*n}else{const[t,n]=d(e[0],e[1]);o=t*n}const s=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(n,a);return o*s}function An(e,t){if(e===u.UPLOAD)return c.PACKED_2X2_FLOAT32;if(e===u.RENDER||null==e)return function(e){return(0,i.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?c.PACKED_2X2_FLOAT32:c.UNPACKED_FLOAT32:e?c.PACKED_2X2_FLOAT16:c.UNPACKED_FLOAT16}(t);if(e===u.DOWNLOAD||e===u.PIXELS)return c.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function Dn(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}class Mn{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=ue(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const Rn="return abs(x);";const Nn="return x;";class Ln{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=ue(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}class jn{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=ue(this.outputShape.length);const t=e.length,n=En("rc",t),r=ne(t),i=function(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),a=n.slice(-2),o=t<=1?"rc":`vec2(${a.join(",")})`;this.userCode=`\n      void main() {\n        ${r} rc = getOutputCoords();\n        vec4 packedInput = getA(${i});\n\n        setOutput(getChannel(packedInput, ${o}));\n      }\n    `}}const Bn=i.kernel_impls.whereImpl,Fn={};const Un=(0,i.env)().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class Hn extends i.KernelBackend{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!(0,i.env)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof Ee)t=e;else{const n=s((0,i.env)().getNumber("WEBGL_VERSION"),e);t=new Ee(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=s((0,i.env)().getNumber("WEBGL_VERSION"));t=new Ee(e),this.binaryCache=((n=(0,i.env)().getNumber("WEBGL_VERSION"))in Fn||(Fn[n]={}),Fn[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new Pn(this.gpgpu),this.numMBBeforeWarning=null==(0,i.env)().global.screen?1024:(0,i.env)().global.screen.height*(0,i.env)().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new i.DataStorage(this,(0,i.engine)())}nextDataId(){return Hn.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}write(e,t,n){if(((0,i.env)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||(0,i.env)().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:u.UPLOAD,refCount:1}),r}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,r,a){if((0,i.env)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:u.UPLOAD,refCount:a})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:r,complexTensorInfos:a,slice:o,shape:s,isPacked:l}=t;if(null!=o){let t;t=l?new Ln(s,Nn):new Mn(s,Nn);const n=this.runWebGLProgram(t,[{dataId:e,shape:s,dtype:r}],r),i=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),i}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;const u=null!=this.activeTimers;let c,d;if(u&&(c=i.util.now()),"complex64"===r){const e=this.readSync(a.real.dataId),t=this.readSync(a.imag.dataId);d=i.backend_util.mergeRealAndImagArrays(e,t)}else d=this.getValuesFromTexture(e);return u&&(this.downloadWaitMs+=i.util.now()-c),this.convertAndCacheOnCPU(e,d)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:r,slice:a,dtype:o,complexTensorInfos:s,isPacked:l}=t;if(null!=a){let t;t=l?new Ln(r,Nn):new Mn(r,Nn);const n=this.runWebGLProgram(t,[{dataId:e,shape:r,dtype:o}],o),i=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),i}if(null!=n)return this.convertAndCacheOnCPU(e);if((0,i.env)().getBool("DEBUG")&&!(0,i.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===(0,i.env)().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let u,c,d=null;if("complex64"!==o&&(0,i.env)().get("WEBGL_BUFFER_SUPPORTED")){u=this.decode(e);const t=this.texData.get(u.dataId);d=this.gpgpu.createBufferFromTexture(t.texture.texture,...f(r))}if(this.pendingRead.set(e,[]),"complex64"!==o&&await this.gpgpu.createAndWaitForFence(),"complex64"===o){const e=await Promise.all([this.read(s.real.dataId),this.read(s.imag.dataId)]),t=e[0],n=e[1];c=i.backend_util.mergeRealAndImagArrays(t,n)}else if(null==d)c=this.getValuesFromTexture(e);else{const e=i.util.sizeFromShape(r);c=this.gpgpu.downloadFloat32MatrixFromBuffer(d,e)}if(null!=u&&this.disposeIntermediateTensorInfo(u),null!=d){const e=this.gpgpu.gl;m(e,(()=>e.deleteBuffer(d)))}const p=this.convertAndCacheOnCPU(e,c),h=this.pendingRead.get(e);return this.pendingRead.delete(e),h.forEach((e=>e(p))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&(0,i.engine)().removeDataId(e,this),this.pendingDeletes--),p}readToGPU(e,t={}){const n=this.texData.get(e),{values:r,shape:a,slice:o,dtype:s,isPacked:l,texture:u}=n;if("complex64"===s)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=o){let n;n=l?new Ln(a,Nn):new Mn(a,Nn);const r=this.runWebGLProgram(n,[{dataId:e,shape:a,dtype:s}],s),i=this.readToGPU(r,t);return this.disposeIntermediateTensorInfo(r),i}if(null==u)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const c=this.decode(e,t.customTexShape),d=(0,i.engine)().makeTensorFromTensorInfo(c),f=this.texData.get(c.dataId);return Object.assign({tensorRef:d},f.texture)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>i.util.decodeString(e)));return(0,i.buffer)(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,i.buffer)(e.shape,e.dtype,t)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!g(n)){if((0,i.env)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${n} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${n} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:r}=this.texData.get(e),a=i.util.sizeFromShape(t);if((0,i.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),r=this.texData.get(n.dataId),i=this.gpgpu.downloadMatrixFromPackedTexture(r.texture.texture,...f(t)).subarray(0,a);return this.disposeIntermediateTensorInfo(n),i}const o=(0,i.env)().getBool("WEBGL_PACK")&&!0===r,s=o?I(t):t,l=o?new pe(s):new fe(s),u=this.runWebGLProgram(l,[{shape:s,dtype:n,dataId:e}],"float32"),c=this.texData.get(u.dataId),d=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,a);return this.disposeIntermediateTensorInfo(u),d}timerAvailable(){return(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let r=!1;null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e();const a=i.util.flatten(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),o=i.util.flatten(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,r&&(this.programTimersStack=null);const s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if((0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(a);s.kernelMs=i.util.sum(e),s.getExtraProfileInfo=()=>e.map(((e,t)=>({name:o[t],ms:e}))).map((e=>`${e.name}: ${e.ms}`)).join(", ")}else s.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,s})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:i.util.now(),endMs:null}}endTimer(e){return(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=i.util.now(),e)}async getQueryTime(e){if((0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e,t=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:r,usage:i,isPacked:a,slice:o}=this.texData.get(e),s=o&&o.origDataId||e,l=this.dataRefCount.get(s);l>1?this.dataRefCount.set(s,l-1):(this.dataRefCount.delete(s),null!=t&&(this.numBytesInGPU-=this.computeBytes(r,n),this.textureManager.releaseTexture(t,r,i,a)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,t=Un){return(0,i.env)().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&i.util.sizeFromShape(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){i.backend_util.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return Bn(e.shape,t)}packedUnaryOp(e,t,n){const r=new Ln(e.shape,t),a=this.compileAndRun(r,[e],n);return(0,i.engine)().makeTensorFromTensorInfo(a)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=dn(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if((0,i.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Rn,e.dtype);const t=new Mn(e.shape,Rn),n=this.compileAndRun(t,[e]);return(0,i.engine)().makeTensorFromTensorInfo(n)}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&i.util.isString(n[0])){const a=n.map((e=>i.util.encodeString(e)));r=this.write(a,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}makeOutput(e,t,n){return(0,i.engine)().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}unpackTensor(e){const t=new jn(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new Cn(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[O(e.shape),...P(e.shape)],r={dtype:e.dtype,shape:n,dataId:e.dataId},i=[O(t),...P(t)],a=new On(i,n),o=[n],s=this.runWebGLProgram(a,[r],e.dtype,o,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:r,shape:a,dtype:o}=n;if(null!=t){const e=i.util.sizeFromShape(a),n=t[0]*t[1]*4;i.util.assert(e<=n,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const s=I(a);let l;l=r?new de(s):new ce(s);const u=[null!=t?t:f(s)];return{dtype:o,shape:a,dataId:this.runWebGLProgram(l,[{shape:s,dtype:o,dataId:e}],o,u,!0,t).dataId}}runWebGLProgram(e,t,n,r,a=!1,o){const s=this.makeTensorInfo(e.outputShape,n),u=this.texData.get(s.dataId);if(e.packedOutput&&(u.isPacked=!0),e.outPackingScheme===l.DENSE){const t=null!=o?o:f(e.outputShape);u.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(u.usage=e.outTexUsage),0===i.util.sizeFromShape(s.shape))return u.values=i.util.getTypedArrayFromDType(s.dtype,0),s;const c=[],d=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&i.util.sizeFromShape(t.shape)<=(0,i.env)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),c.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!function(e,t){if(e=e.slice(-2),t=t.slice(-2),i.util.arraysEqual(e,t))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(A(n)&&A(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&A(e[0])&&A(t[0])}(n.shape,t.shape)){const e=t,r=t.shape;t.shape=n.shape,t=this.packedReshape(t,r),c.push(t),n=this.texData.get(t.dataId),e.shape=r}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(s.dataId);const p={shape:s.shape,texData:u,isUniform:!1},h=function(e,t,n){let r="";t.concat(n).forEach((t=>{const a=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const o=t.texData.texShape,{useSqueezeShape:s,uniformShape:l,keptDims:u}=re(e.packedInputs,t.shape,o);let c="",d="",f="";if(1===l.length&&e.packedInputs){const e=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];c=`${e[0]>1}_${e[1]>1}`}else if(2!==l.length||e.packedInputs){if(l.length>2&&!e.packedInputs){const e=i.util.computeStrides(l);f=`${e[0]===o[1]}_${e[e.length-1]===o[1]}`}}else d=`${l[0]>1}_${l[1]>1}`;const p=t.shape.length,h=2===l.length&&i.util.arraysEqual(t.shape,o),m=1===i.util.sizeFromShape(t.shape),g=i.backend_util.getBroadcastDims(t.shape,n.shape),v=!e.packedInputs&&p===n.shape.length&&i.util.arraysEqual(o,n.texData.texShape),y=e.packedInputs||l.length>2?"":`${o[0]>1}_${o[1]>1}`;r+=`${p}_${v}_${s?u:""}_${l.length}_${m}_${g}_${h}_${c}_${d}_${f}_${y}_${a}`}else{const e=t.isUniform?"uniform":t.texData.texShape;r+=`${t.shape}_${e}_${a}`}}));const a=e.userCode;let o=e.constructor.name;return o+="_"+r+"_"+a+`${(0,i.env)().getNumber("WEBGL_VERSION")}`,o}(e,d,p),m=this.getAndSaveBinary(h,(()=>oe(this.gpgpu,e,d,p))),g=null!=this.activeTimers;let v;g&&(v=this.startTimer()),(0,i.env)().get("ENGINE_COMPILE_ONLY")||function(e,t,n,r,a){t.program.enableShapeUniforms||(le(t.inShapeInfos,n),le([t.outShapeInfo],[r]));const o=r.texData.texture,s=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(o.texture,s[0],s[1]):e.setOutputMatrixTexture(o.texture,s[0],s[1]),e.setProgram(t.webGLProgram),1===(0,i.env)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach(((n,r)=>{const a=t.program.variableNames[r],o=t.uniformLocations[a],s=t.uniformLocations[`offset${a}`],l=t.inShapesLocations[`${a}Shape`],u=t.inTexShapesLocations[`${a}TexShape`];if(l){const{uniformShape:r}=re(t.program.packedInputs,n.shape,n.texData.texShape);switch(r.length){case 1:e.gl.uniform1iv(l,new Int32Array(r));break;case 2:e.gl.uniform2iv(l,new Int32Array(r));break;case 3:e.gl.uniform3iv(l,new Int32Array(r));break;case 4:e.gl.uniform4iv(l,new Int32Array(r))}}if(u&&e.gl.uniform2i(u,n.texData.texShape[0],n.texData.texShape[1]),null!=o)if(n.isUniform)if(i.util.sizeFromShape(n.shape)<2)e.gl.uniform1f(o,n.uniformValues[0]);else{let t=n.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(o,t)}else null!=n.texData.slice&&null!=s&&e.gl.uniform1i(s,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,o,r)}));const l=t.outShapeLocation;if(l)switch(r.shape.length){case 1:e.gl.uniform1iv(l,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(l,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(l,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(l,new Int32Array(r.shape))}if(t.outShapeStridesLocation){const n=i.util.computeStrides(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&a&&t.program.customUniforms.forEach(((n,r)=>{const i=t.customUniformLocations[r],o=a[r];if("float"===n.type)e.gl.uniform1fv(i,o);else if("vec2"===n.type)e.gl.uniform2fv(i,o);else if("vec3"===n.type)e.gl.uniform3fv(i,o);else if("vec4"===n.type)e.gl.uniform4fv(i,o);else if("int"===n.type)e.gl.uniform1iv(i,o);else if("ivec2"===n.type)e.gl.uniform2iv(i,o);else if("ivec3"===n.type)e.gl.uniform3iv(i,o);else{if("ivec4"!==n.type)throw Error(`uniform type ${n.type} is not supported yet.`);e.gl.uniform4iv(i,o)}})),e.executeProgram()}(this.gpgpu,m,d,p,r),c.forEach((e=>this.disposeIntermediateTensorInfo(e))),g&&(v=this.endTimer(v),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(v)}));const y=(0,i.env)().get("WEBGL_FLUSH_THRESHOLD");if(y>0){const e=i.util.now();e-this.lastGlFlushTime>y&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!(0,i.env)().getBool("WEBGL_LAZILY_UNPACK")&&u.isPacked&&!1===a){const e=this.unpackTensor(s);return this.disposeIntermediateTensorInfo(s),e}return s}compileAndRun(e,t,n,r,i=!1){n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,r,i)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!(0,i.env)().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=(0,i.tidy)((()=>{if(!(0,i.env)().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=(0,i.env)().getBool("DEBUG");(0,i.env)().set("DEBUG",!1);const t=this.abs((0,i.scalar)(1e-8)).dataSync()[0];if((0,i.env)().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:r,values:a,texture:o,usage:s,isPacked:l}=t;if(null!=o)return;const c=null!=this.activeTimers;let d;c&&(d=i.util.now());let f=t.texShape;if(null==f&&(f=function(e,t=!1){let n=(0,i.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,1===(e=e.map(((t,n)=>n>=e.length-2?i.util.nearestLargerEven(e[n]):e[n]))).length&&(e=[2,e[0]])),2!==e.length){const t=i.util.squeezeShape(e);e=t.newShape}let r=i.util.sizeFromShape(e);if(e.length<=1&&r<=n)return[1,r];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){const t=O(e);let n=2,a=2;return e.length&&([n,a]=P(e)),r=t*(n/2)*(a/2),i.util.sizeToSquarishShape(r).map((e=>2*e))}return i.util.sizeToSquarishShape(r)}(n,l),t.texShape=f),null!=a){const e=I(n);let o,s=f[1],h=f[0];const m=a instanceof Uint8Array||a instanceof Uint8ClampedArray;!l&&m||([s,h]=p(f[0],f[1])),o=l?new me(e,m):new he(e,m);const g=m?[h,s]:f,v=this.makeTensorInfo(g,r),y=this.texData.get(v.dataId);y.usage=m?u.PIXELS:u.UPLOAD,y.texShape=g,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(v.dataId),s,h,a);const b=[[h,s]],w=!0,S=this.runWebGLProgram(o,[v],r,b,w),_=this.texData.get(S.dataId);t.texShape=_.texShape,t.isPacked=_.isPacked,t.usage=_.usage,(0,i.env)().get("ENGINE_COMPILE_ONLY")?this.disposeData(S.dataId):(t.texture=_.texture,t.values=null,this.texData.delete(S.dataId)),this.disposeIntermediateTensorInfo(v),c&&(this.uploadWaitMs+=i.util.now()-d)}else{const e=this.acquireTexture(f,s,r,l);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:r}=n;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error(`Unknown dtype ${t}`)}(t,r)),n.values}acquireTexture(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${e} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,t,r)}computeBytes(e,t){return e[0]*e[1]*i.util.bytesPerElement(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(n){throw n}}));e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await(0,i.nextFrame)(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw b(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const[,e]of Object.entries(this.binaryCache)){const{uniformLocations:t,customUniformLocations:n,infLoc:r,nanLoc:i,inShapesLocations:a,inTexShapesLocations:o,outShapeLocation:s,outShapeStridesLocation:l,outTexShapeLocation:u}=se(this.gpgpu,e.program,e.webGLProgram);e.uniformLocations=t,e.customUniformLocations=n,e.infLoc=r,e.nanLoc=i,e.inShapesLocations=a,e.inTexShapesLocations=o,e.outShapeLocation=s,e.outShapeStridesLocation=l,e.outTexShapeLocation=u}}}Hn.nextDataId=0,i.device_util.isBrowser()&&(0,i.registerBackend)("webgl",(()=>new Hn),2)},68713:(e,t,n)=>{"use strict";n.d(t,{JL:()=>r,Zu:()=>i});class r{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class i{refCount(e){return a("refCount")}incRef(e){return a("incRef")}timerAvailable(){return!0}time(e){return a("time")}read(e){return a("read")}readSync(e){return a("readSync")}readToGPU(e,t){return a("readToGPU")}numDataIds(){return a("numDataIds")}disposeData(e,t){return a("disposeData")}write(e,t,n){return a("write")}move(e,t,n,r,i){return a("move")}memory(){return a("memory")}floatPrecision(){return a("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return a("dispose")}}function a(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}},83337:(e,t,n)=>{"use strict";function r(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,i=e.length,a=0,o=!1;for(;r<i;){a=r+(i-r>>>1);const s=n(t,e[a]);s>0?r=a+1:(i=a,o=!s)}return o?r:-r-1}(e,t,n||i)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function i(e,t){return e>t?1:e<t?-1:0}function a(e,t,n,r,i){return l(e,t,n,r,i,0)}function o(e,t,n,r,i,a){return l(e,t,n,r,i,0,!1,a,!0)}function s(e,t,n,r,i,a){return l(e,t,n,r,i,a,!0)}function l(e,t,n,i,a,o,s=!1,l=!1,f=!1){const p=[];for(let r=0;r<t.length;r++)t[r]>a&&p.push({score:t[r],boxIndex:r,suppressBeginIndex:0});p.sort(d);const h=o>0?-.5/o:0,m=[],g=[];for(;m.length<n&&p.length>0;){const t=p.pop(),{score:n,boxIndex:o,suppressBeginIndex:s}=t;if(n<a)break;let l=!1;for(let r=m.length-1;r>=s;--r){const n=u(e,o,m[r]);if(n>=i){l=!0;break}if(t.score=t.score*c(i,h,n),t.score<=a)break}t.suppressBeginIndex=m.length,l||(t.score===n?(m.push(o),g.push(t.score)):t.score>a&&r(p,t,d))}const v=m.length,y=n-v;l&&y>0&&(m.push(...new Array(y).fill(0)),g.push(...new Array(y).fill(0)));const b={selectedIndices:m};return s&&(b.selectedScores=g),f&&(b.validOutputs=v),b}function u(e,t,n){const r=e.subarray(4*t,4*t+4),i=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(i[0],i[2]),c=Math.min(i[1],i[3]),d=Math.max(i[0],i[2]),f=Math.max(i[1],i[3]),p=(s-a)*(l-o),h=(d-u)*(f-c);if(p<=0||h<=0)return 0;const m=Math.max(a,u),g=Math.max(o,c),v=Math.min(s,d),y=Math.min(l,f),b=Math.max(v-m,0)*Math.max(y-g,0);return b/(p+h-b)}function c(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function d(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}n.d(t,{GP:()=>a,qP:()=>o,pA:()=>s})},48333:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(72657);function i(e,t){const n=[];for(let r=0;r<t.length;r++)t[r]&&n.push(r);const i=(0,r.f)(e,"int32"),a=(0,r.f)([n.length,e.length],"int32");for(let r=0;r<n.length;r++){const t=i.indexToLoc(n[r]),o=r*e.length;a.values.set(t,o)}return a.toTensor()}},86931:(e,t,n)=>{"use strict";n.d(t,{SYM:()=>Z.SY,VGw:()=>Z.VG,SpW:()=>Z.Sp,zJI:()=>Xe,HeW:()=>Qe,a4z:()=>tt,DBS:()=>it,mm_:()=>Z.mm,Xze:()=>Z.Xz,oT6:()=>Z.oT,IKK:()=>Z.IK,sJF:()=>Z.sJ,aJk:()=>Z.aJ,M2y:()=>Z.M2,qw7:()=>Z.qw,jMg:()=>Z.jM,QCc:()=>Z.QC,Oyi:()=>Z.Oy,JhU:()=>Z.Jh,_k9:()=>Z._k,IMb:()=>Z.IM,ROF:()=>Z.RO,XLW:()=>Z.XL,zws:()=>Z.zw,zvY:()=>Z.zv,eEB:()=>Z.eE,Ly9:()=>Z.Ly,RFZ:()=>Z.RF,gJX:()=>Z.gJ,xnO:()=>Z.xn,Zz9:()=>Z.Zz,yj2:()=>Z.yj,Eh3:()=>Z.Eh,mhS:()=>Z.mh,wUP:()=>Z.wU,wm:()=>Z.wm,x12:()=>Z.x1,o2y:()=>Z.o2,ik2:()=>Z.ik,mc4:()=>Z.mc,TR1:()=>Z.TR,VcC:()=>Z.Vc,Byc:()=>Z.By,iHb:()=>Z.iH,JLz:()=>Sn.JL,QRR:()=>Z.QR,T0n:()=>Z.T0,cie:()=>Z.ci,sL$:()=>Z.sL,y7R:()=>Z.y7,$w:()=>Z.$w,p4S:()=>Z.p4,Vn9:()=>Z.Vn,ekb:()=>Z.ek,ViN:()=>p.Vi,$g6:()=>Z.$g,SX0:()=>Z.SX,HEU:()=>Z.HE,qAh:()=>p.qA,hdR:()=>Z.hd,Omj:()=>Z.Om,NEP:()=>Z.NE,YFo:()=>Z.YF,Y0y:()=>Z.Y0,vwp:()=>Z.vw,deh:()=>Z.de,Uyb:()=>Z.Uy,OR:()=>Z.OR,jeX:()=>Z.je,eBW:()=>Z.eB,sHE:()=>Z.sH,_V0:()=>Z._V,luS:()=>Z.lu,q1x:()=>Z.q1,qi_:()=>Z.qi,iZT:()=>Z.iZ,Acj:()=>Z.Ac,Qg5:()=>Z.Qg,iJz:()=>Z.iJ,J_u:()=>Z.J_,avt:()=>Z.av,iWB:()=>Z.iW,r7n:()=>Z.r7,Zuw:()=>Sn.Zu,eZ0:()=>Z.eZ,Hhh:()=>Z.Hh,J$2:()=>Z.J$,vtC:()=>Z.vt,CAk:()=>Z.CA,e7N:()=>Z.e7,ZbH:()=>Z.Zb,kU:()=>Z.kU,qCd:()=>Z.qC,PYm:()=>Z.PY,VfG:()=>Z.Vf,MZg:()=>Z.MZ,qIC:()=>Z.qI,YoZ:()=>Z.Yo,mTV:()=>Z.mT,OAf:()=>Z.OA,OU7:()=>Z.OU,OV7:()=>Z.OV,vFR:()=>Z.vF,BMI:()=>Z.BM,q2K:()=>Z.q2,c17:()=>Z.c1,q8u:()=>Z.q8,jQs:()=>Z.jQ,Vbg:()=>Z.Vb,rIn:()=>ot,NZg:()=>Z.NZ,wYn:()=>Z.wY,kuV:()=>Z.ku,uv1:()=>Z.uv,cye:()=>Z.cy,W0H:()=>Z.W0,yQU:()=>Z.yQ,zvA:()=>ct.zvA,we_:()=>Z.we,qWM:()=>Z.qW,gaJ:()=>Ke,eEe:()=>lt,QiL:()=>Z.Qi,lyA:()=>Z.ly,Kgp:()=>Z.Kg,pe_:()=>Z.pe,o0g:()=>Z.o0,DlI:()=>Z.Dl,gVI:()=>st,e6w:()=>Z.e6,yw1:()=>ut.yw,xJR:()=>Z.xJ,oHH:()=>Z.oH,$HU:()=>Z.$H,IH3:()=>dt.I,qkr:()=>Z.qk,SbG:()=>Z.Sb,HZH:()=>Z.HZ,_Yw:()=>Z._Y,zbQ:()=>Z.zb,dpD:()=>Z.dp,Hmb:()=>Z.Hm,mKl:()=>Z.mK,b9H:()=>Z.b9,e07:()=>Z.e0,bV0:()=>Z.bV,DYp:()=>at,xQA:()=>Z.xQ,nr8:()=>Z.nr,PhF:()=>Z.Ph,oFR:()=>Z.oF,a5O:()=>Z.a5,i5y:()=>Z.i5,RQH:()=>Z.RQ,wYB:()=>Z.w3,p2w:()=>Z.p2,Gcp:()=>Z.Gc,MRv:()=>Z.MR,TQc:()=>Z.TQ,O3z:()=>Z.O3,nhH:()=>Z.nh,w3H:()=>Z.YW,ZjV:()=>Z.Zj,D2d:()=>Z.D2,L8s:()=>Z.L8,FKq:()=>Z.FK,bK0:()=>Z.bK,_tC:()=>Z._t,h8e:()=>Z.h8,jQk:()=>Z.m2,_JP:()=>Z._J,s1s:()=>Z.s1,XkS:()=>Z.Xk,Tr8:()=>Z.Tr,GBy:()=>Z.GB,sEM:()=>Z.sE,MIZ:()=>Z.MI,esB:()=>X.es,YDk:()=>X.YD,n9L:()=>Z.n9,cWu:()=>Z.cW,wx7:()=>Z.wx,G3Y:()=>Z.G3,kpP:()=>Z.kp,ToN:()=>Z.To,Qvg:()=>Z.Qv,XDQ:()=>Z.XD,_wD:()=>X._w,RuY:()=>Z.Ru,usg:()=>Z.us,WnP:()=>ct.WnP,Khb:()=>ct.Khb,__u:()=>ct.__u,IHx:()=>ct.IHx,QBD:()=>ct.QBD,$6P:()=>ct.$6P,YjB:()=>ct.YjB,NqF:()=>ct.NqF,vHJ:()=>ct.vHJ,ZRM:()=>ct.ZRM,VfV:()=>ct.VfV,z4N:()=>ct.z4N,fvJ:()=>ct.fvJ,C80:()=>ct.C80,wS1:()=>ct.wS1,uR5:()=>ct.uR5,y3$:()=>Ue.y3,Wap:()=>d,zEQ:()=>ct.zEQ,tgs:()=>ct.tgs,Dxk:()=>ct.Dxk,JY5:()=>ct.JY5,p3b:()=>ct.p3b,E4h:()=>ct.E4h,yE8:()=>ct.yE8,anm:()=>ct.anm,XsQ:()=>ct.XsQ,UFq:()=>ct.UFq,Jyw:()=>W,Xhn:()=>a,f3b:()=>ct.f3b,pju:()=>ct.pju,mDi:()=>ct.mDi,iUl:()=>ct.iUl,d9v:()=>ct.d9v,PYB:()=>ct.PYB,zoF:()=>ct.zoF,gME:()=>ct.gME,Izb:()=>ct.Izb,MNy:()=>ct.MNy,ZaL:()=>ct.ZaL,PAt:()=>ct.PAt,Tek:()=>ct.Tek,bc:()=>ct.bc,pdZ:()=>ct.pdZ,$QV:()=>ct.$QV,T3b:()=>K.T3,mCk:()=>ct.mCk,f9Y:()=>ct.f9Y,mew:()=>ct.mew,$Gn:()=>ct.$Gn,zbp:()=>ct.zbp,cbc:()=>qe.cb,ppE:()=>ct.ppE,MXe:()=>Ue.MX,nTT:()=>ct.nTT,B10:()=>ct.B10,C2$:()=>yn,Ka3:()=>ct.Ka3,WmZ:()=>ct.WmZ,cFr:()=>Ue.cF,B90:()=>Ue.B9,N8o:()=>Ue.N8,hiC:()=>ct.hiC,NTj:()=>ct.NTj,AKD:()=>ct.AKD,rvX:()=>ct.rvX,WYO:()=>ct.WYO,pyx:()=>ct.pyx,Ra$:()=>Ue.R,G48:()=>Ue.G4,GRh:()=>ct.GRh,SRH:()=>Ue.SR,OBj:()=>p.OB,DgJ:()=>ct.DgJ,qNN:()=>ct.qNN,d2q:()=>ct.d2q,Qqt:()=>ct.Qqt,dt4:()=>ct.dt4,t$B:()=>ct.t$B,iyy:()=>ct.iyy,kp_:()=>ct.kp_,hlL:()=>ct.hlL,x3e:()=>Ue.x3,zel:()=>Ue.ze,GWj:()=>ct.GWj,qPi:()=>ct.qPi,imm:()=>ct.imm,Iqj:()=>ct.Iqj,dbB:()=>ct.dbB,DaI:()=>o,N_N:()=>Ue.N_,ukX:()=>K.uk,pIF:()=>K.pI,trD:()=>K.tr,UQy:()=>qe.UQ,tiA:()=>qe.ti,pjt:()=>ct.pjt,brS:()=>ct.brS,Sxn:()=>ct.Sxn,asL:()=>ct.asL,BHj:()=>ct.BHj,V3u:()=>ct.V3u,io:()=>r,wx0:()=>ct.wx0,xVT:()=>ct.xVT,UWc:()=>ct.UWc,i2d:()=>ct.i2d,CnY:()=>Ue.Cn,GDt:()=>f,hi7:()=>ct.hi7,d9m:()=>ct.d9m,zN1:()=>ct.zN1,$r2:()=>ct.$r2,SX3:()=>ct.SX3,G9k:()=>ct.G9k,cM7:()=>ct.cM7,Krr:()=>ct.Krr,e_t:()=>ct.e_t,CmS:()=>ct.CmS,l_t:()=>ct.l_t,HvI:()=>ct.HvI,hJK:()=>ct.hJK,K5V:()=>ct.K5V,egP:()=>ct.egP,MB5:()=>ct.MB5,eab:()=>ct.eab,OI3:()=>ct.OI3,mAU:()=>i,Fp7:()=>ct.Fp7,_sB:()=>ct._sB,YQQ:()=>ct.YQQ,Ip$:()=>ct.Ip$,gWQ:()=>ct.gWQ,J69:()=>ct.J69,sq6:()=>Ue.sq,ry_:()=>ct.ry_,VV$:()=>ct.VV$,LTh:()=>ct.LTh,VdP:()=>ct.VdP,wQq:()=>ct.wQq,Gi7:()=>ct.Gi7,p_:()=>ct.p_,dC7:()=>ct.dC7,rq4:()=>ct.rq4,SJ_:()=>ct.SJ_,W76:()=>ct.W76,glt:()=>ht,KOy:()=>ct.KOy,Quu:()=>ct.Quu,lfX:()=>ct.lfX,iUs:()=>ct.iUs,JpU:()=>ct.JpU,op:()=>ct.op,N2O:()=>ct.N2O,vku:()=>ct.vku,pNR:()=>ct.pNR,koy:()=>ct.koy,t1L:()=>ct.t1L,lGY:()=>ct.lGY,d_R:()=>ct.d_R,sQ3:()=>ct.sQ3,AL3:()=>ct.AL3,S0v:()=>ct.S0v,WVs:()=>ct.WVs,N5s:()=>Ue.N5,TN_:()=>ct.TN_,wzB:()=>ct.wzB,nGf:()=>ct.nGf,LGj:()=>ct.LGj,w6H:()=>ct.w6H,Cd_:()=>Ue.Cd,kwC:()=>ct.kwC,M25:()=>ct.M25,jqO:()=>Ue.jq,LiG:()=>K.Li,wCN:()=>K.wC,UYe:()=>ct.UYe,btT:()=>ct.btT,cjG:()=>Ue.cj,XLQ:()=>ct.XLQ,GYS:()=>ct.GYS,SDf:()=>ct.SDf,diP:()=>ct.diP,sx7:()=>ct.sx7,mG2:()=>ct.mG2,QEs:()=>ct.QEs,NMM:()=>ct.NMM,bp0:()=>ct.bp0,iD$:()=>ct.iD$,snQ:()=>ct.snQ,yV1:()=>ae,zcT:()=>ct.zcT,U8D:()=>ct.U8D,U_I:()=>ct.U_I,m7h:()=>l,CQI:()=>Ue.CQ,VYu:()=>Ue.VY,ODp:()=>ct.ODp,XD2:()=>ct.XD2,Xxe:()=>ct.Xxe,tdS:()=>ct.tdS,O$l:()=>ct.O$l,R_K:()=>ct.R_K,tPi:()=>ct.tPi,jZU:()=>ct.jZU,SmN:()=>ct.SmN,CnO:()=>ct.CnO,p0P:()=>ct.p0P,kuN:()=>s,XAC:()=>ct.XAC,Wvh:()=>ct.Wvh,fBT:()=>ct.fBT,rVs:()=>ct.rVs,ers:()=>ct.ers,uN7:()=>ct.uN7,Vl2:()=>ct.Vl2,_b3:()=>ct._b3,h62:()=>ct.h62,$i:()=>ct.$i,L9e:()=>ct.L9e,knu:()=>ct.knu,Nbs:()=>ct.Nbs,NXj:()=>ct.NXj,Z_8:()=>ct.Z_8,luU:()=>ct.luU,Smz:()=>ct.Smz,z4k:()=>ut.z4,ORZ:()=>ct.ORZ,AEp:()=>ct.AEp,XeE:()=>ct.XeE,RRF:()=>ct.RRF,odF:()=>ct.odF,wOQ:()=>ct.wOQ,yXz:()=>ct.yXz,Bfx:()=>ct.Bfx,xZs:()=>ct.xZs,piX:()=>Ee,p3L:()=>u,lub:()=>Ue.lu,Gg6:()=>ct.Gg6,XVJ:()=>Ue.XV,hg7:()=>ct.hg7,p_j:()=>ft,p4s:()=>ct.p4s,Xu6:()=>ct.Xu6,Two:()=>ct.Two,bt3:()=>K.bt,nEe:()=>K.nE,pUJ:()=>ct.pUJ,HHK:()=>ct.HHK,x8V:()=>ut.x8,GaM:()=>ct.GaM,D5U:()=>Ce,h76:()=>qe.h7,fNQ:()=>qe.fN,VD$:()=>ct.VD$,pnJ:()=>qe.pn,jTM:()=>Fe,arb:()=>ct.arb,itS:()=>ct.itS,lls:()=>ct.lls,P84:()=>ct.P84});var r={};n.r(r),n.d(r,{browserFiles:()=>b,browserHTTPRequest:()=>I,concatenateArrayBuffers:()=>h.JY,copyModel:()=>B.ID,decodeWeights:()=>h.dI,encodeWeights:()=>h.yz,fromMemory:()=>R,fromMemorySync:()=>N,getLoadHandlers:()=>m.rM,getModelArtifactsForJSON:()=>h.jN,getModelArtifactsInfoForJSON:()=>h.Q,getSaveHandlers:()=>m.yB,http:()=>P,isHTTPScheme:()=>C,listModels:()=>B.h1,loadWeights:()=>T,moveModel:()=>B.Ny,registerLoadRouter:()=>m.pS,registerSaveRouter:()=>m.tf,removeModel:()=>B.gw,weightsLoaderFactory:()=>k,withSaveHandler:()=>L,withSaveHandlerSync:()=>j});var i={};n.r(i),n.d(i,{confusionMatrix:()=>G});var a={};n.r(a),n.d(a,{fromPixels:()=>re,fromPixelsAsync:()=>te,toPixels:()=>ne});var o={};n.r(o),n.d(o,{prepareAndValidate:()=>ie});var s={};n.r(s),n.d(s,{assertParamsValid:()=>oe,computeFlatOffset:()=>be,computeOutShape:()=>le,getNormalizedAxes:()=>fe,isSliceContinous:()=>ye,maskToAxes:()=>se,parseSliceParams:()=>we,sliceInfo:()=>Se,startForAxis:()=>ge,startIndicesWithElidedDims:()=>pe,stopForAxis:()=>ve,stopIndicesWithElidedDims:()=>he,stridesForAxis:()=>me,stridesWithElidedDims:()=>ue});var l={};n.r(l),n.d(l,{Serializable:()=>xe,SerializationMap:()=>Te,registerClass:()=>ke});var u={};n.r(u),n.d(u,{TEST_EPSILON_FLOAT16:()=>Oe,encodeStrings:()=>Be,expectArrayBuffersEqual:()=>je,expectArraysClose:()=>Pe,expectArraysEqual:()=>Me,expectNumbersClose:()=>Re,expectPromiseToFail:()=>De,expectValuesInRange:()=>Le,testEpsilon:()=>Ie});var c={};n.r(c),n.d(c,{collectGatherOpShapeInfo:()=>mn,computeOutShape:()=>hn,segOpComputeOptimalWindowSize:()=>pn});var d={};n.r(d),n.d(d,{ERF_A1:()=>At,ERF_A2:()=>Dt,ERF_A3:()=>Mt,ERF_A4:()=>Rt,ERF_A5:()=>Nt,ERF_P:()=>It,PARALLELIZE_THRESHOLD:()=>wt,SELU_SCALE:()=>Pt,SELU_SCALEALPHA:()=>Ot,applyActivation:()=>bt.QH,assertAndGetBroadcastShape:()=>W.assertAndGetBroadcastShape,assertAxesAreInnerMostDims:()=>mt.lB,assertParamsConsistent:()=>gt,assignToTypedArray:()=>zt,axesAreInnerMostDims:()=>mt.YB,calculateShapes:()=>ae.calculateShapes,checkEinsumDimSizes:()=>Kt,checkPadOnDimRoundingMode:()=>yt.m,combineLocations:()=>mt.Vh,complexWithEvenIndex:()=>Ft,complexWithOddIndex:()=>Ut,computeConv2DInfo:()=>yt.Ix,computeConv3DInfo:()=>yt.jw,computeDefaultPad:()=>yt.aO,computeDilation2DInfo:()=>yt.Rf,computeOptimalWindowSize:()=>St,computeOutAndReduceShapes:()=>mt.kz,computeOutShape:()=>vt,computePool2DInfo:()=>yt.Xw,computePool3DInfo:()=>yt.pl,convertConv2DDataFormat:()=>yt.sl,decodeEinsumEquation:()=>qt,eitherStridesOrDilationsAreOne:()=>yt.jT,expandShapeToKeepDim:()=>mt.rv,exponent:()=>$t,exponents:()=>Vt,fromStringArrayToUint8:()=>vn,fromUint8ToStringArray:()=>gn,getAxesPermutation:()=>mt.Q3,getBroadcastDims:()=>W.getBroadcastDims,getComplexWithIndex:()=>Ht,getEinsumComputePath:()=>Xt,getEinsumPermutation:()=>Zt,getFusedBiasGradient:()=>bt.pf,getFusedDyActivation:()=>bt.Fr,getImageCenter:()=>_t,getInnerMostAxes:()=>mt.sY,getPermuted:()=>Tt,getReductionAxes:()=>W.getReductionAxes,getReshaped:()=>xt,getReshapedPermuted:()=>kt,getSliceBeginCoords:()=>Et,getSliceSize:()=>Ct,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>en,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>tn,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>nn,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>on,getSparseReshapeInputOutputMismatchErrorMessage:()=>ln,getSparseReshapeInputOutputMultipleErrorMessage:()=>sn,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>rn,getSparseReshapeNegativeOutputDimErrorMessage:()=>an,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>fn,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>un,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>cn,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>dn,getUndoAxesPermutation:()=>mt.LJ,isIdentityPermutation:()=>Yt,log:()=>Lt.c,mergeRealAndImagArrays:()=>jt,prepareAndValidate:()=>ie,prepareSplitSize:()=>Jt,segment_util:()=>c,shouldFuse:()=>bt.uy,slice_util:()=>s,splitRealAndImagArrays:()=>Bt,tupleValuesAreOne:()=>yt.I0,upcastType:()=>ut.x8,validateInput:()=>ae.validateInput,validateUpdateShape:()=>ae.validateUpdateShape,warn:()=>Lt.Z});var f={};n.r(f),n.d(f,{nonMaxSuppressionV3Impl:()=>bn.GP,nonMaxSuppressionV4Impl:()=>bn.qP,nonMaxSuppressionV5Impl:()=>bn.pA,whereImpl:()=>wn.Z});n(61044),n(28209),n(79998);var p=n(22885),h=n(91989),m=n(36493);function g(e){return new Promise((e=>setTimeout(e))).then(e)}class v{constructor(e){if(!(0,p.OB)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(v.URL_SCHEME)&&(e=e.slice(v.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r=(0,h.Yd)(e,n),i=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),a=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=i,await g((()=>a.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=t,await g((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:(0,h.Q)(e)}}}}v.URL_SCHEME="downloads://";class y{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),i=r.modelTopology;if(null==i)return void t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));if(null==r.weightsManifest)return void t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void e({modelTopology:i});const a=(0,h.jN)(r,(e=>this.loadWeights(e)));e(a)},n.onerror=e=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const a of e)t.push(...a.weights),n.push(...a.paths);const r=this.checkManifestAndWeightFiles(e),i=n.map((e=>this.loadWeightsFile(e,r[e])));return Promise.all(i).then((e=>[t,(0,h.JY)(e)]))}loadWeightsFile(e,t){return new Promise(((n,r)=>{const i=new FileReader;i.onload=e=>{const t=e.target.result;n(t)},i.onerror=t=>r(`Failed to weights data from file of path '${e}'.`),i.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>(0,h.EZ)(e.name))),r={};for(const i of e)i.paths.forEach((e=>{const i=(0,h.EZ)(e);if(-1!==t.indexOf(i))throw new Error(`Duplicate file basename found in weights manifest: '${i}'`);if(t.push(i),-1===n.indexOf(i))throw new Error(`Weight file with basename '${i}' is not provided.`);r[e]=this.weightsFiles[n.indexOf(i)]}));if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}function b(e){return new y(e)}m.U3.registerSaveRouter((e=>(0,p.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(v.URL_SCHEME)?function(e="model"){return new v(e)}(e.slice(v.URL_SCHEME.length)):null));var w=n(20569);function S(e,t,n,r){!function(e){(0,w.hu)(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){(0,w.hu)(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),(0,w.hu)(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),(0,w.hu)(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,r=null==r?1:r);let i=0;return Promise.all(e.map((a=>(a.then((a=>{const o=n+ ++i/e.length*(r-n);return t(o),a})),a))))}var _=n(75771);async function x(e,t){null==t&&(t={});const n=null==t.fetchFunc?(0,p.OB)().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),i=(null==t.onProgress?await Promise.all(r):await S(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(i):await S(i,t.onProgress,.5,1)}async function T(e,t="",n,r){return k((e=>x(e,{requestInit:r})))(e,t,n)}function k(e){return async(t,n="",r)=>{const i=t.map((()=>!1)),a={},o=null!=r?r.map((()=>!1)):[],s=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,u=_.J[l]*w.NA(e.shape),c=()=>{i[t]=!0,null==a[t]&&(a[t]=[]),a[t].push({manifestEntry:e,groupOffset:n,sizeBytes:u})};null!=r?r.forEach(((t,n)=>{t===e.name&&(c(),o[n]=!0)})):c(),s.push(e.name),n+=u}))})),!o.every((e=>e))){const e=r.filter(((e,t)=>!o[t]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${s.join(", ")}.`)}const l=i.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),u=[];l.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;u.push(t)}))}));const c=await e(u),d={};let f=0;return l.forEach((e=>{const n=t[e].paths.length;let r=0;for(let t=0;t<n;t++)r+=c[f+t].byteLength;const i=new ArrayBuffer(r),o=new Uint8Array(i);let s=0;for(let t=0;t<n;t++){const e=new Uint8Array(c[f+t]);o.set(e,s),s+=e.byteLength}a[e].forEach((e=>{const t=i.slice(e.groupOffset,e.groupOffset+e.sizeBytes),n=(0,h.dI)(t,[e.manifestEntry]);for(const r in n)d[r]=n[r]})),f+=n})),d}}class E{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?((0,w.hu)("function"===typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=(0,p.OB)().platform.fetch,(0,w.hu)(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&(0,w.hu)(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r=(0,h.Yd)(e,n);t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin");const i=await this.fetch(this.path,t);if(i.ok)return{modelArtifactsInfo:(0,h.Q)(e),responses:[i]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${i.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(i){let e=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?e+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":e+=" Please make sure the server is serving valid JSON for this request.",new Error(e)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return(0,h.jN)(t,(e=>this.loadWeights(e)))}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),i=n>t?e.substring(n):"";return[r+"/",i]}(t),i=this.weightPathPrefix||n,a=[];for(const u of e)a.push(...u.weights);const o=[],s=[];for(const u of e)for(const e of u.paths)null!=this.weightUrlConverter?s.push(this.weightUrlConverter(e)):o.push(i+e+r);this.weightUrlConverter&&o.push(...await Promise.all(s));const l=await x(o,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[a,(0,h.JY)(l)]}}function C(e){return null!=e.match(E.URL_SCHEME_REGEX)}E.URL_SCHEME_REGEX=/^https?:\/\//;const O=(e,t)=>{if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>C(e))):C(e),n)return P(e,t)}return null};function P(e,t){return new E(e,t)}function I(e,t){return P(e,t)}m.U3.registerSaveRouter(O),m.U3.registerLoadRouter(O);class A{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class D{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class M{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function R(e,t,n,r){const i=arguments;return new M(N(...i))}function N(e,t,n,r){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new A(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new A({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new A({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function L(e){return new D(e)}function j(e){return new D(e)}var B=n(90780),F=n(43740),U=n(62271),H=n(28687),z=n(76708),V=n(2668),$=n(89065);const G=(0,V.op)({confusionMatrix_:function(e,t,n){const r=(0,F._1)(e,"labels","confusionMatrix"),i=(0,F._1)(t,"predictions","confusionMatrix");w.hu(null==n||n>0&&Number.isInteger(n),(()=>`If provided, numClasses must be a positive integer, but got ${n}`)),w.hu(1===r.rank,(()=>`Expected the rank of labels to be 1, but got ${r.rank}`)),w.hu(1===i.rank,(()=>`Expected the rank of predictions to be 1, but got ${i.rank}`)),w.hu(r.shape[0]===i.shape[0],(()=>`Mismatch in the number of examples: ${r.shape[0]} vs. ${i.shape[0]}. Labels and predictions should have the same number of elements.`)),w.hu(n>0&&Number.isInteger(n),(()=>`numClasses is required to be a positive integer, but got ${n}`));const a=(0,z.l)((0,U.p)(r,"int32"),n),o=(0,z.l)((0,U.p)(i,"int32"),n),s=(0,$.p)(a),l=(0,H.O)(s,o);return(0,U.p)(l,"int32")}});var W=n(72200),q=n(97097),Z=n(29121),K=n(26151),X=n(4077),Y=n(99906);let Q;function J(e,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,i=!1,a=!1,o=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)i=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)a=!0;else if(null!=e.getContext)o=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);s=!0}if(i){const t=2;if(i&&e.readyState<t)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}if(null!=(0,K.pI)(Z.eB,q.BV.backendName)){const n={pixels:e},r={numChannels:t};return q.BV.runKernel(Z.eB,n,r)}const[l,u]=i?[e.videoWidth,e.videoHeight]:[e.width,e.height];let c,d;if(o)c=e.getContext("2d").getImageData(0,0,l,u).data;else if(r||n)c=e.data;else if(a||i||s){if(null==Q)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");Q=new OffscreenCanvas(1,1).getContext("2d")}else Q=document.createElement("canvas").getContext("2d");Q.canvas.width=l,Q.canvas.height=u,Q.drawImage(e,0,0,l,u),c=Q.getImageData(0,0,l,u).data}if(4===t)d=new Int32Array(c);else{const e=l*u;d=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)d[n*t+e]=c[4*n+e]}const f=[u,l,t];return(0,Y.w)(d,f,"int32")}function ee(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}async function te(e,t=3){let n=null;if((0,p.OB)().getBool("WRAP_TO_IMAGEBITMAP")&&ee(e)){let t;try{t=await createImageBitmap(e,{premultiplyAlpha:"none"})}catch(r){t=null}n=null!=t&&t.width===e.width&&t.height===e.height?t:e}else n=e;return J(n,t)}async function ne(e,t){let n=(0,F._1)(e,"img","toPixels");if(!(e instanceof X.es)){const e=n;n=(0,U.p)(e,"int32"),e.dispose()}if(2!==n.rank&&3!==n.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);const[r,i]=n.shape.slice(0,2),a=2===n.rank?1:n.shape[2];if(a>4||2===a)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${a}`);if("float32"!==n.dtype&&"int32"!==n.dtype)throw new Error(`Unsupported type for toPixels: ${n.dtype}. Please use float32 or int32 tensors.`);const o=await n.data(),s="float32"===n.dtype?255:1,l=new Uint8ClampedArray(i*r*4);for(let u=0;u<r*i;++u){const e=[0,0,0,255];for(let r=0;r<a;r++){const t=o[u*a+r];if("float32"===n.dtype){if(t<0||t>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${t}.`)}else if("int32"===n.dtype&&(t<0||t>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${t}.`);1===a?(e[0]=t*s,e[1]=t*s,e[2]=t*s):e[r]=t*s}const t=4*u;l[t+0]=Math.round(e[0]),l[t+1]=Math.round(e[1]),l[t+2]=Math.round(e[2]),l[t+3]=Math.round(e[3])}if(null!=t){t.width=i,t.height=r;const e=t.getContext("2d"),n=new ImageData(l,i,r);e.putImageData(n,0,0)}return n!==e&&n.dispose(),l}const re=(0,V.op)({fromPixels_:J});function ie(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(0===(0,w.NA)(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const i=t.shape,a=i[i.length-1];let o=1;for(let d=0;d<i.length-1;++d)o*=i[d];const s=e.shape,l=i.slice();l.pop();let u=1;for(let d=a;d<n;++d)u*=s[d],l.push(s[d]);const c=[...(0,w.e3)(e.shape).map((e=>e/u)),1].slice(0,a);return[l,o,u,c]}var ae=n(33028);function oe(e,t,n){const r=e.shape.length;w.hu(r===t.length,(()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`)),w.hu(r===n.length,(()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`));for(let i=0;i<r;++i)w.hu(t[i]+n[i]<=e.shape[i],(()=>`Error in slice${r}D: begin[${i}] + size[${i}] (${t[i]+n[i]}) would overflow input.shape[${i}] (${e.shape[i]})`))}function se(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function le(e,t,n){const r=[];for(let i=0;i<e.length;i++)r[i]=Math.ceil((t[i]-e[i])/n[i]);return r}function ue(e,t,n,r){const i=[...e];for(let a=i.length;a<r.length;a++)i.push(1);for(let a=0;a<n;a++)0===a?i[t]=1:(i.splice(t,0,1),i.pop());return i}function ce(e,t,n){return n<=e?n:n-(t-1)}function de(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function fe(e,t,n,r,i,a,o,s,l){const u=e.length;let c=new Array(u),d=new Array(u),f=new Array(u);if(t.length&&n>0){const l=t[0],u=n+1;c=pe(o,l,u,r,e),d=he(s,l,u,i,e),f=ue(a,l,u,e)}else for(let p=0;p<u;p++)c[p]=ge(o,r,a,e,p,l),d[p]=ve(s,i,a,e,p,l),f[p]=me(a,p,l);return{begin:c,end:d,strides:f}}function pe(e,t,n,r,i){const a=[...i],o=de(n,t);for(let s=0;s<a.length;s++)if(o.indexOf(s)>-1)a[s]=0;else{const i=ce(t,n,s);let o=r[i];e&1<<i&&(o=0),a[s]=o}return a}function he(e,t,n,r,i){const a=[...i],o=de(n,t);for(let s=0;s<a.length;s++)if(o.indexOf(s)>-1)a[s]=Number.MAX_SAFE_INTEGER;else{const i=ce(t,n,s);let o=r[i];e&1<<i&&(o=Number.MAX_SAFE_INTEGER),a[s]=o}for(let s=0;s<a.length;s++){const e=i[s];a[s]<0&&(a[s]+=e),a[s]=w.uZ(0,a[s],i[s])}return a}function me(e,t,n){let r=e[t];return(n&1<<t||null==r)&&(r=1),r}function ge(e,t,n,r,i,a){let o=t[i];const s=n[i]||1;(e&1<<i||a&1<<i||null==o)&&(o=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=r[i];return o<0&&(o+=l),o=w.uZ(0,o,l-1),o}function ve(e,t,n,r,i,a){let o=t[i];const s=n[i]||1;(e&1<<i||a&1<<i||null==o)&&(o=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=r[i];return o<0&&(o+=l),o=s>0?w.uZ(0,o,l):w.uZ(-1,o,l-1),o}function ye(e,t,n){let r=n.length;for(let i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(let i=r+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function be(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function we(e,t,n){let r;const i=e.shape.length;let a;return r="number"===typeof t?[t,...new Array(i-1).fill(0)]:t.length<i?t.concat(new Array(i-t.length).fill(0)):t.slice(),r.forEach((e=>{w.hu(-1!==e,(()=>"slice() does not support negative begin indexing."))})),a=null==n?new Array(i).fill(-1):"number"===typeof n?[n,...new Array(i-1).fill(-1)]:n.length<i?n.concat(new Array(i-n.length).fill(-1)):n,a=a.map(((t,n)=>t>=0?t:(w.hu(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-r[n]))),[r,a]}function Se(e,t,n,r,i,a,o,s,l){let u;if(null==r?(u=new Array(t.length),u.fill(1)):u=r,null!=o&&0!==(o&o-1))throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const d={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:i,endMask:a,ellipsisMask:o,newAxisMask:s,shrinkAxisMask:l};for(let y=0;y<d.dims;y++)c&&0!==(1<<y&s)&&d.numAddAxisAfterEllipsis++,1<<y&o&&(c=!0);c||(d.ellipsisMask|=1<<d.dims,d.dims++);const f={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const i=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<i;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,f);let p=!0,h=!0,m=!0;const g=[],v=[];for(let y=0;y<e.length;++y){if(0===f.strides[y])throw Error(`strides[${y}] must be non-zero`);const t=!!(f.shrinkAxisMask&1<<y),n=e[y];if(-1===n){g.push(t?1:-1);continue}const r=[f.beginMask&1<<y,f.endMask&1<<y],i=[f.strides[y]>0?0:-1,f.strides[y]>0?n:n-1];if(t&&f.strides[y]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===f.strides[y];const a=!!(f.beginMask&1<<y&&f.endMask&1<<y);if(f.beginValid&&f.endValid){if(t){const e=f.begin[y]<0?n+f.begin[y]:f.begin[y];if(f.begin[y]=e,f.end[y]=f.begin[y]+1,e<0||e>=n)throw Error(`slice index ${f.begin[y]} of dimension ${y} out of bounds.`)}else f.begin[y]=_e(f.begin[y],0,f.strides[y],n,r,i),f.end[y]=_e(f.end[y],1,f.strides[y],n,r,i);const e=1===f.strides[y]&&0===f.begin[y]&&f.end[y]===n;p=p&&e,h=h&&(0===y&&1===f.strides[y]||e)}else p=p&&1===f.strides[y]&&a,h=h&&(0===y&&1===f.strides[y]||a);let o,s=!1;if(f.beginValid&&f.endValid?(o=f.end[y]-f.begin[y],s=!0):t?(o=1,s=!0):a&&n>=0&&(o=f.strides[y]<0?-n:n,s=!0),s){let e;e=0===o||o<0!==f.strides[y]<0?0:Math.trunc(o/f.strides[y])+(o%f.strides[y]!==0?1:0),g.push(e)}else g.push(-1)}for(let y=0;y<f.finalShapeGatherIndices.length;++y){const e=f.finalShapeGatherIndices[y];e>=0?v.push(g[e]):-2===e&&v.push(1)}return{finalShapeSparse:v.filter(((e,t)=>-2!==f.finalShapeGatherIndices[t])),finalShape:v,isIdentity:p,sliceDim0:h,isSimpleSlice:m,begin:f.begin,end:f.end,strides:f.strides}}function _e(e,t,n,r,i,a){if(i[t])return n>0?a[t]:a[t+1&1];{const t=e<0?r+e:e;return t<a[0]?a[0]:t>a[1]?a[1]:t}}class xe{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class Te{constructor(){this.classNameMap={}}static getMap(){return null==Te.instance&&(Te.instance=new Te),Te.instance}static register(e){Te.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function ke(e){(0,w.hu)(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),(0,w.hu)("string"===typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),(0,w.hu)(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),Te.register(e)}var Ee=n(80747),Ce=n(79122);const Oe=.1;function Pe(e,t,n){return null==n&&(n=Ie()),Ae(e,t,((e,t)=>Ne(e,t,n)))}function Ie(){return 32===q.BV.backend.floatPrecision()?.001:Oe}function Ae(e,t,n){let r=!0;if(((0,w.fU)(e)||(0,w.fU)(t))&&(r=!1),(0,w.fU)(e)&&(0,w.fU)(t)&&(r=!0),r){const n=e.constructor.name,r=t.constructor.name;if(n!==r)throw new Error(`Arrays are of different type. Actual: ${n}. Expected: ${r}`)}if(Array.isArray(e)&&Array.isArray(t)){const n=(0,F.C)(e),r=(0,F.C)(t);if(!(0,w.cO)(n,r))throw new Error(`Arrays have different shapes. Actual: [${n}]. Expected: [${r}]`)}const i=(0,w.fU)(e)?e:(0,w.xH)(e),a=(0,w.fU)(t)?t:(0,w.xH)(t);if(i.length!==a.length)throw new Error(`Arrays have different lengths actual: ${i.length} vs expected: ${a.length}.\nActual:   ${i}.\nExpected: ${a}.`);for(let o=0;o<a.length;++o){const e=i[o],t=a[o];if(!n(e,t))throw new Error(`Arrays differ: actual[${o}] = ${e}, expected[${o}] = ${t}.\nActual:   ${i}.\nExpected: ${a}.`)}}function De(e,t){e().then((()=>t.fail()),(()=>t()))}function Me(e,t){const n="string"===typeof t||"number"===typeof t||"boolean"===typeof t?[t]:t;return(0,w.HD)(e)||(0,w.HD)(e[0])||(0,w.HD)(t)||(0,w.HD)(t[0])?Ae(e,n,((e,t)=>e==t)):Ae(e,t,((e,t)=>Ne(e,t,0)))}function Re(e,t,n){if(null==n&&(n=Ie()),!Ne(e,t,n))throw new Error(`Numbers differ: actual === ${e}, expected === ${t}`)}function Ne(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function Le(e,t,n){for(let r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error(`Value out of range:${e[r]} low: ${t}, high: ${n}`)}function je(e,t){const n=new Float32Array(e),r=new Float32Array(t);if(n.length!==r.length)throw new Error(`Expected ArrayBuffer to be of length ${r.length}, but it was ${n.length}`);for(let i=0;i<r.length;i++)if(n[i]!==r[i])throw new Error(`Expected ArrayBuffer value at ${i} to be ${r[i]} but got ${n[i]} instead`)}function Be(e){for(let t=0;t<e.length;t++){const n=e[t];Array.isArray(n)?Be(n):e[t]=(0,Ce.encodeString)(n)}return e}const Fe="3.18.0";var Ue=n(4368),He=n(56407),ze=n(41274),Ve=n(24841),$e=n(13261),Ge=n(50248),We=n(6577),qe=n(30633),Ze=n(99494);class Ke extends xe{minimize(e,t=!1,n){const{value:r,grads:i}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:i[e.name]})));this.applyGradients(e)}else this.applyGradients(i);return(0,Ue.B9)(i),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return(0,qe.pn)(e,t)}dispose(){null!=this.iterations_&&(0,Ue.B9)(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:(0,Ze.i)(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Ke,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});class Xe extends Ke{constructor(e,t,n=null){super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=q.BV.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=q.BV.registeredVariables[t];null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:(0,Ue.lu)((()=>(0,We.P)(r).variable(false)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:(0,Ue.lu)((()=>(0,We.P)(r).variable(false)))});const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const a=this.accumulatedGrads[n].variable,o=this.accumulatedUpdates[n].variable;(0,Ue.lu)((()=>{const e=(0,He.I)((0,Ve.d)(a,this.rho),(0,Ve.d)((0,Ge.h)(i),1-this.rho)),t=(0,Ve.d)((0,ze.h)((0,$e._)((0,He.I)(o,this.epsilon)),(0,$e._)((0,He.I)(a,this.epsilon))),i),n=(0,He.I)((0,Ve.d)(o,this.rho),(0,Ve.d)((0,Ge.h)(t),1-this.rho));a.assign(e),o.assign(n);const s=(0,He.I)((0,Ve.d)(t,-this.learningRate),r);r.assign(s)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&((0,Ue.B9)(this.accumulatedGrads.map((e=>e.variable))),(0,Ue.B9)(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}Xe.className="Adadelta",ke(Xe);var Ye=n(14006);class Qe extends Ke{constructor(e,t=.1){super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=q.BV.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:(0,Ue.lu)((()=>(0,Ye.h)(r.shape,this.initialAccumulatorValue).variable(e)))}}const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const a=this.accumulatedGrads[n].variable;(0,Ue.lu)((()=>{const e=(0,He.I)(a,(0,Ge.h)(i));a.assign(e);const t=(0,He.I)((0,Ve.d)((0,ze.h)(i,(0,$e._)((0,He.I)(e,q.BV.backend.epsilon()))),-this.learningRate),r);r.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&(0,Ue.B9)(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}Qe.className="Adagrad",ke(Qe);var Je=n(33453),et=n(70827);class tt extends Ke{constructor(e,t,n,r=null){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],(0,Ue.lu)((()=>{this.accBeta1=(0,Ze.i)(t).variable(),this.accBeta2=(0,Ze.i)(n).variable()})),null==r&&(this.epsilon=q.BV.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);(0,Ue.lu)((()=>{const n=(0,et.l)(1,this.accBeta1),r=(0,et.l)(1,this.accBeta2);t.forEach(((t,i)=>{const a=q.BV.registeredVariables[t];null==this.accumulatedFirstMoment[i]&&(this.accumulatedFirstMoment[i]={originalName:`${t}/m`,variable:(0,Ue.lu)((()=>(0,We.P)(a).variable(false)))}),null==this.accumulatedSecondMoment[i]&&(this.accumulatedSecondMoment[i]={originalName:`${t}/v`,variable:(0,Ue.lu)((()=>(0,We.P)(a).variable(false)))});const o=Array.isArray(e)?e[i].tensor:e[t];if(null==o)return;const s=this.accumulatedFirstMoment[i].variable,l=this.accumulatedSecondMoment[i].variable,u=(0,He.I)((0,Ve.d)(s,this.beta1),(0,Ve.d)(o,1-this.beta1)),c=(0,He.I)((0,Ve.d)(l,this.beta2),(0,Ve.d)((0,Ge.h)(o),1-this.beta2)),d=(0,ze.h)(u,n),f=(0,ze.h)(c,r);s.assign(u),l.assign(c);const p=(0,He.I)((0,Ve.d)((0,ze.h)(d,(0,He.I)((0,$e._)(f),this.epsilon)),-this.learningRate),a);a.assign(p)})),this.accBeta1.assign((0,Ve.d)(this.accBeta1,this.beta1)),this.accBeta2.assign((0,Ve.d)(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&(0,Ue.B9)(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&(0,Ue.B9)(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),(0,Ue.lu)((()=>{this.accBeta1.assign((0,Je.s)(this.beta1,this.iterations_+1)),this.accBeta2.assign((0,Je.s)(this.beta2,this.iterations_+1))}));const t=e.length/2;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}tt.className="Adam",ke(tt);var nt=n(96235),rt=n(80632);class it extends Ke{constructor(e,t,n,r=null,i=0){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],(0,Ue.lu)((()=>{this.iteration=(0,Ze.i)(0).variable(),this.accBeta1=(0,Ze.i)(t).variable()})),null==r&&(this.epsilon=q.BV.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);(0,Ue.lu)((()=>{const n=(0,et.l)(1,this.accBeta1),r=(0,ze.h)(-this.learningRate,(0,He.I)((0,Ve.d)(this.iteration,this.decay),1));t.forEach(((t,i)=>{const a=q.BV.registeredVariables[t];null==this.accumulatedFirstMoment[i]&&(this.accumulatedFirstMoment[i]={originalName:`${t}/m`,variable:(0,We.P)(a).variable(false)}),null==this.accumulatedWeightedInfNorm[i]&&(this.accumulatedWeightedInfNorm[i]={originalName:`${t}/v`,variable:(0,We.P)(a).variable(false)});const o=Array.isArray(e)?e[i].tensor:e[t];if(null==o)return;const s=this.accumulatedFirstMoment[i].variable,l=this.accumulatedWeightedInfNorm[i].variable,u=(0,He.I)((0,Ve.d)(s,this.beta1),(0,Ve.d)(o,1-this.beta1)),c=(0,Ve.d)(l,this.beta2),d=(0,nt.W)(o),f=(0,rt.g)(c,d);s.assign(u),l.assign(f);const p=(0,He.I)((0,Ve.d)((0,ze.h)(r,n),(0,ze.h)(u,(0,He.I)(f,this.epsilon))),a);a.assign(p)})),this.iteration.assign((0,He.I)(this.iteration,1)),this.accBeta1.assign((0,Ve.d)(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&(0,Ue.B9)(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&(0,Ue.B9)(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}it.className="Adamax",ke(it);class at extends Ke{constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const i=q.BV.registeredVariables[t];(0,Ue.lu)((()=>{const e=(0,He.I)((0,Ve.d)(this.c,r),i);i.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=(0,Ue.Cn)((0,Ze.i)(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}at.className="SGD",ke(at);class ot extends at{constructor(e,t,n=!1){super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=(0,Ze.i)(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=q.BV.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:`${t}/momentum`,variable:(0,Ue.lu)((()=>(0,We.P)(r).variable(e)))}}const i=this.accumulations[n].variable,a=Array.isArray(e)?e[n].tensor:e[t];null!=a&&(0,Ue.lu)((()=>{let e;const t=(0,He.I)((0,Ve.d)(this.m,i),a);e=this.useNesterov?(0,He.I)((0,Ve.d)(this.c,(0,He.I)(a,(0,Ve.d)(t,this.m))),r):(0,He.I)((0,Ve.d)(this.c,t),r),i.assign(t),r.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&(0,Ue.B9)(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}ot.className="Momentum",ke(ot);class st extends Ke{constructor(e,t=.9,n=0,r=null,i=!1){if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,null==r&&(this.epsilon=q.BV.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=q.BV.registeredVariables[t],i=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:(0,Ue.lu)((()=>(0,We.P)(r).variable(i)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:(0,Ue.lu)((()=>(0,We.P)(r).variable(i)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:(0,Ue.lu)((()=>(0,We.P)(r).variable(i)))});const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const o=this.accumulatedMeanSquares[n].variable,s=this.accumulatedMoments[n].variable;(0,Ue.lu)((()=>{const e=(0,He.I)((0,Ve.d)(o,this.decay),(0,Ve.d)((0,Ge.h)(a),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,i=(0,He.I)((0,Ve.d)(t,this.decay),(0,Ve.d)(a,1-this.decay)),l=(0,ze.h)((0,Ve.d)(a,this.learningRate),(0,$e._)((0,et.l)(e,(0,He.I)((0,Ge.h)(i),this.epsilon)))),u=(0,He.I)((0,Ve.d)(s,this.momentum),l);o.assign(e),t.assign(i),s.assign(u);const c=(0,et.l)(r,u);r.assign(c)}else{const e=(0,He.I)((0,Ve.d)(o,this.decay),(0,Ve.d)((0,Ge.h)(a),1-this.decay)),t=(0,He.I)((0,Ve.d)(s,this.momentum),(0,ze.h)((0,Ve.d)(a,this.learningRate),(0,$e._)((0,He.I)(e,this.epsilon))));o.assign(e),s.assign(t);const n=(0,et.l)(r,t);r.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&(0,Ue.B9)(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&(0,Ue.B9)(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&(0,Ue.B9)(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}st.className="RMSProp",ke(st);class lt{static sgd(e){return new at(e)}static momentum(e,t,n=!1){return new ot(e,t,n)}static rmsprop(e,t=.9,n=0,r=null,i=!1){return new st(e,t,n,r,i)}static adam(e=.001,t=.9,n=.999,r=null){return new tt(e,t,n,r)}static adadelta(e=.001,t=.95,n=null){return new Xe(e,t,n)}static adamax(e=.002,t=.9,n=.999,r=null,i=0){return new it(e,t,n,r,i)}static adagrad(e,t=.1){return new Qe(e,t)}}var ut=n(71221),ct=n(93057),dt=n(49876);const ft={sgd:lt.sgd,momentum:lt.momentum,adadelta:lt.adadelta,adagrad:lt.adagrad,rmsprop:lt.rmsprop,adamax:lt.adamax,adam:lt.adam},pt="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:e=>e();function ht(){return new Promise((e=>pt((()=>e()))))}var mt=n(83591);function gt(e,t){const n=e[0].length;e.forEach(((e,t)=>{w.hu(e.length===n,(()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`))})),w.hu(t>=0&&t<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const r=e[0];e.forEach(((e,i)=>{for(let a=0;a<n;a++)w.hu(a===t||e[a]===r[a],(()=>`Error in concat${n}D: Shape of tensors[${i}] (${e}) does not match the shape of the rest (${r}) along the non-concatenated axis ${i}.`))}))}function vt(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var yt=n(2582),bt=n(19323);const wt=30;function St(e){return e<=wt?e:(0,w.jP)(e,Math.floor(Math.sqrt(e)))}function _t(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function xt(e,t,n,r=!0){let i=[];if(r)i=i.concat(t.slice(0)),i.push(e[0]/n),i=i.concat(e.slice(1));else{i=i.concat(e[0]);const n=t.length;for(let r=0;r<n;++r)i=i.concat([e[r+1]/t[r],t[r]]);i=i.concat(e.slice(n+1))}return i}function Tt(e,t,n=!0){const r=[];if(n){r.push(t);for(let n=t+1;n<e;++n)n<=2*t?(r.push(n),r.push(n-(t+1))):r.push(n)}else{const n=[],i=[];for(let r=1;r<e;++r)r>=2*t+1||r%2===1?i.push(r):n.push(r);r.push(...n),r.push(0),r.push(...i)}return r}function kt(e,t,n,r=!0){const i=[];r?i.push(e[0]/n):i.push(e[0]*n);for(let a=1;a<e.length;++a)a<=t.length?r?i.push(t[a-1]*e[a]):i.push(e[a]/t[a-1]):i.push(e[a]);return i}function Et(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function Ct(e,t,n){const r=e.slice(0,1);for(let i=0;i<n;++i)r.push(e[i+1]-t[i][0]-t[i][1]);return r}const Ot=1.7580993408473768,Pt=1.0507009873554805,It=.3275911,At=.254829592,Dt=-.284496736,Mt=1.421413741,Rt=-1.453152027,Nt=1.061405429;var Lt=n(64706);function jt(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Bt(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function Ft(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let i=0;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}function Ut(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let i=2;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}function Ht(e,t){return{real:e[2*t],imag:e[2*t+1]}}function zt(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function Vt(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let i=0;i<Math.ceil(e/2);i++){const a=(t?2:-2)*Math.PI*(i/e);n[i]=Math.cos(a),r[i]=Math.sin(a)}return{real:n,imag:r}}function $t(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const Gt="->",Wt=/->/g;function qt(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(Wt,"").length)/Gt.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("->").');const[r,i]=e.split(Gt);(0,w.hu)(-1===r.indexOf("..."),(()=>'The ellipsis notation ("...") is not supported yet.'));const a=r.split(","),o=a.length;if(t!==o)throw new Error(`Expected ${o} input tensors, received ${t}`);if(o>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const s=[];for(let d=0;d<i.length;++d){const e=i[d];if(!a.some((t=>-1!==t.indexOf(e))))throw new Error(`Output subscripts contain the label ${e} not present in the input subscripts.`);-1===s.indexOf(e)&&s.push(e)}for(let d=0;d<r.length;++d){const e=r[d];-1===s.indexOf(e)&&","!==e&&s.push(e)}const l=new Array(a.length);for(let d=0;d<o;++d){if(new Set(a[d].split("")).size!==a[d].length)throw new Error(`Found duplicate axes in input component ${a[d]}. Support for duplicate axes in input is not implemented yet.`);l[d]=[];for(let e=0;e<a[d].length;++e)l[d].push(s.indexOf(a[d][e]))}const u=s.length,c=[];for(let d=i.length;d<u;++d)c.push(d);return{allDims:s,summedDims:c,idDims:l}}function Zt(e,t){let n=new Array(e);n.fill(-1);for(let i=0;i<t.length;++i)n[t[i]]=i;const r=[];for(let i=0;i<e;++i)-1===n[i]&&r.push(i);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:r}}function Kt(e,t,n){const r=new Array(e);for(let i=0;i<n.length;++i){const e=n[i].shape;for(let n=0;n<t[i].length;++n)void 0===r[t[i][n]]?r[t[i][n]]=e[n]:(0,w.hu)(r[t[i][n]]===e[n],(()=>`Expected dimension ${r[t[i][n]]} at axis ${n} of input shaped ${JSON.stringify(e)}, but got dimension ${e[n]}`))}}function Xt(e,t){const n=e,r=[];let i=0;0===e.length&&n.push(-1),i=e.length+1;for(let o=0;o<i;++o)r.push([]);const a=[];for(let o=0;o<n.length;++o){const e=Qt(t,n[o]);for(const t of e)-1===a.indexOf(t)&&(r[o].push(t),a.push(t))}return{path:n,steps:r}}function Yt(e){return e.every(((e,t)=>e===t))}function Qt(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function Jt(e,t,n=0){let r=[];if("number"===typeof t)(0,w.hu)(e.shape[n]%t===0,(()=>"Number of splits must evenly divide the axis.")),r=new Array(t).fill(e.shape[n]/t);else{const i=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);(0,w.hu)(i<=1,(()=>"There should be only one negative value in split array."));const a=t.indexOf(-1);if(-1!==a){const r=t.reduce(((e,t)=>t>0?e+t:e));t[a]=e.shape[n]-r}(0,w.hu)(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),r=t}return r}function en(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function tn(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function nn(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function rn(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function an(e,t){return`size ${e} must be non-negative, not ${t}`}function on(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function sn(e,t){return`Input to reshape is a SparseTensor with ${(0,w.NA)(e)}\n  dense values, but the requested shape requires a multiple of ${(0,w.NA)(t)}. inputShape=${e} outputShape= ${t}`}function ln(e,t){return`Input to reshape is a tensor with ${(0,w.NA)(e)} dense values, but the requested shape has ${(0,w.NA)(t)}. inputShape=${e} outputShape=${t}`}function un(){return"segment ids must be >= 0"}function cn(){return"segment ids are not increasing"}function dn(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function fn(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function pn(e,t){let n,r=!1;for(e<=wt?(n=e,r=!0):n=(0,w.jP)(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=(0,w.jP)(e,n+1);return n}function hn(e,t,n){const r=[],i=e.length;for(let a=0;a<i;a++)a!==t?r.push(e[a]):r.push(n);return r}function mn(e,t,n,r){const i=t.shape.length,a=e.shape.length;if(0!==r&&(r<-i||r>i))throw new Error(`Expect batchDims in the range of [-${i}, ${i}], but got ${r}`);if(r<0&&(r+=i),r>a)throw new Error(`batchDims (${r}) must be less than rank(x) (\n    ${a}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let d=0;d<r;++d)if(e.shape[d]!==t.shape[d])throw new Error(`x.shape[${d}]: ${e.shape[d]} should be equal to indices.shape[${d}]: ${t.shape[d]}.`);const o=e.shape[n],s=[];let l=1,u=1,c=1;for(let d=0;d<r;++d)s.push(e.shape[d]),l*=e.shape[d];for(let d=r;d<n;d++)s.push(e.shape[d]),u*=e.shape[d];for(let d=r;d<i;d++)s.push(t.shape[d]);for(let d=n+1;d<a;d++)s.push(e.shape[d]),c*=e.shape[d];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:o,outputShape:s}}function gn(e){try{return e.map((e=>(0,Ce.decodeString)(e)))}catch(t){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${t}`)}}function vn(e){return e.map((e=>(0,Ce.encodeString)(e)))}var yn=n(85999),bn=n(83337),wn=n(48333),Sn=n(68713)},85186:(e,t,n)=>{"use strict";var r=n(97097),i=(n(79998),n(22885)),a=n(61044),o=n(28209),s=n(90780);class l{fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}}if((0,i.OB)().get("IS_BROWSER")){(0,i.OB)().setPlatform("browser",new l);try{s.xQ.registerManager(o.Ew.URL_SCHEME,new o.JL)}catch(y){}try{s.xQ.registerManager(a.ns.URL_SCHEME,new a.y$)}catch(y){}}const u=()=>n(75410);let c;class d{constructor(){this.util=n(48628),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=(0,i.OB)().global.fetch?(0,i.OB)().global.fetch(e,t):(null==c&&(c=u()),c(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}(0,i.OB)().get("IS_NODE")&&!(0,i.OB)().get("IS_BROWSER")&&(0,i.OB)().setPlatform("node",new d);var f=n(72657),p=n(62271),h=n(8723),m=n(29798),g=n(4077);(0,r.wv)();const v={buffer:f.f,cast:p.p,clone:h.d,print:m.S};(0,g.Vp)(v)},85999:(e,t,n)=>{"use strict";let r;function i(e){r=e}function a(e){if(void 0!==r)return r;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function o(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}n.r(t),n.d(t,{isBrowser:()=>o,isMobile:()=>a,mockIsMobile:()=>i})},97097:(e,t,n)=>{"use strict";n.d(t,{BV:()=>w,wv:()=>b});var r=n(68713),i=n(22885),a=n(55938),o=n(29121),s=n(26151),l=n(64706),u=n(79122),c=n(20569);class d{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new p)}profileKernel(e,t,n){let r;const a=()=>{r=n()};let o;const s=u.now();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(a);else{a();for(const e of r)e.dataSync();o=Promise.resolve({kernelMs:u.now()-s})}if((0,i.OB)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let i=0;i<r.length;i++){const t=r[i];t.data().then((n=>{f(n,t.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:o.then((e=>e.kernelMs)),extraInfo:o.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:i,extraInfo:a}=e;n.forEach((e=>{Promise.all([e.data(),r,a]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],i,n[2])}))}))}}function f(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return console.warn(`Found ${t} in the result of '${n}'`),!0}return!1}class p{logKernelProfile(e,t,n,r,i,a){const o="number"===typeof r?c.oj(`${r}ms`,9):r.error,s=c.oj(e,25),l=t.rank,u=t.size,d=c.oj(t.shape.toString(),14);let f="";for(const c in i){const e=i[c];if(null!=e){const n=e.shape||t.shape,r=n.length;f+=`${c}: ${r}D ${r>0?n:""} `}}console.log(`%c${s}\t%c${o}\t%c${l}D ${d}\t%c${u}\t%c${f}\t%c${a}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}var h=n(4077),m=n(80747);function g(e){return null!=e.kernelName}class v{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class y{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new v}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return e in this.registryFactory?(l.Z(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new d(this.backendInstance),!0}setupRegisteredKernels(){(0,s.tr)(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){(0,s.tr)(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof r.Zu||"function"!==typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,l.Z(`Initialization of backend ${e} failed`),l.Z(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(n){return l.Z(`Initialization of backend ${e} failed`),l.Z(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:i}=this.initializeBackend(n);if(i||r)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,i=this.readSync(t),a=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,i,n.shape,n.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(r){throw t(),r}}nextTensorId(){return y.nextTensorId++}nextVariableId(){return y.nextVariableId++}clone(e){const t=w.runKernel(o.iJ,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return w.runKernel(o.RF,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=(0,s.pI)(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let i=0;n.forEach((e=>{i+="complex64"===e.dtype?3:1}));const a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-i-a;if(o>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${o} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),i=this.state.numBytes,a=this.state.numTensors;let o,l;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const u=g(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(g(e)){const{kernelName:t,inputs:i,attrs:a}=e;null==this.backendName&&this.backend;const u=(0,s.pI)(t,this.backendName);c.hu(null!=u,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),o=()=>{const e=this.backend.numDataIds();l=u.kernelFunc({inputs:i,attrs:a,backend:this.backend});const o=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,o);const s=o.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(r){const e=this.getTensorsForGradient(t,i,s);n=this.saveTensorsForBackwardMode(e)}return s}}else{const{forwardFunc:t}=e,i=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};o=()=>{const e=this.backend.numDataIds();l=this.tidy((()=>t(this.backend,i)));const n=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,e,n),n}}const{inputs:d,attrs:f}=e,p=g(e)?null:e.backwardsFunc;let h;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(h=this.profiler.profileKernel(u,d,(()=>o())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),t=h.outputs):t=o()})),r&&this.addTapeNode(u,d,t,p,n,f),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(d).map((e=>null!=d[e]?d[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(l)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map((e=>this.keep(this.clone(e))));return t}getTensorsForGradient(e,t,n){const r=(0,s.uk)(e);if(null!=r){const e=r.inputsToSave||[],i=r.outputsToSave||[];let a;r.saveAllInputs?(c.hu(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),a=Object.keys(t).map((e=>t[e]))):a=e.map((e=>t[e]));const o=n.filter(((e,t)=>i[t]));return a.concat(o)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let i=e;"string"===n&&c.HD(e[0])&&(i=e.map((e=>u.encodeString(e))));const a=r.write(i,t,n),o=new h.es(t,n,a,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){const e=this.state.tensorInfo.get(a),t=(0,c.Ub)(i);this.state.numBytes+=t-e.bytes,e.bytes=t}return o}makeTensorFromDataId(e,t,n,r){const i={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(i,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:i}=e,a=new h.es(r,i,n,this.nextTensorId());return this.trackTensor(a,t),a}makeVariable(e,t=!0,n,r){n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const i=new h._w(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*c.bT(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof h._w||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*c.bT(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,i,a){const o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:i},l=(0,s.uk)(e);null!=l&&(r=l.gradFunc),null!=r&&(o.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=c.wT(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],i,a))),this.state.activeTape.push(o)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=(0,m.getTensorsInContainer)(e),n=new Set(t.map((e=>e.id)));for(let i=0;i<this.state.activeScope.track.length;i++){const e=this.state.activeScope.track[i];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n,r=!1){if(c.hu(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const i=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));c.hu(i instanceof h.es,(()=>"The result y returned by f() must be a tensor."));const a=function(e,t,n){const r={},i={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const n=e[l],a=n.inputs;for(const e in a){const o=a[e];let s=!1;for(let e=0;e<t.length;e++)if(r[o.id]){n.outputs.forEach((e=>r[e.id]=!0)),s=!0,i[n.id]=!0;break}if(s)break}}const a={};a[n.id]=!0;const o={};for(let l=e.length-1;l>=0;l--){const t=e[l],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(a[t.outputs[e].id]){for(const e in n)a[n[e].id]=!0,o[t.id]=!0;break}}const s=[];for(let l=0;l<e.length;l++){const t=e[l];if(i[t.id]&&o[t.id]){const e={};for(const i in t.inputs){const n=t.inputs[i];r[n.id]&&(e[i]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,s.push(n)}}return s}(this.state.activeTape,t,i);if(!r&&0===a.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[i.id]=null==n?function(e){const t=(0,c.p8)((0,c.NA)(e),"float32");return w.makeTensor(t,e,"float32")}(i.shape):n,function(e,t,n,r){for(let i=t.length-1;i>=0;i--){const a=t[i],o=[];if(a.outputs.forEach((t=>{const n=e[t.id];null!=n?o.push(n):o.push(null)})),null==a.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${a.kernelName}.`);const s=a.gradient(o);for(const t in a.inputs){if(!(t in s))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(s)}.`);const i=n((()=>s[t]()));if("float32"!==i.dtype)throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${i.dtype}'`);const o=a.inputs[t];if(!c.cO(i.shape,o.shape))throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input '${t}' has shape '${i.shape}', which does not match the shape of the input '${o.shape}'`);if(null==e[o.id])e[o.id]=i;else{const t=e[o.id];e[o.id]=r(t,i),t.dispose()}}}}(e,a,(e=>this.tidy(e)),S);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:i,grads:r}}))}customGrad(e){return c.hu(c.mf(e),(()=>"The f passed in customGrad(f) must be a function.")),(...t)=>{let n;c.hu(t.every((e=>e instanceof h.es)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const r={};t.forEach(((e,t)=>{r[t]=e}));return this.runKernelFunc({forwardFunc:(r,i)=>(n=e(...t,i),c.hu(n.value instanceof h.es,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),c.hu(c.mf(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value),backwardsFunc:(e,r)=>{const i=n.gradFunc(e,r),a=Array.isArray(i)?i:[i];c.hu(a.length===t.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),c.hu(a.every((e=>e instanceof h.es)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const o={};return a.forEach(((e,t)=>{o[t]=()=>e})),o},inputs:r})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=(0,u.now)(),n=await this.backend.time(e);return n.wallMs=(0,u.now)()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new v;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function b(){const e=(0,a.D)();if(null==e._tfengine){const t=new i.qA(e);e._tfengine=new y(t)}return(0,i.iG)(e._tfengine.ENV),(0,h.Vi)((()=>e._tfengine)),e._tfengine}y.nextTensorId=0,y.nextVariableId=0;const w=b();function S(e,t){const n={a:e,b:t};return w.runKernel(o.mm,n)}},22885:(e,t,n)=>{"use strict";n.d(t,{OB:()=>s,Vi:()=>l,iG:()=>u,qA:()=>a});var r=n(20569);const i="tfjsflags";class a{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=o,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(s().getBool("IS_TEST")||s().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];s().getBool("IS_TEST")||s().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if((0,r.tI)(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(i in e){e.tfjsflags.split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error(`Could not parse value flag value ${t} for flag ${e}.`)}(t,n)}))}}}function o(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...n)=>(function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("=")))),t}function s(){return l}let l=null;function u(e){l=e}},79998:(e,t,n)=>{"use strict";n(97097);var r=n(85999);const i=(0,n(22885).OB)();i.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),i.registerFlag("IS_BROWSER",(()=>r.isBrowser())),i.registerFlag("IS_NODE",(()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node)),i.registerFlag("IS_CHROME",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),i.registerFlag("PROD",(()=>!1)),i.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>i.getBool("DEBUG"))),i.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),i.registerFlag("IS_TEST",(()=>!1)),i.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>!0)),i.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),i.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1))},55938:(e,t,n)=>{"use strict";let r;function i(){if(null==r){let e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}r=e}return r}function a(e,t){const n=function(){const e=i();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}n.d(t,{D:()=>i,R:()=>a})},4368:(e,t,n)=>{"use strict";n.d(t,{B9:()=>g,CQ:()=>b,Cd:()=>w,Cn:()=>v,G4:()=>s,MX:()=>c,N5:()=>h,N8:()=>d,N_:()=>S,R:()=>l,SR:()=>f,VY:()=>C,XV:()=>y,cF:()=>u,cj:()=>_,jq:()=>k,lu:()=>m,sq:()=>p,x3:()=>x,y3:()=>E,ze:()=>T});var r=n(97097),i=n(22885),a=n(4077),o=n(80747);function s(){(0,i.OB)().set("PROD",!0)}function l(){(0,i.OB)().set("DEBUG",!0)}function u(){(0,i.OB)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function c(e){(0,i.OB)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function d(){r.BV.disposeVariables()}function f(){return r.BV}function p(){return r.BV.memory()}function h(e){return r.BV.profile(e)}function m(e,t){return r.BV.tidy(e,t)}function g(e){(0,o.getTensorsInContainer)(e).forEach((e=>e.dispose()))}function v(e){return r.BV.keep(e)}function y(e){return r.BV.time(e)}function b(e){return r.BV.setBackend(e)}function w(){return r.BV.ready()}function S(){return r.BV.backendName}function _(e){r.BV.removeBackend(e)}function x(e){return r.BV.findBackend(e)}function T(e){return r.BV.findBackendFactory(e)}function k(e,t,n=1){return r.BV.registerBackend(e,t,n)}function E(){return r.BV.backend}function C(e,t){(0,i.OB)().setPlatform(e,t)}(0,a.FZ)(c)},30633:(e,t,n)=>{"use strict";n.d(t,{UQ:()=>s,cb:()=>f,fN:()=>c,h7:()=>u,pn:()=>d,ti:()=>l});var r=n(97097),i=n(4077),a=n(43740),o=n(20569);function s(e){return o.hu(o.mf(e),(()=>"The f passed in grad(f) must be a function")),(t,n)=>{const i=(0,a._1)(t,"x","tf.grad","string_or_numeric"),s=null!=n?(0,a._1)(n,"dy","tf.grad"):null;return r.BV.tidy((()=>{const{value:t,grads:n}=r.BV.gradients((()=>e(i)),[i],s);return null!=s&&o.k5(t.shape,s.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),p(n),n[0]}))}}function l(e){return o.hu(o.mf(e),(()=>"The f passed in grads(f) must be a function")),(t,n)=>{o.hu(Array.isArray(t),(()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"));const i=(0,a.sI)(t,"args","tf.grads","string_or_numeric"),s=null!=n?(0,a._1)(n,"dy","tf.grads"):null;return r.BV.tidy((()=>{const{value:t,grads:n}=r.BV.gradients((()=>e(...i)),i,s);return null!=s&&o.k5(t.shape,s.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),p(n),n}))}}function u(e){return o.hu(o.mf(e),(()=>"The f passed in valueAndGrad(f) must be a function")),(t,n)=>{o.hu(t instanceof i.es,(()=>"The x passed in valueAndGrad(f)(x) must be a tensor")),o.hu(null==n||n instanceof i.es,(()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"));const{grads:a,value:s}=r.BV.gradients((()=>e(t)),[t],n);return p(a),{grad:a[0],value:s}}}function c(e){return o.hu(o.mf(e),(()=>"The f passed in valueAndGrads(f) must be a function")),(t,n)=>{o.hu(Array.isArray(t)&&t.every((e=>e instanceof i.es)),(()=>"The args passed in valueAndGrads(f)(args) must be array of tensors")),o.hu(null==n||n instanceof i.es,(()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"));const a=r.BV.gradients((()=>e(...t)),t,n);return null!=n&&o.k5(a.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),p(a.grads),a}}function d(e,t){o.hu(o.mf(e),(()=>"The f passed in variableGrads(f) must be a function")),o.hu(null==t||Array.isArray(t)&&t.every((e=>e instanceof i._w)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in r.BV.registeredVariables)t.push(r.BV.registeredVariables[e])}const a=n?t.filter((e=>!e.trainable)):null,s=t.length;t=t.filter((e=>e.trainable)),o.hu(t.length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`));const{value:l,grads:u}=r.BV.gradients(e,t,null,!0);o.hu(u.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),o.hu(0===l.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${l.rank} tensor`));const c={};return t.forEach(((e,t)=>{null!=u[t]&&(c[e.name]=u[t])})),null!=a&&a.forEach((e=>c[e.name]=null)),{value:l,grads:c}}function f(e){return r.BV.customGrad(e)}function p(e){if(e.filter((e=>null==e)).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}},61044:(e,t,n)=>{"use strict";n.d(t,{ns:()=>d,y$:()=>p});n(79998);var r=n(22885),i=n(91989),a=n(36493);const o="tensorflowjs",s="models_store",l="model_info_store";function u(){if(!(0,r.OB)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function c(e){const t=e.result;t.createObjectStore(s,{keyPath:"modelPath"}),t.createObjectStore(l,{keyPath:"modelPath"})}class d{constructor(e){if(this.indexedDB=u(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(o,1);r.onupgradeneeded=()=>c(r),r.onsuccess=()=>{const a=r.result;if(null==t){const t=a.transaction(s,"readonly"),r=t.objectStore(s).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return a.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(a.close(),n(r.error)),t.oncomplete=()=>a.close()}else{const r=(0,i.Q)(t),o=a.transaction(l,"readwrite");let u=o.objectStore(l);const c=u.put({modelPath:this.modelPath,modelArtifactsInfo:r});let d;c.onsuccess=()=>{d=a.transaction(s,"readwrite");const i=d.objectStore(s).put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r});i.onsuccess=()=>e({modelArtifactsInfo:r}),i.onerror=e=>{u=o.objectStore(l);const t=u.delete(this.modelPath);t.onsuccess=()=>(a.close(),n(i.error)),t.onerror=e=>(a.close(),n(i.error))}},c.onerror=e=>(a.close(),n(c.error)),o.oncomplete=()=>{null==d?a.close():d.oncomplete=()=>a.close()}}},r.onerror=e=>n(r.error)}))}}d.URL_SCHEME="indexeddb://";const f=e=>{return(0,r.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(d.URL_SCHEME)?(t=e.slice(d.URL_SCHEME.length),new d(t)):null;var t};a.U3.registerSaveRouter(f),a.U3.registerLoadRouter(f);class p{constructor(){this.indexedDB=u()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(o,1);n.onupgradeneeded=()=>c(n),n.onsuccess=()=>{const r=n.result,i=r.transaction(l,"readonly"),a=i.objectStore(l).getAll();a.onsuccess=()=>{const t={};for(const e of a.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},a.onerror=e=>(r.close(),t(a.error)),i.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(d.URL_SCHEME)?t.slice(d.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(o,1);r.onupgradeneeded=()=>c(r),r.onsuccess=()=>{const i=r.result,a=i.transaction(l,"readwrite"),o=a.objectStore(l),u=o.get(e);let c;u.onsuccess=()=>{if(null==u.result)return i.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const r=o.delete(e),a=()=>{c=i.transaction(s,"readwrite");const r=c.objectStore(s).delete(e);r.onsuccess=()=>t(u.result.modelArtifactsInfo),r.onerror=e=>n(u.error)};r.onsuccess=a,r.onerror=e=>(a(),i.close(),n(u.error))}},u.onerror=e=>(i.close(),n(u.error)),a.oncomplete=()=>{null==c?i.close():c.oncomplete=()=>i.close()}},r.onerror=e=>n(r.error)}))}}},91989:(e,t,n)=>{"use strict";n.d(t,{EZ:()=>m,JY:()=>h,Q:()=>y,Yd:()=>g,_n:()=>f,dI:()=>l,jN:()=>v,n7:()=>p,yz:()=>s});var r=n(61661),i=n(10701),a=n(20569),o=n(75771);async function s(e,t){const n=[],r=[],i=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let a=0;a<i.length;++a){const o=i[a],s=Array.isArray(e)?e[a].tensor:e[o];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error(`Unsupported dtype in weight '${o}': ${s.dtype}`);const l={name:o,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){const e=new Promise((async e=>{const t=await s.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+4*t.length,r=new Uint8Array(n);let i=0;for(let a=0;a<t.length;a++){const e=t[a],n=new Uint8Array(new Uint32Array([e.length]).buffer);r.set(n,i),i+=4,r.set(e,i),i+=e.length}e(r)}));r.push(e)}else r.push(s.data());null!=t&&(l.group=t),n.push(l)}return{data:u(await Promise.all(r)),specs:n}}function l(e,t){const n={};let s,l=0;for(const u of t){const t=u.name,c=u.dtype,d=u.shape,f=(0,a.NA)(d);let p;if("quantization"in u){const n=u.quantization;if("uint8"===n.dtype||"uint16"===n.dtype){if(!("min"in n)||!("scale"in n))throw new Error(`Weight ${u.name} with quantization ${n.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==n.dtype)throw new Error(`Weight ${u.name} has unknown quantization dtype ${n.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==c)throw new Error(`Weight ${u.name} is quantized with ${n.dtype} which only supports weights of type float32 not ${c}.`)}const r=o.J[n.dtype],i=e.slice(l,l+f*r),a="uint8"===n.dtype?new Uint8Array(i):new Uint16Array(i);if("float32"===c)if("uint8"===n.dtype||"uint16"===n.dtype){p=new Float32Array(a.length);for(let e=0;e<a.length;e++){const t=a[e];p[e]=t*n.scale+n.min}}else{if("float16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type float32.`);void 0===s&&(s=b()),p=s(a)}else{if("int32"!==c)throw new Error(`Unsupported dtype in weight '${t}': ${c}`);if("uint8"!==n.dtype&&"uint16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type int32.`);p=new Int32Array(a.length);for(let e=0;e<a.length;e++){const t=a[e];p[e]=Math.round(t*n.scale+n.min)}}l+=f*r}else if("string"===c){const t=(0,a.NA)(u.shape);p=[];for(let n=0;n<t;n++){const t=new Uint32Array(e.slice(l,l+4))[0];l+=4;const n=new Uint8Array(e.slice(l,l+t));p.push(n),l+=t}}else{const a=o.J[c],s=e.slice(l,l+f*a);if("float32"===c)p=new Float32Array(s);else if("int32"===c)p=new Int32Array(s);else if("bool"===c)p=new Uint8Array(s);else{if("complex64"!==c)throw new Error(`Unsupported dtype in weight '${t}': ${c}`);{p=new Float32Array(s);const e=new Float32Array(p.length/2),a=new Float32Array(p.length/2);for(let t=0;t<e.length;t++)e[t]=p[2*t],a[t]=p[2*t+1];const o=(0,i.X)(e,d,"float32"),l=(0,i.X)(a,d,"float32");n[t]=(0,r.P)(o,l),o.dispose(),l.dispose()}}l+=f*a}"complex64"!==c&&(n[t]=(0,i.X)(p,d,c))}return n}function u(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const r=new Uint8Array(t);let i=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),i),i+=e.byteLength})),r.buffer}const c="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function d(e){return c?Buffer.byteLength(e):new Blob([e]).size}function f(e){if(c)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,i=t.length;r<i;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function p(e){if(c){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}function h(e){if(1===e.length)return e[0];let t=0;e.forEach((e=>{t+=e.byteLength}));const n=new Uint8Array(t);let r=0;return e.forEach((e=>{n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function m(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function g(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}async function v(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),null!=e.weightsManifest){const[r,i]=await t(e.weightsManifest);n.weightSpecs=r,n.weightData=i}return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),n}function y(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:d(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:d(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function b(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0===(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const i=new ArrayBuffer(4*r.length),a=new Uint32Array(i);for(let o=0;o<r.length;o++){const i=r[o],s=e[n[i>>10]+(1023&i)]+t[i>>10];a[o]=s}return new Float32Array(i)}}},28209:(e,t,n)=>{"use strict";n.d(t,{Ew:()=>v,JL:()=>b});n(79998);var r=n(22885),i=n(20569),a=n(91989),o=n(36493);const s="/",l="tensorflowjs_models",u="info",c="model_topology",d="weight_specs",f="weight_data",p="model_metadata";function h(e){return{info:[l,e,u].join(s),topology:[l,e,c].join(s),weightSpecs:[l,e,d].join(s),weightData:[l,e,f].join(s),modelMetadata:[l,e,p].join(s)}}function m(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function g(e){const t=e.split(s);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(s)}class v{constructor(e){if(!(0,r.OB)().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=h(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),i=(0,a.Q)(e);try{this.LS.setItem(this.keys.info,JSON.stringify(i)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,(0,a._n)(e.weightData));const t={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(t)),{modelArtifactsInfo:i}}catch(t){throw m(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${i.modelTopologyBytes}, weightSpecsBytes=${i.weightSpecsBytes}, weightDataBytes=${i.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;const i=this.LS.getItem(this.keys.modelMetadata);if(null!=i){const e=JSON.parse(i);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(null==o)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=(0,a.n7)(o),t}}v.URL_SCHEME="localstorage://";const y=e=>{return(0,r.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(v.URL_SCHEME)?(t=e.slice(v.URL_SCHEME.length),new v(t)):null;var t};o.U3.registerSaveRouter(y),o.U3.registerLoadRouter(y);class b{constructor(){(0,i.hu)((0,r.OB)().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),(0,i.hu)("undefined"===typeof window||"undefined"!==typeof window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=l+s,n=s+u;for(let r=0;r<this.LS.length;++r){const i=this.LS.key(r);if(i.startsWith(t)&&i.endsWith(n)){e[g(i)]=JSON.parse(this.LS.getItem(i))}}return e}async removeModel(e){var t;const n=h(e=(t=e).startsWith(v.URL_SCHEME)?t.slice(v.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return m(n),r}}},90780:(e,t,n)=>{"use strict";n.d(t,{ID:()=>d,Ny:()=>f,gw:()=>c,h1:()=>u,xQ:()=>o});var r=n(20569),i=n(36493);const a="://";class o{constructor(){this.managers={}}static getInstance(){return null==o.instance&&(o.instance=new o),o.instance}static registerManager(e,t){(0,r.hu)(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(a)&&(e=e.slice(0,e.indexOf(a))),(0,r.hu)(e.length>0,(()=>"scheme must not be an empty string."));const n=o.getInstance();(0,r.hu)(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=this.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(this.getInstance().managers)}}function s(e){if(-1===e.indexOf(a))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${o.getSchemes().join(",")}`);return{scheme:e.split(a)[0],path:e.split(a)[1]}}async function l(e,t,n=!1){(0,r.hu)(e!==t,(()=>`Old path and new path are the same: '${e}'`));const a=i.U3.getLoadHandlers(e);(0,r.hu)(a.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),(0,r.hu)(a.length<2,(()=>`Copying failed because more than one (${a.length}) load handlers for source URL ${e}.`));const l=a[0],u=i.U3.getSaveHandlers(t);(0,r.hu)(u.length>0,(()=>`Copying failed because no save handler is found for destination URL ${t}.`)),(0,r.hu)(u.length<2,(()=>`Copying failed because more than one (${a.length}) save handlers for destination URL ${t}.`));const c=u[0],d=s(e).scheme,f=s(e).path,p=d===s(e).scheme,h=await l.load();n&&p&&await o.getManager(d).removeModel(f);const m=await c.save(h);return n&&!p&&await o.getManager(d).removeModel(f),m.modelArtifactsInfo}async function u(){const e=o.getSchemes(),t={};for(const n of e){const e=await o.getManager(n).listModels();for(const r in e){t[n+a+r]=e[r]}}return t}async function c(e){const t=s(e);return o.getManager(t.scheme).removeModel(t.path)}async function d(e,t){return l(e,t,!1)}async function f(e,t){return l(e,t,!0)}},36493:(e,t,n)=>{"use strict";n.d(t,{U3:()=>r,pS:()=>a,rM:()=>s,tf:()=>i,yB:()=>o});class r{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==r.instance&&(r.instance=new r),r.instance}static registerSaveRouter(e){r.getInstance().saveRouters.push(e)}static registerLoadRouter(e){r.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return r.getHandlers(e,"save")}static getLoadHandlers(e,t){return r.getHandlers(e,"load",t)}static getHandlers(e,t,n){const i=[];return("load"===t?r.getInstance().loadRouters:r.getInstance().saveRouters).forEach((t=>{const r=t(e,n);null!==r&&i.push(r)})),i}}const i=e=>r.registerSaveRouter(e),a=e=>r.registerLoadRouter(e),o=e=>r.getSaveHandlers(e),s=(e,t)=>r.getLoadHandlers(e,t)},75771:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});const r={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8}},29121:(e,t,n)=>{"use strict";n.d(t,{$H:()=>dt,$g:()=>J,$w:()=>Z,Ac:()=>ge,BM:()=>je,By:()=>U,CA:()=>ke,D2:()=>Ht,Dl:()=>lt,Eh:()=>A,FK:()=>Dt,G3:()=>en,GB:()=>Mt,Gc:()=>Lt,HE:()=>te,HZ:()=>pt,Hh:()=>Ne,Hm:()=>mt,IK:()=>u,IM:()=>w,J$:()=>xe,J_:()=>be,Jh:()=>v,Kg:()=>at,L8:()=>Nt,Ly:()=>T,M2:()=>f,MI:()=>Xt,MR:()=>At,MZ:()=>Ae,NE:()=>ie,NZ:()=>Ze,O3:()=>jt,OA:()=>Ue,OR:()=>ce,OU:()=>He,OV:()=>Fe,Om:()=>ne,Oy:()=>m,PY:()=>Pe,Ph:()=>Tt,QC:()=>g,QR:()=>V,Qg:()=>ye,Qi:()=>rt,Qv:()=>rn,RF:()=>E,RO:()=>y,RQ:()=>Ct,Ru:()=>on,SX:()=>ee,SY:()=>r,Sb:()=>yt,Sp:()=>a,T0:()=>$,TQ:()=>Rt,TR:()=>F,To:()=>nn,Tr:()=>Zt,Uy:()=>ue,VG:()=>i,Vb:()=>qe,Vc:()=>z,Vf:()=>Ie,Vn:()=>Y,W0:()=>et,XD:()=>an,XL:()=>S,Xk:()=>qt,Xz:()=>s,Y0:()=>oe,YF:()=>ae,YW:()=>Ft,Yo:()=>Le,Zb:()=>Ce,Zj:()=>Ut,Zz:()=>P,_J:()=>Gt,_V:()=>dn,_Y:()=>gt,_k:()=>b,_t:()=>zt,a5:()=>It,aJ:()=>d,av:()=>we,b9:()=>un,bK:()=>Vt,bV:()=>St,c1:()=>$e,cW:()=>Qt,ci:()=>G,cy:()=>Je,de:()=>le,dp:()=>ht,e0:()=>wt,e6:()=>ut,e7:()=>Ee,eB:()=>ln,eE:()=>k,eZ:()=>Re,ek:()=>X,gJ:()=>C,h8:()=>sn,hd:()=>re,i5:()=>Pt,iH:()=>H,iJ:()=>ve,iW:()=>Se,iZ:()=>me,ik:()=>j,jM:()=>h,jQ:()=>We,je:()=>de,kU:()=>Oe,kp:()=>tn,ku:()=>Xe,lu:()=>fn,ly:()=>it,m2:()=>$t,mK:()=>bt,mT:()=>Be,mc:()=>B,mh:()=>D,mm:()=>o,n9:()=>Yt,nh:()=>Bt,nr:()=>xt,o0:()=>st,o2:()=>L,oF:()=>kt,oH:()=>Q,oT:()=>l,p2:()=>Et,p4:()=>K,pe:()=>ot,q1:()=>he,q2:()=>Ve,q8:()=>Ge,qC:()=>De,qI:()=>Me,qW:()=>tt,qi:()=>pe,qk:()=>ft,qw:()=>p,r7:()=>_e,s1:()=>Wt,sE:()=>Kt,sH:()=>fe,sJ:()=>c,sL:()=>W,us:()=>cn,uv:()=>Qe,vF:()=>ze,vt:()=>Te,vw:()=>se,w3:()=>Ot,wU:()=>M,wY:()=>Ke,we:()=>nt,wm:()=>R,wx:()=>Jt,x1:()=>N,xJ:()=>ct,xQ:()=>_t,xn:()=>O,y7:()=>q,yQ:()=>Ye,yj:()=>I,zb:()=>vt,zv:()=>x,zw:()=>_});const r="Abs",i="Acos",a="Acosh",o="Add",s="AddN",l="All",u="Any",c="ArgMax",d="ArgMin",f="Asin",p="Asinh",h="Atan",m="Atanh",g="Atan2",v="AvgPool",y="AvgPoolGrad",b="AvgPool3D",w="AvgPool3DGrad",S="BatchMatMul",_="BatchToSpaceND",x="Bincount",T="BroadcastTo",k="BroadcastArgs",E="Cast",C="Ceil",O="ClipByValue",P="Complex",I="ComplexAbs",A="Concat",D="Conv2D",M="Conv2DBackpropFilter",R="Conv2DBackpropInput",N="Conv3D",L="Conv3DBackpropFilterV2",j="Conv3DBackpropInputV2",B="Cos",F="Cosh",U="Cumprod",H="Cumsum",z="CropAndResize",V="DenseBincount",$="DepthToSpace",G="DepthwiseConv2dNative",W="DepthwiseConv2dNativeBackpropFilter",q="DepthwiseConv2dNativeBackpropInput",Z="Diag",K="Dilation2D",X="Dilation2DBackpropInput",Y="Dilation2DBackpropFilter",Q="RealDiv",J="Einsum",ee="Elu",te="EluGrad",ne="Erf",re="Equal",ie="Exp",ae="ExpandDims",oe="Expm1",se="FFT",le="Fill",ue="FlipLeftRight",ce="Floor",de="FloorDiv",fe="FusedBatchNorm",pe="GatherV2",he="GatherNd",me="Greater",ge="GreaterEqual",ve="Identity",ye="IFFT",be="Imag",we="IsFinite",Se="IsInf",_e="IsNan",xe="LeakyRelu",Te="Less",ke="LessEqual",Ee="LinSpace",Ce="Log",Oe="Log1p",Pe="LogicalAnd",Ie="LogicalNot",Ae="LogicalOr",De="LogSoftmax",Me="LowerBound",Re="LRN",Ne="LRNGrad",Le="Max",je="Maximum",Be="MaxPool",Fe="MaxPoolGrad",Ue="MaxPool3D",He="MaxPool3DGrad",ze="MaxPoolWithArgmax",Ve="Mean",$e="Min",Ge="Minimum",We="MirrorPad",qe="Mod",Ze="Multinomial",Ke="Multiply",Xe="Neg",Ye="NotEqual",Qe="NonMaxSuppressionV3",Je="NonMaxSuppressionV4",et="NonMaxSuppressionV5",tt="OnesLike",nt="OneHot",rt="Pack",it="PadV2",at="Pool",ot="Pow",st="Prelu",lt="Prod",ut="Range",ct="Real",dt="Reciprocal",ft="Relu",pt="Reshape",ht="ResizeNearestNeighbor",mt="ResizeNearestNeighborGrad",gt="ResizeBilinear",vt="ResizeBilinearGrad",yt="Relu6",bt="Reverse",wt="Round",St="Rsqrt",_t="ScatterNd",xt="SearchSorted",Tt="Select",kt="Selu",Et="Slice",Ct="Sin",Ot="Sinh",Pt="Sign",It="Sigmoid",At="Softplus",Dt="Sqrt",Mt="Sum",Rt="SpaceToBatchND",Nt="SplitV",Lt="Softmax",jt="SparseFillEmptyRows",Bt="SparseReshape",Ft="SparseSegmentMean",Ut="SparseSegmentSum",Ht="SparseToDense",zt="SquaredDifference",Vt="Square",$t="StridedSlice",Gt="StringNGrams",Wt="StringSplit",qt="StringToHashBucketFast",Zt="Sub",Kt="Tan",Xt="Tanh",Yt="Tile",Qt="TopK",Jt="Transform",en="Transpose",tn="Unique",nn="Unpack",rn="UnsortedSegmentSum",an="UpperBound",on="ZerosLike",sn="Step",ln="FromPixels",un="RotateWithOffset",cn="_FusedMatMul",dn="FusedConv2D",fn="FusedDepthwiseConv2D"},26151:(e,t,n)=>{"use strict";n.d(t,{Li:()=>f,T3:()=>m,bt:()=>h,nE:()=>p,pI:()=>l,tr:()=>c,uk:()=>u,wC:()=>d});var r=n(22885),i=n(55938),a=n(64706);const o=(0,i.R)("kernelRegistry",(()=>new Map)),s=(0,i.R)("gradRegistry",(()=>new Map));function l(e,t){const n=g(e,t);return o.get(n)}function u(e){return s.get(e)}function c(e){const t=o.entries(),n=[];for(;;){const{done:r,value:i}=t.next();if(r)break;const[a,o]=i,[s]=a.split("_");s===e&&n.push(o)}return n}function d(e){const{kernelName:t,backendName:n}=e,r=g(t,n);o.has(r)&&a.Z(`The kernel '${t}' for backend '${n}' is already registered`),o.set(r,e)}function f(e){const{kernelName:t}=e;s.has(t)&&(0,r.OB)().getBool("DEBUG")&&a.Z(`Overriding the gradient for '${t}'`),s.set(t,e)}function p(e,t){const n=g(e,t);if(!o.has(n))throw new Error(`The kernel '${e}' for backend '${t}' is not registered`);o.delete(n)}function h(e){if(!s.has(e))throw new Error(`The gradient '${e}' for backend is not registered`);s.delete(e)}function m(e,t){c(e).forEach((e=>{d(Object.assign({},e,{backendName:t}))}))}function g(e,t){return`${t}_${e}`}},64706:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i,c:()=>a});var r=n(22885);function i(...e){(0,r.OB)().getBool("IS_TEST")||(0,r.OB)().getBool("PROD")||console.warn(...e)}function a(...e){(0,r.OB)().getBool("IS_TEST")||(0,r.OB)().getBool("PROD")||console.log(...e)}},96235:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({abs_:function(e){const t=(0,a._1)(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return r.BV.runKernel(i.yj,e)}{const e={x:t};return r.BV.runKernel(i.SY,e)}}})},17839:(e,t,n)=>{"use strict";n.d(t,{K:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({acos_:function(e){const t={x:(0,a._1)(e,"x","acos")};return r.BV.runKernel(i.VG,t)}})},91470:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({acosh_:function(e){const t={x:(0,a._1)(e,"x","acosh")};return r.BV.runKernel(i.Sp,t)}})},56407:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var r=n(97097),i=n(29121),a=n(80747),o=n(43740);const s=(0,n(2668).op)({add_:function(e,t){let n=(0,o._1)(e,"a","add"),s=(0,o._1)(t,"b","add");[n,s]=(0,a.makeTypesMatch)(n,s);const l={a:n,b:s};return r.BV.runKernel(i.mm,l)}})},13135:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(20569);const s=(0,n(2668).op)({addN_:function(e){o.hu(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),o.hu(e.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`));const t=e.map(((e,t)=>(0,a._1)(e,`tensors${t}`,"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!o.cO(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const s=t;return r.BV.runKernel(i.Xz,s)}})},90781:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({all_:function(e,t=null,n=!1){const o={x:(0,a._1)(e,"x","all","bool")},s={axis:t,keepDims:n};return r.BV.runKernel(i.oT,o,s)}})},92998:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({any_:function(e,t=null,n=!1){const o={x:(0,a._1)(e,"x","any","bool")},s={axis:t,keepDims:n};return r.BV.runKernel(i.IK,o,s)}})},40047:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({argMax_:function(e,t=0){const n={x:(0,a._1)(e,"x","argMax")},o={axis:t};return r.BV.runKernel(i.sJ,n,o)}})},27394:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({argMin_:function(e,t=0){const n={x:(0,a._1)(e,"x","argMin")},o={axis:t};return r.BV.runKernel(i.aJ,n,o)}})},72421:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({asin_:function(e){const t={x:(0,a._1)(e,"x","asin")};return r.BV.runKernel(i.M2,t)}})},21891:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({asinh_:function(e){const t={x:(0,a._1)(e,"x","asinh")};return r.BV.runKernel(i.qw,t)}})},77037:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({atan_:function(e){const t={x:(0,a._1)(e,"x","atan")};return r.BV.runKernel(i.jM,t)}})},29812:(e,t,n)=>{"use strict";n.d(t,{f:()=>s});var r=n(97097),i=n(29121),a=n(80747),o=n(43740);const s=(0,n(2668).op)({atan2_:function(e,t){let n=(0,o._1)(e,"a","atan2"),s=(0,o._1)(t,"b","atan2");[n,s]=(0,a.makeTypesMatch)(n,s);const l={a:n,b:s};return r.BV.runKernel(i.QC,l)}})},80369:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({atanh_:function(e){const t={x:(0,a._1)(e,"x","atanh")};return r.BV.runKernel(i.Oy,t)}})},15176:(e,t,n)=>{"use strict";n.d(t,{w:()=>d});var r=n(97097),i=n(29121),a=n(43740),o=n(20569),s=n(62271),l=n(2582),u=n(2668),c=n(4968);const d=(0,u.op)({avgPool_:function(e,t,n,u,d){const f=(0,a._1)(e,"x","avgPool","float32");o.hu(l.jT(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let p=f,h=!1;3===f.rank&&(h=!0,p=(0,c.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),o.hu(4===p.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${p.rank}.`)),l.m("avgPool",u,d);const m={x:p},g={filterSize:t,strides:n,pad:u,dimRoundingMode:d};let v=r.BV.runKernel(i.Jh,m,g);return v=(0,s.p)(v,f.dtype),h?(0,c.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},61749:(e,t,n)=>{"use strict";n.d(t,{u:()=>d});var r=n(97097),i=n(29121),a=n(43740),o=n(20569),s=n(2582),l=n(62271),u=n(2668),c=n(4968);const d=(0,u.op)({avgPool3d_:function(e,t,n,u,d,f="NDHWC"){const p=(0,a._1)(e,"x","avgPool3d","float32");let h=p,m=!1;4===p.rank&&(m=!0,h=(0,c.X)(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]])),o.hu(5===h.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${h.rank}.`)),o.hu("NDHWC"===f,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${f}`)),(0,s.m)("avgPool3d",u,d);const g={x:h},v={filterSize:t,strides:n,pad:u,dimRoundingMode:d,dataFormat:f};let y=r.BV.runKernel(i._k,g,v);return y=(0,l.p)(y,h.dtype),m?(0,c.X)(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}})},83591:(e,t,n)=>{"use strict";n.d(t,{LJ:()=>c,Q3:()=>u,Vh:()=>a,YB:()=>i,kz:()=>o,lB:()=>l,rv:()=>s,sY:()=>d});var r=n(20569);function i(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function a(e,t,n){const r=e.length+t.length,i=[];let a=0,o=0;for(let s=0;s<r;s++)-1===n.indexOf(s)?i.push(e[a++]):i.push(t[o++]);return i}function o(e,t){const n=[],r=e.length;for(let i=0;i<r;i++)-1===t.indexOf(i)&&n.push(e[i]);return[n,t.map((t=>e[t]))]}function s(e,t){return a(e,t.map((e=>1)),t)}function l(e,t,n){r.hu(i(t,n),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`))}function u(e,t){if(i(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((e=>n.push(e))),n}function c(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function d(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}},28441:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(20569);const s=(0,n(2668).op)({batchToSpaceND_:function(e,t,n){const s=(0,a._1)(e,"x","batchToSpaceND"),l=t.reduce(((e,t)=>e*t));o.hu(s.rank>=1+t.length,(()=>`input rank is ${s.rank} but should be > than blockShape.length ${t.length}`)),o.hu(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),o.hu(s.shape[0]%l===0,(()=>`input tensor batch is ${s.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${l}`));const u={x:s},c={blockShape:t,crops:n};return r.BV.runKernel(i.zw,u,c)}})},27505:(e,t,n)=>{"use strict";n.d(t,{t:()=>l});var r=n(97097),i=n(29121),a=n(43740),o=n(20569),s=n(4968);const l=(0,n(2668).op)({batchNorm_:function(e,t,n,l,u,c){null==c&&(c=.001);const d=(0,a._1)(e,"x","batchNorm"),f=(0,a._1)(t,"mean","batchNorm"),p=(0,a._1)(n,"variance","batchNorm");let h,m;null!=u&&(h=(0,a._1)(u,"scale","batchNorm")),null!=l&&(m=(0,a._1)(l,"offset","batchNorm")),o.hu(f.rank===p.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),o.hu(null==m||f.rank===m.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),o.hu(null==h||f.rank===h.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const g=function(e){let t;return t=0===e.rank||1===e.rank?(0,s.X)(e,[1,1,1,e.size]):2===e.rank?(0,s.X)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?(0,s.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(d),v={x:g,scale:h,offset:m,mean:f,variance:p},y={varianceEpsilon:c},b=r.BV.runKernel(i.sH,v,y);return(0,s.X)(b,d.shape)}})},93865:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(20569);const s=(0,n(2668).op)({bincount_:function(e,t,n){const s=(0,a._1)(e,"x","bincount"),l=(0,a._1)(t,"weights","bincount");o.hu("int32"===s.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${s.dtype}`)),o.hu(n>=0,(()=>`size must be non-negative, but got ${n}.`)),o.hu(l.size===s.size||0===l.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${s.shape}, weights shape: ${l.shape}.`));const u={x:s,weights:l},c={size:n};return r.BV.runKernel(i.zv,u,c)}})},88194:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({broadcastArgs_:function(e,t){const n=(0,a._1)(e,"s0","broadcastArgs","int32"),o=(0,a._1)(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(1!==o.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${o.rank}`);const s={s0:n,s1:o};return r.BV.runKernel(i.eE,s)}})},68247:(e,t,n)=>{"use strict";n.d(t,{U:()=>u});var r=n(97097),i=n(29121),a=n(43740),o=n(8723),s=n(2668),l=n(4968);const u=(0,s.op)({broadcastTo_:function(e,t){let n=(0,a._1)(e,"broadcastTo","x");const s=n.shape;if(t.some((e=>!(e>0)||e%1!==0)))throw new Error(`broadcastTo(): Invalid broadcast shape [${t}].`);if(t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=(0,l.X)(n,e)}const u=n.shape,c=Array.from(t);for(let r=t.length-1;r>=0;r--)if(u[r]===t[r])c[r]=1;else if(1!==n.shape[r])throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${t}].`);if(0===c.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return(0,o.d)(n);const d={x:n},f={reps:c};return r.BV.runKernel(i.n9,d,f)}})},72200:(e,t,n)=>{"use strict";function r(e,t){const n=e.length,r=[];for(let i=0;i<n;i++){const a=n-1-i,o=e[a]||1;(t[t.length-1-i]||1)>1&&1===o&&r.unshift(a)}return r}function i(e,t){const n=[];for(let r=0;r<t.length;r++){const i=e[e.length-r-1],a=t.length-r-1,o=t[a];(null==i||1===i&&o>1)&&n.unshift(a)}return n}function a(e,t){const n=[],r=Math.max(e.length,t.length);for(let i=0;i<r;i++){let r=e[e.length-i-1];null==r&&(r=1);let a=t[t.length-i-1];if(null==a&&(a=1),1===r)n.unshift(a);else if(1===a)n.unshift(r);else{if(r!==a){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}n.unshift(r)}}return n}n.r(t),n.d(t,{assertAndGetBroadcastShape:()=>a,getBroadcastDims:()=>r,getReductionAxes:()=>i})},72657:(e,t,n)=>{"use strict";n.d(t,{f:()=>a});var r=n(4077),i=n(20569);function a(e,t="float32",n){return t=t||"float32",i.Mu(e),new r.YD(e,t,n)}},62271:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(20569);const s=(0,n(2668).op)({cast_:function(e,t){const n=(0,a._1)(e,"x","cast");if(!o.LP(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const s={x:n},l={dtype:t};return r.BV.runKernel(i.RF,s,l)}})},6825:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({ceil_:function(e){const t={x:(0,a._1)(e,"x","ceil","float32")};return r.BV.runKernel(i.gJ,t)}})},42279:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(20569);const s=(0,n(2668).op)({clipByValue_:function(e,t,n){const s=(0,a._1)(e,"x","clipByValue");o.hu(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`));const l={x:s},u={clipValueMin:t,clipValueMax:n};return r.BV.runKernel(i.xn,l,u)}})},8723:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({clone_:function(e){const t={x:(0,a._1)(e,"x","clone","string_or_numeric")};return r.BV.runKernel(i.iJ,t)}})},61661:(e,t,n)=>{"use strict";n.d(t,{P:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(20569);const s=(0,n(2668).op)({complex_:function(e,t){const n=(0,a._1)(e,"real","complex"),s=(0,a._1)(t,"imag","complex");o.k5(n.shape,s.shape,`real and imag shapes, ${n.shape} and ${s.shape}, must match in call to tf.complex().`);const l={real:n,imag:s};return r.BV.runKernel(i.Zz,l)}})},46884:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var r=n(97097),i=n(29121),a=n(43740),o=n(20569),s=n(8723);const l=(0,n(2668).op)({concat_:function(e,t=0){(0,o.hu)(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=(0,a.sI)(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return(0,s.d)(n[0]);const l=n,u={axis:t};return r.BV.runKernel(i.Eh,l,u)}})},11355:(e,t,n)=>{"use strict";n.d(t,{P:()=>u});var r=n(43740),i=n(20569),a=n(64794),o=n(2582),s=n(2668),l=n(4968);const u=(0,s.op)({conv1d_:function(e,t,n,s,u="NWC",c=1,d){const f=(0,r._1)(e,"x","conv1d"),p=(0,r._1)(t,"filter","conv1d");let h=f,m=!1;2===f.rank&&(m=!0,h=(0,l.X)(f,[1,f.shape[0],f.shape[1]])),i.hu(3===h.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${h.rank}.`)),i.hu(3===p.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${p.rank}.`)),o.m("conv1d",s,d),i.hu(h.shape[2]===p.shape[1],(()=>`Error in conv1d: depth of input (${h.shape[2]}) must match input depth for filter ${p.shape[1]}.`)),i.hu(o.jT(n,c),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${c}'`)),i.hu("NWC"===u,(()=>`Error in conv1d: got dataFormat of ${u} but only NWC is currently supported.`));const g=(0,l.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]]),v=(0,l.X)(h,[h.shape[0],1,h.shape[1],h.shape[2]]),y=[1,n],b=[1,c],w=(0,a.T)(v,g,y,s,"NHWC",b,d);return m?(0,l.X)(w,[w.shape[2],w.shape[3]]):(0,l.X)(w,[w.shape[0],w.shape[2],w.shape[3]])}})},64794:(e,t,n)=>{"use strict";n.d(t,{T:()=>c});var r=n(97097),i=n(29121),a=n(43740),o=n(20569),s=n(2582),l=n(2668),u=n(4968);const c=(0,l.op)({conv2d_:function(e,t,n,l,c="NHWC",d=[1,1],f){const p=(0,a._1)(e,"x","conv2d","float32"),h=(0,a._1)(t,"filter","conv2d","float32");let m=p,g=!1;3===p.rank&&(g=!0,m=(0,u.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),o.hu(4===m.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${m.rank}.`)),o.hu(4===h.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${h.rank}.`)),s.m("conv2d",l,f);const v="NHWC"===c?m.shape[3]:m.shape[1];o.hu(v===h.shape[2],(()=>`Error in conv2d: depth of input (${v}) must match input depth for filter ${h.shape[2]}.`)),o.hu(s.jT(n,d),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${d}'`));const y={x:m,filter:h},b={strides:n,pad:l,dataFormat:c,dilations:d,dimRoundingMode:f},w=r.BV.runKernel(i.mh,y,b);return g?(0,u.X)(w,[w.shape[1],w.shape[2],w.shape[3]]):w}})},39832:(e,t,n)=>{"use strict";n.d(t,{_:()=>u});var r=n(97097),i=n(29121),a=n(20569),o=n(2582),s=n(2668),l=n(4968);const u=(0,s.op)({conv2DBackpropInput_:function(e,t,n,s,u,c="NHWC",d){a.hu(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let f=e,p=t,h=!1;3===t.rank&&(h=!0,p=(0,l.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),f=[1,e[0],e[1],e[2]]),a.hu(4===f.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${f.length}.`)),a.hu(4===p.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${p.rank}`)),a.hu(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const m="NHWC"===c?f[3]:f[1],g="NHWC"===c?p.shape[3]:p.shape[1];a.hu(m===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${m}) must match input depth for filter ${n.shape[2]}.`)),a.hu(g===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${g}) must match output depth for filter ${n.shape[3]}.`)),o.m("conv2dDerInput",u,d);const v={dy:p,filter:n},y={strides:s,pad:u,dataFormat:c,dimRoundingMode:d,inputShape:f},b=r.BV.runKernel(i.wm,v,y);return h?(0,l.X)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},71405:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var r=n(43740),i=n(39832);const a=(0,n(2668).op)({conv2dTranspose_:function(e,t,n,a,o,s){const l=(0,r._1)(e,"x","conv2dTranspose"),u=(0,r._1)(t,"filter","conv2dTranspose");return(0,i._)(n,l,u,a,o,"NHWC",s)}})},70473:(e,t,n)=>{"use strict";n.d(t,{p:()=>c});var r=n(97097),i=n(29121),a=n(43740),o=n(20569),s=n(2582),l=n(2668),u=n(4968);const c=(0,l.op)({conv3d_:function(e,t,n,l,c="NDHWC",d=[1,1,1]){const f=(0,a._1)(e,"x","conv3d"),p=(0,a._1)(t,"filter","conv3d");let h=f,m=!1;4===f.rank&&(m=!0,h=(0,u.X)(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]])),o.hu(5===h.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${h.rank}.`)),o.hu(5===p.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${p.rank}.`)),o.hu(h.shape[4]===p.shape[3],(()=>`Error in conv3d: depth of input (${h.shape[4]}) must match input depth for filter ${p.shape[3]}.`)),o.hu((0,s.jT)(n,d),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${d}'`)),o.hu("NDHWC"===c,(()=>`Error in conv3d: got dataFormat of ${c} but only NDHWC is currently supported.`));const g={x:h,filter:p},v={strides:n,pad:l,dataFormat:c,dilations:d},y=r.BV.runKernel(i.x1,g,v);return m?(0,u.X)(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}})},2582:(e,t,n)=>{"use strict";n.d(t,{I0:()=>h,Ix:()=>s,Rf:()=>i,Xw:()=>a,aO:()=>u,jT:()=>m,jw:()=>l,m:()=>v,pl:()=>o,sl:()=>g});var r=n(20569);function i(e,t,n,r,i="NHWC",a){return s(e,[...t,e[3]],n,a,r,null,null,g(i))}function a(e,t,n,r,i,a,o="channelsLast"){const[l,u]=c(t);let d;if("channelsLast"===o)d=[l,u,e[3],e[3]];else{if("channelsFirst"!==o)throw new Error(`Unknown dataFormat ${o}`);d=[l,u,e[1],e[1]]}return s(e,d,n,r,i,a,!1,o)}function o(e,t,n,r,i,a,o="NDHWC"){const[s,u,c]=d(t);let f,p;if("NDHWC"===o)p="channelsLast",f=[s,u,c,e[4],e[4]];else{if("NCDHW"!==o)throw new Error(`Unknown dataFormat ${o}`);p="channelsFirst",f=[s,u,c,e[1],e[1]]}return l(e,f,n,r,i,!1,p,a)}function s(e,t,n,r,i,a,o=!1,s="channelsLast"){let[l,d,h,m]=[-1,-1,-1,-1];if("channelsLast"===s)[l,d,h,m]=e;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[l,m,d,h]=e}const[g,v,,y]=t,[b,w]=c(n),[S,_]=c(r),x=f(g,S),T=f(v,_),{padInfo:k,outHeight:E,outWidth:C}=function(e,t,n,r,i,a,o,s,l){let c,d,f;if("number"===typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const i=function(e,t,n,r,i){null==r&&(r=u(e,t,n));const a=e[0],o=e[1],s=p((a-t+2*r)/n+1,i),l=p((o-t+2*r)/n+1,i);return[s,l]}([t,n],a,r,e,s);d=i[0],f=i[1]}else if("same"===e){d=Math.ceil(t/r),f=Math.ceil(n/i);const e=Math.max(0,(d-1)*r+a-t),s=Math.max(0,(f-1)*i+o-n),l=Math.floor(e/2),u=e-l,p=Math.floor(s/2);c={top:l,bottom:u,left:p,right:s-p,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},d=Math.ceil((t-a+1)/r),f=Math.ceil((n-o+1)/i);else{if("object"!==typeof e)throw Error(`Unknown padding parameter: ${e}`);{const u="channelsLast"===l?e[1][0]:e[2][0],h="channelsLast"===l?e[1][1]:e[2][1],m="channelsLast"===l?e[2][0]:e[3][0],g="channelsLast"===l?e[2][1]:e[3][1];c={top:u,bottom:h,left:m,right:g,type:0===u&&0===h&&0===m&&0===g?"VALID":"EXPLICIT"},d=p((t-a+u+h)/r+1,s),f=p((n-o+m+g)/i+1,s)}}return{padInfo:c,outHeight:d,outWidth:f}}(i,d,h,b,w,x,T,a,s),O=o?y*m:y;let P;return"channelsFirst"===s?P=[l,O,E,C]:"channelsLast"===s&&(P=[l,E,C,O]),{batchSize:l,dataFormat:s,inHeight:d,inWidth:h,inChannels:m,outHeight:E,outWidth:C,outChannels:O,padInfo:k,strideHeight:b,strideWidth:w,filterHeight:g,filterWidth:v,effectiveFilterHeight:x,effectiveFilterWidth:T,dilationHeight:S,dilationWidth:_,inShape:e,outShape:P,filterShape:t}}function l(e,t,n,r,i,a=!1,o="channelsLast",s){let[l,c,h,m,g]=[-1,-1,-1,-1,-1];if("channelsLast"===o)[l,c,h,m,g]=e;else{if("channelsFirst"!==o)throw new Error(`Unknown dataFormat ${o}`);[l,g,c,h,m]=e}const[v,y,b,,w]=t,[S,_,x]=d(n),[T,k,E]=d(r),C=f(v,T),O=f(y,k),P=f(b,E),{padInfo:I,outDepth:A,outHeight:D,outWidth:M}=function(e,t,n,r,i,a,o,s,l,c,d){let f,h,m,g;if("number"===typeof e){f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const a=function(e,t,n,r,i,a){null==i&&(i=u(e,t,r));const o=e[0],s=e[1],l=e[2],c=p((o-t+2*i)/r+1,a),d=p((s-t+2*i)/r+1,a),f=p((l-t+2*i)/r+1,a);return[c,d,f,n]}([t,n,r,1],s,1,i,e,d);h=a[0],m=a[1],g=a[2]}else if("same"===e){h=Math.ceil(t/i),m=Math.ceil(n/a),g=Math.ceil(r/o);const e=(h-1)*i+s-t,u=(m-1)*a+l-n,d=(g-1)*o+c-r,p=Math.floor(e/2),v=e-p,y=Math.floor(u/2),b=u-y,w=Math.floor(d/2);f={top:y,bottom:b,left:w,right:d-w,front:p,back:v,type:"SAME"}}else{if("valid"!==e)throw Error(`Unknown padding parameter: ${e}`);f={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},h=Math.ceil((t-s+1)/i),m=Math.ceil((n-l+1)/a),g=Math.ceil((r-c+1)/o)}return{padInfo:f,outDepth:h,outHeight:m,outWidth:g}}(i,c,h,m,S,_,x,C,O,P,s),R=a?w*g:w;let N;return"channelsFirst"===o?N=[l,R,A,D,M]:"channelsLast"===o&&(N=[l,A,D,M,R]),{batchSize:l,dataFormat:o,inDepth:c,inHeight:h,inWidth:m,inChannels:g,outDepth:A,outHeight:D,outWidth:M,outChannels:R,padInfo:I,strideDepth:S,strideHeight:_,strideWidth:x,filterDepth:v,filterHeight:y,filterWidth:b,effectiveFilterDepth:C,effectiveFilterHeight:O,effectiveFilterWidth:P,dilationDepth:T,dilationHeight:k,dilationWidth:E,inShape:e,outShape:N,filterShape:t}}function u(e,t,n,r=1){const i=f(t,r);return Math.floor((e[0]*(n-1)-n+i)/2)}function c(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function d(e){return"number"===typeof e?[e,e,e]:e}function f(e,t){return t<=1?e:e+(e-1)*(t-1)}function p(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function h(e){const[t,n,r]=c(e);return 1===t&&1===n&&1===r}function m(e,t){return h(e)||h(t)}function g(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function v(e,t,n){if(null!=n){if("string"===typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"===typeof t)r.hu(r.GN(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`));else{if("object"!==typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{r.hu(r.GN(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`))}))}))}}}},70173:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({cos_:function(e){const t={x:(0,a._1)(e,"x","cos","float32")};return r.BV.runKernel(i.mc,t)}})},2699:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({cosh_:function(e){const t={x:(0,a._1)(e,"x","cosh","float32")};return r.BV.runKernel(i.TR,t)}})},9640:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({cumprod_:function(e,t=0,n=!1,o=!1){const s={x:(0,a._1)(e,"x","cumprod")},l={axis:t,exclusive:n,reverse:o};return r.BV.runKernel(i.By,s,l)}})},37405:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({cumsum_:function(e,t=0,n=!1,o=!1){const s={x:(0,a._1)(e,"x","cumsum")},l={axis:t,exclusive:n,reverse:o};return r.BV.runKernel(i.iH,s,l)}})},75746:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(20569);const s=(0,n(2668).op)({denseBincount_:function(e,t,n,s=!1){const l=(0,a._1)(e,"x","denseBincount"),u=(0,a._1)(t,"weights","denseBincount");o.hu("int32"===l.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${l.dtype}`)),o.hu(l.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${l.rank}.`)),o.hu(n>=0,(()=>`size must be non-negative, but got ${n}.`)),o.hu(u.size===l.size||0===u.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${l.shape}, weights shape: ${u.shape}.`));const c={x:l,weights:u},d={size:n,binaryOutput:s};return r.BV.runKernel(i.QR,c,d)}})},89112:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(20569);const s=(0,n(2668).op)({depthToSpace_:function(e,t,n="NHWC"){const s=(0,a._1)(e,"x","depthToSpace","float32"),l="NHWC"===n?s.shape[1]:s.shape[2],u="NHWC"===n?s.shape[2]:s.shape[3],c="NHWC"===n?s.shape[3]:s.shape[1];o.hu(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`)),o.hu(l*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${l} and ${t}  for depthToSpace with input shape\n    ${s.shape}`)),o.hu(u*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${u} and ${t} for depthToSpace with input shape\n        ${s.shape}`)),o.hu(c%(t*t)===0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${c} for depthToSpace with input shape ${s.shape}`));const d={x:s},f={blockSize:t,dataFormat:n};return r.BV.runKernel(i.T0,d,f)}})},64718:(e,t,n)=>{"use strict";n.d(t,{B:()=>c});var r=n(97097),i=n(29121),a=n(43740),o=n(20569),s=n(2582),l=n(2668),u=n(4968);const c=(0,l.op)({depthwiseConv2d_:function(e,t,n,l,c="NHWC",d=[1,1],f){const p=(0,a._1)(e,"x","depthwiseConv2d","float32"),h=(0,a._1)(t,"filter","depthwiseConv2d","float32");let m=p,g=!1;3===p.rank&&(g=!0,m=(0,u.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),o.hu(4===m.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${m.rank}.`)),o.hu(4===h.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${h.rank}.`)),o.hu(m.shape[3]===h.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${m.shape[3]}) must match the inChannels dimension in filter ${h.shape[2]}.`)),s.m("depthwiseConv2d",l,f);const v={x:m,filter:h},y={strides:n,pad:l,dataFormat:c,dilations:d,dimRoundingMode:f},b=r.BV.runKernel(i.ci,v,y);return g?(0,u.X)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},70557:(e,t,n)=>{"use strict";n.d(t,{W:()=>u});var r=n(97097),i=n(29121),a=n(43740),o=n(20569),s=n(2668),l=n(4968);const u=(0,s.op)({dilation2d_:function(e,t,n,s,u=[1,1],c="NHWC"){const d=(0,a._1)(e,"x","dilation2d"),f=(0,a._1)(t,"filter","dilation2d");o.hu(3===d.rank||4===d.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${d.rank}.`)),o.hu(3===f.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${f.rank}.`)),o.hu("NHWC"===c,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${c}`));let p=d,h=!1;3===d.rank&&(p=(0,l.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]]),h=!0);const m={x:p,filter:f},g={strides:n,pad:s,dilations:u},v=r.BV.runKernel(i.p4,m,g);return h?(0,l.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},41274:(e,t,n)=>{"use strict";n.d(t,{h:()=>l});var r=n(97097),i=n(29121),a=n(80747),o=n(43740),s=n(9165);const l=(0,n(2668).op)({div_:function(e,t){let n=(0,o._1)(e,"a","div"),l=(0,o._1)(t,"b","div");if([n,l]=(0,a.makeTypesMatch)(n,l),"int32"===n.dtype&&"int32"===l.dtype)return(0,s.q)(n,l);const u={a:n,b:l};return r.BV.runKernel(i.oH,u,{})}})},49322:(e,t,n)=>{"use strict";n.d(t,{N:()=>c});var r=n(80747),i=n(43740),a=n(41274),o=n(26477),s=n(2668),l=n(95912),u=n(6577);const c=(0,s.op)({divNoNan_:function(e,t){let n=(0,i._1)(e,"a","div"),s=(0,i._1)(t,"b","div");[n,s]=(0,r.makeTypesMatch)(n,s);const c=(0,a.h)(n,s),d=(0,u.P)(c),f=(0,o.D)(s,d);return(0,l.a)(f,d,c)}})},94653:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({einsum_:function(e,...t){const n=t.map(((e,t)=>(0,a._1)(e,`tensors${t}`,"einsum"))),o={equation:e};return r.BV.runKernel(i.$g,n,o)}})},83233:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({elu_:function(e){const t={x:(0,a._1)(e,"x","elu","float32")};return r.BV.runKernel(i.SX,t)}})},26477:(e,t,n)=>{"use strict";n.d(t,{D:()=>l});var r=n(97097),i=n(29121),a=n(80747),o=n(43740),s=n(72200);const l=(0,n(2668).op)({equal_:function(e,t){let n=(0,o._1)(e,"a","equal","string_or_numeric"),l=(0,o._1)(t,"b","equal","string_or_numeric");[n,l]=(0,a.makeTypesMatch)(n,l),(0,s.assertAndGetBroadcastShape)(n.shape,l.shape);const u={a:n,b:l};return r.BV.runKernel(i.hd,u)}})},34650:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var r=n(97097),i=n(29121),a=n(43740),o=n(20569),s=n(62271);const l=(0,n(2668).op)({erf_:function(e){let t=(0,a._1)(e,"x","erf");o.hu("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=(0,s.p)(t,"float32"));const n={x:t};return r.BV.runKernel(i.Om,n)}})},31954:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(3561);const i=(0,n(2668).op)({euclideanNorm_:function(e,t=null,n=!1){return(0,r.K)(e,"euclidean",t,n)}})},44842:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({exp_:function(e){const t={x:(0,a._1)(e,"x","exp")};return r.BV.runKernel(i.NE,t)}})},81300:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(20569);const s=(0,n(2668).op)({expandDims_:function(e,t=0){const n=(0,a._1)(e,"x","expandDims","string_or_numeric");o.hu(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const s={input:n},l={dim:t};return r.BV.runKernel(i.YF,s,l)}})},53426:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({expm1_:function(e){const t={x:(0,a._1)(e,"x","expm1")};return r.BV.runKernel(i.Y0,t)}})},14006:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});var r=n(97097),i=n(29121);function a(e,t,n){const a={shape:e,value:t,dtype:n};return r.BV.runKernel(i.de,{},a)}},26943:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({floor_:function(e){const t={x:(0,a._1)(e,"x","floor","float32")};return r.BV.runKernel(i.OR,t)}})},9165:(e,t,n)=>{"use strict";n.d(t,{q:()=>s});var r=n(97097),i=n(29121),a=n(80747),o=n(43740);const s=(0,n(2668).op)({floorDiv_:function(e,t){let n=(0,o._1)(e,"a","floorDiv"),s=(0,o._1)(t,"b","floorDiv");[n,s]=(0,a.makeTypesMatch)(n,s);const l={a:n,b:s};return r.BV.runKernel(i.je,l)}})},32277:(e,t,n)=>{"use strict";n.r(t),n.d(t,{conv2d:()=>y,depthwiseConv2d:()=>_,matMul:()=>T});var r=n(97097),i=n(30633),a=n(29121),o=n(80747),s=n(43740),l=n(20569),u=n(56407),c=n(72200),d=n(64794),f=n(2582),p=n(2668),h=n(4968);const m=(0,p.op)({conv2DBackpropFilter_:function(e,t,n,i,o,s="NHWC",u){let c=e;3===e.rank&&(c=(0,h.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let d=t;3===d.rank&&(d=(0,h.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),l.hu(4===c.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${c.shape}.`)),l.hu(4===d.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${d.shape}.`)),l.hu(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const p="NHWC"===s?c.shape[3]:c.shape[1],m="NHWC"===s?d.shape[3]:d.shape[1];l.hu(p===n[2],(()=>`Error in conv2dDerFilter: depth of input ${p}) must match input depth in filter (${n[2]}.`)),l.hu(m===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${m}) must match output depth for filter (${n[3]}).`)),f.m("conv2dDerFilter",o,u);const g={x:c,dy:d},v={strides:i,pad:o,dataFormat:s,dimRoundingMode:u,filterShape:n};return r.BV.runKernel(a.wU,g,v)}});var g=n(39832),v=n(19323);const y=(0,p.op)({fusedConv2d_:function({x:e,filter:t,strides:n,pad:p,dataFormat:y="NHWC",dilations:b=[1,1],dimRoundingMode:w,bias:S,activation:_="linear",preluActivationWeights:x,leakyreluAlpha:T}){if(_=_||"linear",!1===(0,v.uy)(r.BV.state.gradientDepth,_)){l.hu("NHWC"===y,(()=>`Error in fused conv2d: got dataFormat of ${y} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`));let r=(0,d.T)(e,t,n,p,y,b,w);return null!=S&&(r=(0,u.I)(r,S)),(0,v.QH)(r,_,x,T)}const k=(0,s._1)(e,"x","conv2d","float32"),E=(0,s._1)(t,"filter","conv2d","float32");let C=k,O=!1;3===k.rank&&(O=!0,C=(0,h.X)(k,[1,k.shape[0],k.shape[1],k.shape[2]])),l.hu(4===C.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${C.rank}.`)),l.hu(4===E.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${E.rank}.`)),f.m("fused conv2d",p,w);const P="NHWC"===y?C.shape[3]:C.shape[1];l.hu(E.shape[2]===P,(()=>`Error in conv2d: depth of input (${P}) must match input depth for filter ${E.shape[2]}.`)),l.hu(f.jT(n,b),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${b}'`));const I=f.Ix(C.shape,E.shape,n,b,p,w);let A,D;if(null!=S&&(A=(0,s._1)(S,"bias","fused conv2d"),[A]=(0,o.makeTypesMatch)(A,k),"NHWC"===y?c.assertAndGetBroadcastShape(I.outShape,A.shape):(l.hu(A.shape.length<=1,(()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${A.shape.length}.`)),l.hu(0===A.shape.length||A.shape[0]===I.outChannels||1===A.shape[0],(()=>`Error in fused conv2d: bias shape (${A.shape}) is not compatible with the number of output channels (${I.outChannels})`)))),null!=x){const e=x.shape;if(l.hu(e.length<=1||3===e.length,(()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${e.length}.`)),1===e.length)l.hu(1===e[0]||e[0]===I.outChannels,(()=>`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the number of output channels (${I.outChannels}).`));else if(3===e.length)try{c.assertAndGetBroadcastShape(e,I.outShape)}catch(L){const t=`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the output shape of the conv2d (${I.outShape}).`;throw Error(t)}D=(0,s._1)(x,"prelu weights","fused conv2d")}const M=(e,t)=>{l.hu("NHWC"===y,(()=>`Error in gradient of fused conv2D: got dataFormat of ${y} but only NHWC is currently supported.`));const[r,i,a,o]=t,s=(0,v.Fr)(e,a,_);l.hu(f.I0(b),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${b}'`));const u=[(0,g._)(i.shape,s,r,n,p),m(i,s,r.shape,n,p)];if(null!=o){const e=(0,v.pf)(o,s);u.push(e)}return u},R={x:C,filter:E,bias:A,preluActivationWeights:D},N={strides:n,pad:p,dataFormat:y,dilations:b,dimRoundingMode:w,activation:_,leakyreluAlpha:T};if(null==S){const e=(0,i.cb)(((e,t,n)=>{let i=r.BV.runKernel(a._V,R,N);return n([t,e,i]),O&&(i=(0,h.X)(i,[i.shape[1],i.shape[2],i.shape[3]])),{value:i,gradFunc:M}}));return e(C,E)}{const e=(0,i.cb)(((e,t,n,i)=>{let o=r.BV.runKernel(a._V,R,N);return i([t,e,o,n]),O&&(o=(0,h.X)(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:M}}));return e(C,E,A)}}});var b=n(64718);const w=(0,p.op)({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,i,o,s=[1,1],l){let u=e;3===e.rank&&(u=(0,h.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let c=t;3===c.rank&&(c=(0,h.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const d={x:u,dy:c},f={strides:i,pad:o,dimRoundingMode:l,dilations:s,filterShape:n};return r.BV.runKernel(a.sL,d,f)}});const S=(0,p.op)({depthwiseConv2dNativeBackpropInput_:function(e,t,n,i,o,s=[1,1],l){let u=t,c=!1;3===t.rank&&(c=!0,u=(0,h.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const d={dy:u,filter:n},f={strides:i,pad:o,dimRoundingMode:l,dilations:s,inputShape:e},p=r.BV.runKernel(a.y7,d,f);return c?(0,h.X)(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});const _=(0,p.op)({fusedDepthwiseConv2d_:function({x:e,filter:t,strides:n,pad:d,dataFormat:p="NHWC",dilations:m=[1,1],dimRoundingMode:g,bias:y,activation:_="linear",preluActivationWeights:x,leakyreluAlpha:T}){if(!1===(0,v.uy)(r.BV.state.gradientDepth,_)){let r=(0,b.B)(e,t,n,d,p,m,g);return null!=y&&(r=(0,u.I)(r,y)),(0,v.QH)(r,_,x,T)}const k=(0,s._1)(e,"x","depthwiseConv2d","float32"),E=(0,s._1)(t,"filter","depthwiseConv2d","float32");let C=k,O=!1;3===k.rank&&(O=!0,C=(0,h.X)(k,[1,k.shape[0],k.shape[1],k.shape[2]])),l.hu(4===C.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${C.rank}.`)),l.hu(4===E.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${E.rank}.`)),l.hu(C.shape[3]===E.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${C.shape[3]}) must match the inChannels dimension in filter ${E.shape[2]}.`)),null==m&&(m=[1,1]),l.hu(f.jT(n,m),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${m}'`)),f.m("fused depthwiseConv2d",d,g);const P=f.Ix(C.shape,E.shape,n,m,d,g,!0);let I,A;null!=y&&(I=(0,s._1)(y,"bias","fused conv2d"),[I]=(0,o.makeTypesMatch)(I,k),c.assertAndGetBroadcastShape(P.outShape,I.shape)),null!=x&&(A=(0,s._1)(x,"prelu weights","fused depthwiseConv2d"));const D=(e,t)=>{l.hu(f.I0(m),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${m}'`));const[r,i,a,o]=t,s=(0,v.Fr)(e,a,_),u=S(i.shape,s,r,n,d,m,g),c=w(i,s,r.shape,n,d,m,g);if(null!=o){return[u,c,(0,v.pf)(I,s)]}return[u,c]},M={x:C,filter:E,bias:I,preluActivationWeights:A},R={strides:n,pad:d,dataFormat:p,dilations:m,dimRoundingMode:g,activation:_,leakyreluAlpha:T};if(null==y){const e=(0,i.cb)(((e,t,n)=>{let i=r.BV.runKernel(a.lu,M,R);return n([t,e,i]),O&&(i=(0,h.X)(i,[i.shape[1],i.shape[2],i.shape[3]])),{value:i,gradFunc:D}}));return e(C,E)}{const e=(0,i.cb)(((e,t,n,i)=>{let o=r.BV.runKernel(a.lu,M,R);return i([t,e,o,n]),O&&(o=(0,h.X)(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:D}}));return e(C,E,I)}}});var x=n(28687);const T=(0,p.op)({fusedMatMul_:function({a:e,b:t,transposeA:n=!1,transposeB:d=!1,bias:f,activation:p="linear",preluActivationWeights:m,leakyreluAlpha:g}){if(!1===(0,v.uy)(r.BV.state.gradientDepth,p)){let r=(0,x.O)(e,t,n,d);return null!=f&&(r=(0,u.I)(r,f)),(0,v.QH)(r,p,m,g)}let y=(0,s._1)(e,"a","fused matMul"),b=(0,s._1)(t,"b","fused matMul");[y,b]=(0,o.makeTypesMatch)(y,b);const w=n?y.shape[y.rank-2]:y.shape[y.rank-1],S=d?b.shape[b.rank-1]:b.shape[b.rank-2],_=n?y.shape[y.rank-1]:y.shape[y.rank-2],T=d?b.shape[b.rank-2]:b.shape[b.rank-1],k=y.shape.slice(0,-2),E=b.shape.slice(0,-2),C=l.NA(k),O=l.NA(E);l.hu(w===S,(()=>`Error in fused matMul: inner shapes (${w}) and (${S}) of Tensors with shapes ${y.shape} and ${b.shape} and transposeA=${n} and transposeB=${d} must match.`));const P=c.assertAndGetBroadcastShape(y.shape.slice(0,-2),b.shape.slice(0,-2)).concat([_,T]),I=n?(0,h.X)(y,[C,w,_]):(0,h.X)(y,[C,_,w]),A=d?(0,h.X)(b,[O,T,S]):(0,h.X)(b,[O,S,T]);let D,M;null!=f&&(D=(0,s._1)(f,"bias","fused matMul"),[D]=(0,o.makeTypesMatch)(D,y),c.assertAndGetBroadcastShape(P,D.shape)),null!=m&&(M=(0,s._1)(m,"prelu weights","fused matMul"));const R=(e,t)=>{const[r,i,a,o]=t,s=(0,v.Fr)((0,h.X)(e,a.shape),a,p);let l,u;if(n||d?!n&&d?(l=(0,x.O)(s,i,!1,!1),u=(0,x.O)(s,r,!0,!1)):n&&!d?(l=(0,x.O)(i,s,!1,!0),u=(0,x.O)(r,s,!1,!1)):(l=(0,x.O)(i,s,!0,!0),u=(0,x.O)(s,r,!0,!0)):(l=(0,x.O)(s,i,!1,!0),u=(0,x.O)(r,s,!0,!1)),null!=f){return[l,u,(0,v.pf)(o,s)]}return[l,u]},N={a:I,b:A,bias:D,preluActivationWeights:M},L={transposeA:n,transposeB:d,activation:p,leakyreluAlpha:g};if(null==f){const e=(0,i.cb)(((e,t,n)=>{const i=r.BV.runKernel(a.us,N,L);return n([e,t,i]),{value:(0,h.X)(i,P),gradFunc:R}}));return e(I,A)}{const e=(0,i.cb)(((e,t,n,i)=>{const o=r.BV.runKernel(a.us,N,L);return i([e,t,o,n]),{value:(0,h.X)(o,P),gradFunc:R}}));return e(I,A,D)}}})},19323:(e,t,n)=>{"use strict";n.d(t,{Fr:()=>h,QH:()=>g,pf:()=>m,uy:()=>v});var r=n(72200),i=n(83233),a=n(99133),o=n(24841),s=n(98151),l=n(7409),u=n(83582),c=n(4968),d=n(30625),f=n(71901),p=n(15475);function h(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return(0,o.d)(e,(0,f.N)(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function m(e,t){let n=t;const i=r.getReductionAxes(e.shape,t.shape);return i.length>0&&(n=(0,p.S)(n,i)),(0,c.X)(n,e.shape)}function g(e,t,n,r){if("linear"===t)return e;if("relu"===t)return(0,l.U)(e);if("elu"===t)return(0,i.p)(e);if("relu6"===t)return(0,u.b)(e);if("prelu"===t)return(0,s.A)(e,n);if("leakyrelu"===t)return(0,a.h)(e,r);if("sigmoid"===t)return(0,d.X)(e);throw new Error(`Unknown fused activation ${t}.`)}const v=(e,t)=>!(e>0)||"linear"===t},24926:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({gather_:function(e,t,n=0,o=0){const s={x:(0,a._1)(e,"x","gather"),indices:(0,a._1)(t,"indices","gather","int32")},l={axis:n,batchDims:o};return r.BV.runKernel(i.qi,s,l)}})},87494:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({gatherND_:function(e,t){const n=(0,a._1)(t,"indices","gatherND","int32"),o={params:(0,a._1)(e,"x","gatherND","string_or_numeric"),indices:n};return r.BV.runKernel(i.q1,o)}})},20636:(e,t,n)=>{"use strict";n.d(t,{p:()=>l});var r=n(97097),i=n(29121),a=n(80747),o=n(43740),s=n(72200);const l=(0,n(2668).op)({greater_:function(e,t){let n=(0,o._1)(e,"a","greater","string_or_numeric"),l=(0,o._1)(t,"b","greater","string_or_numeric");[n,l]=(0,a.makeTypesMatch)(n,l),(0,s.assertAndGetBroadcastShape)(n.shape,l.shape);const u={a:n,b:l};return r.BV.runKernel(i.iZ,u)}})},17630:(e,t,n)=>{"use strict";n.d(t,{b:()=>l});var r=n(97097),i=n(29121),a=n(80747),o=n(43740),s=n(72200);const l=(0,n(2668).op)({greaterEqual_:function(e,t){let n=(0,o._1)(e,"a","greaterEqual","string_or_numeric"),l=(0,o._1)(t,"b","greaterEqual","string_or_numeric");[n,l]=(0,a.makeTypesMatch)(n,l),(0,s.assertAndGetBroadcastShape)(n.shape,l.shape);const u={a:n,b:l};return r.BV.runKernel(i.Ac,u)}})},64386:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({imag_:function(e){const t={input:(0,a._1)(e,"input","imag")};return r.BV.runKernel(i.J_,t)}})},96230:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({isNaN_:function(e){const t={x:(0,a._1)(e,"x","isNaN")};return r.BV.runKernel(i.r7,t)}})},99133:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({leakyRelu_:function(e,t=.2){const n={x:(0,a._1)(e,"x","leakyRelu")},o={alpha:t};return r.BV.runKernel(i.J$,n,o)}})},86573:(e,t,n)=>{"use strict";n.d(t,{d:()=>l});var r=n(97097),i=n(29121),a=n(80747),o=n(43740),s=n(72200);const l=(0,n(2668).op)({less_:function(e,t){let n=(0,o._1)(e,"a","less","string_or_numeric"),l=(0,o._1)(t,"b","less","string_or_numeric");[n,l]=(0,a.makeTypesMatch)(n,l),(0,s.assertAndGetBroadcastShape)(n.shape,l.shape);const u={a:n,b:l};return r.BV.runKernel(i.vt,u)}})},50624:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var r=n(97097),i=n(29121),a=n(80747),o=n(43740),s=n(72200);const l=(0,n(2668).op)({lessEqual_:function(e,t){let n=(0,o._1)(e,"a","lessEqual","string_or_numeric"),l=(0,o._1)(t,"b","lessEqual","string_or_numeric");[n,l]=(0,a.makeTypesMatch)(n,l),(0,s.assertAndGetBroadcastShape)(n.shape,l.shape);const u={a:n,b:l};return r.BV.runKernel(i.CA,u)}})},14135:(e,t,n)=>{"use strict";n.d(t,{S:()=>a});var r=n(97097),i=n(29121);function a(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const a={start:e,stop:t,num:n};return r.BV.runKernel(i.e7,{},a)}},79648:(e,t,n)=>{"use strict";n.d(t,{G:()=>u});var r=n(97097),i=n(29121),a=n(43740),o=n(20569),s=n(2668),l=n(4968);const u=(0,s.op)({localResponseNormalization_:function(e,t=5,n=1,s=1,u=.5){const c=(0,a._1)(e,"x","localResponseNormalization");o.hu(4===c.rank||3===c.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${c.rank}.`)),o.hu(o.GN(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let d=c,f=!1;3===c.rank&&(f=!0,d=(0,l.X)(c,[1,c.shape[0],c.shape[1],c.shape[2]]));const p={x:d},h={depthRadius:t,bias:n,alpha:s,beta:u},m=r.BV.runKernel(i.eZ,p,h);return f?(0,l.X)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},82597:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({log_:function(e){const t={x:(0,a._1)(e,"x","log","float32")};return r.BV.runKernel(i.Zb,t)}})},17474:(e,t,n)=>{"use strict";n.d(t,{K:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({log1p_:function(e){const t={x:(0,a._1)(e,"x","log1p")};return r.BV.runKernel(i.kU,t)}})},31510:(e,t,n)=>{"use strict";n.d(t,{C:()=>p});var r=n(30633),i=n(43740),a=n(62271),o=n(44842),s=n(82597),l=n(83307),u=n(24841),c=n(2668),d=n(70827),f=n(15475);const p=(0,c.op)({logSoftmax_:function(e,t=-1){const n=(0,i._1)(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);const c=(0,r.cb)(((e,n)=>{const r=(0,l.F)(e,t,!0),i=(0,d.l)(e,r),c=(0,d.l)((0,a.p)(i,"float32"),(0,s.c)((0,f.S)((0,o.Q)(i),t,!0)));n([c]);return{value:c,gradFunc:(e,n)=>{const[r]=n,i=(0,o.Q)(r);return(0,d.l)(e,(0,u.d)((0,f.S)(e,t,!0),i))}}}));return c(n)}})},2856:(e,t,n)=>{"use strict";n.d(t,{H:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(72200);const s=(0,n(2668).op)({logicalAnd_:function(e,t){const n=(0,a._1)(e,"a","logicalAnd","bool"),s=(0,a._1)(t,"b","logicalAnd","bool");(0,o.assertAndGetBroadcastShape)(n.shape,s.shape);const l={a:n,b:s};return r.BV.runKernel(i.PY,l)}})},38651:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({logicalNot_:function(e){const t={x:(0,a._1)(e,"x","logicalNot","bool")};return r.BV.runKernel(i.Vf,t)}})},15750:(e,t,n)=>{"use strict";n.d(t,{K:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(72200);const s=(0,n(2668).op)({logicalOr_:function(e,t){const n=(0,a._1)(e,"a","logicalOr","bool"),s=(0,a._1)(t,"b","logicalOr","bool");(0,o.assertAndGetBroadcastShape)(n.shape,s.shape);const l={a:n,b:s};return r.BV.runKernel(i.MZ,l)}})},49876:(e,t,n)=>{"use strict";var r;n.d(t,{I:()=>r}),function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(r||(r={}))},94608:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});var r=n(43336);function i(e,t){return(0,r.z)(e,t,"left")}},28687:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var r=n(97097),i=n(29121),a=n(80747),o=n(43740);const s=(0,n(2668).op)({matMul_:function(e,t,n=!1,s=!1){let l=(0,o._1)(e,"a","matMul"),u=(0,o._1)(t,"b","matMul");[l,u]=(0,a.makeTypesMatch)(l,u);const c={a:l,b:u},d={transposeA:n,transposeB:s};return r.BV.runKernel(i.XL,c,d)}})},83307:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({max_:function(e,t=null,n=!1){const o={x:(0,a._1)(e,"x","max")},s={reductionIndices:t,keepDims:n};return r.BV.runKernel(i.Yo,o,s)}})},21174:(e,t,n)=>{"use strict";n.d(t,{_:()=>c});var r=n(97097),i=n(29121),a=n(43740),o=n(20569),s=n(2582),l=n(2668),u=n(4968);const c=(0,l.op)({maxPool_:function(e,t,n,l,c){const d=(0,a._1)(e,"x","maxPool");let f=d,p=!1;3===d.rank&&(p=!0,f=(0,u.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),o.hu(4===f.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${f.rank}.`)),o.hu(s.jT(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),s.m("maxPool",l,c);const h={x:f},m={filterSize:t,strides:n,pad:l,dimRoundingMode:c},g=r.BV.runKernel(i.mT,h,m);return p?(0,u.X)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},25020:(e,t,n)=>{"use strict";n.d(t,{Y:()=>c});var r=n(97097),i=n(29121),a=n(43740),o=n(20569),s=n(2582),l=n(2668),u=n(4968);const c=(0,l.op)({maxPool3d_:function(e,t=[1,1,1],n,l,c,d="NDHWC"){const f=(0,a._1)(e,"x","maxPool3d");let p=f,h=!1;4===f.rank&&(h=!0,p=(0,u.X)(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]])),o.hu(5===p.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${p.rank}.`)),o.hu("NDHWC"===d,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${d}`)),(0,s.m)("maxPool3d",l,c);const m={x:p},g={filterSize:t,strides:n,pad:l,dimRoundingMode:c,dataFormat:d},v=r.BV.runKernel(i.OA,m,g);return h?(0,u.X)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}})},96877:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({maxPoolWithArgmax_:function(e,t,n,o,s=!1){const l={x:(0,a._1)(e,"x","maxPoolWithArgmax")},u={filterSize:t,strides:n,pad:o,includeBatchInIndex:s},c=r.BV.runKernel(i.vF,l,u);return{result:c[0],indexes:c[1]}}})},80632:(e,t,n)=>{"use strict";n.d(t,{g:()=>u});var r=n(97097),i=n(29121),a=n(80747),o=n(43740),s=n(72200),l=n(62271);const u=(0,n(2668).op)({maximum_:function(e,t){let n=(0,o._1)(e,"a","maximum"),u=(0,o._1)(t,"b","maximum");[n,u]=(0,a.makeTypesMatch)(n,u),"bool"===n.dtype&&(n=(0,l.p)(n,"int32"),u=(0,l.p)(u,"int32")),(0,s.assertAndGetBroadcastShape)(n.shape,u.shape);const c={a:n,b:u};return r.BV.runKernel(i.BM,c)}})},75130:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({mean_:function(e,t=null,n=!1){const o={x:(0,a._1)(e,"x","mean")},s={axis:t,keepDims:n};return r.BV.runKernel(i.q2,o,s)}})},25735:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({min_:function(e,t=null,n=!1){const o={x:(0,a._1)(e,"x","min")},s={axis:t,keepDims:n};return r.BV.runKernel(i.c1,o,s)}})},24513:(e,t,n)=>{"use strict";n.d(t,{L:()=>u});var r=n(97097),i=n(29121),a=n(80747),o=n(43740),s=n(72200),l=n(62271);const u=(0,n(2668).op)({minimum_:function(e,t){let n=(0,o._1)(e,"a","minimum"),u=(0,o._1)(t,"b","minimum");[n,u]=(0,a.makeTypesMatch)(n,u),"bool"===n.dtype&&(n=(0,l.p)(n,"int32"),u=(0,l.p)(u,"int32")),(0,s.assertAndGetBroadcastShape)(n.shape,u.shape);const c={a:n,b:u};return r.BV.runKernel(i.q8,c)}})},71483:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(20569);const s=(0,n(2668).op)({mirrorPad_:function(e,t,n){o.hu("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const s=(0,a._1)(e,"x","mirrorPad");if(0===s.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");o.hu(t.length===s.rank,(()=>`Padding doesn't match input. Must be ${s.rank}. Got ${t.length}.`));const l="reflect"===n?1:0;for(let r=0;r<s.rank;r++)o.hu(2===t[r].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),o.hu(t[r][0]>=0&&t[r][0]<=s.shape[r]-l&&t[r][1]>=0&&t[r][1]<=s.shape[r]-l,(()=>`Padding in dimension ${r} cannot be greater than or equal to ${s.shape[r]-l} or less than 0 for input of shape ${s.shape}`));const u={paddings:t,mode:n},c={x:s};return r.BV.runKernel(i.jQ,c,u)}})},85228:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var r=n(97097),i=n(29121),a=n(80747),o=n(43740);const s=(0,n(2668).op)({mod_:function(e,t){let n=(0,o._1)(e,"a","mod"),s=(0,o._1)(t,"b","mod");[n,s]=(0,a.makeTypesMatch)(n,s);const l={a:n,b:s};return r.BV.runKernel(i.Vb,l)}})},24841:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var r=n(97097),i=n(29121),a=n(80747),o=n(43740);const s=(0,n(2668).op)({mul_:function(e,t){let n=(0,o._1)(e,"a","mul"),s=(0,o._1)(t,"b","mul");[n,s]=(0,a.makeTypesMatch)(n,s);const l={a:n,b:s};return r.BV.runKernel(i.wY,l)}})},90686:(e,t,n)=>{"use strict";n.d(t,{S:()=>l});var r=n(97097),i=n(29121),a=n(43740),o=n(2668),s=n(4968);const l=(0,o.op)({multinomial_:function(e,t,n,o=!1){const l=(0,a._1)(e,"logits","multinomial"),u=l.size,c=l.rank;if(u<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${u}.`);if(c>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${c}`);n=n||Math.random();const d={logits:1===c?(0,s.X)(l,[1,-1]):l},f={numSamples:t,seed:n,normalized:o},p=r.BV.runKernel(i.NZ,d,f);return 1===c?(0,s.X)(p,[p.size]):p}})},17370:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({neg_:function(e){const t={x:(0,a._1)(e,"x","neg")};return r.BV.runKernel(i.ku,t)}})},3561:(e,t,n)=>{"use strict";n.d(t,{K:()=>v});var r=n(43740),i=n(20569),a=n(96235),o=n(83591),s=n(83307),l=n(25735),u=n(2668),c=n(33453),d=n(4968),f=n(99494),p=n(13261),h=n(50248),m=n(15475);function g(e,t,n=null){if(0===e.rank)return(0,a.W)(e);if(1!==e.rank&&null===n)return g((0,d.X)(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return(0,m.S)((0,a.W)(e),n);if(t===1/0)return(0,s.F)((0,a.W)(e),n);if(t===-1/0)return(0,l.V)((0,a.W)(e),n);if("euclidean"===t||2===t)return(0,p._)((0,m.S)((0,c.s)((0,a.W)(e),(0,f.i)(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return(0,s.F)((0,m.S)((0,a.W)(e),n[0]),n[1]-1);if(t===1/0)return(0,s.F)((0,m.S)((0,a.W)(e),n[1]),n[0]);if(t===-1/0)return(0,l.V)((0,m.S)((0,a.W)(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return(0,p._)((0,m.S)((0,h.h)(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const v=(0,u.op)({norm_:function(e,t="euclidean",n=null,a=!1){const s=g(e=(0,r._1)(e,"x","norm"),t,n);let l=s.shape;if(a){const t=(0,i.EC)(n,e.shape);l=o.rv(s.shape,t)}return(0,d.X)(s,l)}})},16500:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var r=n(97097),i=n(29121),a=n(80747),o=n(43740),s=n(72200);const l=(0,n(2668).op)({notEqual_:function(e,t){let n=(0,o._1)(e,"a","notEqual","string_or_numeric"),l=(0,o._1)(t,"b","notEqual","string_or_numeric");[n,l]=(0,a.makeTypesMatch)(n,l),(0,s.assertAndGetBroadcastShape)(n.shape,l.shape);const u={a:n,b:l};return r.BV.runKernel(i.yQ,u)}})},76708:(e,t,n)=>{"use strict";n.d(t,{l:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({oneHot_:function(e,t,n=1,o=0){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const s={indices:(0,a._1)(e,"indices","oneHot","int32")},l={depth:t,onValue:n,offValue:o};return r.BV.runKernel(i.we,s,l)}})},44917:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var r=n(97097),i=n(20569),a=n(61661),o=n(59640);function s(e,t="float32"){if("complex64"===t){const t=s(e,"float32"),n=(0,o.l)(e,"float32");return(0,a.P)(t,n)}const n=(0,i.p8)((0,i.NA)(e),t);return r.BV.makeTensor(n,e,t)}},7846:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({onesLike_:function(e){const t={x:(0,a._1)(e,"x","onesLike")};return r.BV.runKernel(i.qW,t)}})},2668:(e,t,n)=>{"use strict";n.d(t,{op:()=>o,z:()=>a});var r=n(97097),i=n(20569);const a="__op";function o(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const o=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=a;const s=(...e)=>{r.BV.startScope(n);try{const t=o(...e);return(0,i.tI)(t)&&console.error("Cannot return a Promise inside of tidy."),r.BV.endScope(t),t}catch(t){throw r.BV.endScope(null),t}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}},93057:(e,t,n)=>{"use strict";n.d(t,{zvA:()=>x.z,WnP:()=>r.W,Khb:()=>i.K,__u:()=>a._,IHx:()=>o.I,QBD:()=>s.Q,$6P:()=>l.$,YjB:()=>u.Y,NqF:()=>c.N,vHJ:()=>d.v,ZRM:()=>f.Z,VfV:()=>p.V,z4N:()=>h.z,fvJ:()=>m.f,C80:()=>g.C,wS1:()=>v.w,uR5:()=>y.u,zEQ:()=>C,tgs:()=>P.t,Dxk:()=>A,JY5:()=>D,p3b:()=>M,E4h:()=>O.E,yE8:()=>R.y,anm:()=>zn,XsQ:()=>N.X,UFq:()=>L.U,f3b:()=>j.f,pju:()=>B.p,mDi:()=>F.m,iUl:()=>U.i,d9v:()=>H.d,PYB:()=>z.P,zoF:()=>w.z,gME:()=>V,Izb:()=>$,MNy:()=>G,ZaL:()=>W,PAt:()=>q.P,Tek:()=>Z.T,bc:()=>K.b,pdZ:()=>X.p,$QV:()=>te,mCk:()=>ne.m,f9Y:()=>re.f,mew:()=>Jn,$Gn:()=>ie.$,zbp:()=>ae.z,ppE:()=>oe.p,nTT:()=>se.n,B10:()=>le.B,Ka3:()=>ue,WmZ:()=>ce.W,hiC:()=>de.h,NTj:()=>fe.N,AKD:()=>pe,rvX:()=>Yn,WYO:()=>he.W,pyx:()=>me.p,GRh:()=>Qn,DgJ:()=>ge.D,qNN:()=>ve.q,d2q:()=>ye.d,Qqt:()=>be.Q,dt4:()=>we.d,t$B:()=>Se.t,iyy:()=>xe,kp_:()=>dn.k,hlL:()=>Te.h,GWj:()=>ke.G,qPi:()=>Ee.q,imm:()=>tr,Iqj:()=>Ce.I,dbB:()=>Xn.d,pjt:()=>Oe.p,brS:()=>Pe.b,Sxn:()=>fn.S,asL:()=>Ie.a,BHj:()=>Wr,V3u:()=>er,wx0:()=>pn.w,xVT:()=>Ae,UWc:()=>De,i2d:()=>Me.i,hi7:()=>Re.h,d9m:()=>Ne.d,zN1:()=>Le.z,$r2:()=>qr,SX3:()=>je.S,G9k:()=>Be.G,cM7:()=>Fe.c,Krr:()=>Ue.K,e_t:()=>$e,CmS:()=>Ge.C,l_t:()=>Xe,HvI:()=>Ye.H,hJK:()=>Qe.h,K5V:()=>Je.K,egP:()=>tt,MB5:()=>Zr,eab:()=>nt.e,OI3:()=>S.O,Fp7:()=>qe.F,_sB:()=>rt._,YQQ:()=>it.Y,Ip$:()=>at.I,gWQ:()=>ot.g,J69:()=>st.J,ry_:()=>ct,VV$:()=>dt.V,LTh:()=>ft.L,VdP:()=>pt.V,wQq:()=>ht.w,Gi7:()=>gt,p_:()=>Wn,dC7:()=>_.d,rq4:()=>vt,SJ_:()=>yt.S,W76:()=>ze.W,KOy:()=>$n.K,Quu:()=>bt.Q,lfX:()=>wt.l,iUs:()=>lt.i,JpU:()=>St.J,op:()=>x.op,N2O:()=>_t,vku:()=>xt.v,pNR:()=>Tt,koy:()=>kt,t1L:()=>Et,lGY:()=>Ct,d_R:()=>It,sQ3:()=>At.s,AL3:()=>Dt.A,S0v:()=>Mt.S,WVs:()=>Rt.W,TN_:()=>Nt,wzB:()=>jt,nGf:()=>Bt,LGj:()=>Ft.L,w6H:()=>Ut.w,kwC:()=>Ht.k,M25:()=>zt.M,UYe:()=>Vt.U,btT:()=>$t.b,XLQ:()=>J.X,GYS:()=>Gt.G,SDf:()=>Wt,diP:()=>qt,sx7:()=>Zt,mG2:()=>Kt,QEs:()=>hn.Q,NMM:()=>Xt.N,bp0:()=>Yt.b,iD$:()=>Qt.i,snQ:()=>qn.s,zcT:()=>Zn.z,U8D:()=>Jt.U,U_I:()=>en,ODp:()=>tn.O,XD2:()=>T.X,Xxe:()=>nn.X,tdS:()=>Gr,O$l:()=>rn.O,R_K:()=>an.R,tPi:()=>k.t,jZU:()=>on,SmN:()=>sn,CnO:()=>ln,p0P:()=>un,XAC:()=>cn.X,Wvh:()=>Ve.W,fBT:()=>Pt.f,rVs:()=>Kr,ers:()=>Kn.e,uN7:()=>$r,Vl2:()=>mn.V,_b3:()=>gn._,h62:()=>mt.h,$i:()=>vn.$,L9e:()=>yn.L,knu:()=>bn.k,Nbs:()=>wn.N,NXj:()=>Sn.N,Z_8:()=>Xr,luU:()=>Ze.l,Smz:()=>Ke.S,ORZ:()=>_n.O,AEp:()=>E.A,XeE:()=>xn.X,RRF:()=>Tn.R,odF:()=>En,wOQ:()=>Cn.w,yXz:()=>On,Bfx:()=>Pn,xZs:()=>In,Gg6:()=>_e.G,hg7:()=>An.h,p4s:()=>Vn.p,Xu6:()=>Dn.X,Two:()=>Mn.T,pUJ:()=>Rn,HHK:()=>Nn.H,GaM:()=>Ln.G,VD$:()=>jn,arb:()=>Bn.a,itS:()=>Fn.i,lls:()=>Un.l,P84:()=>Hn.P});var r=n(96235),i=n(17839),a=n(91470),o=n(56407),s=n(13135),l=n(90781),u=n(92998),c=n(40047),d=n(27394),f=n(72421),p=n(21891),h=n(77037),m=n(29812),g=n(80369),v=n(15176),y=n(61749),b=n(43740),w=n(46884),S=n(28687),_=n(24841),x=n(2668),T=n(30625),k=n(22676),E=n(21869);const C=(0,x.op)({basicLSTMCell_:function(e,t,n,r,i,a){const s=(0,b._1)(e,"forgetBias","basicLSTMCell"),l=(0,b._1)(t,"lstmKernel","basicLSTMCell"),u=(0,b._1)(n,"lstmBias","basicLSTMCell"),c=(0,b._1)(r,"data","basicLSTMCell"),d=(0,b._1)(i,"c","basicLSTMCell"),f=(0,b._1)(a,"h","basicLSTMCell"),p=(0,w.z)([c,f],1),h=(0,S.O)(p,l),m=(0,o.I)(h,u),g=m.shape[0],v=m.shape[1]/4,y=[g,v],x=(0,k.t)(m,[0,0],y),C=(0,k.t)(m,[0,v],y),O=(0,k.t)(m,[0,2*v],y),P=(0,k.t)(m,[0,3*v],y),I=(0,o.I)((0,_.d)((0,T.X)(x),(0,E.A)(C)),(0,_.d)(d,(0,T.X)((0,o.I)(s,O))));return[I,(0,_.d)((0,E.A)(I),(0,T.X)(P))]}});var O=n(28441),P=n(27505),I=n(20569);const A=(0,x.op)({batchNorm2d_:function(e,t,n,r,i,a){const o=(0,b._1)(e,"x","batchNorm"),s=(0,b._1)(t,"mean","batchNorm"),l=(0,b._1)(n,"variance","batchNorm");let u,c;return null!=i&&(u=(0,b._1)(i,"scale","batchNorm")),null!=r&&(c=(0,b._1)(r,"offset","batchNorm")),I.hu(2===o.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${o.rank}.`)),I.hu(2===s.rank||1===s.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${s.rank}.`)),I.hu(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`)),null!=u&&I.hu(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`)),null!=c&&I.hu(2===c.rank||1===c.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`)),(0,P.t)(o,s,l,c,u,a)}});const D=(0,x.op)({batchNorm3d_:function(e,t,n,r,i,a){const o=(0,b._1)(e,"x","batchNorm"),s=(0,b._1)(t,"mean","batchNorm"),l=(0,b._1)(n,"variance","batchNorm");let u,c;return null!=i&&(u=(0,b._1)(i,"scale","batchNorm")),null!=r&&(c=(0,b._1)(r,"offset","batchNorm")),I.hu(3===o.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${o.rank}.`)),I.hu(3===s.rank||1===s.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${s.rank}.`)),I.hu(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`)),null!=u&&I.hu(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`)),null!=c&&I.hu(3===c.rank||1===c.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`)),(0,P.t)(o,s,l,c,u,a)}});const M=(0,x.op)({batchNorm4d_:function(e,t,n,r,i,a){const o=(0,b._1)(e,"x","batchNorm"),s=(0,b._1)(t,"mean","batchNorm"),l=(0,b._1)(n,"variance","batchNorm");let u,c;return null!=i&&(u=(0,b._1)(i,"scale","batchNorm")),null!=r&&(c=(0,b._1)(r,"offset","batchNorm")),I.hu(4===o.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${o.rank}.`)),I.hu(4===s.rank||1===s.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${s.rank}.`)),I.hu(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`)),null!=u&&I.hu(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`)),null!=c&&I.hu(4===c.rank||1===c.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`)),(0,P.t)(o,s,l,c,u,a)}});var R=n(93865),N=n(88194),L=n(68247),j=n(72657),B=n(62271),F=n(6825),U=n(42279),H=n(8723),z=n(61661);const V=(0,x.op)({concat1d_:function(e){return(0,w.z)(e,0)}});const $=(0,x.op)({concat2d_:function(e,t){return(0,w.z)(e,t)}});const G=(0,x.op)({concat3d_:function(e,t){return(0,w.z)(e,t)}});const W=(0,x.op)({concat4d_:function(e,t){return(0,w.z)(e,t)}});var q=n(11355),Z=n(64794),K=n(71405),X=n(70473),Y=n(97097),Q=n(29121),J=n(4968);const ee=(0,x.op)({conv3DBackpropInput_:function(e,t,n,r,i){I.hu(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let a=e,o=t,s=!1;4===t.rank&&(s=!0,o=(0,J.X)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),a=[1,e[0],e[1],e[2],e[3]]);const l=a[4],u=o.shape[4];I.hu(5===a.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${a.length}.`)),I.hu(5===o.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${o.rank}`)),I.hu(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),I.hu(l===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`)),I.hu(u===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`));const c={dy:o,filter:n},d={pad:i,strides:r,inputShape:a},f=Y.BV.runKernel(Q.ik,c,d);return s?(0,J.X)(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}});const te=(0,x.op)({conv3dTranspose_:function(e,t,n,r,i){const a=(0,b._1)(e,"x","conv3dTranspose"),o=(0,b._1)(t,"filter","conv3dTranspose");return ee(n,a,o,r,i)}});var ne=n(70173),re=n(2699),ie=n(9640),ae=n(37405),oe=n(75746),se=n(89112),le=n(64718);const ue=(0,x.op)({diag_:function(e){const t={x:(0,b._1)(e,"x","diag")};return Y.BV.runKernel(Q.$w,t)}});var ce=n(70557),de=n(41274),fe=n(49322);const pe=(0,x.op)({dot_:function(e,t){const n=(0,b._1)(e,"t1","dot"),r=(0,b._1)(t,"t2","dot");I.hu((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`));const i=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];if(I.hu(i===a,(()=>`Error in dot: inner dimensions of inputs must match, but got ${i} and ${a}.`)),1===n.rank&&1===r.rank){const e=(0,J.X)(n,[1,-1]),t=(0,J.X)(r,[-1,1]),i=(0,S.O)(e,t);return(0,J.X)(i,[])}if(1===n.rank&&2===r.rank){const e=(0,J.X)(n,[1,-1]),t=(0,J.X)(r,[r.shape[0],r.shape[1]]),i=(0,S.O)(e,t);return(0,J.X)(i,[i.size])}if(2===n.rank&&1===r.rank){const e=(0,J.X)(r,[-1,1]),t=(0,S.O)(n,e);return(0,J.X)(t,[t.size])}{const e=(0,J.X)(r,[r.shape[0],r.shape[1]]);return(0,S.O)(n,e)}}});var he=n(94653),me=n(83233),ge=n(26477),ve=n(34650),ye=n(31954),be=n(44842),we=n(81300),Se=n(53426),_e=n(47501);const xe=(0,x.op)({eye_:function(e,t,n,r="float32"){null==t&&(t=e);const i=(0,j.f)([e,t],r),a=e<=t?e:t;for(let s=0;s<a;++s)i.set(1,s,s);const o=(0,J.X)(i.toTensor(),[e,t]);if(null==n)return o;if(1===n.length)return(0,_e.G)((0,we.d)(o,0),[n[0],1,1]);if(2===n.length)return(0,_e.G)((0,we.d)((0,we.d)(o,0),0),[n[0],n[1],1,1]);if(3===n.length)return(0,_e.G)((0,we.d)((0,we.d)((0,we.d)(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});var Te=n(14006),ke=n(26943),Ee=n(9165),Ce=n(24926),Oe=n(20636),Pe=n(17630),Ie=n(64386);const Ae=(0,x.op)({isFinite_:function(e){const t={x:(0,b._1)(e,"x","isFinite")};return Y.BV.runKernel(Q.av,t)}});const De=(0,x.op)({isInf_:function(e){const t={x:(0,b._1)(e,"x","isInf")};return Y.BV.runKernel(Q.iW,t)}});var Me=n(96230),Re=n(99133),Ne=n(86573),Le=n(50624),je=n(14135),Be=n(79648),Fe=n(82597),Ue=n(17474),He=n(30633),ze=n(17370),Ve=n(3694);const $e=(0,x.op)({logSigmoid_:function(e){const t=(0,b._1)(e,"x","logSigmoid"),n=(0,He.cb)((e=>({value:(0,ze.W)((0,Ve.W)((0,ze.W)(e))),gradFunc:t=>(0,_.d)(t,(0,T.X)((0,ze.W)(e)))})));return n(t)}});var Ge=n(31510),We=n(83591),qe=n(83307),Ze=n(70827),Ke=n(15475);const Xe=(0,x.op)({logSumExp_:function(e,t=null,n=!1){const r=(0,b._1)(e,"x","logSumExp"),i=(0,I.EC)(t,r.shape),a=(0,qe.F)(r,i,!0),s=(0,Ze.l)(r,a),l=(0,be.Q)(s),u=(0,Ke.S)(l,i),c=(0,Fe.c)(u),d=(0,o.I)((0,J.X)(a,c.shape),c);if(n){const e=(0,We.rv)(d.shape,i);return(0,J.X)(d,e)}return d}});var Ye=n(2856),Qe=n(38651),Je=n(15750),et=n(72200);const tt=(0,x.op)({logicalXor_:function(e,t){const n=(0,b._1)(e,"a","logicalXor","bool"),r=(0,b._1)(t,"b","logicalXor","bool");return(0,et.assertAndGetBroadcastShape)(n.shape,r.shape),(0,Ye.H)((0,Je.K)(e,t),(0,Qe.h)((0,Ye.H)(e,t)))}});var nt=n(94608),rt=n(21174),it=n(25020),at=n(96877),ot=n(80632),st=n(75130),lt=n(44917),ut=n(4077);function ct(e,t,{indexing:n="xy"}={}){if("xy"!==n&&"ij"!==n)throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(void 0===e)return[];let r=(0,b._1)(e,"x","meshgrid",e instanceof ut.es?e.dtype:"float32");if(void 0===t)return[r];let i=(0,b._1)(t,"y","meshgrid",t instanceof ut.es?t.dtype:"float32");const a=(0,I.NA)(r.shape),o=(0,I.NA)(i.shape);return"xy"===n?(r=(0,J.X)(r,[1,-1]),i=(0,J.X)(i,[-1,1]),[(0,S.O)((0,lt.i)([o,1],r.dtype),r),(0,S.O)(i,(0,lt.i)([1,a],i.dtype))]):(r=(0,J.X)(r,[-1,1]),i=(0,J.X)(i,[1,-1]),[(0,S.O)(r,(0,lt.i)([1,o],r.dtype)),(0,S.O)((0,lt.i)([a,1],i.dtype),i)])}var dt=n(25735),ft=n(24513),pt=n(71483),ht=n(85228),mt=n(50248);const gt=(0,x.op)({moments_:function(e,t=null,n=!1){e=(0,b._1)(e,"x","moments");const r=(0,I.EC)(t,e.shape),i=(0,st.J)(e,r,n);let a=i.shape;n||(a=(0,We.rv)(i.shape,r));const o=(0,mt.h)((0,Ze.l)((0,B.p)(e,"float32"),(0,J.X)(i,a)));return{mean:i,variance:(0,st.J)(o,r,n)}}});const vt=(0,x.op)({multiRNNCell_:function(e,t,n,r){const i=(0,b._1)(t,"data","multiRNNCell"),a=(0,b.sI)(n,"c","multiRNNCell"),o=(0,b.sI)(r,"h","multiRNNCell");let s=i;const l=[];for(let d=0;d<e.length;d++){const t=e[d](s,a[d],o[d]);l.push(t[0]),l.push(t[1]),s=t[1]}const u=[],c=[];for(let d=0;d<l.length;d+=2)u.push(l[d]),c.push(l[d+1]);return[u,c]}});var yt=n(90686),bt=n(16500),wt=n(76708),St=n(7846);const _t=(0,x.op)({outerProduct_:function(e,t){const n=(0,b._1)(e,"v1","outerProduct"),r=(0,b._1)(t,"v2","outerProduct");I.hu(1===n.rank&&1===r.rank,(()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`));const i=(0,J.X)(n,[-1,1]),a=(0,J.X)(r,[1,-1]);return(0,S.O)(i,a)}});var xt=n(39682);const Tt=(0,x.op)({pad1d_:function(e,t,n=0){return(0,I.hu)(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),(0,xt.v)(e,[t],n)}});const kt=(0,x.op)({pad2d_:function(e,t,n=0){return(0,I.hu)(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),(0,xt.v)(e,t,n)}});const Et=(0,x.op)({pad3d_:function(e,t,n=0){return(0,I.hu)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),(0,xt.v)(e,t,n)}});const Ct=(0,x.op)({pad4d_:function(e,t,n=0){return(0,I.hu)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),(0,xt.v)(e,t,n)}});var Ot=n(2582),Pt=n(27918);const It=(0,x.op)({pool_:function(e,t,n,r,i,a,o){null==i&&(i=[1,1]),null==a&&(a=1),0===r&&(r="valid");const s=(0,b._1)(e,"x","maxPool");let l=s,u=!1;3===s.rank&&(u=!0,l=(0,J.X)(s,[1,s.shape[0],s.shape[1],s.shape[2]])),I.hu(Ot.jT(a,i),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${a} and dilations '${i}'`));const c=Ot.Xw(l.shape,t,a,i,r),d=[c.dilationHeight,c.dilationWidth];let f;f="same"===r?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))).map((e=>e-1)),r=n.map((e=>Math.floor(e/2))),i=n.map(((e,t)=>e-r[t]));return n.map(((e,t)=>[r[t],i[t]]))}([c.filterHeight,c.filterWidth],d):[[0,0],[0,0]];const p=1===d[0]&&1===d[1],[h,m]=function(e,t,n){const r=n.map((e=>e[0])),i=n.map((e=>e[1])),a=e.concat(r,i),o=t.map(((e,t)=>(e-a[t]%e)%e)),s=i.map(((e,t)=>e+o[t])),l=t.map(((e,t)=>[r[t],s[t]])),u=t.map(((e,t)=>[0,o[t]]));return[l,u]}([c.inHeight,c.inWidth],d,f),g=p?r:"valid",y=p?l:(0,Pt.f)(l,d,h),w=("avg"===n?()=>(0,v.w)(y,t,a,g,o):()=>(0,rt._)(y,t,a,g,o))(),S=p?w:(0,O.E)(w,d,m);return u?(0,J.X)(S,[S.shape[1],S.shape[2],S.shape[3]]):S}});var At=n(33453),Dt=n(98151),Mt=n(29798),Rt=n(49451);const Nt=(0,x.op)({rand_:function(e,t,n){const r=(0,I.NA)(e);let i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error(`Unknown data type ${n}`);i=new Uint8Array(r)}for(let a=0;a<r;a++)i[a]=t();return Y.BV.makeTensor(i,e,n)}});var Lt=n(56845);const jt=(0,x.op)({randomGamma_:function(e,t,n=1,r="float32",i){if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error(`Unsupported data type ${r}`);const a=new Lt.T9(t,n,r,i),o=(0,j.f)(e,r);for(let s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}});const Bt=(0,x.op)({randomNormal_:function(e,t=0,n=1,r,i){if(null!=r&&"bool"===r)throw new Error(`Unsupported data type ${r}`);const a=new Lt.Yi(t,n,r,!1,i),o=(0,j.f)(e,r);for(let s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}});var Ft=n(75002),Ut=n(47245),Ht=n(60766),zt=n(19036),Vt=n(7409),$t=n(83582),Gt=n(57486);const Wt=(0,x.op)({reverse1d_:function(e){const t=(0,b._1)(e,"x","reverse");return I.hu(1===t.rank,(()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`)),(0,Gt.G)(t,0)}});const qt=(0,x.op)({reverse2d_:function(e,t){const n=(0,b._1)(e,"x","reverse");return I.hu(2===n.rank,(()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`)),(0,Gt.G)(n,t)}});const Zt=(0,x.op)({reverse3d_:function(e,t){const n=(0,b._1)(e,"x","reverse");return I.hu(3===n.rank,(()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`)),(0,Gt.G)(n,t)}});const Kt=(0,x.op)({reverse4d_:function(e,t){const n=(0,b._1)(e,"x","reverse");return I.hu(4===n.rank,(()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`)),(0,Gt.G)(n,t)}});var Xt=n(97809),Yt=n(32634),Qt=n(99494),Jt=n(55503);const en=(0,x.op)({separableConv2d_:function(e,t,n,r,i,a=[1,1],o="NHWC"){const s=(0,b._1)(e,"x","separableConv2d"),l=(0,b._1)(t,"depthwiseFilter","separableConv2d"),u=(0,b._1)(n,"pointwiseFilter","separableConv2d");let c=s,d=!1;if(3===s.rank&&(d=!0,c=(0,J.X)(s,[1,s.shape[0],s.shape[1],s.shape[2]])),"NCHW"===o)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");I.hu(4===c.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`)),I.hu(4===l.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`)),I.hu(4===u.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`)),I.hu(1===u.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`)),I.hu(1===u.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`));const f=l.shape[2],p=l.shape[3];I.hu(u.shape[2]===f*p,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${f*p}, but got ${u.shape[2]}.`));const h=(0,le.B)(c,l,r,i,o,a),m=(0,Z.T)(h,u,1,"valid",o);return d?(0,J.X)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});var tn=n(36567),nn=n(34434),rn=n(99331),an=n(83254);const on=(0,x.op)({slice1d_:function(e,t,n){const r=(0,b._1)(e,"x","slice1d");return I.hu(1===r.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`)),(0,k.t)(r,[t],[n])}});const sn=(0,x.op)({slice2d_:function(e,t,n){const r=(0,b._1)(e,"x","slice2d");return I.hu(2===r.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`)),(0,k.t)(r,t,n)}});const ln=(0,x.op)({slice3d_:function(e,t,n){const r=(0,b._1)(e,"x","slice3d");return I.hu(3===r.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`)),(0,k.t)(r,t,n)}});const un=(0,x.op)({slice4d_:function(e,t,n){const r=(0,b._1)(e,"x","slice4d");return I.hu(4===r.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`)),(0,k.t)(r,t,n)}});var cn=n(80682),dn=n(7020),fn=n(88447),pn=n(84415),hn=n(13710),mn=n(28644),gn=n(13261),vn=n(15265),yn=n(79590),bn=n(82991),wn=n(71901),Sn=n(55158),_n=n(61173),xn=n(10701),Tn=n(46092),kn=n(57852);function En(e,t,n){if((0,I.Cq)(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=(0,b.C)(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return(0,kn.H)(e,t,r,n)}var Cn=n(99906);function On(e,t,n){if((0,I.Cq)(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const r=(0,b.C)(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return(0,kn.H)(e,t,r,n)}function Pn(e,t,n){if((0,I.Cq)(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const r=(0,b.C)(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return(0,kn.H)(e,t,r,n)}function In(e,t,n){if((0,I.Cq)(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const r=(0,b.C)(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||r,(0,kn.H)(e,t,r,n)}var An=n(43243),Dn=n(43596),Mn=n(49608);const Rn=(0,x.op)({unsortedSegmentSum_:function(e,t,n){const r=(0,b._1)(e,"x","unsortedSegmentSum"),i=(0,b._1)(t,"segmentIds","unsortedSegmentSum","int32");(0,I.hu)((0,I.GN)(n),(()=>"numSegments must be of dtype int"));const a={x:r,segmentIds:i},o={numSegments:n};return Y.BV.runKernel(Q.Qv,a,o)}});var Nn=n(24136),Ln=n(64978);function jn(e,t=!0,n,r){return Y.BV.makeVariable(e,t,n,r)}var Bn=n(95912),Fn=n(66380),Un=n(59640),Hn=n(6577);const zn=async function(e,t,n){const r=(0,b._1)(e,"tensor","boolMask"),i=(0,b._1)(t,"mask","boolMask","bool"),a=null==n?0:n,o=i.rank,s=r.shape;I.hu(o>0,(()=>"mask cannot be scalar")),I.k5(s.slice(a,a+o),i.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=a;m<a+o;m++)l*=s[m];const u=s.slice(0,a).concat([l],s.slice(a+o)),c=(0,J.X)(r,u),d=(0,J.X)(i,[-1]),f=await(0,Fn.i)(d),p=(0,yn.L)(f,[1]),h=(0,Ce.I)(c,p,a);return e!==r&&r.dispose(),t!==i&&i.dispose(),p.dispose(),c.dispose(),d.dispose(),f.dispose(),h};var Vn=n(89065),$n=n(3561),Gn=n(80747);const Wn=(0,x.op)({movingAverage_:function(e,t,n,r,i=!0){const a=(0,b._1)(e,"v","movingAverage"),s=(0,b._1)(t,"x","movingAverage"),l=(0,b._1)(n,"decay","movingAverage");(0,Gn.assertTypesMatch)(a,s),I.hu(I.cO(a.shape,s.shape),(()=>"Shape mismatch in v and x"));const u=(0,Qt.i)(1),c=(0,Ze.l)(u,l);let d=(0,_.d)((0,Ze.l)(s,a),c);if(i){I.hu(null!=r,(()=>"When using zeroDebias: true, step is required."));const e=(0,b._1)(r,"step","movingAverage");d=(0,de.h)(d,(0,Ze.l)(u,(0,At.s)(l,e)))}return(0,o.I)(a,d)}});var qn=n(63100),Zn=n(43336),Kn=n(39758),Xn=n(87494);const Yn=(0,x.op)({dropout_:function(e,t,n,r){const i=(0,b._1)(e,"x","dropout");if(I.hu("float32"===i.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${i.dtype} tensor instead.`)),I.hu(t>=0&&t<1,(()=>`rate must be a float in the range [0, 1), but got ${t}.`)),0===t)return e instanceof ut.es?i.clone():i;const a=function(e,t){if(null==t)return e.shape.slice();if(I.cO(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(i,n),s=1-t,l=(0,de.h)((0,ke.G)((0,o.I)((0,Ft.L)(a,0,1,"float32",r),s)),s);return(0,_.d)(i,l)}});function Qn(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function Jn(e,t,n){const r=1-e%2,i=new Float32Array(e);for(let a=0;a<e;++a){const o=2*Math.PI*a/(e+r-1);i[a]=t-n*Math.cos(o)}return(0,Tn.R)(i,"float32")}const er=async function(e,t,n=1){const r=(0,b._1)(e,"predictions","inTopK"),i=(0,b._1)(t,"targets","inTopK");(0,I.hu)(r.rank>1,(()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`)),(0,I.hu)(r.rank-1===i.rank,(()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${i.rank}`)),(0,I.k5)(r.shape.slice(0,r.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const a=r.shape[r.shape.length-1];(0,I.hu)(n>0&&n<=a,(()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${a}), but got ${n}`));const o=await r.data(),s=await i.data(),[l,u]=[o.length/a,a],c=(0,I.WP)("bool",l);for(let d=0;d<l;d++){const e=d*u,t=o.subarray(e,e+u),r=[];for(let n=0;n<t.length;n++)r.push({value:t[n],index:n});r.sort(((e,t)=>t.value-e.value)),c[d]=0;for(let i=0;i<n;i++)if(r[i].index===s[d]){c[d]=1;break}}return e!==r&&r.dispose(),t!==i&&i.dispose(),(0,xn.X)(c,i.shape,"bool")};var tr=n(32277);const nr=(0,x.op)({hammingWindow_:function(e){return Jn(e,.54,.46)}});const rr=(0,x.op)({hannWindow_:function(e){return Jn(e,.5,.5)}});const ir=(0,x.op)({frame_:function(e,t,n,r=!1,i=0){let a=0;const o=[];for(;a+t<=e.size;)o.push((0,k.t)(e,a,t)),a+=n;if(r)for(;a<e.size;){const r=a+t-e.size,s=(0,w.z)([(0,k.t)(e,a,t-r),(0,Te.h)([r],i)]);o.push(s),a+=n}return 0===o.length?En([],[0,t]):(0,J.X)((0,w.z)(o),[o.length,t])}});const ar=(0,x.op)({stft_:function(e,t,n,r,i=rr){null==r&&(r=Qn(t));const a=ir(e,t,n),o=(0,_.d)(a,i(t));return(0,hn.Q)(o,r)}});const or=(0,x.op)({cropAndResize_:function(e,t,n,r,i="bilinear",a=0){const o=(0,b._1)(e,"image","cropAndResize"),s=(0,b._1)(t,"boxes","cropAndResize","float32"),l=(0,b._1)(n,"boxInd","cropAndResize","int32"),u=s.shape[0];I.hu(4===o.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${o.rank}.`)),I.hu(2===s.rank&&4===s.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${s.shape}.`)),I.hu(1===l.rank&&l.shape[0]===u,(()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${s.shape}.`)),I.hu(2===r.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`)),I.hu(r[0]>=1&&r[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${r}`)),I.hu("bilinear"===i||"nearest"===i,(()=>`method must be bilinear or nearest, but was ${i}`));const c={image:o,boxes:s,boxInd:l},d={method:i,extrapolationValue:a,cropSize:r};return Y.BV.runKernel(Q.Vc,c,d)}});const sr=(0,x.op)({flipLeftRight_:function(e){const t=(0,b._1)(e,"image","flipLeftRight","float32");I.hu(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return Y.BV.runKernel(Q.Uy,n,{})}});const lr=(0,x.op)({grayscaleToRGB_:function(e){const t=(0,b._1)(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];I.hu(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),I.hu(1===r,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`));const i=new Array(t.rank);return i.fill(1,0,n),i[n]=3,(0,_e.G)(t,i)}});const ur=(0,x.op)({rotateWithOffset_:function(e,t,n=0,r=.5){const i=(0,b._1)(e,"image","rotateWithOffset","float32");I.hu(4===i.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${i.rank}.`));const a={image:i},o={radians:t,fillValue:n,center:r};return Y.BV.runKernel(Q.b9,a,o)}});function cr(e,t,n,r,i,a){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==a&&(a=0);const o=e.shape[0];return n=Math.min(n,o),I.hu(0<=r&&r<=1,(()=>`iouThreshold must be in [0, 1], but was '${r}'`)),I.hu(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),I.hu(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),I.hu(1===t.rank,(()=>"scores must be a 1D tensor")),I.hu(t.shape[0]===o,(()=>`scores has incompatible shape with boxes. Expected ${o}, but was ${t.shape[0]}`)),I.hu(0<=a&&a<=1,(()=>`softNmsSigma must be in [0, 1], but was '${a}'`)),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:a}}const dr=(0,x.op)({nonMaxSuppression_:function(e,t,n,r=.5,i=Number.NEGATIVE_INFINITY){const a=(0,b._1)(e,"boxes","nonMaxSuppression","float32"),o=(0,b._1)(t,"scores","nonMaxSuppression","float32"),s=cr(a,o,n,r,i),l={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:i=s.scoreThreshold};return Y.BV.runKernel(Q.uv,{boxes:a,scores:o},l)}});var fr=n(83337);const pr=async function(e,t,n,r=.5,i=Number.NEGATIVE_INFINITY){const a=(0,b._1)(e,"boxes","nonMaxSuppressionAsync"),o=(0,b._1)(t,"scores","nonMaxSuppressionAsync"),s=cr(a,o,n,r,i);n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold;const l=await Promise.all([a.data(),o.data()]),u=l[0],c=l[1],{selectedIndices:d}=(0,fr.GP)(u,c,n,r,i);return a!==e&&a.dispose(),o!==t&&o.dispose(),(0,Tn.R)(d,"int32")};const hr=(0,x.op)({nonMaxSuppressionWithScore_:function(e,t,n,r=.5,i=Number.NEGATIVE_INFINITY,a=0){const o=(0,b._1)(e,"boxes","nonMaxSuppression"),s=(0,b._1)(t,"scores","nonMaxSuppression"),l=cr(o,s,n,r,i,a),u={boxes:o,scores:s},c={maxOutputSize:n=l.maxOutputSize,iouThreshold:r=l.iouThreshold,scoreThreshold:i=l.scoreThreshold,softNmsSigma:a=l.softNmsSigma},d=Y.BV.runKernel(Q.W0,u,c);return{selectedIndices:d[0],selectedScores:d[1]}}});const mr=async function(e,t,n,r=.5,i=Number.NEGATIVE_INFINITY,a=0){const o=(0,b._1)(e,"boxes","nonMaxSuppressionAsync"),s=(0,b._1)(t,"scores","nonMaxSuppressionAsync"),l=cr(o,s,n,r,i,a);n=l.maxOutputSize,r=l.iouThreshold,i=l.scoreThreshold,a=l.softNmsSigma;const u=await Promise.all([o.data(),s.data()]),c=u[0],d=u[1],{selectedIndices:f,selectedScores:p}=(0,fr.pA)(c,d,n,r,i,a);return o!==e&&o.dispose(),s!==t&&s.dispose(),{selectedIndices:(0,Tn.R)(f,"int32"),selectedScores:(0,Tn.R)(p)}};const gr=(0,x.op)({nonMaxSuppressionPadded_:function(e,t,n,r=.5,i=Number.NEGATIVE_INFINITY,a=!1){const o=(0,b._1)(e,"boxes","nonMaxSuppression"),s=(0,b._1)(t,"scores","nonMaxSuppression"),l=cr(o,s,n,r,i,null),u={boxes:o,scores:s},c={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:a},d=Y.BV.runKernel(Q.cy,u,c);return{selectedIndices:d[0],validOutputs:d[1]}}});const vr=async function(e,t,n,r=.5,i=Number.NEGATIVE_INFINITY,a=!1){const o=(0,b._1)(e,"boxes","nonMaxSuppressionAsync"),s=(0,b._1)(t,"scores","nonMaxSuppressionAsync"),l=cr(o,s,n,r,i,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,[f,p]=await Promise.all([o.data(),s.data()]),{selectedIndices:h,validOutputs:m}=(0,fr.qP)(f,p,u,c,d,a);return o!==e&&o.dispose(),s!==t&&s.dispose(),{selectedIndices:(0,Tn.R)(h,"int32"),validOutputs:(0,Qt.i)(m,"int32")}};const yr=(0,x.op)({resizeBilinear_:function(e,t,n=!1,r=!1){const i=(0,b._1)(e,"images","resizeBilinear");I.hu(3===i.rank||4===i.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${i.rank}.`)),I.hu(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),I.hu(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let a=i,o=!1;3===i.rank&&(o=!0,a=(0,J.X)(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const[]=t,s={images:a},l={alignCorners:n,halfPixelCenters:r,size:t},u=Y.BV.runKernel(Q._Y,s,l);return o?(0,J.X)(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const br=(0,x.op)({resizeNearestNeighbor_:function(e,t,n=!1,r=!1){const i=(0,b._1)(e,"images","resizeNearestNeighbor");I.hu(3===i.rank||4===i.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${i.rank}.`)),I.hu(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),I.hu("float32"===i.dtype||"int32"===i.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),I.hu(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let a=i,o=!1;3===i.rank&&(o=!0,a=(0,J.X)(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const[]=t,s={images:a},l={alignCorners:n,halfPixelCenters:r,size:t},u=Y.BV.runKernel(Q.dp,s,l);return o?(0,J.X)(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const wr=(0,x.op)({threshold_:function(e,t="binary",n=!1,r=.5){const i=(0,b._1)(e,"image","threshold"),a=i.shape[0]*i.shape[1];let s,l,u,c,d=(0,_.d)((0,Tn.R)([r]),255);if(I.hu(3===i.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${i.rank}.`)),I.hu(3===i.shape[2]||1===i.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${i.shape[2]}.`)),I.hu("int32"===i.dtype||"float32"===i.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${i.dtype}.`)),I.hu("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===i.shape[2]){[s,l,u]=(0,mn.V)(i,[1,1,1],-1);const e=(0,_.d)(s,.2989),t=(0,_.d)(l,.587),n=(0,_.d)(u,.114);c=(0,o.I)((0,o.I)(e,t),n)}else c=e;if("otsu"===t){d=function(e,t){let n,r,i,a,s,l,u=(0,Tn.R)([-1]),c=(0,Tn.R)([0]),d=(0,Tn.R)([0]);for(let f=0;f<e.size-1;f++){n=(0,k.t)(e,0,f+1),r=(0,k.t)(e,f+1),s=(0,de.h)((0,Ke.S)(n),t),l=(0,de.h)((0,Ke.S)(r),t);const p=(0,Ke.S)((0,_.d)(n,(0,Ut.w)(0,n.size)));i=(0,de.h)(p,(0,Ke.S)(n));const h=(0,Te.h)(r.shape,n.size),m=(0,o.I)((0,Ut.w)(0,r.size),h),g=(0,_.d)(r,m);a=(0,de.h)((0,Ke.S)(g),(0,Ke.S)(r));const v=(0,Ze.l)(i,a),y=(0,Ze.l)(i,a),b=(0,_.d)(s,l);d=(0,_.d)((0,_.d)(b,v),y);const w=(0,Oe.p)(d,c);c=(0,Bn.a)(w,d,c),u=(0,Bn.a)(w,(0,Tn.R)([f]),u)}return u}((0,R.y)((0,B.p)((0,Xt.N)(c),"int32"),(0,xn.X)([]),256),a)}const f=n?(0,Le.z)(c,d):(0,Oe.p)(c,d);return(0,B.p)((0,_.d)(f,255),"int32")}});const Sr=(0,x.op)({transform_:function(e,t,n="nearest",r="constant",i=0,a){const o=(0,b._1)(e,"image","transform","float32"),s=(0,b._1)(t,"transforms","transform","float32");I.hu(4===o.rank,(()=>`Error in transform: image must be rank 4,but got rank ${o.rank}.`)),I.hu(2===s.rank&&(s.shape[0]===o.shape[0]||1===s.shape[0])&&8===s.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),I.hu(null==a||2===a.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${a}.`));const l={image:o,transforms:s},u={interpolation:n,fillMode:r,fillValue:i,outputShape:a};return Y.BV.runKernel(Q.wx,l,u)}});const _r=(0,x.op)({bandPart_:function(e,t,n){(0,I.hu)(t%1===0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),(0,I.hu)(n%1===0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`));const r=(0,b._1)(e,"a","bandPart");(0,I.hu)(r.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`));const i=r.shape,[a,o]=r.shape.slice(-2);if(!(t<=a))throw new Error(`bandPart(): numLower (${t}) must not be greater than the number of rows (${a}).`);if(!(n<=o))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${o}).`);t<0&&(t=a),n<0&&(n=o);const s=(0,J.X)((0,Ut.w)(0,a,1,"int32"),[-1,1]),l=(0,Ut.w)(0,o,1,"int32"),u=(0,Ze.l)(s,l),c=(0,Ye.H)((0,Le.z)(u,(0,Qt.i)(+t,"int32")),(0,Pe.b)(u,(0,Qt.i)(-n,"int32"))),d=(0,Un.l)([a,o],r.dtype);return(0,J.X)((0,bn.k)((0,Nn.H)((0,J.X)(r,[-1,a,o])).map((e=>(0,Bn.a)(c,e,d)))),i)}});const xr=(0,x.op)({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,(0,I.hu)(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)(0,I.hu)(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=(0,mn.V)(e,e.shape[0],0).map((e=>(0,yn.L)(e,[0])));(0,I.hu)(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],r=e;for(let i=0;i<e.length;++i)n.push(Y.BV.tidy((()=>{let e=r[i];if(i>0)for(let t=0;t<i;++t){const r=(0,_.d)((0,Ke.S)((0,_.d)(n[t],e)),n[t]);e=(0,Ze.l)(e,r)}return(0,de.h)(e,(0,$n.K)(e,"euclidean"))})));return t?(0,bn.k)(n,0):n}});var Tr=n(4368);function kr(e,t=!1){return Y.BV.tidy((()=>{(0,I.hu)(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],r=e.shape[1];let i=xe(n),a=(0,H.d)(e);const o=En([[1]],[1,1]);let s=(0,H.d)(o);const l=n>=r?r:n;for(let e=0;e<l;++e){const t=a,l=s,u=i;[s,a,i]=Y.BV.tidy((()=>{const t=(0,k.t)(a,[e,e],[n-e,1]),l=(0,$n.K)(t),u=(0,k.t)(a,[e,e],[1,1]),c=(0,Bn.a)((0,Oe.p)(u,0),En([[-1]]),En([[1]])),d=(0,Ze.l)(u,(0,_.d)(c,l)),f=(0,de.h)(t,d);s=1===f.shape[0]?(0,H.d)(o):(0,w.z)([o,(0,k.t)(f,[1,0],[f.shape[0]-1,f.shape[1]])],0);const p=(0,ze.W)((0,de.h)((0,S.O)(c,d),l)),h=(0,k.t)(a,[e,0],[n-e,r]),m=(0,_.d)(p,s),g=(0,Vn.p)(s);if(0===e)a=(0,Ze.l)(h,(0,S.O)(m,(0,S.O)(g,h)));else{const t=(0,Ze.l)(h,(0,S.O)(m,(0,S.O)(g,h)));a=(0,w.z)([(0,k.t)(a,[0,0],[e,r]),t],0)}const v=(0,Vn.p)(m),y=(0,k.t)(i,[0,e],[n,i.shape[1]-e]);if(0===e)i=(0,Ze.l)(y,(0,S.O)((0,S.O)(y,s),v));else{const t=(0,Ze.l)(y,(0,S.O)((0,S.O)(y,s),v));i=(0,w.z)([(0,k.t)(i,[0,0],[n,e]),t],1)}return[s,a,i]})),(0,Tr.B9)([t,l,u])}return!t&&n>r&&(i=(0,k.t)(i,[0,0],[n,r]),a=(0,k.t)(a,[0,0],[r,r])),[i,a]}))}const Er=(0,x.op)({qr_:function(e,t=!1){if((0,I.hu)(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return kr(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=(0,Nn.H)((0,J.X)(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),i=[],a=[];r.forEach((e=>{const[n,r]=kr(e,t);i.push(n),a.push(r)}));return[(0,J.X)((0,bn.k)(i,0),e.shape),(0,J.X)((0,bn.k)(a,0),e.shape)]}}});var Cr=n(49876);const Or=(0,x.op)({computeWeightedLoss_:function(e,t,n=Cr.I.SUM_BY_NONZERO_WEIGHTS){const r=(0,b._1)(e,"losses","computeWeightedLoss");let i=null;null!=t&&(i=(0,b._1)(t,"weights","computeWeightedLoss"));const a=null==i?r:(0,_.d)(r,i);if(n===Cr.I.NONE)return a;if(n===Cr.I.SUM)return(0,Ke.S)(a);if(n===Cr.I.MEAN){if(null==i)return(0,st.J)(a);{const e=r.size/i.size,t=(0,de.h)((0,Ke.S)(a),(0,Ke.S)(i));return e>1?(0,de.h)(t,(0,Qt.i)(e)):t}}if(n===Cr.I.SUM_BY_NONZERO_WEIGHTS){if(null==i)return(0,de.h)((0,Ke.S)(a),(0,Qt.i)(r.size));{const e=(0,_.d)(i,(0,lt.i)(r.shape)),t=(0,B.p)((0,Ke.S)((0,bt.Q)(e,(0,Qt.i)(0))),"float32");return(0,de.h)((0,Ke.S)(a),t)}}throw Error(`Unknown reduction: ${n}`)}});const Pr=(0,x.op)({absoluteDifference_:function(e,t,n,i=Cr.I.SUM_BY_NONZERO_WEIGHTS){const a=(0,b._1)(e,"labels","absoluteDifference"),o=(0,b._1)(t,"predictions","absoluteDifference");let s=null;null!=n&&(s=(0,b._1)(n,"weights","absoluteDifference")),(0,I.k5)(a.shape,o.shape,"Error in absoluteDifference: ");const l=(0,r.W)((0,Ze.l)(a,o));return Or(l,s,i)}});const Ir=(0,x.op)({cosineDistance_:function(e,t,n,r,i=Cr.I.SUM_BY_NONZERO_WEIGHTS){const a=(0,b._1)(e,"labels","cosineDistance"),o=(0,b._1)(t,"predictions","cosineDistance");let s=null;null!=r&&(s=(0,b._1)(r,"weights","cosineDistance")),(0,I.k5)(a.shape,o.shape,"Error in cosineDistance: ");const l=(0,Qt.i)(1),u=(0,Ze.l)(l,(0,Ke.S)((0,_.d)(a,o),n,!0));return Or(u,s,i)}});const Ar=(0,x.op)({hingeLoss_:function(e,t,n,r=Cr.I.SUM_BY_NONZERO_WEIGHTS){let i=(0,b._1)(e,"labels","hingeLoss");const a=(0,b._1)(t,"predictions","hingeLoss");let o=null;null!=n&&(o=(0,b._1)(n,"weights","hingeLoss")),(0,I.k5)(i.shape,a.shape,"Error in hingeLoss: ");const s=(0,Qt.i)(1);i=(0,Ze.l)((0,_.d)((0,Qt.i)(2),i),s);const l=(0,Vt.U)((0,Ze.l)(s,(0,_.d)(i,a)));return Or(l,o,r)}});const Dr=(0,x.op)({huberLoss_:function(e,t,n,i=1,a=Cr.I.SUM_BY_NONZERO_WEIGHTS){const s=(0,b._1)(e,"labels","huberLoss"),l=(0,b._1)(t,"predictions","huberLoss");let u=null;null!=n&&(u=(0,b._1)(n,"weights","huberLoss")),(0,I.k5)(s.shape,l.shape,"Error in huberLoss: ");const c=(0,Qt.i)(i),d=(0,r.W)((0,Ze.l)(l,s)),f=(0,ft.L)(d,c),p=(0,Ze.l)(d,f),h=(0,o.I)((0,_.d)((0,Qt.i)(.5),(0,mt.h)(f)),(0,_.d)(c,p));return Or(h,u,a)}});const Mr=(0,x.op)({logLoss_:function(e,t,n,r=1e-7,i=Cr.I.SUM_BY_NONZERO_WEIGHTS){const a=(0,b._1)(e,"labels","logLoss"),s=(0,b._1)(t,"predictions","logLoss");let l=null;null!=n&&(l=(0,b._1)(n,"weights","logLoss")),(0,I.k5)(a.shape,s.shape,"Error in logLoss: ");const u=(0,Qt.i)(1),c=(0,Qt.i)(r),d=(0,ze.W)((0,_.d)(a,(0,Fe.c)((0,o.I)(s,c)))),f=(0,_.d)((0,Ze.l)(u,a),(0,Fe.c)((0,o.I)((0,Ze.l)(u,s),c))),p=(0,Ze.l)(d,f);return Or(p,l,i)}});const Rr=(0,x.op)({meanSquaredError_:function(e,t,n,r=Cr.I.SUM_BY_NONZERO_WEIGHTS){const i=(0,b._1)(e,"labels","meanSquaredError"),a=(0,b._1)(t,"predictions","meanSquaredError");let o=null;null!=n&&(o=(0,b._1)(n,"weights","meanSquaredError")),(0,I.k5)(i.shape,a.shape,"Error in meanSquaredError: ");const s=(0,vn.$)(i,a);return Or(s,o,r)}});const Nr=(0,x.op)({sigmoidCrossEntropy_:function(e,t,n,i=0,a=Cr.I.SUM_BY_NONZERO_WEIGHTS){let s=(0,b._1)(e,"multiClassLabels","sigmoidCrossEntropy");const l=(0,b._1)(t,"logits","sigmoidCrossEntropy");let u=null;if(null!=n&&(u=(0,b._1)(n,"weights","sigmoidCrossEntropy")),(0,I.k5)(s.shape,l.shape,"Error in sigmoidCrossEntropy: "),i>0){const e=(0,Qt.i)(i),t=(0,Qt.i)(1),n=(0,Qt.i)(.5);s=(0,o.I)((0,_.d)(s,(0,Ze.l)(t,e)),(0,_.d)(n,e))}const c=function(e,t){const n=(0,b._1)(e,"labels","sigmoidCrossEntropyWithLogits"),i=(0,b._1)(t,"logits","sigmoidCrossEntropyWithLogits");(0,I.k5)(n.shape,i.shape,"Error in sigmoidCrossEntropyWithLogits: ");const a=(0,Vt.U)(i),s=(0,_.d)(i,n),l=(0,Ue.K)((0,be.Q)((0,ze.W)((0,r.W)(i))));return(0,o.I)((0,Ze.l)(a,s),l)}(s,l);return Or(c,u,a)}});const Lr=(0,x.op)({softmaxCrossEntropy_:function(e,t,n,r=0,i=Cr.I.SUM_BY_NONZERO_WEIGHTS){let a=(0,b._1)(e,"onehotLabels","softmaxCrossEntropy");const s=(0,b._1)(t,"logits","softmaxCrossEntropy");let l=null;if(null!=n&&(l=(0,b._1)(n,"weights","softmaxCrossEntropy")),(0,I.k5)(a.shape,s.shape,"Error in softmaxCrossEntropy: "),r>0){const e=(0,Qt.i)(r),t=(0,Qt.i)(1),n=(0,Qt.i)(a.shape[1]);a=(0,o.I)((0,_.d)(a,(0,Ze.l)(t,e)),(0,de.h)(e,n))}const u=function(e,t,n=-1){if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);const r=(0,He.cb)(((e,t,r)=>{const i=Xe(t,[n],!0),a=(0,Ze.l)((0,B.p)(t,"float32"),i);r([e,a]);const o=(0,ze.W)((0,_.d)(a,e));return{value:(0,Ke.S)(o,[n]),gradFunc:(e,t)=>{const[r,i]=t,a=(0,We.rv)(e.shape,[n]);return[(0,_.d)((0,J.X)(e,a),(0,Ze.l)((0,B.p)(r,"float32"),(0,be.Q)(i))),(0,_.d)((0,J.X)(e,a),(0,Ze.l)((0,be.Q)(i),(0,B.p)(r,"float32")))]}}}));return r(e,t)}(a,s);return Or(u,l,i)}});const jr=(0,x.op)({sparseFillEmptyRows_:function(e,t,n,r){const i=(0,b._1)(e,"indices","sparseFillEmptyRows","int32"),a=(0,b._1)(t,"values","sparseFillEmptyRows"),o=(0,b._1)(n,"denseShape","sparseFillEmptyRows","int32"),s=(0,b._1)(r,"defaultValue","sparseFillEmptyRows",a.dtype);if(2!==i.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${i.shape}`);if(1!==a.rank)throw new Error(`Values should be Tensor1D but received shape ${a.shape}`);if(1!==o.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${o.shape}`);if(0!==s.rank)throw new Error(`Default value should be a scalar but received shape ${s.shape}`);const l={indices:i,values:a,denseShape:o,defaultValue:s},u=Y.BV.runKernel(Q.O3,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}});const Br=(0,x.op)({sparseReshape_:function(e,t,n){const r=(0,b._1)(e,"inputIndices","sparseReshape","int32"),i=(0,b._1)(t,"inputShape","sparseReshape","int32"),a=(0,b._1)(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==i.rank)throw new Error(`Input shape should be Tensor1D but received shape ${i.shape}`);if(1!==a.rank)throw new Error(`New shape should be Tensor1D but received shape ${a.shape}`);const o={inputIndices:r,inputShape:i,newShape:a},s=Y.BV.runKernel(Q.nh,o);return{outputIndices:s[0],outputShape:s[1]}}});const Fr=(0,x.op)({sparseSegmentMean_:function(e,t,n){const r=(0,b._1)(e,"data","sparseSegmentMean"),i=(0,b._1)(t,"indices","sparseSegmentMean","int32"),a=(0,b._1)(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${i.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${a.shape}`);const o={data:r,indices:i,segmentIds:a};return Y.BV.runKernel(Q.YW,o)}});const Ur=(0,x.op)({sparseSegmentSum_:function(e,t,n){const r=(0,b._1)(e,"data","sparseSegmentSum"),i=(0,b._1)(t,"indices","sparseSegmentSum","int32"),a=(0,b._1)(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${i.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${a.shape}`);const o={data:r,indices:i,segmentIds:a};return Y.BV.runKernel(Q.Zj,o)}});const Hr=(0,x.op)({stringNGrams_:function(e,t,n,r,i,a,o,s){const l=(0,b._1)(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=(0,b._1)(t,"dataSplits","stringNGrams");if("int32"!==u.dtype)throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:i,rightPad:a,padWidth:o,preserveShortSequences:s},d={data:l,dataSplits:u},f=Y.BV.runKernel(Q._J,d,c);return{nGrams:f[0],nGramsSplits:f[1]}}});const zr=(0,x.op)({stringSplit_:function(e,t,n=!0){const r=(0,b._1)(e,"input","stringSplit","string"),i=(0,b._1)(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(0!==i.rank)throw new Error(`Delimiter should be a scalar but received shape ${i.shape}`);const a={skipEmpty:n},o={input:r,delimiter:i},s=Y.BV.runKernel(Q.s1,o,a);return{indices:s[0],values:s[1],shape:s[2]}}});const Vr=(0,x.op)({stringToHashBucketFast_:function(e,t){const n=(0,b._1)(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const i={input:n};return Y.BV.runKernel(Q.Xk,i,r)}}),$r={fft:dn.k,ifft:fn.S,rfft:hn.Q,irfft:pn.w},Gr={hammingWindow:nr,hannWindow:rr,frame:ir,stft:ar},Wr={flipLeftRight:sr,grayscaleToRGB:lr,resizeNearestNeighbor:br,resizeBilinear:yr,rotateWithOffset:ur,cropAndResize:or,nonMaxSuppression:dr,nonMaxSuppressionAsync:pr,nonMaxSuppressionWithScore:hr,nonMaxSuppressionWithScoreAsync:mr,nonMaxSuppressionPadded:gr,nonMaxSuppressionPaddedAsync:vr,threshold:wr,transform:Sr},qr={bandPart:_r,gramSchmidt:xr,qr:Er},Zr={absoluteDifference:Pr,computeWeightedLoss:Or,cosineDistance:Ir,hingeLoss:Ar,huberLoss:Dr,logLoss:Mr,meanSquaredError:Rr,sigmoidCrossEntropy:Nr,softmaxCrossEntropy:Lr},Kr={sparseFillEmptyRows:jr,sparseReshape:Br,sparseSegmentMean:Fr,sparseSegmentSum:Ur},Xr={stringNGrams:Hr,stringSplit:zr,stringToHashBucketFast:Vr}},39682:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({pad_:function(e,t,n=0){const o=(0,a._1)(e,"x","pad");if(0===o.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:t,constantValue:n},l={x:o};return r.BV.runKernel(i.ly,l,s)}})},33453:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var r=n(97097),i=n(29121),a=n(80747),o=n(43740);const s=(0,n(2668).op)({pow_:function(e,t){let n=(0,o._1)(e,"base","pow"),s=(0,o._1)(t,"exp","pow");[n,s]=(0,a.makeTypesMatch)(n,s);const l={a:n,b:s};return r.BV.runKernel(i.pe,l)}})},98151:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({prelu_:function(e,t){const n={x:(0,a._1)(e,"x","prelu"),alpha:(0,a._1)(t,"alpha","prelu")};return r.BV.runKernel(i.o0,n)}})},29798:(e,t,n)=>{"use strict";function r(e,t=!1){console.log(e.toString(t))}n.d(t,{S:()=>r})},49451:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(62271);const s=(0,n(2668).op)({prod_:function(e,t=null,n=!1){let s=(0,a._1)(e,"x","prod");"bool"===s.dtype&&(s=(0,o.p)(s,"int32"));const l={x:s},u={axis:t,keepDims:n};return r.BV.runKernel(i.Dl,l,u)}})},56845:(e,t,n)=>{"use strict";n.d(t,{T9:()=>a,Yi:()=>i,wv:()=>o});var r=n(63129);class i{constructor(e,t,n,i,a){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=i,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const o=a||Math.random();this.random=r.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,i,a;do{r=2*this.random()-1,i=2*this.random()-1,a=r*r+i*i}while(a>=1||0===a);const o=Math.sqrt(-2*Math.log(a)/a);e=this.mean+this.stdDev*r*o,t=this.mean+this.stdDev*i*o,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class a{constructor(e,t,n,a){this.alpha=e,this.beta=1/t,this.dtype=n;const o=a||Math.random();this.randu=r.alea(o.toString()),this.randn=new i(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,r,i,a;for(;;){do{r=this.randn.nextValue(),a=1+this.c*r}while(a<=0);if(a*=a*a,e=r*r,t=1-.331*e*e,n=.5*e+this.d*(1-a+Math.log(a)),i=this.randu(),i<t||Math.log(i)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class o{constructor(e=0,t=1,n,i){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==i&&(i=Math.random()),"number"===typeof i&&(i=i.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=r.alea(i)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}},75002:(e,t,n)=>{"use strict";n.d(t,{L:()=>o});var r=n(72657),i=n(2668),a=n(56845);const o=(0,i.op)({randomUniform_:function(e,t=0,n=1,i="float32",o){const s=(0,r.f)(e,i),l=new a.wv(t,n,null,o);for(let r=0;r<s.values.length;r++)s.values[r]=l.nextValue();return s.toTensor()}})},47245:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(97097),i=n(29121);function a(e,t,n=1,a="float32"){if(0===n)throw new Error("Cannot have a step of zero");const o={start:e,stop:t,step:n,dtype:a};return r.BV.runKernel(i.e6,{},o)}},60766:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({real_:function(e){const t={input:(0,a._1)(e,"input","real")};return r.BV.runKernel(i.xJ,t)}})},19036:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({reciprocal_:function(e){const t={x:(0,a._1)(e,"x","reciprocal")};return r.BV.runKernel(i.$H,t)}})},7409:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({relu_:function(e){const t={x:(0,a._1)(e,"x","relu")};return r.BV.runKernel(i.qk,t)}})},83582:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({relu6_:function(e){const t={x:(0,a._1)(e,"x","relu6")};return r.BV.runKernel(i.Sb,t)}})},4968:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({reshape_:function(e,t){const n={x:(0,a._1)(e,"x","reshape","string_or_numeric")},o={shape:t};return r.BV.runKernel(i.HZ,n,o)}})},57486:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({reverse_:function(e,t){const n={x:(0,a._1)(e,"x","reverse")},o={dims:t};return r.BV.runKernel(i.mK,n,o)}})},97809:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({round_:function(e){const t={x:(0,a._1)(e,"x","round")};return r.BV.runKernel(i.e0,t)}})},32634:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({rsqrt_:function(e){const t={x:(0,a._1)(e,"x","rsqrt","float32")};return r.BV.runKernel(i.bV,t)}})},99494:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});var r=n(20569),i=n(57852);function a(e,t){if(((0,r.fU)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&(0,r.fU)(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return(0,i.H)(e,[],[],t)}},63100:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var r=n(97097),i=n(29121),a=n(43740),o=n(2668),s=n(33028);const l=(0,o.op)({scatterND_:function(e,t,n){const o=(0,a._1)(e,"indices","scatterND","int32"),l=(0,a._1)(t,"updates","scatterND");s.validateInput(l,o,n);const u={indices:o,updates:l},c={shape:n};return r.BV.runKernel(i.xQ,u,c)}})},33028:(e,t,n)=>{"use strict";n.r(t),n.d(t,{calculateShapes:()=>o,validateInput:()=>a,validateUpdateShape:()=>i});var r=n(20569);function i(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,i=t.rank>1?t.rank-1:1,a=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${i}.`;if(n.rank<i)throw new Error(a+` update.rank < ${i}. `);if(e.length<r+(n.rank-i))throw new Error(a+` Output shape length < ${r+(n.rank-i)}`);if(n.rank!==i+e.length-r)throw new Error(a+" update.rank != "+(i+e.length-r));for(let o=0;o<i;++o)if(n.shape[o]!==t.shape[o])throw new Error(a+` updates.shape[${o}] (${n.shape[o]}) != indices.shape[${o}] (${t.shape[o]}).`);for(let o=0;o<n.rank-i;++o)if(n.shape[o+i]!==e[o+r])throw new Error(a+` updates.shape[${o+i}] (${n.shape[o+i]}) != shape[${o+i}] (${e[o+i]})`)}function a(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}i(n,t,e)}function o(e,t,n){const i=t.shape.length,a=i>1?t.shape[i-1]:1,o=n.length;let s=1;for(let r=a;r<o;++r)s*=n[r];const l=a<1?1:a;return{sliceRank:a,numUpdates:(0,r.NA)(t.shape)/l,sliceSize:s,strides:[...(0,r.e3)(n.slice(0,a)),1],outputSize:(0,r.NA)(n)}}},43336:(e,t,n)=>{"use strict";n.d(t,{z:()=>c});var r=n(97097),i=n(29121),a=n(43740),o=n(20569),s=n(2668),l=n(4968);const u=2147483648;const c=(0,s.op)({searchSorted_:function(e,t,n="left"){const s=(0,a._1)(e,"sortedSequence","searchSorted"),c=(0,a._1)(t,"values","searchSorted"),d=s.shape[s.shape.length-1],f=c.shape[c.shape.length-1],p=(0,l.X)(s,[-1,d]),h=(0,l.X)(c,[-1,f]);if(p.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(p.shape[0]!==h.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if((0,o.NA)(h.shape)>=u)throw new Error("values tensor size must less than 2147483648");if(p.shape[1]>=u)throw new Error(`trailing dim_size must less than 2147483648 for int32 output type, was ${p.shape[1]}`);const m={sortedSequence:p,values:h},g={side:n};return r.BV.runKernel(i.nr,m,g)}})},55503:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({selu_:function(e){const t={x:(0,a._1)(e,"x","selu")};return r.BV.runKernel(i.oF,t)}})},36567:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var r=n(4077),i=n(43740),a=n(20569);const o=async function(e,t){const n=(0,i._1)(e,"x","setdiff1d"),o=(0,i._1)(t,"y","setdiff1d");a.hu(n.dtype===o.dtype,(()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${o.dtype}).`)),a.hu(1===n.rank,(()=>`x should be 1D tensor, but got x (${n.shape}).`)),a.hu(1===o.rank,(()=>`y should be 1D tensor, but got y (${o.shape}).`));const s=await n.data(),l=await o.data(),u=new Set(l);let c=0;for(let r=0;r<s.length;r++)u.has(s[r])||c++;const d=new r.YD([c],n.dtype),f=new r.YD([c],"int32");for(let r=0,i=0;r<s.length;r++)u.has(s[r])||(d.values[i]=s[r],f.values[i]=r,i++);return[d.toTensor(),f.toTensor()]}},30625:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({sigmoid_:function(e){const t={x:(0,a._1)(e,"x","sigmoid","float32")};return r.BV.runKernel(i.a5,t)}})},34434:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({sign_:function(e){const t={x:(0,a._1)(e,"x","sign")};return r.BV.runKernel(i.i5,t)}})},99331:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({sin_:function(e){const t={x:(0,a._1)(e,"x","sin","float32")};return r.BV.runKernel(i.RQ,t)}})},83254:(e,t,n)=>{"use strict";n.d(t,{R:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({sinh_:function(e){const t={x:(0,a._1)(e,"x","sinh")};return r.BV.runKernel(i.w3,t)}})},22676:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({slice_:function(e,t,n){const o=(0,a._1)(e,"x","slice","string_or_numeric");if(0===o.rank)throw new Error("Slicing scalar is not possible");const s={x:o},l={begin:t,size:n};return r.BV.runKernel(i.p2,s,l)}})},80682:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({softmax_:function(e,t=-1){const n=(0,a._1)(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const o={logits:n},s={dim:t};return r.BV.runKernel(i.Gc,o,s)}})},3694:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({softplus_:function(e){const t={x:(0,a._1)(e,"x","softplus")};return r.BV.runKernel(i.MR,t)}})},27918:(e,t,n)=>{"use strict";n.d(t,{f:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(20569);const s=(0,n(2668).op)({spaceToBatchND_:function(e,t,n){const s=(0,a._1)(e,"x","spaceToBatchND");o.hu(s.rank>=1+t.length,(()=>`input rank ${s.rank} should be > than [blockShape] ${t.length}`)),o.hu(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),o.hu(s.shape.reduce(((e,r,i)=>i>0&&i<=t.length?e&&(r+n[i-1][0]+n[i-1][1])%t[i-1]===0:e),!0),(()=>`input spatial dimensions ${s.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const l={x:s},u={blockShape:t,paddings:n};return r.BV.runKernel(i.TQ,l,u)}})},39758:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var r=n(97097),i=n(29121);var a=n(43740);const o=(0,n(2668).op)({sparseToDense_:function(e,t,n,o=0){const s=(0,a._1)(e,"sparseIndices","sparseToDense","int32"),l=(0,a._1)(t,"sparseValues","sparseToDense","string_or_numeric"),u=(0,a._1)(o,"defaultValue","sparseToDense",l.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const i=e.rank>0?e.shape[0]:1,a=e.rank>1?e.shape[1]:1;if(n.length!==a)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${a}.`);const o=t.size;if(0!==t.rank&&(1!==t.rank||o!==i))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${i}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(s,l,n,u);const c={sparseIndices:s,sparseValues:l,defaultValue:u},d={outputShape:n};return r.BV.runKernel(i.D2,c,d)}})},7020:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var r=n(97097),i=n(29121),a=n(20569);const o=(0,n(2668).op)({fft_:function(e){(0,a.hu)("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return r.BV.runKernel(i.vw,t)}})},88447:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var r=n(97097),i=n(29121),a=n(20569);const o=(0,n(2668).op)({ifft_:function(e){(0,a.hu)("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return r.BV.runKernel(i.Qg,t)}})},84415:(e,t,n)=>{"use strict";n.d(t,{w:()=>h});var r=n(61661),i=n(46884),a=n(64386),o=n(24841),s=n(2668),l=n(60766),u=n(4968),c=n(57486),d=n(99494),f=n(22676),p=n(88447);const h=(0,s.op)({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let s;if(t<=2){const r=(0,u.X)(e,[n,t]);s=(0,p.S)(r)}else{const h=[n,2*(t-1)],m=(0,u.X)((0,l.k)(e),[n,t]),g=(0,u.X)((0,a.a)(e),[n,t]),v=(0,c.G)((0,f.t)(m,[0,1],[n,t-2]),1),y=(0,o.d)((0,c.G)((0,f.t)(g,[0,1],[n,t-2]),1),(0,d.i)(-1)),b=(0,i.z)([m,v],1),w=(0,i.z)([g,y],1),S=(0,u.X)((0,r.P)(b,w),[h[0],h[1]]);s=(0,p.S)(S)}if(s=(0,l.k)(s),3===e.rank&&0!==e.shape[0]){const t=s,n=e.shape[0];s=(0,u.X)(s,[n,s.shape[0]/n,s.shape[1]]),t.dispose()}return s}})},13710:(e,t,n)=>{"use strict";n.d(t,{Q:()=>m});var r=n(20569),i=n(61661),a=n(46884),o=n(64386),s=n(2668),l=n(60766),u=n(4968),c=n(22676),d=n(28644),f=n(59640),p=n(6577),h=n(7020);const m=(0,s.op)({rfft_:function(e,t){(0,r.hu)("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const s=e.size/n;let m;if(null!=t&&t<n){const r=e.shape.map((e=>0)),i=e.shape.map((e=>e));i[e.shape.length-1]=t,m=(0,c.t)(e,r,i),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,m=(0,a.z)([e,(0,f.l)(r)],e.shape.length-1),n=t}else m=e;const g=(0,p.P)(m),v=(0,u.X)((0,i.P)(m,g),[s,n]),y=(0,h.k)(v),b=Math.floor(n/2)+1,w=(0,l.k)(y),S=(0,o.a)(y),_=(0,d.V)(w,[b,n-b],w.shape.length-1),x=(0,d.V)(S,[b,n-b],S.shape.length-1),T=m.shape.slice();return T[m.shape.length-1]=b,(0,u.X)((0,i.P)(_[0],x[0]),T)}})},28644:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({split_:function(e,t,n=0){const o={x:(0,a._1)(e,"x","split")},s={numOrSizeSplits:t,axis:n};return r.BV.runKernel(i.L8,o,s)}})},13261:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({sqrt_:function(e){const t={x:(0,a._1)(e,"x","sqrt","float32")};return r.BV.runKernel(i.FK,t)}})},50248:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});var r=n(97097),i=n(43740);const a=(0,n(2668).op)({square_:function(e){const t=(0,i._1)(e,"x","square");return r.BV.runKernel("Square",{x:t},{})}})},15265:(e,t,n)=>{"use strict";n.d(t,{$:()=>l});var r=n(97097),i=n(29121),a=n(80747),o=n(43740),s=n(72200);const l=(0,n(2668).op)({squaredDifference_:function(e,t){let n=(0,o._1)(e,"a","squaredDifference"),l=(0,o._1)(t,"b","squaredDifference");[n,l]=(0,a.makeTypesMatch)(n,l),(0,s.assertAndGetBroadcastShape)(n.shape,l.shape);const u={a:n,b:l};return r.BV.runKernel(i._t,u,{})}})},79590:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});var r=n(43740),i=n(20569),a=n(2668),o=n(4968);const s=(0,a.op)({squeeze_:function(e,t){const n=(0,r._1)(e,"x","squeeze");return(0,o.X)(n,(0,i.bp)(n.shape,t).newShape)}})},82991:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(20569);const s=(0,n(2668).op)({stack_:function(e,t=0){const n=(0,a.sI)(e,"tensors","stack","string_or_numeric");o.hu(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&o.hu(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const s=n,l={axis:t};return r.BV.runKernel(i.Qi,s,l)}})},71901:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({step_:function(e,t=0){const n={x:(0,a._1)(e,"x","step")},o={alpha:t};return r.BV.runKernel(i.h8,n,o)}})},55158:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({stridedSlice_:function(e,t,n,o,s=0,l=0,u=0,c=0,d=0){const f={x:(0,a._1)(e,"x","stridedSlice","string_or_numeric")},p={begin:t,end:n,strides:o,beginMask:s,endMask:l,ellipsisMask:u,newAxisMask:c,shrinkAxisMask:d};return r.BV.runKernel(i.m2,f,p)}})},70827:(e,t,n)=>{"use strict";n.d(t,{l:()=>s});var r=n(97097),i=n(29121),a=n(80747),o=n(43740);const s=(0,n(2668).op)({sub_:function(e,t){let n=(0,o._1)(e,"a","sub"),s=(0,o._1)(t,"b","sub");[n,s]=(0,a.makeTypesMatch)(n,s);const l={a:n,b:s};return r.BV.runKernel(i.Tr,l)}})},15475:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(62271);const s=(0,n(2668).op)({sum_:function(e,t=null,n=!1){let s=(0,a._1)(e,"x","sum");"bool"===s.dtype&&(s=(0,o.p)(s,"int32"));const l={x:s},u={axis:t,keepDims:n};return r.BV.runKernel(i.GB,l,u)}})},61173:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({tan_:function(e){const t={x:(0,a._1)(e,"x","tan","float32")};return r.BV.runKernel(i.sE,t)}})},21869:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({tanh_:function(e){const t={x:(0,a._1)(e,"x","tanh","float32")};return r.BV.runKernel(i.MI,t)}})},10701:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var r=n(43740),i=n(57852);function a(e,t,n){const a=(0,r.C)(e,n);return(0,i.H)(e,t,a,n)}},46092:(e,t,n)=>{"use strict";n.d(t,{R:()=>o});var r=n(43740),i=n(20569),a=n(57852);function o(e,t){(0,i.Cq)(e);const n=(0,r.C)(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return(0,a.H)(e,null,n,t)}},99906:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(43740),i=n(20569),a=n(57852);function o(e,t,n){if((0,i.Cq)(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const o=(0,r.C)(e,n);if(3!==o.length&&1!==o.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return(0,a.H)(e,t,o,n)}},57852:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});var r=n(97097),i=n(20569),a=n(79122);function o(e,t,n,o){if(null==o&&(o=(0,i.D2)(e)),"complex64"===o)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!(0,i.fU)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){(0,i.Mu)(t);const e=(0,i.NA)(t),r=(0,i.NA)(n);(0,i.hu)(e===r,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${r}`));for(let a=0;a<n.length;++a){const e=n[a],r=a!==n.length-1||e!==(0,i.NA)(t.slice(a));(0,i.hu)(n[a]===t[a]||!r,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return(0,i.fU)(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==o?(0,a.toTypedArray)(e,o):(0,i.xH)(e,[],!0),r.BV.makeTensor(e,t,o)}},47501:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(20569);const s=(0,n(2668).op)({tile_:function(e,t){const n=(0,a._1)(e,"x","tile","string_or_numeric");o.hu(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const s={x:n},l={reps:t};return r.BV.runKernel(i.n9,s,l)}})},43243:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({topk_:function(e,t=1,n=!0){const o=(0,a._1)(e,"x","topk");if(0===o.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const s=o.shape[o.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>s)throw new Error(`'k' passed to topk() must be <= the last dimension (${s}) but got ${t}`);const l={x:o},u={k:t,sorted:n},[c,d]=r.BV.runKernel(i.cW,l,u);return{values:c,indices:d}}})},89065:(e,t,n)=>{"use strict";n.d(t,{p:()=>p});var r=n(97097),i=n(4368),a=n(29121),o=n(43740),s=n(20569),l=n(61661),u=n(64386),c=n(17370),d=n(2668),f=n(60766);const p=(0,d.op)({transpose_:function(e,t,n){const d=(0,o._1)(e,"x","transpose");if(null==t&&(t=d.shape.map(((e,t)=>t)).reverse()),s.hu(d.rank===t.length,(()=>`Error in transpose: rank of input ${d.rank} must match length of perm ${t}.`)),t.forEach((e=>{s.hu(e>=0&&e<d.rank,(()=>"All entries in 'perm' must be between 0 and "+(d.rank-1)+` but got ${t}`))})),d.rank<=1)return d.clone();const p={x:d},h={perm:t};return"complex64"===d.dtype?(0,i.lu)((()=>{let e=(0,f.k)(d),t=(0,u.a)(d);return e=r.BV.runKernel(a.G3,{x:e},h),t=r.BV.runKernel(a.G3,{x:t},h),n&&(t=(0,c.W)(t)),(0,l.P)(e,t)})):r.BV.runKernel(a.G3,p,h)}})},43596:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r=n(72657),i=n(2668),a=n(56845);const o=(0,i.op)({truncatedNormal_:function(e,t=0,n=1,i,o){if(null!=i&&"bool"===i)throw new Error("Unsupported data type $ { dtype }");const s=new a.Yi(t,n,i,!0,o),l=(0,r.f)(e,i);for(let r=0;r<l.values.length;r++)l.values[r]=s.nextValue();return l.toTensor()}})},49608:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(20569);const s=(0,n(2668).op)({unique_:function(e,t=0){const n=(0,a._1)(e,"x","unique","string_or_numeric");(0,o.hu)(n.rank>0,(()=>"The input tensor must be at least 1D"));const s={x:n},l={axis:t},[u,c]=r.BV.runKernel(i.kp,s,l);return{values:u,indices:c}}})},24136:(e,t,n)=>{"use strict";n.d(t,{H:()=>s});var r=n(97097),i=n(29121),a=n(43740),o=n(20569);const s=(0,n(2668).op)({unstack_:function(e,t=0){const n=(0,a._1)(e,"x","unstack","string_or_numeric");o.hu(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const s={value:n},l={axis:t};return r.BV.runKernel(i.To,s,l)}})},64978:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var r=n(43336);function i(e,t){return(0,r.z)(e,t,"right")}},95912:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var r=n(97097),i=n(29121),a=n(43740),o=n(68247),s=n(72200);const l=(0,n(2668).op)({where_:function(e,t,n){const l=(0,a._1)(t,"a","where"),u=(0,a._1)(n,"b","where"),c=(0,a._1)(e,"condition","where","bool"),d=(0,s.assertAndGetBroadcastShape)((0,s.assertAndGetBroadcastShape)(c.shape,l.shape),u.shape),f={condition:(0,o.U)(c,d),t:(0,o.U)(l,d),e:(0,o.U)(u,d)};return r.BV.runKernel(i.Ph,f)}})},66380:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});var r=n(48333),i=n(43740);const a=async function(e){const t=(0,i._1)(e,"condition","whereAsync","bool"),n=await t.data(),a=(0,r.Z)(t.shape,n);return e!==t&&t.dispose(),a}},59640:(e,t,n)=>{"use strict";n.d(t,{l:()=>o});var r=n(97097),i=n(20569),a=n(61661);function o(e,t="float32"){if("complex64"===t){const t=o(e,"float32"),n=o(e,"float32");return(0,a.P)(t,n)}const n=(0,i.wT)((0,i.NA)(e),t);return r.BV.makeTensor(n,e,t)}},6577:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(97097),i=n(29121),a=n(43740);const o=(0,n(2668).op)({zerosLike_:function(e){const t={x:(0,a._1)(e,"x","zerosLike")};return r.BV.runKernel(i.Ru,t)}})},4077:(e,t,n)=>{"use strict";n.d(t,{es:()=>y,YD:()=>d,_w:()=>b,FZ:()=>v,Vp:()=>g,Vi:()=>m});var r=n(55938),i=n(20569);function a(e,t,n,r){const a=(0,i.e3)(t),s=function(e,t,n,r){const a=(0,i.NA)(t),s=r[r.length-1],l=new Array(s).fill(0),c=t.length,d="complex64"===n?u(e):e;if(c>1)for(let i=0;i<a/s;i++){const e=i*s;for(let t=0;t<s;t++)l[t]=Math.max(l[t],o(d[e+t],0,n).length)}return l}(e,t,n,a),c=t.length,d=l(e,t,n,a,s),f=["Tensor"];return r&&(f.push(`  dtype: ${n}`),f.push(`  rank: ${c}`),f.push(`  shape: [${t}]`),f.push("  values:")),f.push(d.map((e=>"    "+e)).join("\n")),f.join("\n")}function o(e,t,n){let r;return r=Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:(0,i.HD)(e)?`'${e}'`:"bool"===n?s(e):parseFloat(e.toFixed(7)).toString(),(0,i.oj)(r,t)}function s(e){return 0===e?"false":"true"}function l(e,t,n,r,i,a=!0){const c="complex64"===n?2:1,d=t[0],f=t.length;if(0===f){if("complex64"===n){return[o(u(e)[0],0,n)]}return"bool"===n?[s(e[0])]:[e[0].toString()]}if(1===f){if(d>20){const t=3*c;let r=Array.from(e.slice(0,t)),a=Array.from(e.slice((d-3)*c,d*c));return"complex64"===n&&(r=u(r),a=u(a)),["["+r.map(((e,t)=>o(e,i[t],n))).join(", ")+", ..., "+a.map(((e,t)=>o(e,i[d-3+t],n))).join(", ")+"]"]}return["["+("complex64"===n?u(e):Array.from(e)).map(((e,t)=>o(e,i[t],n))).join(", ")+"]"]}const p=t.slice(1),h=r.slice(1),m=r[0]*c,g=[];if(d>20){for(let t=0;t<3;t++){const r=t*m,a=r+m;g.push(...l(e.slice(r,a),p,n,h,i,!1))}g.push("...");for(let t=d-3;t<d;t++){const r=t*m,a=r+m;g.push(...l(e.slice(r,a),p,n,h,i,t===d-1))}}else for(let o=0;o<d;o++){const t=o*m,r=t+m;g.push(...l(e.slice(t,r),p,n,h,i,o===d-1))}const v=2===f?",":"";g[0]="["+g[0]+v;for(let o=1;o<g.length-1;o++)g[o]=" "+g[o]+v;let y=",\n";for(let o=2;o<f;o++)y+="\n";return g[g.length-1]=" "+g[g.length-1]+"]"+(a?"":y),g}function u(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var c=n(79122);class d{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=i.NA(e),null!=n){const e=n.length;i.hu(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||i.rQ(t,this.size),this.strides=(0,i.e3)(e)}set(e,...t){0===t.length&&(t=[0]),i.hu(t.length===this.rank,(()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`));const n=this.locToIndex(t);this.values[n]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(const r of e){if(r<0||r>=this.shape[t]){const t=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(t)}t++}let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return this.values[n]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return f().makeTensor(this.values,this.shape,this.dtype)}}let f=null,p=null,h=null;function m(e){f=e}function g(e){p=e}function v(e){h=e}class y{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=i.NA(e),this.strides=(0,i.e3)(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return p.buffer(this.shape,this.dtype,e)}bufferSync(){return p.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return(0,i.GX)(this.shape,e,"complex64"===this.dtype)}arraySync(){return(0,i.GX)(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=f().read(this.dataId);if("string"===this.dtype){const n=await e;try{return n.map((e=>c.decodeString(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),f().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=f().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>c.decodeString(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await f().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(f().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return p.print(this,e)}clone(){return this.throwIfDisposed(),p.clone(this)}toString(e=!1){return a(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),p.cast(this,e)}variable(e=!0,t,n){return this.throwIfDisposed(),f().makeVariable(this,e,t,n)}}Object.defineProperty(y,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),(0,r.R)("Tensor",(()=>y));class b extends y{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!i.cO(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);f().disposeTensor(this),this.dataId=e.dataId,f().incRef(this,null)}dispose(){f().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(b,Symbol.hasInstance,{value:e=>e instanceof y&&null!=e.assign&&e.assign instanceof Function})},80747:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assertTypesMatch:()=>s,getTensorsInContainer:()=>u,isTensorInList:()=>l,makeTypesMatch:()=>o});var r=n(4077),i=n(71221),a=n(20569);function o(e,t){if(e.dtype===t.dtype)return[e,t];const n=(0,i.x8)(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function s(e,t){(0,a.hu)(e.dtype===t.dtype,(()=>`The dtypes of the first(${e.dtype}) and second(${t.dtype}) input must match`))}function l(e,t){return t.some((t=>t.id===e.id))}function u(e){const t=[];return c(e,t,new Set),t}function c(e,t,n){if(null==e)return;if(e instanceof r.es)return void t.push(e);if(i=e,!Array.isArray(i)&&"object"!==typeof i)return;var i;const a=e;for(const r in a){const e=a[r];n.has(e)||(n.add(e),c(e,t,n))}}},43740:(e,t,n)=>{"use strict";n.d(t,{C:()=>l,_1:()=>d,sI:()=>f});var r=n(97097),i=n(22885),a=n(4077),o=n(20569),s=n(79122);function l(e,t){let n=e;if((0,o.fU)(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||(0,o.fU)(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&(0,i.OB)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&u(e,r,[]),r}function u(e,t,n){if(n=n||[],!Array.isArray(e)&&!(0,o.fU)(e))return void(0,o.hu)(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));(0,o.hu)(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),(0,o.hu)(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const r=t.slice(1);for(let i=0;i<e.length;++i)u(e[i],r,n.concat(i))}function c(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function d(e,t,n,i="numeric"){if(e instanceof a.es)return c(i,e.dtype,t,n),e;let u=(0,o.D2)(e);if("string"!==u&&["bool","int32","float32"].indexOf(i)>=0&&(u=i),c(i,u,t,n),null==e||!(0,o.fU)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){const r=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${r}'`)}const d=l(e,u);(0,o.fU)(e)||Array.isArray(e)||(e=[e]);const f="string"!==u?(0,s.toTypedArray)(e,u):(0,o.xH)(e,[],!0);return r.BV.makeTensor(f,d,u)}function f(e,t,n,r="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,i)=>d(e,`${t}[${i}]`,n,r)))}},71221:(e,t,n)=>{"use strict";var r,i,a,o,s;n.d(t,{x8:()=>u,yw:()=>r,z4:()=>c}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(r||(r={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(i||(i={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(a||(a={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(o||(o={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(s||(s={}));const l={float32:o,int32:i,bool:a,complex64:s};function u(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return l[e][t]}function c(e){return u(e,"int32")}},79122:(e,t,n)=>{"use strict";n.r(t),n.d(t,{arraysEqual:()=>i.cO,assert:()=>i.hu,assertNonNegativeIntegerDimensions:()=>i.Mu,assertNonNull:()=>i.Cq,assertShapesMatch:()=>i.k5,bytesFromStringArray:()=>i.Ub,bytesPerElement:()=>i.bT,checkConversionForErrors:()=>i.D5,clamp:()=>i.uZ,computeStrides:()=>i.e3,createScalarValue:()=>b,createShuffledIndices:()=>i.U$,decodeString:()=>T,distSquared:()=>i.E7,encodeString:()=>x,fetch:()=>_,fingerPrint64:()=>y,flatten:()=>i.xH,getArrayFromDType:()=>i.rQ,getTypedArrayFromDType:()=>i.WP,hasEncodingLoss:()=>i.QB,hexToLong:()=>s,indexToLoc:()=>i.NE,inferDtype:()=>i.D2,inferFromImplicitShape:()=>i.JZ,isBoolean:()=>i.jn,isFunction:()=>i.mf,isInt:()=>i.GN,isNumber:()=>i.hj,isPromise:()=>i.tI,isScalarShape:()=>i.N9,isString:()=>i.HD,isTypedArray:()=>i.fU,isValidDtype:()=>i.LP,locToIndex:()=>i.qy,makeOnesTypedArray:()=>i.p8,makeZerosNestedTypedArray:()=>i.l6,makeZerosTypedArray:()=>i.wT,nearestDivisor:()=>i.jP,nearestLargerEven:()=>i.nY,now:()=>S,parseAxisParam:()=>i.EC,randUniform:()=>i.bj,repeatedTry:()=>i.WD,rightPad:()=>i.oj,shuffle:()=>i.TV,shuffleCombo:()=>i.d7,sizeFromShape:()=>i.NA,sizeToSquarishShape:()=>i.YP,squeezeShape:()=>i.bp,sum:()=>i.Sm,swap:()=>i.LF,tanh:()=>i.AE,toNestedArray:()=>i.GX,toTypedArray:()=>w});var r=n(22885),i=n(20569),a=n(43720);const o=n.n(a)()||a;function s(e){return o.fromString(e,!0,16)}const l=s("c3a5c85c97cb3127"),u=s("b492b66fbe98f273"),c=s("9ae16a3b2f90404f");function d(e){return e.xor(e.shru(47))}function f(e,t,n){const r=e.slice(t,t+n);return o.fromBytes(Array.from(r),!0,!0)}function p(e,t){return f(e,t,8)}function h(e,t){return f(e,t,4)}function m(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function g(e,t,n=s("9ddfea08eb382d69")){let r=e.xor(t).mul(n);r=r.xor(r.shru(47));let i=t.xor(r).mul(n);return i=i.xor(i.shru(47)),i=i.mul(n),i}function v(e,t,n,r){return function(e,t,n,r,i,a){i=i.add(e),a=m(a.add(i).add(r),21);const o=i;return i=(i=i.add(t)).add(n),a=a.add(m(i,44)),[i.add(r),a.add(o)]}(p(e,t),p(e,t+8),p(e,t+16),p(e,t+24),n,r)}function y(e,t=e.length){const n=o.fromNumber(81,!0);if(t<=32)return t<=16?function(e,t=e.length){if(t>=8){const n=c.add(2*t),r=p(e,0).add(c),i=p(e,t-8);return g(m(i,37).mul(n).add(r),m(r,25).add(i).mul(n),n)}if(t>=4){const n=c.add(2*t);return g(h(e,0).shl(3).add(t),h(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return d(c.mul(n).xor(l.mul(r))).mul(c)}return c}(e,t):function(e,t=e.length){const n=c.add(2*t),r=p(e,0).mul(u),i=p(e,8),a=p(e,t-8).mul(n),o=p(e,t-16).mul(c);return g(m(r.add(i),43).add(m(a,30)).add(o),r.add(m(i.add(c),18)).add(a),n)}(e,t);if(t<=64)return function(e,t=e.length){const n=c.add(2*t),r=p(e,0).mul(c),i=p(e,8),a=p(e,t-8).mul(n),o=p(e,t-16).mul(c),s=m(r.add(i),43).add(m(a,30)).add(o),l=g(s,r.add(m(i.add(c),18)).add(a),n),u=p(e,16).mul(n),d=p(e,24),f=s.add(p(e,t-32)).mul(n),h=l.add(p(e,t-24)).mul(n);return g(m(u.add(d),43).add(m(f,30)).add(h),u.add(m(d.add(r),18)).add(f),n)}(e,t);let r=n,i=n.mul(u).add(113),a=d(i.mul(c).add(113)).mul(c),s=[o.UZERO,o.UZERO],f=[o.UZERO,o.UZERO];r=r.mul(c).add(p(e,0));let y=0;const b=64*(t-1>>6),w=b+(t-1&63)-63;do{r=m(r.add(i).add(s[0]).add(p(e,y+8)),37).mul(u),i=m(i.add(s[1]).add(p(e,y+48)),42).mul(u),r=r.xor(f[1]),i=i.add(s[0]).add(p(e,y+40)),a=m(a.add(f[0]),33).mul(u),s=v(e,y,s[1].mul(u),r.add(f[0])),f=v(e,y+32,a.add(f[1]),i.add(p(e,y+16))),[a,r]=[r,a],y+=64}while(y!==b);const S=u.add(a.and(255).shl(1));return y=w,f[0]=f[0].add(t-1&63),s[0]=s[0].add(f[0]),f[0]=f[0].add(s[0]),r=m(r.add(i).add(s[0]).add(p(e,y+8)),37).mul(S),i=m(i.add(s[1]).add(p(e,y+48)),42).mul(S),r=r.xor(f[1].mul(9)),i=i.add(s[0].mul(9).add(p(e,y+40))),a=m(a.add(f[0]),33).mul(S),s=v(e,y,s[1].mul(S),r.add(f[0])),f=v(e,y+32,a.add(f[1]),i.add(p(e,y+16))),[a,r]=[r,a],g(g(s[0],f[0],S).add(d(i).mul(l)).add(a),g(s[1],f[1],S).add(r),S)}function b(e,t){return"string"===t?x(e):w([e],t)}function w(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=i.xH(e)),(0,r.OB)().getBool("DEBUG")&&i.D5(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function S(){return(0,r.OB)().platform.now()}function _(e,t){return(0,r.OB)().platform.fetch(e,t)}function x(e,t="utf-8"){return t=t||"utf-8",(0,r.OB)().platform.encode(e,t)}function T(e,t="utf-8"){return t=t||"utf-8",(0,r.OB)().platform.decode(e,t)}},20569:(e,t,n)=>{"use strict";function r(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,s(e,t,n)}function i(e,t){if(e.length!==t.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${e.length}Second array length was ${t.length}`);let n=e.length,r=0;for(;n>0;)r=Math.random()*n|0,n--,s(e,n,r),s(t,n,r)}function a(e,t,n){return Math.max(e,Math.min(t,n))}function o(e){return e%2===0?e:e+1}function s(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function l(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function u(e,t){const n=Math.random();return t*n+(1-n)*e}function c(e,t){let n=0;for(let r=0;r<e.length;r++){const i=Number(e[r])-Number(t[r]);n+=i*i}return n}function d(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function f(e,t,n=""){d(v(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function p(e){d(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function h(e,t=[],n=!1){if(null==t&&(t=[]),Array.isArray(e)||D(e)&&!n)for(let r=0;r<e.length;++r)h(e[r],t,n);else t.push(e);return t}function m(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function g(e){return 0===e.length}function v(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function y(e){return e%1===0}function b(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;{const t=Math.exp(2*e);return(t-1)/(t+1)}}function w(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function S(e){const t=new Uint32Array(e);for(let n=0;n<e;++n)t[n]=n;return r(t),t}function _(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function x(e,t=(e=>0),n){return new Promise(((r,i)=>{let a=0;const o=()=>{if(e())return void r();a++;const s=t(a);null!=n&&a>=n?i():setTimeout(o,s)};o()}))}function T(e,t){let n=1,r=-1;for(let a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${a}`);r=a}else if(e[a]<0)throw Error(`Shapes can not be < 0. Found ${e[a]} at dim ${a}`);if(-1===r){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const i=e.slice();return i[r]=t/n,i}function k(e,t){const n=t.length;return d((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),d(e.every((e=>y(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function E(e,t){const n=[],r=[],i=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||i?null:k(t,e).sort();let o=0;for(let s=0;s<e.length;++s){if(null!=a){if(a[o]===s&&1!==e[s])throw new Error(`Can't squeeze axis ${s} since its dim '${e[s]}' is not 1`);(null==a[o]||a[o]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),a[o]<=s&&o++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function C(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error(`Unknown data type ${e}`);n=new Uint8Array(t)}return n}function O(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function P(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}function I(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function A(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function D(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function M(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function R(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}function N(e){return"string"===typeof e||e instanceof String}function L(e){return"boolean"===typeof e}function j(e){return"number"===typeof e}function B(e){return Array.isArray(e)?B(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":j(e)?"float32":N(e)?"string":L(e)?"bool":"float32"}function F(e){return!!(e&&e.constructor&&e.call&&e.apply)}function U(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function H(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function z(e,t,n,r=!1){const i=new Array;if(1===t.length){const a=t[0]*(r?2:1);for(let t=0;t<a;t++)i[t]=n[e+t]}else{const a=t[0],o=t.slice(1),s=o.reduce(((e,t)=>e*t))*(r?2:1);for(let t=0;t<a;t++)i[t]=z(e+t*s,o,n,r)}return i}function V(e,t,n=!1){if(0===e.length)return t[0];const r=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return z(0,e,t,n)}function $(e,t){const n=G(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function G(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function W(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return V(e,new Float32Array(n));if("int32"===t)return V(e,new Int32Array(n));if("bool"===t)return V(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function q(e){e.forEach((t=>{d(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function Z(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let i=0;i<e.length-1;++i)r+=n[i]*e[i];return r}function K(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let i=0;i<r.length-1;++i)r[i]=Math.floor(e/n[i]),e-=r[i]*n[i];return r[r.length-1]=e,r}function X(e){return e&&e.then&&"function"===typeof e.then}n.d(t,{AE:()=>b,Cq:()=>p,D2:()=>B,D5:()=>P,E7:()=>c,EC:()=>k,GN:()=>y,GX:()=>V,HD:()=>N,JZ:()=>T,LF:()=>s,LP:()=>I,Mu:()=>q,N9:()=>g,NA:()=>m,NE:()=>K,QB:()=>A,Sm:()=>l,TV:()=>r,U$:()=>S,Ub:()=>R,WD:()=>x,WP:()=>C,YP:()=>w,bT:()=>M,bj:()=>u,bp:()=>E,cO:()=>v,d7:()=>i,e3:()=>H,fU:()=>D,hj:()=>j,hu:()=>d,jP:()=>U,jn:()=>L,k5:()=>f,l6:()=>W,mf:()=>F,nY:()=>o,oj:()=>_,p8:()=>$,qy:()=>Z,rQ:()=>O,tI:()=>X,uZ:()=>a,wT:()=>G,xH:()=>h})},63129:(e,t,n)=>{var r=n(80626),i=n(90477),a=n(22868),o=n(48197),s=n(11954),l=n(12408),u=n(1662);u.alea=r,u.xor128=i,u.xorwow=a,u.xorshift7=o,u.xor4096=s,u.tychei=l,e.exports=u},80626:function(e,t,n){var r;!function(e,i,a){function o(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new o(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.alea=l}(0,e=n.nmd(e),n.amdD)},12408:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.tychei=l}(0,e=n.nmd(e),n.amdD)},90477:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.xor128=l}(0,e=n.nmd(e),n.amdD)},11954:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),i=0,a=-32;a<l;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},48197:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},22868:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},1662:(e,t,n)=>{var r;!function(i,a){var o,s=this,l=256,u=a.pow(l,6),c=a.pow(2,52),d=2*c,f=255;function p(e,t,n){var r=[],f=v(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(i)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(l):(e=new Uint8Array(l),(s.crypto||s.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=s.navigator,n=t&&t.plugins;return[+new Date,s,n,s.screen,y(i)]}}():e,3),r),p=new h(r),b=function(){for(var e=p.g(6),t=u,n=0;e<c;)e=(e+n)*l,t*=l,n=p.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|p.g(4)},b.quick=function(){return p.g(4)/4294967296},b.double=b,v(y(p.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,p),e.state=function(){return m(p,{})}),n?(a.random=e,t):e})(b,f,"global"in t?t.global:this==a,t.state)}function h(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);i<l;)o[i]=i++;for(i=0;i<l;i++)o[i]=o[a=f&a+e[i%n]+(t=o[i])],o[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,o=r.S;e--;)t=o[i=f&i+1],n=n*l+o[f&(o[i]=o[a=f&a+t])+(o[a]=t)];return r.i=i,r.j=a,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(g(e[n],t-1))}catch(a){}return r.length?r:"string"==i?e:e+"\0"}function v(e,t){for(var n,r=e+"",i=0;i<r.length;)t[f&i]=f&(n^=19*t[f&i])+r.charCodeAt(i++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(a.seedrandom=p,v(a.random(),i),e.exports){e.exports=p;try{o=n(55778)}catch(b){}}else void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}([],Math)},13490:(e,t,n)=>{"use strict";var r=n(58908);e.exports=function(e,t){return void 0===t&&(t=!1),function(n,i,a){if(n)e(n);else if(i.statusCode>=400&&i.statusCode<=599){var o=a;if(t)if(r.TextDecoder){var s=function(e){void 0===e&&(e="");return e.toLowerCase().split(";").reduce((function(e,t){var n=t.split("="),r=n[0],i=n[1];return"charset"===r.trim()?i.trim():e}),"utf-8")}(i.headers&&i.headers["content-type"]);try{o=new TextDecoder(s).decode(a)}catch(l){}}else o=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:o})}else e(null,a)}}},9603:(e,t,n)=>{"use strict";var r=n(58908),i=n(10434),a=n(27376);s.httpHandler=n(13490);function o(e,t,n){var r=e;return a(t)?(n=t,"string"===typeof e&&(r={uri:e})):r=i({},t,{uri:e}),r.callback=n,r}function s(e,t,n){return l(t=o(e,t,n))}function l(e){if("undefined"===typeof e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,i){t||(t=!0,e.callback(n,r,i))};function r(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(n){}return null}(u),g)try{e=JSON.parse(e)}catch(t){}return e}function i(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,v)}function a(){if(!l){var t;clearTimeout(c),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var i=v,a=null;return 0!==t?(i={body:r(),statusCode:t,method:f,headers:{},url:d,rawRequest:u},u.getAllResponseHeaders&&(i.headers=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var n=e.indexOf(":"),r=e.slice(0,n).trim().toLowerCase(),i=e.slice(n+1).trim();"undefined"===typeof t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]})),t):t}(u.getAllResponseHeaders()))):a=new Error("Internal XMLHttpRequest Error"),n(a,i,i.body)}}var o,l,u=e.xhr||null;u||(u=e.cors||e.useXDR?new s.XDomainRequest:new s.XMLHttpRequest);var c,d=u.url=e.uri||e.url,f=u.method=e.method||"GET",p=e.body||e.data,h=u.headers=e.headers||{},m=!!e.sync,g=!1,v={body:void 0,headers:{},statusCode:0,method:f,url:d,rawRequest:u};if("json"in e&&!1!==e.json&&(g=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),p=JSON.stringify(!0===e.json?p:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(a,0)},u.onload=a,u.onerror=i,u.onprogress=function(){},u.onabort=function(){l=!0},u.ontimeout=i,u.open(f,d,!m,e.username,e.password),m||(u.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(c=setTimeout((function(){if(!l){l=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}}),e.timeout)),u.setRequestHeader)for(o in h)h.hasOwnProperty(o)&&u.setRequestHeader(o,h[o]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"===typeof e.beforeSend&&e.beforeSend(u),u.send(p||null),u}e.exports=s,e.exports.default=s,s.XMLHttpRequest=r.XMLHttpRequest||function(){},s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){s["delete"===e?"del":e]=function(t,n,r){return(n=o(t,n,r)).method=e.toUpperCase(),l(n)}}))},72167:(e,t)=>{"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"===typeof t.freeze?t.freeze(e):e}var r=n({HTML:"text/html",isHTML:function(e){return e===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.freeze=n,t.MIME_TYPE=r,t.NAMESPACE=i},86129:(e,t,n)=>{var r=n(72167),i=n(41146),a=n(31045),o=n(76925),s=i.DOMImplementation,l=r.NAMESPACE,u=o.ParseError,c=o.XMLReader;function d(e){this.options=e||{locator:{}}}function f(){this.cdata=!1}function p(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function h(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function m(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function g(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}d.prototype.parseFromString=function(e,t){var n=this.options,r=new c,i=n.domBuilder||new f,o=n.errorHandler,s=n.locator,u=n.xmlns||{},d=/\/x?html?$/.test(t),p=d?a.HTML_ENTITIES:a.XML_ENTITIES;return s&&i.setDocumentLocator(s),r.errorHandler=function(e,t,n){if(!e){if(t instanceof f)return t;e=t}var r={},i=e instanceof Function;function a(t){var a=e[t];!a&&i&&(a=2==e.length?function(n){e(t,n)}:e),r[t]=a&&function(e){a("[xmldom "+t+"]\t"+e+h(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),r}(o,i,s),r.domBuilder=n.domBuilder||i,d&&(u[""]=l.HTML),u.xml=u.xml||l.XML,e&&"string"===typeof e?r.parse(e,u,p):r.errorHandler.error("invalid doc source"),i.doc},f.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,a=i.createElementNS(e,n||t),o=r.length;g(this,a),this.currentElement=a,this.locator&&p(this.locator,a);for(var s=0;s<o;s++){e=r.getURI(s);var l=r.getValue(s),u=(n=r.getQName(s),i.createAttributeNS(e,n));this.locator&&p(r.getLocator(s),u),u.value=u.nodeValue=l,a.setAttributeNode(u)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&p(this.locator,n),g(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=m.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&p(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=m.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&p(this.locator,r),g(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&p(this.locator,i),g(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]\t"+e,h(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,h(this.locator))},fatalError:function(e){throw new u(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){f.prototype[e]=function(){return null}})),t.DOMParser=d,i.DOMImplementation,i.XMLSerializer},41146:(e,t,n)=>{var r=n(72167).NAMESPACE;function i(e){return""!==e}function a(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function o(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(i):[]}(e);return Object.keys(t.reduce(a,{}))}function s(e,t){for(var n in e)t[n]=e[n]}function l(e,t){var n=e.prototype;if(!(n instanceof t)){function r(){}r.prototype=t.prototype,s(n,r=new r),e.prototype=n=r}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var u={},c=u.ELEMENT_NODE=1,d=u.ATTRIBUTE_NODE=2,f=u.TEXT_NODE=3,p=u.CDATA_SECTION_NODE=4,h=u.ENTITY_REFERENCE_NODE=5,m=u.ENTITY_NODE=6,g=u.PROCESSING_INSTRUCTION_NODE=7,v=u.COMMENT_NODE=8,y=u.DOCUMENT_NODE=9,b=u.DOCUMENT_TYPE_NODE=10,w=u.DOCUMENT_FRAGMENT_NODE=11,S=u.NOTATION_NODE=12,_={},x={},T=(_.INDEX_SIZE_ERR=(x[1]="Index size error",1),_.DOMSTRING_SIZE_ERR=(x[2]="DOMString size error",2),_.HIERARCHY_REQUEST_ERR=(x[3]="Hierarchy request error",3)),k=(_.WRONG_DOCUMENT_ERR=(x[4]="Wrong document",4),_.INVALID_CHARACTER_ERR=(x[5]="Invalid character",5),_.NO_DATA_ALLOWED_ERR=(x[6]="No data allowed",6),_.NO_MODIFICATION_ALLOWED_ERR=(x[7]="No modification allowed",7),_.NOT_FOUND_ERR=(x[8]="Not found",8)),E=(_.NOT_SUPPORTED_ERR=(x[9]="Not supported",9),_.INUSE_ATTRIBUTE_ERR=(x[10]="Attribute in use",10));_.INVALID_STATE_ERR=(x[11]="Invalid state",11),_.SYNTAX_ERR=(x[12]="Syntax error",12),_.INVALID_MODIFICATION_ERR=(x[13]="Invalid modification",13),_.NAMESPACE_ERR=(x[14]="Invalid namespace",14),_.INVALID_ACCESS_ERR=(x[15]="Invalid access",15);function C(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,x[e]),this.message=x[e],Error.captureStackTrace&&Error.captureStackTrace(this,C);return n.code=e,t&&(this.message=this.message+": "+t),n}function O(){}function P(e,t){this._node=e,this._refresh=t,I(this)}function I(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);ue(e,"length",n.length),s(n,e),e._inc=t}}function A(){}function D(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function M(e,t,n,i){if(i?t[D(t,i)]=n:t[t.length++]=n,e){n.ownerElement=e;var a=e.ownerDocument;a&&(i&&U(a,e,i),function(e,t,n){e&&e._inc++,n.namespaceURI===r.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(a,e,n))}}function R(e,t,n){var r=D(t,n);if(!(r>=0))throw C(k,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var a=e.ownerDocument;a&&(U(a,e,n),n.ownerElement=null)}}function N(){}function L(){}function j(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function B(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(B(e,t))return!0}while(e=e.nextSibling)}function F(){}function U(e,t,n,i){e&&e._inc++,n.namespaceURI===r.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function H(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,a=0;i;)r[a++]=i,i=i.nextSibling;r.length=a}}}function z(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,H(e.ownerDocument,e),t}function V(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===w){var i=t.firstChild;if(null==i)return t;var a=t.lastChild}else i=a=t;var o=n?n.previousSibling:e.lastChild;i.previousSibling=o,a.nextSibling=n,o?o.nextSibling=i:e.firstChild=i,null==n?e.lastChild=a:n.previousSibling=a;do{i.parentNode=e}while(i!==a&&(i=i.nextSibling));return H(e.ownerDocument||e,e),t.nodeType==w&&(t.firstChild=t.lastChild=null),t}function $(){this._nsMap={}}function G(){}function W(){}function q(){}function Z(){}function K(){}function X(){}function Y(){}function Q(){}function J(){}function ee(){}function te(){}function ne(){}function re(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,i=r.prefix,a=r.namespaceURI;if(a&&null==i&&null==(i=r.lookupPrefix(a)))var o=[{namespace:a,prefix:null}];return oe(this,n,e,t,o),n.join("")}function ie(e,t,n){var i=e.prefix||"",a=e.namespaceURI;if(!a)return!1;if("xml"===i&&a===r.XML||a===r.XMLNS)return!1;for(var o=n.length;o--;){var s=n[o];if(s.prefix===i)return s.namespace!==a}return!0}function ae(e,t,n){e.push(" ",t,'="',n.replace(/[<&"]/g,j),'"')}function oe(e,t,n,i,a){if(a||(a=[]),i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case c:var o=e.attributes,s=o.length,l=e.firstChild,u=e.tagName,m=u;if(!(n=r.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var S,_=0;_<o.length;_++)if("xmlns"===o.item(_).name){S=o.item(_).value;break}if(!S)for(var x=a.length-1;x>=0;x--){if(""===(T=a[x]).prefix&&T.namespace===e.namespaceURI){S=T.namespace;break}}if(S!==e.namespaceURI)for(x=a.length-1;x>=0;x--){var T;if((T=a[x]).namespace===e.namespaceURI){T.prefix&&(m=T.prefix+":"+u);break}}}t.push("<",m);for(var k=0;k<s;k++){"xmlns"==(E=o.item(k)).prefix?a.push({prefix:E.localName,namespace:E.value}):"xmlns"==E.nodeName&&a.push({prefix:"",namespace:E.value})}for(k=0;k<s;k++){var E,C,O;if(ie(E=o.item(k),0,a))ae(t,(C=E.prefix||"")?"xmlns:"+C:"xmlns",O=E.namespaceURI),a.push({prefix:C,namespace:O});oe(E,t,n,i,a)}if(u===m&&ie(e,0,a))ae(t,(C=e.prefix||"")?"xmlns:"+C:"xmlns",O=e.namespaceURI),a.push({prefix:C,namespace:O});if(l||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(t.push(">"),n&&/^script$/i.test(u))for(;l;)l.data?t.push(l.data):oe(l,t,n,i,a.slice()),l=l.nextSibling;else for(;l;)oe(l,t,n,i,a.slice()),l=l.nextSibling;t.push("</",m,">")}else t.push("/>");return;case y:case w:for(l=e.firstChild;l;)oe(l,t,n,i,a.slice()),l=l.nextSibling;return;case d:return ae(t,e.name,e.value);case f:return t.push(e.data.replace(/[<&]/g,j).replace(/]]>/g,"]]&gt;"));case p:return t.push("<![CDATA[",e.data,"]]>");case v:return t.push("\x3c!--",e.data,"--\x3e");case b:var P=e.publicId,I=e.systemId;if(t.push("<!DOCTYPE ",e.name),P)t.push(" PUBLIC ",P),I&&"."!=I&&t.push(" ",I),t.push(">");else if(I&&"."!=I)t.push(" SYSTEM ",I,">");else{var A=e.internalSubset;A&&t.push(" [",A,"]"),t.push(">")}return;case g:return t.push("<?",e.target," ",e.data,"?>");case h:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function se(e,t,n){var r;switch(t.nodeType){case c:(r=t.cloneNode(!1)).ownerDocument=e;case w:break;case d:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(se(e,i,n)),i=i.nextSibling;return r}function le(e,t,n){var r=new t.constructor;for(var i in t){var a=t[i];"object"!=typeof a&&a!=r[i]&&(r[i]=a)}switch(t.childNodes&&(r.childNodes=new O),r.ownerDocument=e,r.nodeType){case c:var o=t.attributes,s=r.attributes=new A,l=o.length;s._ownerElement=r;for(var u=0;u<l;u++)r.setAttributeNode(le(e,o.item(u),!0));break;case d:n=!0}if(n)for(var f=t.firstChild;f;)r.appendChild(le(e,f,n)),f=f.nextSibling;return r}function ue(e,t,n){e[t]=n}C.prototype=Error.prototype,s(_,C),O.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)oe(this[r],n,e,t);return n.join("")}},P.prototype.item=function(e){return I(this),this[e]},l(P,O),A.prototype={length:0,item:O.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new C(E);var n=this.getNamedItem(e.nodeName);return M(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new C(E);return t=this.getNamedItemNS(e.namespaceURI,e.localName),M(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return R(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return R(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},N.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=new F;if(r.implementation=this,r.childNodes=new O,r.doctype=n||null,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new X;return r.name=e,r.nodeName=e,r.publicId=t||"",r.systemId=n||"",r}},L.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return V(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return z(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return le(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==f&&e.nodeType==f?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==d?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==d?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},s(u,L),s(u,L.prototype),F.prototype={nodeName:"#document",nodeType:y,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==w){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==c&&(this.documentElement=e),V(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),z(this,e)},importNode:function(e,t){return se(this,e,t)},getElementById:function(e){var t=null;return B(this.documentElement,(function(n){if(n.nodeType==c&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=o(e);return new P(this,(function(n){var r=[];return t.length>0&&B(n.documentElement,(function(i){if(i!==n&&i.nodeType===c){var a=i.getAttribute("class");if(a){var s=e===a;if(!s){var l=o(a);s=t.every((u=l,function(e){return u&&-1!==u.indexOf(e)}))}s&&r.push(i)}}var u})),r}))},createElement:function(e){var t=new $;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new O,(t.attributes=new A)._ownerElement=t,t},createDocumentFragment:function(){var e=new ee;return e.ownerDocument=this,e.childNodes=new O,e},createTextNode:function(e){var t=new q;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new Z;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new K;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new te;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new G;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new J;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new $,r=t.split(":"),i=n.attributes=new A;return n.childNodes=new O,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new G,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},l(F,L),$.prototype={nodeType:c,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===w?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t),r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,H(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new P(this,(function(t){var n=[];return B(t,(function(r){r===t||r.nodeType!=c||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new P(this,(function(n){var r=[];return B(n,(function(i){i===n||i.nodeType!==c||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)})),r}))}},F.prototype.getElementsByTagName=$.prototype.getElementsByTagName,F.prototype.getElementsByTagNameNS=$.prototype.getElementsByTagNameNS,l($,L),G.prototype.nodeType=d,l(G,L),W.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(x[T])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},l(W,L),q.prototype={nodeName:"#text",nodeType:f,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},l(q,W),Z.prototype={nodeName:"#comment",nodeType:v},l(Z,W),K.prototype={nodeName:"#cdata-section",nodeType:p},l(K,W),X.prototype.nodeType=b,l(X,L),Y.prototype.nodeType=S,l(Y,L),Q.prototype.nodeType=m,l(Q,L),J.prototype.nodeType=h,l(J,L),ee.prototype.nodeName="#document-fragment",ee.prototype.nodeType=w,l(ee,L),te.prototype.nodeType=g,l(te,L),ne.prototype.serializeToString=function(e,t,n){return re.call(e,t,n)},L.prototype.toString=re;try{if(Object.defineProperty){function ce(e){switch(e.nodeType){case c:case w:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ce(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(P.prototype,"length",{get:function(){return I(this),this.$$length}}),Object.defineProperty(L.prototype,"textContent",{get:function(){return ce(this)},set:function(e){switch(this.nodeType){case c:case w:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ue=function(e,t,n){e["$$"+t]=n}}}catch(de){}t.DocumentType=X,t.DOMException=C,t.DOMImplementation=N,t.Element=$,t.Node=L,t.NodeList=O,t.XMLSerializer=ne},31045:(e,t,n)=>{var r=n(72167).freeze;t.XML_ENTITIES=r({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=r({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),t.entityMap=t.HTML_ENTITIES},3969:(e,t,n)=>{var r=n(41146);r.DOMImplementation,r.XMLSerializer,t.DOMParser=n(86129).DOMParser},76925:(e,t,n)=>{var r=n(72167).NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,a=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+i.source+a.source+"*(?::"+i.source+a.source+"*)?$");function s(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,s)}function l(){}function u(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function c(e,t,n,i,a,o){function s(e,t,r){n.attributeNames.hasOwnProperty(e)&&o.fatalError("Attribute "+e+" redefined"),n.addValue(e,t,r)}for(var l,u=++t,c=0;;){var d=e.charAt(u);switch(d){case"=":if(1===c)l=e.slice(t,u),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(o.warning('attribute value must after "="'),l=e.slice(t,u)),t=u+1,!((u=e.indexOf(d,t))>0))throw new Error("attribute value no end '"+d+"' match");s(l,f=e.slice(t,u).replace(/&#?\w+;/g,a),t-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');s(l,f=e.slice(t,u).replace(/&#?\w+;/g,a),t),o.warning('attribute "'+l+'" missed start quot('+d+")!!"),t=u+1,c=5}break;case"/":switch(c){case 0:n.setTagName(e.slice(t,u));case 5:case 6:case 7:c=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==c&&n.setTagName(e.slice(t,u)),u;case">":switch(c){case 0:n.setTagName(e.slice(t,u));case 5:case 6:case 7:break;case 4:case 1:"/"===(f=e.slice(t,u)).slice(-1)&&(n.closed=!0,f=f.slice(0,-1));case 2:2===c&&(f=l),4==c?(o.warning('attribute "'+f+'" missed quot(")!'),s(l,f.replace(/&#?\w+;/g,a),t)):(r.isHTML(i[""])&&f.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+f+'" missed value!! "'+f+'" instead!!'),s(f,f,t));break;case 3:throw new Error("attribute value missed!!")}return u;case"\x80":d=" ";default:if(d<=" ")switch(c){case 0:n.setTagName(e.slice(t,u)),c=6;break;case 1:l=e.slice(t,u),c=2;break;case 4:var f=e.slice(t,u).replace(/&#?\w+;/g,a);o.warning('attribute "'+f+'" missed quot(")!!'),s(l,f,t);case 5:c=6}else switch(c){case 2:n.tagName;r.isHTML(i[""])&&l.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),s(l,l,t),t=u,c=1;break;case 5:o.warning('attribute space is required"'+l+'"!!');case 6:c=1,t=u;break;case 3:c=4,t=u;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function d(e,t,n){for(var i=e.tagName,a=null,o=e.length;o--;){var s=e[o],l=s.qName,u=s.value;if((p=l.indexOf(":"))>0)var c=s.prefix=l.slice(0,p),d=l.slice(p+1),f="xmlns"===c&&d;else d=l,c=null,f="xmlns"===l&&"";s.localName=d,!1!==f&&(null==a&&(a={},h(n,n={})),n[f]=a[f]=u,s.uri=r.XMLNS,t.startPrefixMapping(f,u))}for(o=e.length;o--;){(c=(s=e[o]).prefix)&&("xml"===c&&(s.uri=r.XML),"xmlns"!==c&&(s.uri=n[c||""]))}var p;(p=i.indexOf(":"))>0?(c=e.prefix=i.slice(0,p),d=e.localName=i.slice(p+1)):(c=null,d=e.localName=i);var m=e.uri=n[c||""];if(t.startElement(m,d,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=a,!0;if(t.endElement(m,d,i),a)for(c in a)t.endPrefixMapping(c)}function f(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var a=e.indexOf("</"+n+">",t),o=e.substring(t+1,a);if(/[&<]/.test(o))return/^script$/i.test(n)?(i.characters(o,0,o.length),a):(o=o.replace(/&#?\w+;/g,r),i.characters(o,0,o.length),a)}return t+1}function p(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function h(e,t){for(var n in e)t[n]=e[n]}function m(e,t,n,r){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var a=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var s=a[1][0],l=!1,u=!1;o>3&&(/^public$/i.test(a[2][0])?(l=a[3][0],u=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(u=a[3][0]));var c=a[o-1];return n.startDTD(s,l,u),n.endDTD(),c.index+c[0].length}return-1}function g(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function v(){this.attributeNames={}}s.prototype=new Error,s.prototype.name=s.name,l.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),h(t,t={}),function(e,t,n,i,a){function o(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function l(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?o(parseInt(t.substr(1).replace("x","0x"))):(a.error("entity not found:"+e),e)}function h(t){if(t>k){var n=e.substring(k,t).replace(/&#?\w+;/g,l);_&&y(k),i.characters(n,0,t-k),k=t}}function y(t,n){for(;t>=w&&(n=S.exec(e));)b=n.index,w=b+n[0].length,_.lineNumber++;_.columnNumber=t-b+1}var b=0,w=0,S=/.*(?:\r\n?|\n)|.*$/g,_=i.locator,x=[{currentNSMap:t}],T={},k=0;for(;;){try{var E=e.indexOf("<",k);if(E<0){if(!e.substr(k).match(/^\s*$/)){var C=i.doc,O=C.createTextNode(e.substr(k));C.appendChild(O),i.currentElement=O}return}switch(E>k&&h(E),e.charAt(E+1)){case"/":var P=e.indexOf(">",E+3),I=e.substring(E+2,P).replace(/[ \t\n\r]+$/g,""),A=x.pop();P<0?(I=e.substring(E+2).replace(/[\s<].*/,""),a.error("end tag name: "+I+" is not complete:"+A.tagName),P=E+1+I.length):I.match(/\s</)&&(I=I.replace(/[\s<].*/,""),a.error("end tag name: "+I+" maybe not complete"),P=E+1+I.length);var D=A.localNSMap,M=A.tagName==I;if(M||A.tagName&&A.tagName.toLowerCase()==I.toLowerCase()){if(i.endElement(A.uri,A.localName,I),D)for(var R in D)i.endPrefixMapping(R);M||a.fatalError("end tag name: "+I+" is not match the current start tagName:"+A.tagName)}else x.push(A);P++;break;case"?":_&&y(E),P=g(e,E,i);break;case"!":_&&y(E),P=m(e,E,i,a);break;default:_&&y(E);var N=new v,L=x[x.length-1].currentNSMap,j=(P=c(e,E,N,L,l,a),N.length);if(!N.closed&&p(e,P,N.tagName,T)&&(N.closed=!0,n.nbsp||a.warning("unclosed xml attribute")),_&&j){for(var B=u(_,{}),F=0;F<j;F++){var U=N[F];y(U.offset),U.locator=u(_,{})}i.locator=B,d(N,i,L)&&x.push(N),i.locator=_}else d(N,i,L)&&x.push(N);r.isHTML(N.uri)&&!N.closed?P=f(e,P,N.tagName,l,i):P++}}catch(H){if(H instanceof s)throw H;a.error("element parse error: "+H),P=-1}P>k?k=P:h(Math.max(E,k)+1)}}(e,t,n,i,this.errorHandler),i.endDocument()}},v.prototype={setTagName:function(e){if(!o.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!o.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=l,t.ParseError=s},9669:(e,t,n)=>{e.exports=n(51609)},55448:(e,t,n)=>{"use strict";var r=n(64867),i=n(36026),a=n(4372),o=n(15327),s=n(94097),l=n(84109),u=n(67985),c=n(77874),d=n(82648),f=n(60644),p=n(90205);e.exports=function(e){return new Promise((function(t,n){var h,m=e.data,g=e.headers,v=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(m)&&r.isStandardBrowserEnv()&&delete g["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",S=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(w+":"+S)}var _=s(e.baseURL,e.url);function x(){if(b){var r="getAllResponseHeaders"in b?l(b.getAllResponseHeaders()):null,a={data:v&&"text"!==v&&"json"!==v?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};i((function(e){t(e),y()}),(function(e){n(e),y()}),a),b=null}}if(b.open(e.method.toUpperCase(),o(_,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=x:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(x)},b.onabort=function(){b&&(n(new d("Request aborted",d.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new d("Network Error",d.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||c;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new d(t,r.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,b)),b=null},r.isStandardBrowserEnv()){var T=(e.withCredentials||u(_))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;T&&(g[e.xsrfHeaderName]=T)}"setRequestHeader"in b&&r.forEach(g,(function(e,t){"undefined"===typeof m&&"content-type"===t.toLowerCase()?delete g[t]:b.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),v&&"json"!==v&&(b.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){b&&(n(!e||e&&e.type?new f:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),m||(m=null);var k=p(_);k&&-1===["http","https","file"].indexOf(k)?n(new d("Unsupported protocol "+k+":",d.ERR_BAD_REQUEST,e)):b.send(m)}))}},51609:(e,t,n)=>{"use strict";var r=n(64867),i=n(91849),a=n(30321),o=n(47185);var s=function e(t){var n=new a(t),s=i(a.prototype.request,n);return r.extend(s,a.prototype,n),r.extend(s,n),s.create=function(n){return e(o(t,n))},s}(n(45546));s.Axios=a,s.CanceledError=n(60644),s.CancelToken=n(14972),s.isCancel=n(26502),s.VERSION=n(97288).version,s.toFormData=n(47675),s.AxiosError=n(82648),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=n(8713),s.isAxiosError=n(16268),e.exports=s,e.exports.default=s},14972:(e,t,n)=>{"use strict";var r=n(60644);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},60644:(e,t,n)=>{"use strict";var r=n(82648);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(64867).inherits(i,r,{__CANCEL__:!0}),e.exports=i},26502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},30321:(e,t,n)=>{"use strict";var r=n(64867),i=n(15327),a=n(80782),o=n(13572),s=n(47185),l=n(94097),u=n(54875),c=u.validators;function d(e){this.defaults=e,this.interceptors={request:new a,response:new a}}d.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var d=[o,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(l),a=Promise.resolve(t);d.length;)a=a.then(d.shift(),d.shift());return a}for(var f=t;r.length;){var p=r.shift(),h=r.shift();try{f=p(f)}catch(m){h(m);break}}try{a=o(f)}catch(m){return Promise.reject(m)}for(;l.length;)a=a.then(l.shift(),l.shift());return a},d.prototype.getUri=function(e){e=s(this.defaults,e);var t=l(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(s(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),e.exports=d},82648:(e,t,n)=>{"use strict";var r=n(64867);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=i.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){o[e]={value:e}})),Object.defineProperties(i,o),Object.defineProperty(a,"isAxiosError",{value:!0}),i.from=function(e,t,n,o,s,l){var u=Object.create(a);return r.toFlatObject(e,u,(function(e){return e!==Error.prototype})),i.call(u,e.message,t,n,o,s),u.name=e.name,l&&Object.assign(u,l),u},e.exports=i},80782:(e,t,n)=>{"use strict";var r=n(64867);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},94097:(e,t,n)=>{"use strict";var r=n(91793),i=n(7303);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},13572:(e,t,n)=>{"use strict";var r=n(64867),i=n(18527),a=n(26502),o=n(45546),s=n(60644);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return l(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(l(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},47185:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function l(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||a,i=t(e);r.isUndefined(i)&&t!==l||(n[e]=i)})),n}},36026:(e,t,n)=>{"use strict";var r=n(82648);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},18527:(e,t,n)=>{"use strict";var r=n(64867),i=n(45546);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},45546:(e,t,n)=>{"use strict";var r=n(64867),i=n(16016),a=n(82648),o=n(77874),s=n(47675),l={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,d={transitional:o,adapter:(("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=n(55448)),c),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,a=r.isObject(e),o=t&&t["Content-Type"];if((n=r.isFileList(e))||a&&"multipart/form-data"===o){var l=this.env&&this.env.FormData;return s(n?{"files[]":e}:e,l&&new l)}return a||"application/json"===o?(u(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||d.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw a.from(s,a.ERR_BAD_RESPONSE,this,null,this.response);throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(91623)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){d.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){d.headers[e]=r.merge(l)})),e.exports=d},77874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},97288:e=>{e.exports={version:"0.27.2"}},91849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},15327:(e,t,n)=>{"use strict";var r=n(64867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},91793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},16268:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},67985:(e,t,n)=>{"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16016:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},91623:e=>{e.exports=null},84109:(e,t,n)=>{"use strict";var r=n(64867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},90205:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},47675:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(a,o){if(r.isPlainObject(a)||r.isArray(a)){if(-1!==n.indexOf(a))throw Error("Circular reference detected in "+o);n.push(a),r.forEach(a,(function(n,a){if(!r.isUndefined(n)){var s,l=o?o+"."+a:a;if(n&&!o&&"object"===typeof n)if(r.endsWith(a,"{}"))n=JSON.stringify(n);else if(r.endsWith(a,"[]")&&(s=r.toArray(n)))return void s.forEach((function(e){!r.isUndefined(e)&&t.append(l,i(e))}));e(n,l)}})),n.pop()}else t.append(o,i(a))}(e),t}},54875:(e,t,n)=>{"use strict";var r=n(97288).version,i=n(82648),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};a.transitional=function(e,t,n){function a(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new i(a(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),a=r.length;a-- >0;){var o=r[a],s=t[o];if(s){var l=e[o],u=void 0===l||s(l,o,e);if(!0!==u)throw new i("option "+o+" must be "+u,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+o,i.ERR_BAD_OPTION)}},validators:a}},64867:(e,t,n)=>{"use strict";var r,i=n(91849),a=Object.prototype.toString,o=(r=Object.create(null),function(e){var t=a.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function s(e){return e=e.toLowerCase(),function(t){return o(t)===e}}function l(e){return Array.isArray(e)}function u(e){return"undefined"===typeof e}var c=s("ArrayBuffer");function d(e){return null!==e&&"object"===typeof e}function f(e){if("object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=s("Date"),h=s("File"),m=s("Blob"),g=s("FileList");function v(e){return"[object Function]"===a.call(e)}var y=s("URLSearchParams");function b(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),l(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var w,S=(w="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return w&&e instanceof w});e.exports={isArray:l,isArrayBuffer:c,isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||a.call(e)===t||v(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&c(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:d,isPlainObject:f,isUndefined:u,isDate:p,isFile:h,isBlob:m,isFunction:v,isStream:function(e){return d(e)&&v(e.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:b,merge:function e(){var t={};function n(n,r){f(t[r])&&f(n)?t[r]=e(t[r],n):f(n)?t[r]=e({},n):l(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)b(arguments[r],n);return t},extend:function(e,t,n){return b(t,(function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,a,o={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)o[a=r[i]]||(t[a]=e[a],o[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:o,kindOfTest:s,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(u(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:S,isFileList:g}},54098:function(e,t){var n="undefined"!==typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in e,o="ArrayBuffer"in e;if(o)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function c(e){return"string"!==typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=h(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=u(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[u(e)]},f.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},f.prototype.set=function(e,t){this.map[u(e)]=c(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function S(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];S.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(T){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function x(e,n){return new Promise((function(r,a){var o=new b(e,n);if(o.signal&&o.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new S(i,n))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",l)}),s.send("undefined"===typeof o._bodyInit?null:o._bodyInit)}))}x.polyfill=!0,e.fetch||(e.fetch=x,e.Headers=f,e.Request=b,e.Response=S),t.Headers=f,t.Request=b,t.Response=S,t.fetch=x,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},9996:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function o(e,t){try{return t in e}catch(n){return!1}}function s(e,t,n){var i={};return n.isMergeableObject(e)&&a(e).forEach((function(t){i[t]=r(e[t],n)})),a(t).forEach((function(a){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(o(e,a)&&n.isMergeableObject(t[a])?i[a]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"===typeof n?n:l}(a,n)(e[a],t[a],n):i[a]=r(t[a],n))})),i}function l(e,n,a){(a=a||{}).arrayMerge=a.arrayMerge||i,a.isMergeableObject=a.isMergeableObject||t,a.cloneUnlessOtherwiseSpecified=r;var o=Array.isArray(n);return o===Array.isArray(e)?o?a.arrayMerge(e,n,a):s(e,n,a):r(n,a)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return l(e,n,t)}),{})};var u=l;e.exports=u},17837:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attributeNames=t.elementNames=void 0,t.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),t.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},97220:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(99960)),l=n(45863),u=n(17837),c=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);var d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function f(e,t){void 0===t&&(t={});for(var n=("length"in e?e:[e]),r="",i=0;i<n.length;i++)r+=p(n[i],t);return r}function p(e,t){switch(e.type){case s.Root:return f(e.children,t);case s.Directive:case s.Doctype:return"<"+e.data+">";case s.Comment:return function(e){return"\x3c!--"+e.data+"--\x3e"}(e);case s.CDATA:return function(e){return"<![CDATA["+e.children[0].data+"]]>"}(e);case s.Script:case s.Style:case s.Tag:return function(e,t){var n;"foreign"===t.xmlMode&&(e.name=null!==(n=u.elementNames.get(e.name))&&void 0!==n?n:e.name,e.parent&&h.has(e.parent.name)&&(t=r(r({},t),{xmlMode:!1})));!t.xmlMode&&m.has(e.name)&&(t=r(r({},t),{xmlMode:"foreign"}));var i="<"+e.name,a=function(e,t){if(e)return Object.keys(e).map((function(n){var r,i,a=null!==(r=e[n])&&void 0!==r?r:"";return"foreign"===t.xmlMode&&(n=null!==(i=u.attributeNames.get(n))&&void 0!==i?i:n),t.emptyAttrs||t.xmlMode||""!==a?n+'="'+(!1!==t.decodeEntities?l.encodeXML(a):a.replace(/"/g,"&quot;"))+'"':n})).join(" ")}(e.attribs,t);a&&(i+=" "+a);0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&d.has(e.name))?(t.xmlMode||(i+=" "),i+="/>"):(i+=">",e.children.length>0&&(i+=f(e.children,t)),!t.xmlMode&&d.has(e.name)||(i+="</"+e.name+">"));return i}(e,t);case s.Text:return function(e,t){var n=e.data||"";!1===t.decodeEntities||!t.xmlMode&&e.parent&&c.has(e.parent.name)||(n=l.encodeXML(n));return n}(e,t)}}t.default=f;var h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),m=new Set(["svg","math"])},99960:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===n.Tag||e.type===n.Script||e.type===n.Style},t.Root=n.Root,t.Text=n.Text,t.Directive=n.Directive,t.Comment=n.Comment,t.Script=n.Script,t.Style=n.Style,t.Tag=n.Tag,t.CDATA=n.CDATA,t.Doctype=n.Doctype},47915:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var a=n(99960),o=n(97790);i(n(97790),t);var s=/\s+/g,l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},u=function(){function e(e,t,n){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"===typeof t&&(n=t,t=l),"object"===typeof e&&(t=e,e=void 0),this.callback=null!==e&&void 0!==e?e:null,this.options=null!==t&&void 0!==t?t:l,this.elementCB=null!==n&&void 0!==n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?a.ElementType.Tag:void 0,r=new o.Element(e,t,void 0,n);this.addNode(r),this.tagStack.push(r)},e.prototype.ontext=function(e){var t=this.options.normalizeWhitespace,n=this.lastNode;if(n&&n.type===a.ElementType.Text)t?n.data=(n.data+e).replace(s," "):n.data+=e,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{t&&(e=e.replace(s," "));var r=new o.Text(e);this.addNode(r),this.lastNode=r}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===a.ElementType.Comment)this.lastNode.data+=e;else{var t=new o.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new o.Text(""),t=new o.NodeWithChildren(a.ElementType.CDATA,[e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new o.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"===typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=u,t.default=u},97790:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var o=n(99960),s=new Map([[o.ElementType.Tag,1],[o.ElementType.Script,1],[o.ElementType.Style,1],[o.ElementType.Directive,1],[o.ElementType.Text,3],[o.ElementType.CDATA,4],[o.ElementType.Comment,8],[o.ElementType.Root,9]]),l=function(){function e(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){var e;return null!==(e=s.get(this.type))&&void 0!==e?e:1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),_(this,e)},e}();t.Node=l;var u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.data=n,r}return i(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(l);t.DataNode=u;var c=function(e){function t(t){return e.call(this,o.ElementType.Text,t)||this}return i(t,e),t}(u);t.Text=c;var d=function(e){function t(t){return e.call(this,o.ElementType.Comment,t)||this}return i(t,e),t}(u);t.Comment=d;var f=function(e){function t(t,n){var r=e.call(this,o.ElementType.Directive,n)||this;return r.name=t,r}return i(t,e),t}(u);t.ProcessingInstruction=f;var p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.children=n,r}return i(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(l);t.NodeWithChildren=p;var h=function(e){function t(t){return e.call(this,o.ElementType.Root,t)||this}return i(t,e),t}(p);t.Document=h;var m=function(e){function t(t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i="script"===t?o.ElementType.Script:"style"===t?o.ElementType.Style:o.ElementType.Tag);var a=e.call(this,i,r)||this;return a.name=t,a.attribs=n,a}return i(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,r;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(r=e["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))},enumerable:!1,configurable:!0}),t}(p);function g(e){return(0,o.isTag)(e)}function v(e){return e.type===o.ElementType.CDATA}function y(e){return e.type===o.ElementType.Text}function b(e){return e.type===o.ElementType.Comment}function w(e){return e.type===o.ElementType.Directive}function S(e){return e.type===o.ElementType.Root}function _(e,t){var n;if(void 0===t&&(t=!1),y(e))n=new c(e.data);else if(b(e))n=new d(e.data);else if(g(e)){var r=t?x(e.children):[],i=new m(e.name,a({},e.attribs),r);r.forEach((function(e){return e.parent=i})),null!=e.namespace&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=a({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=a({},e["x-attribsPrefix"])),n=i}else if(v(e)){r=t?x(e.children):[];var s=new p(o.ElementType.CDATA,r);r.forEach((function(e){return e.parent=s})),n=s}else if(S(e)){r=t?x(e.children):[];var l=new h(r);r.forEach((function(e){return e.parent=l})),e["x-mode"]&&(l["x-mode"]=e["x-mode"]),n=l}else{if(!w(e))throw new Error("Not implemented yet: ".concat(e.type));var u=new f(e.name,e.data);null!=e["x-name"]&&(u["x-name"]=e["x-name"],u["x-publicId"]=e["x-publicId"],u["x-systemId"]=e["x-systemId"]),n=u}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function x(e){for(var t=e.map((function(e){return _(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=m,t.isTag=g,t.isCDATA=v,t.isText=y,t.isComment=b,t.isDirective=w,t.isDocument=S,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=_},16996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeed=void 0;var r=n(43346),i=n(23905);t.getFeed=function(e){var t=l(d,e);return t?"feed"===t.name?function(e){var t,n=e.children,r={type:"atom",items:(0,i.getElementsByTagName)("entry",n).map((function(e){var t,n=e.children,r={media:s(n)};c(r,"id","id",n),c(r,"title","title",n);var i=null===(t=l("link",n))||void 0===t?void 0:t.attribs.href;i&&(r.link=i);var a=u("summary",n)||u("content",n);a&&(r.description=a);var o=u("updated",n);return o&&(r.pubDate=new Date(o)),r}))};c(r,"id","id",n),c(r,"title","title",n);var a=null===(t=l("link",n))||void 0===t?void 0:t.attribs.href;a&&(r.link=a);c(r,"description","subtitle",n);var o=u("updated",n);o&&(r.updated=new Date(o));return c(r,"author","email",n,!0),r}(t):function(e){var t,n,r=null!==(n=null===(t=l("channel",e.children))||void 0===t?void 0:t.children)&&void 0!==n?n:[],a={type:e.name.substr(0,3),id:"",items:(0,i.getElementsByTagName)("item",e.children).map((function(e){var t=e.children,n={media:s(t)};c(n,"id","guid",t),c(n,"title","title",t),c(n,"link","link",t),c(n,"description","description",t);var r=u("pubDate",t);return r&&(n.pubDate=new Date(r)),n}))};c(a,"title","title",r),c(a,"link","link",r),c(a,"description","description",r);var o=u("lastBuildDate",r);o&&(a.updated=new Date(o));return c(a,"author","managingEditor",r,!0),a}(t):null};var a=["url","type","lang"],o=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function s(e){return(0,i.getElementsByTagName)("media:content",e).map((function(e){for(var t=e.attribs,n={medium:t.medium,isDefault:!!t.isDefault},r=0,i=a;r<i.length;r++){t[u=i[r]]&&(n[u]=t[u])}for(var s=0,l=o;s<l.length;s++){var u;t[u=l[s]]&&(n[u]=parseInt(t[u],10))}return t.expression&&(n.expression=t.expression),n}))}function l(e,t){return(0,i.getElementsByTagName)(e,t,!0,1)[0]}function u(e,t,n){return void 0===n&&(n=!1),(0,r.textContent)((0,i.getElementsByTagName)(e,t,n,1)).trim()}function c(e,t,n,r,i){void 0===i&&(i=!1);var a=u(n,r,i);a&&(e[t]=a)}function d(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}},74975:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueSort=t.compareDocumentPosition=t.removeSubsets=void 0;var r=n(47915);function i(e,t){var n=[],i=[];if(e===t)return 0;for(var a=(0,r.hasChildren)(e)?e:e.parent;a;)n.unshift(a),a=a.parent;for(a=(0,r.hasChildren)(t)?t:t.parent;a;)i.unshift(a),a=a.parent;for(var o=Math.min(n.length,i.length),s=0;s<o&&n[s]===i[s];)s++;if(0===s)return 1;var l=n[s-1],u=l.children,c=n[s],d=i[s];return u.indexOf(c)>u.indexOf(d)?l===t?20:4:l===e?10:2}t.removeSubsets=function(e){for(var t=e.length;--t>=0;){var n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0)e.splice(t,1);else for(var r=n.parent;r;r=r.parent)if(e.includes(r)){e.splice(t,1);break}}return e},t.compareDocumentPosition=i,t.uniqueSort=function(e){return(e=e.filter((function(e,t,n){return!n.includes(e,t+1)}))).sort((function(e,t){var n=i(e,t);return 2&n?-1:4&n?1:0})),e}},89432:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,i(n(43346),t),i(n(85010),t),i(n(26765),t),i(n(98043),t),i(n(23905),t),i(n(74975),t),i(n(16996),t);var a=n(47915);Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return a.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return a.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return a.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return a.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return a.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return a.hasChildren}})},23905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElementsByTagType=t.getElementsByTagName=t.getElementById=t.getElements=t.testElement=void 0;var r=n(47915),i=n(98043),a={tag_name:function(e){return"function"===typeof e?function(t){return(0,r.isTag)(t)&&e(t.name)}:"*"===e?r.isTag:function(t){return(0,r.isTag)(t)&&t.name===e}},tag_type:function(e){return"function"===typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"===typeof e?function(t){return(0,r.isText)(t)&&e(t.data)}:function(t){return(0,r.isText)(t)&&t.data===e}}};function o(e,t){return"function"===typeof t?function(n){return(0,r.isTag)(n)&&t(n.attribs[e])}:function(n){return(0,r.isTag)(n)&&n.attribs[e]===t}}function s(e,t){return function(n){return e(n)||t(n)}}function l(e){var t=Object.keys(e).map((function(t){var n=e[t];return Object.prototype.hasOwnProperty.call(a,t)?a[t](n):o(t,n)}));return 0===t.length?null:t.reduce(s)}t.testElement=function(e,t){var n=l(e);return!n||n(t)},t.getElements=function(e,t,n,r){void 0===r&&(r=1/0);var a=l(e);return a?(0,i.filter)(a,t,n,r):[]},t.getElementById=function(e,t,n){return void 0===n&&(n=!0),Array.isArray(t)||(t=[t]),(0,i.findOne)(o("id",e),t,n)},t.getElementsByTagName=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),(0,i.filter)(a.tag_name(e),t,n,r)},t.getElementsByTagType=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),(0,i.filter)(a.tag_type(e),t,n,r)}},26765:(e,t)=>{"use strict";function n(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}}Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.prependChild=t.append=t.appendChild=t.replaceElement=t.removeElement=void 0,t.removeElement=n,t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var i=t.parent=e.parent;if(i){var a=i.children;a[a.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(n(t),t.next=null,t.parent=e,e.children.push(t)>1){var r=e.children[e.children.length-2];r.next=t,t.prev=r}else t.prev=null},t.append=function(e,t){n(t);var r=e.parent,i=e.next;if(t.next=i,t.prev=e,e.next=t,t.parent=r,i){if(i.prev=t,r){var a=r.children;a.splice(a.lastIndexOf(i),0,t)}}else r&&r.children.push(t)},t.prependChild=function(e,t){if(n(t),t.parent=e,t.prev=null,1!==e.children.unshift(t)){var r=e.children[1];r.prev=t,t.next=r}else t.next=null},t.prepend=function(e,t){n(t);var r=e.parent;if(r){var i=r.children;i.splice(i.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=r,t.prev=e.prev,t.next=e,e.prev=t}},98043:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=t.existsOne=t.findOne=t.findOneChild=t.find=t.filter=void 0;var r=n(47915);function i(e,t,n,a){for(var o=[],s=0,l=t;s<l.length;s++){var u=l[s];if(e(u)&&(o.push(u),--a<=0))break;if(n&&(0,r.hasChildren)(u)&&u.children.length>0){var c=i(e,u.children,n,a);if(o.push.apply(o,c),(a-=c.length)<=0)break}}return o}t.filter=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),Array.isArray(t)||(t=[t]),i(e,t,n,r)},t.find=i,t.findOneChild=function(e,t){return t.find(e)},t.findOne=function e(t,n,i){void 0===i&&(i=!0);for(var a=null,o=0;o<n.length&&!a;o++){var s=n[o];(0,r.isTag)(s)&&(t(s)?a=s:i&&s.children.length>0&&(a=e(t,s.children)))}return a},t.existsOne=function e(t,n){return n.some((function(n){return(0,r.isTag)(n)&&(t(n)||n.children.length>0&&e(t,n.children))}))},t.findAll=function(e,t){for(var n,i,a=[],o=t.filter(r.isTag);i=o.shift();){var s=null===(n=i.children)||void 0===n?void 0:n.filter(r.isTag);s&&s.length>0&&o.unshift.apply(o,s),e(i)&&a.push(i)}return a}},43346:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.innerText=t.textContent=t.getText=t.getInnerHTML=t.getOuterHTML=void 0;var i=n(47915),a=r(n(97220)),o=n(99960);function s(e,t){return(0,a.default)(e,t)}t.getOuterHTML=s,t.getInnerHTML=function(e,t){return(0,i.hasChildren)(e)?e.children.map((function(e){return s(e,t)})).join(""):""},t.getText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,i.isTag)(t)?"br"===t.name?"\n":e(t.children):(0,i.isCDATA)(t)?e(t.children):(0,i.isText)(t)?t.data:""},t.textContent=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,i.hasChildren)(t)&&!(0,i.isComment)(t)?e(t.children):(0,i.isText)(t)?t.data:""},t.innerText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,i.hasChildren)(t)&&(t.type===o.ElementType.Tag||(0,i.isCDATA)(t))?e(t.children):(0,i.isText)(t)?t.data:""}},85010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prevElementSibling=t.nextElementSibling=t.getName=t.hasAttrib=t.getAttributeValue=t.getSiblings=t.getParent=t.getChildren=void 0;var r=n(47915),i=[];function a(e){var t;return null!==(t=e.children)&&void 0!==t?t:i}function o(e){return e.parent||null}t.getChildren=a,t.getParent=o,t.getSiblings=function(e){var t=o(e);if(null!=t)return a(t);for(var n=[e],r=e.prev,i=e.next;null!=r;)n.unshift(r),r=r.prev;for(;null!=i;)n.push(i),i=i.next;return n},t.getAttributeValue=function(e,t){var n;return null===(n=e.attribs)||void 0===n?void 0:n[t]},t.hasAttrib=function(e,t){return null!=e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]},t.getName=function(e){return e.name},t.nextElementSibling=function(e){for(var t=e.next;null!==t&&!(0,r.isTag)(t);)t=t.next;return t},t.prevElementSibling=function(e){for(var t=e.prev;null!==t&&!(0,r.isTag)(t);)t=t.prev;return t}},44076:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHTML=t.decodeHTMLStrict=t.decodeXML=void 0;var i=r(n(59323)),a=r(n(29591)),o=r(n(2586)),s=r(n(26)),l=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function u(e){var t=d(e);return function(e){return String(e).replace(l,t)}}t.decodeXML=u(o.default),t.decodeHTMLStrict=u(i.default);var c=function(e,t){return e<t?1:-1};function d(e){return function(t){if("#"===t.charAt(1)){var n=t.charAt(2);return"X"===n||"x"===n?s.default(parseInt(t.substr(3),16)):s.default(parseInt(t.substr(2),10))}return e[t.slice(1,-1)]||t}}t.decodeHTML=function(){for(var e=Object.keys(a.default).sort(c),t=Object.keys(i.default).sort(c),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var o=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=d(i.default);function l(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(o,l)}}()},26:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(33600)),a=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)};t.default=function(e){return e>=55296&&e<=57343||e>1114111?"\ufffd":(e in i.default&&(e=i.default[e]),a(e))}},87322:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=void 0;var i=c(r(n(2586)).default),a=d(i);t.encodeXML=g(i);var o,s,l=c(r(n(59323)).default),u=d(l);function c(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function d(e){for(var t=[],n=[],r=0,i=Object.keys(e);r<i.length;r++){var a=i[r];1===a.length?t.push("\\"+a):n.push(a)}t.sort();for(var o=0;o<t.length-1;o++){for(var s=o;s<t.length-1&&t[s].charCodeAt(1)+1===t[s+1].charCodeAt(1);)s+=1;var l=1+s-o;l<3||t.splice(o,l,t[o]+"-"+t[s])}return n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.encodeHTML=(o=l,s=u,function(e){return e.replace(s,(function(e){return o[e]})).replace(f,h)}),t.encodeNonAsciiHTML=g(l);var f=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,p=null!=String.prototype.codePointAt?function(e){return e.codePointAt(0)}:function(e){return 1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536};function h(e){return"&#x"+(e.length>1?p(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}var m=new RegExp(a.source+"|"+f.source,"g");function g(e){return function(t){return t.replace(m,(function(t){return e[t]||h(t)}))}}t.escape=function(e){return e.replace(m,h)},t.escapeUTF8=function(e){return e.replace(a,h)}},45863:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var r=n(44076),i=n(87322);t.decode=function(e,t){return(!t||t<=0?r.decodeXML:r.decodeHTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?r.decodeXML:r.decodeHTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?i.encodeXML:i.encodeHTML)(e)};var a=n(87322);Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return a.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return a.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return a.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return a.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return a.encodeHTML}});var o=n(44076);Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return o.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return o.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return o.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return o.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return o.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return o.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return o.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return o.decodeXML}})},63150:e=>{"use strict";e.exports=e=>{if("string"!==typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},64063:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},89144:(e,t,n)=>{var r,i="undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:{},a=n(25893);"undefined"!==typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=a),e.exports=r},58908:(e,t,n)=>{var r;r="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},e.exports=r},8679:(e,t,n)=>{"use strict";var r=n(59864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var o=c(n);d&&(o=o.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<o.length;++g){var v=o[g];if(!a[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=f(n,v);try{u(t,v,y)}catch(b){}}}}return t}},63870:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseFeed=t.FeedHandler=void 0;var u,c,d=l(n(47915)),f=s(n(89432)),p=n(50763);!function(e){e[e.image=0]="image",e[e.audio=1]="audio",e[e.video=2]="video",e[e.document=3]="document",e[e.executable=4]="executable"}(u||(u={})),function(e){e[e.sample=0]="sample",e[e.full=1]="full",e[e.nonstop=2]="nonstop"}(c||(c={}));var h=function(e){function t(t,n){return"object"===typeof t&&(n=t=void 0),e.call(this,t,n)||this}return i(t,e),t.prototype.onend=function(){var e,t,n=v(S,this.dom);if(n){var r={};if("feed"===n.name){var i=n.children;r.type="atom",w(r,"id","id",i),w(r,"title","title",i);var a=b("href",v("link",i));a&&(r.link=a),w(r,"description","subtitle",i),(o=y("updated",i))&&(r.updated=new Date(o)),w(r,"author","email",i,!0),r.items=g("entry",i).map((function(e){var t={},n=e.children;w(t,"id","id",n),w(t,"title","title",n);var r=b("href",v("link",n));r&&(t.link=r);var i=y("summary",n)||y("content",n);i&&(t.description=i);var a=y("updated",n);return a&&(t.pubDate=new Date(a)),t.media=m(n),t}))}else{var o;i=null!==(t=null===(e=v("channel",n.children))||void 0===e?void 0:e.children)&&void 0!==t?t:[];r.type=n.name.substr(0,3),r.id="",w(r,"title","title",i),w(r,"link","link",i),w(r,"description","description",i),(o=y("lastBuildDate",i))&&(r.updated=new Date(o)),w(r,"author","managingEditor",i,!0),r.items=g("item",n.children).map((function(e){var t={},n=e.children;w(t,"id","guid",n),w(t,"title","title",n),w(t,"link","link",n),w(t,"description","description",n);var r=y("pubDate",n);return r&&(t.pubDate=new Date(r)),t.media=m(n),t}))}this.feed=r,this.handleCallback(null)}else this.handleCallback(new Error("couldn't find root of feed"))},t}(d.default);function m(e){return g("media:content",e).map((function(e){var t={medium:e.attribs.medium,isDefault:!!e.attribs.isDefault};return e.attribs.url&&(t.url=e.attribs.url),e.attribs.fileSize&&(t.fileSize=parseInt(e.attribs.fileSize,10)),e.attribs.type&&(t.type=e.attribs.type),e.attribs.expression&&(t.expression=e.attribs.expression),e.attribs.bitrate&&(t.bitrate=parseInt(e.attribs.bitrate,10)),e.attribs.framerate&&(t.framerate=parseInt(e.attribs.framerate,10)),e.attribs.samplingrate&&(t.samplingrate=parseInt(e.attribs.samplingrate,10)),e.attribs.channels&&(t.channels=parseInt(e.attribs.channels,10)),e.attribs.duration&&(t.duration=parseInt(e.attribs.duration,10)),e.attribs.height&&(t.height=parseInt(e.attribs.height,10)),e.attribs.width&&(t.width=parseInt(e.attribs.width,10)),e.attribs.lang&&(t.lang=e.attribs.lang),t}))}function g(e,t){return f.getElementsByTagName(e,t,!0)}function v(e,t){return f.getElementsByTagName(e,t,!0,1)[0]}function y(e,t,n){return void 0===n&&(n=!1),f.getText(f.getElementsByTagName(e,t,n,1)).trim()}function b(e,t){return t?t.attribs[e]:null}function w(e,t,n,r,i){void 0===i&&(i=!1);var a=y(n,r,i);a&&(e[t]=a)}function S(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}t.FeedHandler=h,t.parseFeed=function(e,t){void 0===t&&(t={xmlMode:!0});var n=new h(t);return new p.Parser(n,t).end(e),n.feed}},50763:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var i=r(n(39889)),a=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),s={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:o,h1:o,h2:o,h3:o,h4:o,h5:o,h6:o,select:a,input:a,output:a,button:a,datalist:a,textarea:a,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:o,article:o,aside:o,blockquote:o,details:o,div:o,dl:o,fieldset:o,figcaption:o,figure:o,footer:o,form:o,header:o,hr:o,main:o,nav:o,ol:o,pre:o,section:o,table:o,ul:o,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},l=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),u=new Set(["math","svg"]),c=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),d=/\s|\//,f=function(){function e(e,t){var n,r,a,o,s;void 0===t&&(t={}),this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=t,this.cbs=null!==e&&void 0!==e?e:{},this.lowerCaseTagNames=null!==(n=t.lowerCaseTags)&&void 0!==n?n:!t.xmlMode,this.lowerCaseAttributeNames=null!==(r=t.lowerCaseAttributeNames)&&void 0!==r?r:!t.xmlMode,this.tokenizer=new(null!==(a=t.Tokenizer)&&void 0!==a?a:i.default)(this.options,this),null===(s=(o=this.cbs).onparserinit)||void 0===s||s.call(o,this)}return e.prototype.updatePosition=function(e){null===this.endIndex?this.tokenizer.sectionStart<=e?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},e.prototype.ontext=function(e){var t,n;this.updatePosition(1),this.endIndex--,null===(n=(t=this.cbs).ontext)||void 0===n||n.call(t,e)},e.prototype.onopentagname=function(e){var t,n;if(this.lowerCaseTagNames&&(e=e.toLowerCase()),this.tagname=e,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(s,e))for(var r=void 0;this.stack.length>0&&s[e].has(r=this.stack[this.stack.length-1]);)this.onclosetag(r);!this.options.xmlMode&&l.has(e)||(this.stack.push(e),u.has(e)?this.foreignContext.push(!0):c.has(e)&&this.foreignContext.push(!1)),null===(n=(t=this.cbs).onopentagname)||void 0===n||n.call(t,e),this.cbs.onopentag&&(this.attribs={})},e.prototype.onopentagend=function(){var e,t;this.updatePosition(1),this.attribs&&(null===(t=(e=this.cbs).onopentag)||void 0===t||t.call(e,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&l.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},e.prototype.onclosetag=function(e){if(this.updatePosition(1),this.lowerCaseTagNames&&(e=e.toLowerCase()),(u.has(e)||c.has(e))&&this.foreignContext.pop(),!this.stack.length||!this.options.xmlMode&&l.has(e))this.options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this.closeCurrentTag());else{var t=this.stack.lastIndexOf(e);if(-1!==t)if(this.cbs.onclosetag)for(t=this.stack.length-t;t--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=t;else"p"!==e||this.options.xmlMode||(this.onopentagname(e),this.closeCurrentTag())}},e.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},e.prototype.closeCurrentTag=function(){var e,t,n=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===n&&(null===(t=(e=this.cbs).onclosetag)||void 0===t||t.call(e,n),this.stack.pop())},e.prototype.onattribname=function(e){this.lowerCaseAttributeNames&&(e=e.toLowerCase()),this.attribname=e},e.prototype.onattribdata=function(e){this.attribvalue+=e},e.prototype.onattribend=function(e){var t,n;null===(n=(t=this.cbs).onattribute)||void 0===n||n.call(t,this.attribname,this.attribvalue,e),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},e.prototype.getInstructionName=function(e){var t=e.search(d),n=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},e.prototype.ondeclaration=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("!"+t,"!"+e)}},e.prototype.onprocessinginstruction=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("?"+t,"?"+e)}},e.prototype.oncomment=function(e){var t,n,r,i;this.updatePosition(4),null===(n=(t=this.cbs).oncomment)||void 0===n||n.call(t,e),null===(i=(r=this.cbs).oncommentend)||void 0===i||i.call(r)},e.prototype.oncdata=function(e){var t,n,r,i,a,o;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?(null===(n=(t=this.cbs).oncdatastart)||void 0===n||n.call(t),null===(i=(r=this.cbs).ontext)||void 0===i||i.call(r,e),null===(o=(a=this.cbs).oncdataend)||void 0===o||o.call(a)):this.oncomment("[CDATA["+e+"]]")},e.prototype.onerror=function(e){var t,n;null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,e)},e.prototype.onend=function(){var e,t;if(this.cbs.onclosetag)for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n]));null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)},e.prototype.reset=function(){var e,t,n,r;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],null===(r=(n=this.cbs).onparserinit)||void 0===r||r.call(n,this)},e.prototype.parseComplete=function(e){this.reset(),this.end(e)},e.prototype.write=function(e){this.tokenizer.write(e)},e.prototype.end=function(e){this.tokenizer.end(e)},e.prototype.pause=function(){this.tokenizer.pause()},e.prototype.resume=function(){this.tokenizer.resume()},e.prototype.parseChunk=function(e){this.write(e)},e.prototype.done=function(e){this.end(e)},e}();t.Parser=f},39889:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(26)),a=r(n(59323)),o=r(n(29591)),s=r(n(2586));function l(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function u(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}function c(e,t,n){var r=e.toLowerCase();return e===r?function(e,i){i===r?e._state=t:(e._state=n,e._index--)}:function(i,a){a===r||a===e?i._state=t:(i._state=n,i._index--)}}function d(e,t){var n=e.toLowerCase();return function(r,i){i===n||i===e?r._state=t:(r._state=3,r._index--)}}var f=c("C",24,16),p=c("D",25,16),h=c("A",26,16),m=c("T",27,16),g=c("A",28,16),v=d("R",35),y=d("I",36),b=d("P",37),w=d("T",38),S=c("R",40,1),_=c("I",41,1),x=c("P",42,1),T=c("T",43,1),k=d("Y",45),E=d("L",46),C=d("E",47),O=c("Y",49,1),P=c("L",50,1),I=c("E",51,1),A=d("I",54),D=d("T",55),M=d("L",56),R=d("E",57),N=c("I",58,1),L=c("T",59,1),j=c("L",60,1),B=c("E",61,1),F=c("#",63,64),U=c("X",66,65),H=function(){function e(e,t){var n;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=t,this.xmlMode=!!(null===e||void 0===e?void 0:e.xmlMode),this.decodeEntities=null===(n=null===e||void 0===e?void 0:e.decodeEntities)||void 0===n||n}return e.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},e.prototype.write=function(e){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=e,this.parse()},e.prototype.end=function(e){this.ended&&this.cbs.onerror(Error(".end() after done!")),e&&this.write(e),this.ended=!0,this.running&&this.finish()},e.prototype.pause=function(){this.running=!1},e.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},e.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},e.prototype.stateText=function(e){"<"===e?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):!this.decodeEntities||"&"!==e||1!==this.special&&4!==this.special||(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},e.prototype.isTagStartChar=function(e){return u(e)||this.xmlMode&&!l(e)&&"/"!==e&&">"!==e},e.prototype.stateBeforeTagName=function(e){"/"===e?this._state=5:"<"===e?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):">"===e||1!==this.special||l(e)?this._state=1:"!"===e?(this._state=15,this.sectionStart=this._index+1):"?"===e?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(e)?(this._state=this.xmlMode||"s"!==e&&"S"!==e?this.xmlMode||"t"!==e&&"T"!==e?3:52:32,this.sectionStart=this._index):this._state=1},e.prototype.stateInTagName=function(e){("/"===e||">"===e||l(e))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},e.prototype.stateBeforeClosingTagName=function(e){l(e)||(">"===e?this._state=1:1!==this.special?4===this.special||"s"!==e&&"S"!==e?4!==this.special||"t"!==e&&"T"!==e?(this._state=1,this._index--):this._state=53:this._state=33:this.isTagStartChar(e)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},e.prototype.stateInClosingTagName=function(e){(">"===e||l(e))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},e.prototype.stateAfterClosingTagName=function(e){">"===e&&(this._state=1,this.sectionStart=this._index+1)},e.prototype.stateBeforeAttributeName=function(e){">"===e?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):"/"===e?this._state=4:l(e)||(this._state=9,this.sectionStart=this._index)},e.prototype.stateInSelfClosingTag=function(e){">"===e?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):l(e)||(this._state=8,this._index--)},e.prototype.stateInAttributeName=function(e){("="===e||"/"===e||">"===e||l(e))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},e.prototype.stateAfterAttributeName=function(e){"="===e?this._state=11:"/"===e||">"===e?(this.cbs.onattribend(void 0),this._state=8,this._index--):l(e)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},e.prototype.stateBeforeAttributeValue=function(e){'"'===e?(this._state=12,this.sectionStart=this._index+1):"'"===e?(this._state=13,this.sectionStart=this._index+1):l(e)||(this._state=14,this.sectionStart=this._index,this._index--)},e.prototype.handleInAttributeValue=function(e,t){e===t?(this.emitToken("onattribdata"),this.cbs.onattribend(t),this._state=8):this.decodeEntities&&"&"===e&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},e.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,'"')},e.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,"'")},e.prototype.stateInAttributeValueNoQuotes=function(e){l(e)||">"===e?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&"&"===e&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},e.prototype.stateBeforeDeclaration=function(e){this._state="["===e?23:"-"===e?18:16},e.prototype.stateInDeclaration=function(e){">"===e&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateInProcessingInstruction=function(e){">"===e&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateBeforeComment=function(e){"-"===e?(this._state=19,this.sectionStart=this._index+1):this._state=16},e.prototype.stateInComment=function(e){"-"===e&&(this._state=21)},e.prototype.stateInSpecialComment=function(e){">"===e&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateAfterComment1=function(e){this._state="-"===e?22:19},e.prototype.stateAfterComment2=function(e){">"===e?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"-"!==e&&(this._state=19)},e.prototype.stateBeforeCdata6=function(e){"["===e?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},e.prototype.stateInCdata=function(e){"]"===e&&(this._state=30)},e.prototype.stateAfterCdata1=function(e){this._state="]"===e?31:29},e.prototype.stateAfterCdata2=function(e){">"===e?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"]"!==e&&(this._state=29)},e.prototype.stateBeforeSpecialS=function(e){"c"===e||"C"===e?this._state=34:"t"===e||"T"===e?this._state=44:(this._state=3,this._index--)},e.prototype.stateBeforeSpecialSEnd=function(e){2!==this.special||"c"!==e&&"C"!==e?3!==this.special||"t"!==e&&"T"!==e?this._state=1:this._state=48:this._state=39},e.prototype.stateBeforeSpecialLast=function(e,t){("/"===e||">"===e||l(e))&&(this.special=t),this._state=3,this._index--},e.prototype.stateAfterSpecialLast=function(e,t){">"===e||l(e)?(this.special=1,this._state=6,this.sectionStart=this._index-t,this._index--):this._state=1},e.prototype.parseFixedEntity=function(e){if(void 0===e&&(e=this.xmlMode?s.default:a.default),this.sectionStart+1<this._index){var t=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(e,t)&&(this.emitPartial(e[t]),this.sectionStart=this._index+1)}},e.prototype.parseLegacyEntity=function(){for(var e=this.sectionStart+1,t=Math.min(this._index-e,6);t>=2;){var n=this.buffer.substr(e,t);if(Object.prototype.hasOwnProperty.call(o.default,n))return this.emitPartial(o.default[n]),void(this.sectionStart+=t+1);t--}},e.prototype.stateInNamedEntity=function(e){";"===e?(this.parseFixedEntity(),1===this.baseState&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(e<"0"||e>"9")&&!u(e)&&(this.xmlMode||this.sectionStart+1===this._index||(1!==this.baseState?"="!==e&&this.parseFixedEntity(o.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},e.prototype.decodeNumericEntity=function(e,t,n){var r=this.sectionStart+e;if(r!==this._index){var a=this.buffer.substring(r,this._index),o=parseInt(a,t);this.emitPartial(i.default(o)),this.sectionStart=n?this._index+1:this._index}this._state=this.baseState},e.prototype.stateInNumericEntity=function(e){";"===e?this.decodeNumericEntity(2,10,!0):(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},e.prototype.stateInHexEntity=function(e){";"===e?this.decodeNumericEntity(3,16,!0):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},e.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(1===this._state?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},e.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var e=this.buffer.charAt(this._index);1===this._state?this.stateText(e):12===this._state?this.stateInAttributeValueDoubleQuotes(e):9===this._state?this.stateInAttributeName(e):19===this._state?this.stateInComment(e):20===this._state?this.stateInSpecialComment(e):8===this._state?this.stateBeforeAttributeName(e):3===this._state?this.stateInTagName(e):6===this._state?this.stateInClosingTagName(e):2===this._state?this.stateBeforeTagName(e):10===this._state?this.stateAfterAttributeName(e):13===this._state?this.stateInAttributeValueSingleQuotes(e):11===this._state?this.stateBeforeAttributeValue(e):5===this._state?this.stateBeforeClosingTagName(e):7===this._state?this.stateAfterClosingTagName(e):32===this._state?this.stateBeforeSpecialS(e):21===this._state?this.stateAfterComment1(e):14===this._state?this.stateInAttributeValueNoQuotes(e):4===this._state?this.stateInSelfClosingTag(e):16===this._state?this.stateInDeclaration(e):15===this._state?this.stateBeforeDeclaration(e):22===this._state?this.stateAfterComment2(e):18===this._state?this.stateBeforeComment(e):33===this._state?this.stateBeforeSpecialSEnd(e):53===this._state?N(this,e):39===this._state?S(this,e):40===this._state?_(this,e):41===this._state?x(this,e):34===this._state?v(this,e):35===this._state?y(this,e):36===this._state?b(this,e):37===this._state?w(this,e):38===this._state?this.stateBeforeSpecialLast(e,2):42===this._state?T(this,e):43===this._state?this.stateAfterSpecialLast(e,6):44===this._state?k(this,e):29===this._state?this.stateInCdata(e):45===this._state?E(this,e):46===this._state?C(this,e):47===this._state?this.stateBeforeSpecialLast(e,3):48===this._state?O(this,e):49===this._state?P(this,e):50===this._state?I(this,e):51===this._state?this.stateAfterSpecialLast(e,5):52===this._state?A(this,e):54===this._state?D(this,e):55===this._state?M(this,e):56===this._state?R(this,e):57===this._state?this.stateBeforeSpecialLast(e,4):58===this._state?L(this,e):59===this._state?j(this,e):60===this._state?B(this,e):61===this._state?this.stateAfterSpecialLast(e,5):17===this._state?this.stateInProcessingInstruction(e):64===this._state?this.stateInNamedEntity(e):23===this._state?f(this,e):62===this._state?F(this,e):24===this._state?p(this,e):25===this._state?h(this,e):30===this._state?this.stateAfterCdata1(e):31===this._state?this.stateAfterCdata2(e):26===this._state?m(this,e):27===this._state?g(this,e):28===this._state?this.stateBeforeCdata6(e):66===this._state?this.stateInHexEntity(e):65===this._state?this.stateInNumericEntity(e):63===this._state?U(this,e):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},e.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},e.prototype.handleTrailingData=function(){var e=this.buffer.substr(this.sectionStart);29===this._state||30===this._state||31===this._state?this.cbs.oncdata(e):19===this._state||21===this._state||22===this._state?this.cbs.oncomment(e):64!==this._state||this.xmlMode?65!==this._state||this.xmlMode?66!==this._state||this.xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this.cbs.ontext(e):(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData()))},e.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},e.prototype.emitToken=function(e){this.cbs[e](this.getSection()),this.sectionStart=-1},e.prototype.emitPartial=function(e){1!==this.baseState?this.cbs.onattribdata(e):this.cbs.ontext(e)},e}();t.default=H},23719:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RssHandler=t.DefaultHandler=t.DomUtils=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DomHandler=t.Parser=void 0;var l=n(50763);Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return l.Parser}});var u=n(47915);function c(e,t){var n=new u.DomHandler(void 0,t);return new l.Parser(n,t).end(e),n.root}Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return u.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return u.DomHandler}}),t.parseDocument=c,t.parseDOM=function(e,t){return c(e,t).children},t.createDomStream=function(e,t,n){var r=new u.DomHandler(e,t,n);return new l.Parser(r,t)};var d=n(39889);Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return s(d).default}});var f=a(n(99960));t.ElementType=f,o(n(63870),t),t.DomUtils=a(n(89432));var p=n(63870);Object.defineProperty(t,"RssHandler",{enumerable:!0,get:function(){return p.FeedHandler}})},26071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(15671),i=n(43144),a=[],o=a.forEach,s=a.slice;function l(e){return o.call(s.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}var u=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,c=function(e,t,n){var r=n||{};r.path=r.path||"/";var i=e+"="+encodeURIComponent(t);if(r.maxAge>0){var a=r.maxAge-0;if(isNaN(a))throw new Error("maxAge should be a Number");i+="; Max-Age="+Math.floor(a)}if(r.domain){if(!u.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain="+r.domain}if(r.path){if(!u.test(r.path))throw new TypeError("option path is invalid");i+="; Path="+r.path}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i},d=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=c(e,encodeURIComponent(t),i)},f=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},p={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!==typeof document){var n=f(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!==typeof document&&d(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},h={name:"querystring",lookup:function(e){var t;if("undefined"!==typeof window){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=n.substring(1).split("&"),i=0;i<r.length;i++){var a=r[i].indexOf("=");if(a>0)r[i].substring(0,a)===e.lookupQuerystring&&(t=r[i].substring(a+1))}}return t}},m=null,g=function(){if(null!==m)return m;try{m="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(t){m=!1}return m},v={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&g()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&g()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},y=null,b=function(){if(null!==y)return y;try{y="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(t){y=!1}return y},w={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&b()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&b()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},S={name:"navigator",lookup:function(e){var t=[];if("undefined"!==typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},_={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!==typeof document?document.documentElement:null);return n&&"function"===typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},x={name:"path",lookup:function(e){var t;if("undefined"!==typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"===typeof e.lookupFromPathIndex){if("string"!==typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},T={name:"subdomain",lookup:function(e){var t;if("undefined"!==typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(t="number"===typeof e.lookupFromSubdomainIndex?n[e.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return t}};var k=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return(0,i.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=l(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(p),this.addDetector(h),this.addDetector(v),this.addDetector(w),this.addDetector(S),this.addDetector(_),this.addDetector(x),this.addDetector(T)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"===typeof r&&(r=[r]),r&&(n=n.concat(r))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();k.type="languageDetector"},27376:e=>{e.exports=function(e){if(!e)return!1;var n=t.call(e);return"[object Function]"===n||"function"===typeof e&&"[object RegExp]"!==n||"undefined"!==typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},26057:(e,t)=>{"use strict";function n(e){return"[object Object]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=function(e){var t,r;return!1!==n(e)&&(void 0===(t=e.constructor)||!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}},27537:(e,t)=>{function n(e){if(e&&"object"===typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"===typeof e)return o[e];var n,a=String(e);return(n=r[a.toLowerCase()])?n:(n=i[a.toLowerCase()])||(1===a.length?a.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"===typeof e){var n=e.which||e.keyCode||e.charCode;if(null===n||void 0===n)return!1;if("string"===typeof t){var a;if(a=r[t.toLowerCase()])return a===n;if(a=i[t.toLowerCase()])return a===n}else if("number"===typeof t)return t===n;return!1}};var r=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(a=97;a<123;a++)r[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)r[a-48]=a;for(a=1;a<13;a++)r["f"+a]=a+111;for(a=0;a<10;a++)r["numpad "+a]=a+96;var o=t.names=t.title={};for(a in r)o[r[a]]=a;for(var s in i)r[s]=i[s]},49090:e=>{function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,i){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"===typeof r&&(i=r,r={}),r=r||{},i=i||function(){},o.type=r.type||"text/javascript",o.charset=r.charset||"utf8",o.async=!("async"in r)||!!r.async,o.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(o,r.attrs),r.text&&(o.text=""+r.text),("onload"in o?t:n)(o,i),o.onload||t(o,i),a.appendChild(o)}},62705:(e,t,n)=>{var r=n(55639).Symbol;e.exports=r},44239:(e,t,n)=>{var r=n(62705),i=n(89607),a=n(2333),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},27561:(e,t,n)=>{var r=n(67990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},31957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},89607:(e,t,n)=>{var r=n(62705),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},55639:(e,t,n)=>{var r=n(31957),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},67990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:(e,t,n)=>{var r=n(13218),i=n(7771),a=n(14841),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,d,f,p,h=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=u;return l=u=void 0,h=t,d=e.apply(r,n)}function b(e){return h=e,f=setTimeout(S,t),m?y(e):d}function w(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-h>=c}function S(){var e=i();if(w(e))return _(e);f=setTimeout(S,function(e){var n=t-(e-p);return g?s(n,c-(e-h)):n}(e))}function _(e){return f=void 0,v&&l?y(e):(l=u=void 0,d)}function x(){var e=i(),n=w(e);if(l=arguments,u=this,p=e,n){if(void 0===f)return b(p);if(g)return clearTimeout(f),f=setTimeout(S,t),y(p)}return void 0===f&&(f=setTimeout(S,t)),d}return t=a(t)||0,r(n)&&(m=!!n.leading,c=(g="maxWait"in n)?o(a(n.maxWait)||0,t):c,v="trailing"in n?!!n.trailing:v),x.cancel=function(){void 0!==f&&clearTimeout(f),h=0,l=p=u=f=void 0},x.flush=function(){return void 0===f?d:_(i())},x}},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},33448:(e,t,n)=>{var r=n(44239),i=n(37005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},96486:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,u=32,c=64,d=128,f=256,p=1/0,h=9007199254740991,m=NaN,g=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",u],["partialRight",c],["rearg",f]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",S="[object Date]",_="[object Error]",x="[object Function]",T="[object GeneratorFunction]",k="[object Map]",E="[object Number]",C="[object Object]",O="[object Promise]",P="[object RegExp]",I="[object Set]",A="[object String]",D="[object Symbol]",M="[object WeakMap]",R="[object ArrayBuffer]",N="[object DataView]",L="[object Float32Array]",j="[object Float64Array]",B="[object Int8Array]",F="[object Int16Array]",U="[object Int32Array]",H="[object Uint8Array]",z="[object Uint8ClampedArray]",V="[object Uint16Array]",$="[object Uint32Array]",G=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Z=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,X=RegExp(Z.source),Y=RegExp(K.source),Q=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,Se=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Te="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Oe="\\ufe0e\\ufe0f",Pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ie="['\u2019]",Ae="[\\ud800-\\udfff]",De="["+Pe+"]",Me="["+Te+"]",Re="\\d+",Ne="[\\u2700-\\u27bf]",Le="["+Ee+"]",je="[^\\ud800-\\udfff"+Pe+Re+ke+Ee+Ce+"]",Be="\\ud83c[\\udffb-\\udfff]",Fe="[^\\ud800-\\udfff]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",He="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Ce+"]",Ve="(?:"+Le+"|"+je+")",$e="(?:"+ze+"|"+je+")",Ge="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",We="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",qe="(?:"+Me+"|"+Be+")"+"?",Ze="[\\ufe0e\\ufe0f]?",Ke=Ze+qe+("(?:\\u200d(?:"+[Fe,Ue,He].join("|")+")"+Ze+qe+")*"),Xe="(?:"+[Ne,Ue,He].join("|")+")"+Ke,Ye="(?:"+[Fe+Me+"?",Me,Ue,He,Ae].join("|")+")",Qe=RegExp(Ie,"g"),Je=RegExp(Me,"g"),et=RegExp(Be+"(?="+Be+")|"+Ye+Ke,"g"),tt=RegExp([ze+"?"+Le+"+"+Ge+"(?="+[De,ze,"$"].join("|")+")",$e+"+"+We+"(?="+[De,ze+Ve,"$"].join("|")+")",ze+"?"+Ve+"+"+Ge,ze+"+"+We,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Xe].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Te+Oe+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,ot={};ot[L]=ot[j]=ot[B]=ot[F]=ot[U]=ot[H]=ot[z]=ot[V]=ot[$]=!0,ot[y]=ot[b]=ot[R]=ot[w]=ot[N]=ot[S]=ot[_]=ot[x]=ot[k]=ot[E]=ot[C]=ot[P]=ot[I]=ot[A]=ot[M]=!1;var st={};st[y]=st[b]=st[R]=st[N]=st[w]=st[S]=st[L]=st[j]=st[B]=st[F]=st[U]=st[k]=st[E]=st[C]=st[P]=st[I]=st[A]=st[D]=st[H]=st[z]=st[V]=st[$]=!0,st[_]=st[x]=st[M]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,ct=parseInt,dt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ft="object"==typeof self&&self&&self.Object===Object&&self,pt=dt||ft||Function("return this")(),ht=t&&!t.nodeType&&t,mt=ht&&e&&!e.nodeType&&e,gt=mt&&mt.exports===ht,vt=gt&&dt.process,yt=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(t){}}(),bt=yt&&yt.isArrayBuffer,wt=yt&&yt.isDate,St=yt&&yt.isMap,_t=yt&&yt.isRegExp,xt=yt&&yt.isSet,Tt=yt&&yt.isTypedArray;function kt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function It(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function At(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function Dt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Rt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Nt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Lt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=Gt("length");function Ft(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ut(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Ht(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ut(e,Vt,n)}function zt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Vt(e){return e!==e}function $t(e,t){var n=null==e?0:e.length;return n?Zt(e,t)/n:m}function Gt(e){return function(t){return null==t?i:t[e]}}function Wt(e){return function(t){return null==e?i:e[t]}}function qt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Zt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,mn(e)+1).replace(oe,""):e}function Yt(e){return function(t){return e(t)}}function Qt(e,t){return Mt(t,(function(t){return e[t]}))}function Jt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Ht(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Ht(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Wt({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),an=Wt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+lt[e]}function sn(e){return nt.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==s||(e[n]=s,a[i++]=n)}return a}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return sn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Bt(e)}function hn(e){return sn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gn=Wt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var n,r=(t=null==t?pt:vn.defaults(pt.Object(),t,vn.pick(pt,it))).Array,se=t.Date,Te=t.Error,ke=t.Function,Ee=t.Math,Ce=t.Object,Oe=t.RegExp,Pe=t.String,Ie=t.TypeError,Ae=r.prototype,De=ke.prototype,Me=Ce.prototype,Re=t["__core-js_shared__"],Ne=De.toString,Le=Me.hasOwnProperty,je=0,Be=(n=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Fe=Me.toString,Ue=Ne.call(Ce),He=pt._,ze=Oe("^"+Ne.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=gt?t.Buffer:i,$e=t.Symbol,Ge=t.Uint8Array,We=Ve?Ve.allocUnsafe:i,qe=un(Ce.getPrototypeOf,Ce),Ze=Ce.create,Ke=Me.propertyIsEnumerable,Xe=Ae.splice,Ye=$e?$e.isConcatSpreadable:i,et=$e?$e.iterator:i,nt=$e?$e.toStringTag:i,lt=function(){try{var e=pa(Ce,"defineProperty");return e({},"",{}),e}catch(t){}}(),dt=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,ft=se&&se.now!==pt.Date.now&&se.now,ht=t.setTimeout!==pt.setTimeout&&t.setTimeout,mt=Ee.ceil,vt=Ee.floor,yt=Ce.getOwnPropertySymbols,Bt=Ve?Ve.isBuffer:i,Wt=t.isFinite,yn=Ae.join,bn=un(Ce.keys,Ce),wn=Ee.max,Sn=Ee.min,_n=se.now,xn=t.parseInt,Tn=Ee.random,kn=Ae.reverse,En=pa(t,"DataView"),Cn=pa(t,"Map"),On=pa(t,"Promise"),Pn=pa(t,"Set"),In=pa(t,"WeakMap"),An=pa(Ce,"create"),Dn=In&&new In,Mn={},Rn=Ua(En),Nn=Ua(Cn),Ln=Ua(On),jn=Ua(Pn),Bn=Ua(In),Fn=$e?$e.prototype:i,Un=Fn?Fn.valueOf:i,Hn=Fn?Fn.toString:i;function zn(e){if(is(e)&&!qo(e)&&!(e instanceof Wn)){if(e instanceof Gn)return e;if(Le.call(e,"__wrapped__"))return Ha(e)}return new Gn(e)}var Vn=function(){function e(){}return function(t){if(!rs(t))return{};if(Ze)return Ze(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function $n(){}function Gn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Zn(e);this.size=t.size}function Qn(e,t){var n=qo(e),r=!n&&Wo(e),i=!n&&!r&&Yo(e),a=!n&&!r&&!i&&fs(e),o=n||r||i||a,s=o?Kt(e.length,Pe):[],l=s.length;for(var u in e)!t&&!Le.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||wa(u,l))||s.push(u);return s}function Jn(e){var t=e.length;return t?e[Xr(0,t-1)]:i}function er(e,t){return ja(Ai(e),ur(t,0,e.length))}function tr(e){return ja(Ai(e))}function nr(e,t,n){(n!==i&&!Vo(e[t],n)||n===i&&!(t in e))&&sr(e,t,n)}function rr(e,t,n){var r=e[t];Le.call(e,t)&&Vo(r,n)&&(n!==i||t in e)||sr(e,t,n)}function ir(e,t){for(var n=e.length;n--;)if(Vo(e[n][0],t))return n;return-1}function ar(e,t,n,r){return hr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function or(e,t){return e&&Di(t,Rs(t),e)}function sr(e,t,n){"__proto__"==t&&lt?lt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function lr(e,t){for(var n=-1,a=t.length,o=r(a),s=null==e;++n<a;)o[n]=s?i:Ps(e,t[n]);return o}function ur(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,a,o){var s,l=1&t,u=2&t,c=4&t;if(n&&(s=a?n(e,r,a,o):n(e)),s!==i)return s;if(!rs(e))return e;var d=qo(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Ai(e,s)}else{var f=ga(e),p=f==x||f==T;if(Yo(e))return ki(e,l);if(f==C||f==y||p&&!a){if(s=u||p?{}:ya(e),!l)return u?function(e,t){return Di(e,ma(e),t)}(e,function(e,t){return e&&Di(t,Ns(t),e)}(s,e)):function(e,t){return Di(e,ha(e),t)}(e,or(s,e))}else{if(!st[f])return a?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case R:return Ei(e);case w:case S:return new r(+e);case N:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case j:case B:case F:case U:case H:case z:case V:case $:return Ci(e,n);case k:return new r;case E:case A:return new r(e);case P:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new r;case D:return i=e,Un?Ce(Un.call(i)):{}}var i}(e,f,l)}}o||(o=new Yn);var h=o.get(e);if(h)return h;o.set(e,s),us(e)?e.forEach((function(r){s.add(cr(r,t,n,r,e,o))})):as(e)&&e.forEach((function(r,i){s.set(i,cr(r,t,n,i,e,o))}));var m=d?i:(c?u?oa:aa:u?Ns:Rs)(e);return Ct(m||e,(function(r,i){m&&(r=e[i=r]),rr(s,i,cr(r,t,n,i,e,o))})),s}function dr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ce(e);r--;){var a=n[r],o=t[a],s=e[a];if(s===i&&!(a in e)||!o(s))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Ie(a);return Ma((function(){e.apply(i,n)}),t)}function pr(e,t,n,r){var i=-1,a=At,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=Mt(t,Yt(n))),r?(a=Dt,o=!1):t.length>=200&&(a=Jt,o=!1,t=new Xn(t));e:for(;++i<s;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,o&&d===d){for(var f=u;f--;)if(t[f]===d)continue e;l.push(c)}else a(t,d,r)||l.push(c)}return l}zn.templateSettings={escape:Q,evaluate:J,interpolate:ee,variable:"",imports:{_:zn}},zn.prototype=$n.prototype,zn.prototype.constructor=zn,Gn.prototype=Vn($n.prototype),Gn.prototype.constructor=Gn,Wn.prototype=Vn($n.prototype),Wn.prototype.constructor=Wn,qn.prototype.clear=function(){this.__data__=An?An(null):{},this.size=0},qn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qn.prototype.get=function(e){var t=this.__data__;if(An){var n=t[e];return n===o?i:n}return Le.call(t,e)?t[e]:i},qn.prototype.has=function(e){var t=this.__data__;return An?t[e]!==i:Le.call(t,e)},qn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=An&&t===i?o:t,this},Zn.prototype.clear=function(){this.__data__=[],this.size=0},Zn.prototype.delete=function(e){var t=this.__data__,n=ir(t,e);return!(n<0)&&(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,!0)},Zn.prototype.get=function(e){var t=this.__data__,n=ir(t,e);return n<0?i:t[n][1]},Zn.prototype.has=function(e){return ir(this.__data__,e)>-1},Zn.prototype.set=function(e,t){var n=this.__data__,r=ir(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(Cn||Zn),string:new qn}},Kn.prototype.delete=function(e){var t=da(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return da(this,e).get(e)},Kn.prototype.has=function(e){return da(this,e).has(e)},Kn.prototype.set=function(e,t){var n=da(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Xn.prototype.add=Xn.prototype.push=function(e){return this.__data__.set(e,o),this},Xn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Zn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Zn){var r=n.__data__;if(!Cn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var hr=Ni(_r),mr=Ni(xr,!0);function gr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],s=t(o);if(null!=s&&(l===i?s===s&&!ds(s):n(s,l)))var l=s,u=o}return u}function yr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function br(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ba),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?br(s,t-1,n,r,i):Rt(i,s):r||(i[i.length]=s)}return i}var wr=Li(),Sr=Li(!0);function _r(e,t){return e&&wr(e,t,Rs)}function xr(e,t){return e&&Sr(e,t,Rs)}function Tr(e,t){return It(t,(function(t){return es(e[t])}))}function kr(e,t){for(var n=0,r=(t=Si(t,e)).length;null!=e&&n<r;)e=e[Fa(t[n++])];return n&&n==r?e:i}function Er(e,t,n){var r=t(e);return qo(e)?r:Rt(r,n(e))}function Cr(e){return null==e?e===i?"[object Undefined]":"[object Null]":nt&&nt in Ce(e)?function(e){var t=Le.call(e,nt),n=e[nt];try{e[nt]=i;var r=!0}catch(o){}var a=Fe.call(e);r&&(t?e[nt]=n:delete e[nt]);return a}(e):function(e){return Fe.call(e)}(e)}function Or(e,t){return e>t}function Pr(e,t){return null!=e&&Le.call(e,t)}function Ir(e,t){return null!=e&&t in Ce(e)}function Ar(e,t,n){for(var a=n?Dt:At,o=e[0].length,s=e.length,l=s,u=r(s),c=1/0,d=[];l--;){var f=e[l];l&&t&&(f=Mt(f,Yt(t))),c=Sn(f.length,c),u[l]=!n&&(t||o>=120&&f.length>=120)?new Xn(l&&f):i}f=e[0];var p=-1,h=u[0];e:for(;++p<o&&d.length<c;){var m=f[p],g=t?t(m):m;if(m=n||0!==m?m:0,!(h?Jt(h,g):a(d,g,n))){for(l=s;--l;){var v=u[l];if(!(v?Jt(v,g):a(e[l],g,n)))continue e}h&&h.push(g),d.push(m)}}return d}function Dr(e,t,n){var r=null==(e=Pa(e,t=Si(t,e)))?e:e[Fa(Qa(t))];return null==r?i:kt(r,e,n)}function Mr(e){return is(e)&&Cr(e)==y}function Rr(e,t,n,r,a){return e===t||(null==e||null==t||!is(e)&&!is(t)?e!==e&&t!==t:function(e,t,n,r,a,o){var s=qo(e),l=qo(t),u=s?b:ga(e),c=l?b:ga(t),d=(u=u==y?C:u)==C,f=(c=c==y?C:c)==C,p=u==c;if(p&&Yo(e)){if(!Yo(t))return!1;s=!0,d=!1}if(p&&!d)return o||(o=new Yn),s||fs(e)?ra(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case N:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!a(new Ge(e),new Ge(t)));case w:case S:case E:return Vo(+e,+t);case _:return e.name==t.name&&e.message==t.message;case P:case A:return e==t+"";case k:var s=ln;case I:var l=1&r;if(s||(s=dn),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=ra(s(e),s(t),r,i,a,o);return o.delete(e),c;case D:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,u,n,r,a,o);if(!(1&n)){var h=d&&Le.call(e,"__wrapped__"),m=f&&Le.call(t,"__wrapped__");if(h||m){var g=h?e.value():e,v=m?t.value():t;return o||(o=new Yn),a(g,v,n,r,o)}}if(!p)return!1;return o||(o=new Yn),function(e,t,n,r,a,o){var s=1&n,l=aa(e),u=l.length,c=aa(t).length;if(u!=c&&!s)return!1;var d=u;for(;d--;){var f=l[d];if(!(s?f in t:Le.call(t,f)))return!1}var p=o.get(e),h=o.get(t);if(p&&h)return p==t&&h==e;var m=!0;o.set(e,t),o.set(t,e);var g=s;for(;++d<u;){var v=e[f=l[d]],y=t[f];if(r)var b=s?r(y,v,f,t,e,o):r(v,y,f,e,t,o);if(!(b===i?v===y||a(v,y,n,r,o):b)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var w=e.constructor,S=t.constructor;w==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,r,a,o)}(e,t,n,r,Rr,a))}function Nr(e,t,n,r){var a=n.length,o=a,s=!r;if(null==e)return!o;for(e=Ce(e);a--;){var l=n[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var u=(l=n[a])[0],c=e[u],d=l[1];if(s&&l[2]){if(c===i&&!(u in e))return!1}else{var f=new Yn;if(r)var p=r(c,d,u,e,t,f);if(!(p===i?Rr(d,c,3,r,f):p))return!1}}return!0}function Lr(e){return!(!rs(e)||(t=e,Be&&Be in t))&&(es(e)?ze:ye).test(Ua(e));var t}function jr(e){return"function"==typeof e?e:null==e?ol:"object"==typeof e?qo(e)?Vr(e[0],e[1]):zr(e):ml(e)}function Br(e){if(!ka(e))return bn(e);var t=[];for(var n in Ce(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!rs(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=ka(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function Hr(e,t){var n=-1,i=Ko(e)?r(e.length):[];return hr(e,(function(e,r,a){i[++n]=t(e,r,a)})),i}function zr(e){var t=fa(e);return 1==t.length&&t[0][2]?Ca(t[0][0],t[0][1]):function(n){return n===e||Nr(n,e,t)}}function Vr(e,t){return _a(e)&&Ea(t)?Ca(Fa(e),t):function(n){var r=Ps(n,e);return r===i&&r===t?Is(n,e):Rr(t,r,3)}}function $r(e,t,n,r,a){e!==t&&wr(t,(function(o,s){if(a||(a=new Yn),rs(o))!function(e,t,n,r,a,o,s){var l=Aa(e,n),u=Aa(t,n),c=s.get(u);if(c)return void nr(e,n,c);var d=o?o(l,u,n+"",e,t,s):i,f=d===i;if(f){var p=qo(u),h=!p&&Yo(u),m=!p&&!h&&fs(u);d=u,p||h||m?qo(l)?d=l:Xo(l)?d=Ai(l):h?(f=!1,d=ki(u,!0)):m?(f=!1,d=Ci(u,!0)):d=[]:ss(u)||Wo(u)?(d=l,Wo(l)?d=ws(l):rs(l)&&!es(l)||(d=ya(u))):f=!1}f&&(s.set(u,d),a(d,u,r,o,s),s.delete(u));nr(e,n,d)}(e,t,s,n,$r,r,a);else{var l=r?r(Aa(e,s),o,s+"",e,t,a):i;l===i&&(l=o),nr(e,s,l)}}),Ns)}function Gr(e,t){var n=e.length;if(n)return wa(t+=t<0?n:0,n)?e[t]:i}function Wr(e,t,n){t=t.length?Mt(t,(function(e){return qo(e)?function(t){return kr(t,1===e.length?e[0]:e)}:e})):[ol];var r=-1;t=Mt(t,Yt(ca()));var i=Hr(e,(function(e,n,i){var a=Mt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;for(;++r<o;){var l=Oi(i[r],a[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function qr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=kr(e,o);n(s,o)&&ti(a,Si(o,e),s)}return a}function Zr(e,t,n,r){var i=r?zt:Ht,a=-1,o=t.length,s=e;for(e===t&&(t=Ai(t)),n&&(s=Mt(e,Yt(n)));++a<o;)for(var l=0,u=t[a],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Xe.call(s,l,1),Xe.call(e,l,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;wa(i)?Xe.call(e,i,1):pi(e,i)}}return e}function Xr(e,t){return e+vt(Tn()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Qr(e,t){return Ra(Oa(e,t,ol),e+"")}function Jr(e){return Jn(Vs(e))}function ei(e,t){var n=Vs(e);return ja(n,ur(t,0,n.length))}function ti(e,t,n,r){if(!rs(e))return e;for(var a=-1,o=(t=Si(t,e)).length,s=o-1,l=e;null!=l&&++a<o;){var u=Fa(t[a]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(a!=s){var d=l[u];(c=r?r(d,u,l):i)===i&&(c=rs(d)?d:wa(t[a+1])?[]:{})}rr(l,u,c),l=l[u]}return e}var ni=Dn?function(e,t){return Dn.set(e,t),e}:ol,ri=lt?function(e,t){return lt(e,"toString",{configurable:!0,enumerable:!1,value:rl(t),writable:!0})}:ol;function ii(e){return ja(Vs(e))}function ai(e,t,n){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=r(a);++i<a;)o[i]=e[i+t];return o}function oi(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function si(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!ds(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return li(e,t,ol,n)}function li(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!==t,l=null===t,u=ds(t),c=t===i;a<o;){var d=vt((a+o)/2),f=n(e[d]),p=f!==i,h=null===f,m=f===f,g=ds(f);if(s)var v=r||m;else v=c?m&&(r||p):l?m&&p&&(r||!h):u?m&&p&&!h&&(r||!g):!h&&!g&&(r?f<=t:f<t);v?a=d+1:o=d}return Sn(o,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Vo(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function ci(e){return"number"==typeof e?e:ds(e)?m:+e}function di(e){if("string"==typeof e)return e;if(qo(e))return Mt(e,di)+"";if(ds(e))return Hn?Hn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=At,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=Dt;else if(a>=200){var u=t?null:Yi(e);if(u)return dn(u);o=!1,i=Jt,l=new Xn}else l=t?[]:s;e:for(;++r<a;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}function pi(e,t){return null==(e=Pa(e,t=Si(t,e)))||delete e[Fa(Qa(t))]}function hi(e,t,n,r){return ti(e,t,n(kr(e,t)),r)}function mi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ai(e,r?0:a,r?a+1:i):ai(e,r?a+1:0,r?i:a)}function gi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Nt(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),n)}function vi(e,t,n){var i=e.length;if(i<2)return i?fi(e[0]):[];for(var a=-1,o=r(i);++a<i;)for(var s=e[a],l=-1;++l<i;)l!=a&&(o[a]=pr(o[a]||s,e[l],t,n));return fi(br(o,1),t,n)}function yi(e,t,n){for(var r=-1,a=e.length,o=t.length,s={};++r<a;){var l=r<o?t[r]:i;n(s,e[r],l)}return s}function bi(e){return Xo(e)?e:[]}function wi(e){return"function"==typeof e?e:ol}function Si(e,t){return qo(e)?e:_a(e,t)?[e]:Ba(Ss(e))}var _i=Qr;function xi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ai(e,t,n)}var Ti=dt||function(e){return pt.clearTimeout(e)};function ki(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new Ge(t).set(new Ge(e)),t}function Ci(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Oi(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,o=ds(e),s=t!==i,l=null===t,u=t===t,c=ds(t);if(!l&&!c&&!o&&e>t||o&&s&&u&&!l&&!c||r&&s&&u||!n&&u||!a)return 1;if(!r&&!o&&!c&&e<t||c&&n&&a&&!r&&!o||l&&n&&a||!s&&a||!u)return-1}return 0}function Pi(e,t,n,i){for(var a=-1,o=e.length,s=n.length,l=-1,u=t.length,c=wn(o-s,0),d=r(u+c),f=!i;++l<u;)d[l]=t[l];for(;++a<s;)(f||a<o)&&(d[n[a]]=e[a]);for(;c--;)d[l++]=e[a++];return d}function Ii(e,t,n,i){for(var a=-1,o=e.length,s=-1,l=n.length,u=-1,c=t.length,d=wn(o-l,0),f=r(d+c),p=!i;++a<d;)f[a]=e[a];for(var h=a;++u<c;)f[h+u]=t[u];for(;++s<l;)(p||a<o)&&(f[h+n[s]]=e[a++]);return f}function Ai(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Di(e,t,n,r){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var l=t[o],u=r?r(n[l],e[l],l,n,e):i;u===i&&(u=e[l]),a?sr(n,l,u):rr(n,l,u)}return n}function Mi(e,t){return function(n,r){var i=qo(n)?Et:ar,a=t?t():{};return i(n,e,ca(r,2),a)}}function Ri(e){return Qr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,s=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,s&&Sa(n[0],n[1],s)&&(o=a<3?i:o,a=1),t=Ce(t);++r<a;){var l=n[r];l&&e(t,l,r,o)}return t}))}function Ni(e,t){return function(n,r){if(null==n)return n;if(!Ko(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Ce(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Li(e){return function(t,n,r){for(var i=-1,a=Ce(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}function ji(e){return function(t){var n=sn(t=Ss(t))?hn(t):i,r=n?n[0]:t.charAt(0),a=n?xi(n,1).join(""):t.slice(1);return r[e]()+a}}function Bi(e){return function(t){return Nt(el(Ws(t).replace(Qe,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Vn(e.prototype),r=e.apply(n,t);return rs(r)?r:n}}function Ui(e){return function(t,n,r){var a=Ce(t);if(!Ko(t)){var o=ca(n,3);t=Rs(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,r);return s>-1?a[o?t[s]:s]:i}}function Hi(e){return ia((function(t){var n=t.length,r=n,o=Gn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ie(a);if(o&&!l&&"wrapper"==la(s))var l=new Gn([],!0)}for(r=l?r:n;++r<n;){var u=la(s=t[r]),c="wrapper"==u?sa(s):i;l=c&&xa(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[la(c[0])].apply(l,c[3]):1==s.length&&xa(s)?l[u]():l.thru(s)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&qo(r))return l.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function zi(e,t,n,a,o,s,l,u,c,f){var p=t&d,h=1&t,m=2&t,g=24&t,v=512&t,y=m?i:Fi(e);return function i(){for(var d=arguments.length,b=r(d),w=d;w--;)b[w]=arguments[w];if(g)var S=ua(i),_=nn(b,S);if(a&&(b=Pi(b,a,o,g)),s&&(b=Ii(b,s,l,g)),d-=_,g&&d<f){var x=cn(b,S);return Ki(e,t,zi,i.placeholder,n,b,x,u,c,f-d)}var T=h?n:this,k=m?T[e]:e;return d=b.length,u?b=Ia(b,u):v&&d>1&&b.reverse(),p&&c<d&&(b.length=c),this&&this!==pt&&this instanceof i&&(k=y||Fi(k)),k.apply(T,b)}}function Vi(e,t){return function(n,r){return function(e,t,n,r){return _r(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function $i(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=di(n),r=di(r)):(n=ci(n),r=ci(r)),a=e(n,r)}return a}}function Gi(e){return ia((function(t){return t=Mt(t,Yt(ca())),Qr((function(n){var r=this;return e(t,(function(e){return kt(e,r,n)}))}))}))}function Wi(e,t){var n=(t=t===i?" ":di(t)).length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,mt(e/pn(t)));return sn(t)?xi(hn(r),0,e).join(""):r.slice(0,e)}function qi(e){return function(t,n,a){return a&&"number"!=typeof a&&Sa(t,n,a)&&(n=a=i),t=gs(t),n===i?(n=t,t=0):n=gs(n),function(e,t,n,i){for(var a=-1,o=wn(mt((t-e)/(n||1)),0),s=r(o);o--;)s[i?o:++a]=e,e+=n;return s}(t,n,a=a===i?t<n?1:-1:gs(a),e)}}function Zi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=bs(t),n=bs(n)),e(t,n)}}function Ki(e,t,n,r,a,o,s,l,d,f){var p=8&t;t|=p?u:c,4&(t&=~(p?c:u))||(t&=-4);var h=[e,t,a,p?o:i,p?s:i,p?i:o,p?i:s,l,d,f],m=n.apply(i,h);return xa(e)&&Da(m,h),m.placeholder=r,Na(m,e,t)}function Xi(e){var t=Ee[e];return function(e,n){if(e=bs(e),(n=null==n?0:Sn(vs(n),292))&&Wt(e)){var r=(Ss(e)+"e").split("e");return+((r=(Ss(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yi=Pn&&1/dn(new Pn([,-0]))[1]==p?function(e){return new Pn(e)}:dl;function Qi(e){return function(t){var n=ga(t);return n==k?ln(t):n==I?fn(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,n,o,p,h,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Ie(a);var y=o?o.length:0;if(y||(t&=-97,o=p=i),m=m===i?m:wn(vs(m),0),g=g===i?g:vs(g),y-=p?p.length:0,t&c){var b=o,w=p;o=p=i}var S=v?i:sa(e),_=[e,t,n,o,p,b,w,h,m,g];if(S&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==d&&8==n||r==d&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?Pi(u,l,t[4]):l,e[4]=u?cn(e[3],s):t[4]}(l=t[5])&&(u=e[5],e[5]=u?Ii(u,l,t[6]):l,e[6]=u?cn(e[5],s):t[6]);(l=t[7])&&(e[7]=l);r&d&&(e[8]=null==e[8]?t[8]:Sn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,S),e=_[0],t=_[1],n=_[2],o=_[3],p=_[4],!(g=_[9]=_[9]===i?v?0:e.length:wn(_[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==l?function(e,t,n){var a=Fi(e);return function o(){for(var s=arguments.length,l=r(s),u=s,c=ua(o);u--;)l[u]=arguments[u];var d=s<3&&l[0]!==c&&l[s-1]!==c?[]:cn(l,c);return(s-=d.length)<n?Ki(e,t,zi,o.placeholder,i,l,d,i,i,n-s):kt(this&&this!==pt&&this instanceof o?a:e,this,l)}}(e,t,g):t!=u&&33!=t||p.length?zi.apply(i,_):function(e,t,n,i){var a=1&t,o=Fi(e);return function t(){for(var s=-1,l=arguments.length,u=-1,c=i.length,d=r(c+l),f=this&&this!==pt&&this instanceof t?o:e;++u<c;)d[u]=i[u];for(;l--;)d[u++]=arguments[++s];return kt(f,a?n:this,d)}}(e,t,n,o);else var x=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==pt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Na((S?ni:Da)(x,_),e,t)}function ea(e,t,n,r){return e===i||Vo(e,Me[n])&&!Le.call(r,n)?t:e}function ta(e,t,n,r,a,o){return rs(e)&&rs(t)&&(o.set(t,e),$r(e,t,i,ta,o),o.delete(t)),e}function na(e){return ss(e)?i:e}function ra(e,t,n,r,a,o){var s=1&n,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=o.get(e),d=o.get(t);if(c&&d)return c==t&&d==e;var f=-1,p=!0,h=2&n?new Xn:i;for(o.set(e,t),o.set(t,e);++f<l;){var m=e[f],g=t[f];if(r)var v=s?r(g,m,f,t,e,o):r(m,g,f,e,t,o);if(v!==i){if(v)continue;p=!1;break}if(h){if(!jt(t,(function(e,t){if(!Jt(h,t)&&(m===e||a(m,e,n,r,o)))return h.push(t)}))){p=!1;break}}else if(m!==g&&!a(m,g,n,r,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function ia(e){return Ra(Oa(e,i,qa),e+"")}function aa(e){return Er(e,Rs,ha)}function oa(e){return Er(e,Ns,ma)}var sa=Dn?function(e){return Dn.get(e)}:dl;function la(e){for(var t=e.name+"",n=Mn[t],r=Le.call(Mn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function ua(e){return(Le.call(zn,"placeholder")?zn:e).placeholder}function ca(){var e=zn.iteratee||sl;return e=e===sl?jr:e,arguments.length?e(arguments[0],arguments[1]):e}function da(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function fa(e){for(var t=Rs(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ea(i)]}return t}function pa(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Lr(n)?n:i}var ha=yt?function(e){return null==e?[]:(e=Ce(e),It(yt(e),(function(t){return Ke.call(e,t)})))}:yl,ma=yt?function(e){for(var t=[];e;)Rt(t,ha(e)),e=qe(e);return t}:yl,ga=Cr;function va(e,t,n){for(var r=-1,i=(t=Si(t,e)).length,a=!1;++r<i;){var o=Fa(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&ns(i)&&wa(o,i)&&(qo(e)||Wo(e))}function ya(e){return"function"!=typeof e.constructor||ka(e)?{}:Vn(qe(e))}function ba(e){return qo(e)||Wo(e)||!!(Ye&&e&&e[Ye])}function wa(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function Sa(e,t,n){if(!rs(n))return!1;var r=typeof t;return!!("number"==r?Ko(n)&&wa(t,n.length):"string"==r&&t in n)&&Vo(n[t],e)}function _a(e,t){if(qo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ds(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ce(t))}function xa(e){var t=la(e),n=zn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=sa(n);return!!r&&e===r[0]}(En&&ga(new En(new ArrayBuffer(1)))!=N||Cn&&ga(new Cn)!=k||On&&ga(On.resolve())!=O||Pn&&ga(new Pn)!=I||In&&ga(new In)!=M)&&(ga=function(e){var t=Cr(e),n=t==C?e.constructor:i,r=n?Ua(n):"";if(r)switch(r){case Rn:return N;case Nn:return k;case Ln:return O;case jn:return I;case Bn:return M}return t});var Ta=Re?es:bl;function ka(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function Ea(e){return e===e&&!rs(e)}function Ca(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ce(n)))}}function Oa(e,t,n){return t=wn(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=wn(i.length-t,0),s=r(o);++a<o;)s[a]=i[t+a];a=-1;for(var l=r(t+1);++a<t;)l[a]=i[a];return l[t]=n(s),kt(e,this,l)}}function Pa(e,t){return t.length<2?e:kr(e,ai(t,0,-1))}function Ia(e,t){for(var n=e.length,r=Sn(t.length,n),a=Ai(e);r--;){var o=t[r];e[r]=wa(o,n)?a[o]:i}return e}function Aa(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Da=La(ni),Ma=ht||function(e,t){return pt.setTimeout(e,t)},Ra=La(ri);function Na(e,t,n){var r=t+"";return Ra(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ct(v,(function(n){var r="_."+n[0];t&n[1]&&!At(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ce):[]}(r),n)))}function La(e){var t=0,n=0;return function(){var r=_n(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function ja(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Xr(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Ba=function(e){var t=jo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(pe,"$1"):n||e)})),t}));function Fa(e){if("string"==typeof e||ds(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ua(e){if(null!=e){try{return Ne.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ha(e){if(e instanceof Wn)return e.clone();var t=new Gn(e.__wrapped__,e.__chain__);return t.__actions__=Ai(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var za=Qr((function(e,t){return Xo(e)?pr(e,br(t,1,Xo,!0)):[]})),Va=Qr((function(e,t){var n=Qa(t);return Xo(n)&&(n=i),Xo(e)?pr(e,br(t,1,Xo,!0),ca(n,2)):[]})),$a=Qr((function(e,t){var n=Qa(t);return Xo(n)&&(n=i),Xo(e)?pr(e,br(t,1,Xo,!0),i,n):[]}));function Ga(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=wn(r+i,0)),Ut(e,ca(t,3),i)}function Wa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=vs(n),a=n<0?wn(r+a,0):Sn(a,r-1)),Ut(e,ca(t,3),a,!0)}function qa(e){return(null==e?0:e.length)?br(e,1):[]}function Za(e){return e&&e.length?e[0]:i}var Ka=Qr((function(e){var t=Mt(e,bi);return t.length&&t[0]===e[0]?Ar(t):[]})),Xa=Qr((function(e){var t=Qa(e),n=Mt(e,bi);return t===Qa(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ar(n,ca(t,2)):[]})),Ya=Qr((function(e){var t=Qa(e),n=Mt(e,bi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Ar(n,i,t):[]}));function Qa(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ja=Qr(eo);function eo(e,t){return e&&e.length&&t&&t.length?Zr(e,t):e}var to=ia((function(e,t){var n=null==e?0:e.length,r=lr(e,t);return Kr(e,Mt(t,(function(e){return wa(e,n)?+e:e})).sort(Oi)),r}));function no(e){return null==e?e:kn.call(e)}var ro=Qr((function(e){return fi(br(e,1,Xo,!0))})),io=Qr((function(e){var t=Qa(e);return Xo(t)&&(t=i),fi(br(e,1,Xo,!0),ca(t,2))})),ao=Qr((function(e){var t=Qa(e);return t="function"==typeof t?t:i,fi(br(e,1,Xo,!0),i,t)}));function oo(e){if(!e||!e.length)return[];var t=0;return e=It(e,(function(e){if(Xo(e))return t=wn(e.length,t),!0})),Kt(t,(function(t){return Mt(e,Gt(t))}))}function so(e,t){if(!e||!e.length)return[];var n=oo(e);return null==t?n:Mt(n,(function(e){return kt(t,i,e)}))}var lo=Qr((function(e,t){return Xo(e)?pr(e,t):[]})),uo=Qr((function(e){return vi(It(e,Xo))})),co=Qr((function(e){var t=Qa(e);return Xo(t)&&(t=i),vi(It(e,Xo),ca(t,2))})),fo=Qr((function(e){var t=Qa(e);return t="function"==typeof t?t:i,vi(It(e,Xo),i,t)})),po=Qr(oo);var ho=Qr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,so(e,n)}));function mo(e){var t=zn(e);return t.__chain__=!0,t}function go(e,t){return t(e)}var vo=ia((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return lr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&wa(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:go,args:[a],thisArg:i}),new Gn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var yo=Mi((function(e,t,n){Le.call(e,n)?++e[n]:sr(e,n,1)}));var bo=Ui(Ga),wo=Ui(Wa);function So(e,t){return(qo(e)?Ct:hr)(e,ca(t,3))}function _o(e,t){return(qo(e)?Ot:mr)(e,ca(t,3))}var xo=Mi((function(e,t,n){Le.call(e,n)?e[n].push(t):sr(e,n,[t])}));var To=Qr((function(e,t,n){var i=-1,a="function"==typeof t,o=Ko(e)?r(e.length):[];return hr(e,(function(e){o[++i]=a?kt(t,e,n):Dr(e,t,n)})),o})),ko=Mi((function(e,t,n){sr(e,n,t)}));function Eo(e,t){return(qo(e)?Mt:Hr)(e,ca(t,3))}var Co=Mi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Oo=Qr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Sa(e,t[0],t[1])?t=[]:n>2&&Sa(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,br(t,1),[])})),Po=ft||function(){return pt.Date.now()};function Io(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,d,i,i,i,i,t)}function Ao(e,t){var n;if("function"!=typeof t)throw new Ie(a);return e=vs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Do=Qr((function(e,t,n){var r=1;if(n.length){var i=cn(n,ua(Do));r|=u}return Ji(e,r,t,n,i)})),Mo=Qr((function(e,t,n){var r=3;if(n.length){var i=cn(n,ua(Mo));r|=u}return Ji(t,r,e,n,i)}));function Ro(e,t,n){var r,o,s,l,u,c,d=0,f=!1,p=!1,h=!0;if("function"!=typeof e)throw new Ie(a);function m(t){var n=r,a=o;return r=o=i,d=t,l=e.apply(a,n)}function g(e){return d=e,u=Ma(y,t),f?m(e):l}function v(e){var n=e-c;return c===i||n>=t||n<0||p&&e-d>=s}function y(){var e=Po();if(v(e))return b(e);u=Ma(y,function(e){var n=t-(e-c);return p?Sn(n,s-(e-d)):n}(e))}function b(e){return u=i,h&&r?m(e):(r=o=i,l)}function w(){var e=Po(),n=v(e);if(r=arguments,o=this,c=e,n){if(u===i)return g(c);if(p)return Ti(u),u=Ma(y,t),m(c)}return u===i&&(u=Ma(y,t)),l}return t=bs(t)||0,rs(n)&&(f=!!n.leading,s=(p="maxWait"in n)?wn(bs(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),w.cancel=function(){u!==i&&Ti(u),d=0,r=c=o=u=i},w.flush=function(){return u===i?l:b(Po())},w}var No=Qr((function(e,t){return fr(e,1,t)})),Lo=Qr((function(e,t,n){return fr(e,bs(t)||0,n)}));function jo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(a);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(jo.Cache||Kn),n}function Bo(e){if("function"!=typeof e)throw new Ie(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}jo.Cache=Kn;var Fo=_i((function(e,t){var n=(t=1==t.length&&qo(t[0])?Mt(t[0],Yt(ca())):Mt(br(t,1),Yt(ca()))).length;return Qr((function(r){for(var i=-1,a=Sn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return kt(e,this,r)}))})),Uo=Qr((function(e,t){var n=cn(t,ua(Uo));return Ji(e,u,i,t,n)})),Ho=Qr((function(e,t){var n=cn(t,ua(Ho));return Ji(e,c,i,t,n)})),zo=ia((function(e,t){return Ji(e,f,i,i,i,t)}));function Vo(e,t){return e===t||e!==e&&t!==t}var $o=Zi(Or),Go=Zi((function(e,t){return e>=t})),Wo=Mr(function(){return arguments}())?Mr:function(e){return is(e)&&Le.call(e,"callee")&&!Ke.call(e,"callee")},qo=r.isArray,Zo=bt?Yt(bt):function(e){return is(e)&&Cr(e)==R};function Ko(e){return null!=e&&ns(e.length)&&!es(e)}function Xo(e){return is(e)&&Ko(e)}var Yo=Bt||bl,Qo=wt?Yt(wt):function(e){return is(e)&&Cr(e)==S};function Jo(e){if(!is(e))return!1;var t=Cr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ss(e)}function es(e){if(!rs(e))return!1;var t=Cr(e);return t==x||t==T||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ts(e){return"number"==typeof e&&e==vs(e)}function ns(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function rs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function is(e){return null!=e&&"object"==typeof e}var as=St?Yt(St):function(e){return is(e)&&ga(e)==k};function os(e){return"number"==typeof e||is(e)&&Cr(e)==E}function ss(e){if(!is(e)||Cr(e)!=C)return!1;var t=qe(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ne.call(n)==Ue}var ls=_t?Yt(_t):function(e){return is(e)&&Cr(e)==P};var us=xt?Yt(xt):function(e){return is(e)&&ga(e)==I};function cs(e){return"string"==typeof e||!qo(e)&&is(e)&&Cr(e)==A}function ds(e){return"symbol"==typeof e||is(e)&&Cr(e)==D}var fs=Tt?Yt(Tt):function(e){return is(e)&&ns(e.length)&&!!ot[Cr(e)]};var ps=Zi(Ur),hs=Zi((function(e,t){return e<=t}));function ms(e){if(!e)return[];if(Ko(e))return cs(e)?hn(e):Ai(e);if(et&&e[et])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[et]());var t=ga(e);return(t==k?ln:t==I?dn:Vs)(e)}function gs(e){return e?(e=bs(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function vs(e){var t=gs(e),n=t%1;return t===t?n?t-n:t:0}function ys(e){return e?ur(vs(e),0,g):0}function bs(e){if("number"==typeof e)return e;if(ds(e))return m;if(rs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=ve.test(e);return n||be.test(e)?ct(e.slice(2),n?2:8):ge.test(e)?m:+e}function ws(e){return Di(e,Ns(e))}function Ss(e){return null==e?"":di(e)}var _s=Ri((function(e,t){if(ka(t)||Ko(t))Di(t,Rs(t),e);else for(var n in t)Le.call(t,n)&&rr(e,n,t[n])})),xs=Ri((function(e,t){Di(t,Ns(t),e)})),Ts=Ri((function(e,t,n,r){Di(t,Ns(t),e,r)})),ks=Ri((function(e,t,n,r){Di(t,Rs(t),e,r)})),Es=ia(lr);var Cs=Qr((function(e,t){e=Ce(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&Sa(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],s=Ns(o),l=-1,u=s.length;++l<u;){var c=s[l],d=e[c];(d===i||Vo(d,Me[c])&&!Le.call(e,c))&&(e[c]=o[c])}return e})),Os=Qr((function(e){return e.push(i,ta),kt(js,i,e)}));function Ps(e,t,n){var r=null==e?i:kr(e,t);return r===i?n:r}function Is(e,t){return null!=e&&va(e,t,Ir)}var As=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),rl(ol)),Ds=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),ca),Ms=Qr(Dr);function Rs(e){return Ko(e)?Qn(e):Br(e)}function Ns(e){return Ko(e)?Qn(e,!0):Fr(e)}var Ls=Ri((function(e,t,n){$r(e,t,n)})),js=Ri((function(e,t,n,r){$r(e,t,n,r)})),Bs=ia((function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,(function(t){return t=Si(t,e),r||(r=t.length>1),t})),Di(e,oa(e),n),r&&(n=cr(n,7,na));for(var i=t.length;i--;)pi(n,t[i]);return n}));var Fs=ia((function(e,t){return null==e?{}:function(e,t){return qr(e,t,(function(t,n){return Is(e,n)}))}(e,t)}));function Us(e,t){if(null==e)return{};var n=Mt(oa(e),(function(e){return[e]}));return t=ca(t),qr(e,n,(function(e,n){return t(e,n[0])}))}var Hs=Qi(Rs),zs=Qi(Ns);function Vs(e){return null==e?[]:Qt(e,Rs(e))}var $s=Bi((function(e,t,n){return t=t.toLowerCase(),e+(n?Gs(t):t)}));function Gs(e){return Js(Ss(e).toLowerCase())}function Ws(e){return(e=Ss(e))&&e.replace(Se,rn).replace(Je,"")}var qs=Bi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Zs=Bi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ks=ji("toLowerCase");var Xs=Bi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ys=Bi((function(e,t,n){return e+(n?" ":"")+Js(t)}));var Qs=Bi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Js=ji("toUpperCase");function el(e,t,n){return e=Ss(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var tl=Qr((function(e,t){try{return kt(e,i,t)}catch(n){return Jo(n)?n:new Te(n)}})),nl=ia((function(e,t){return Ct(t,(function(t){t=Fa(t),sr(e,t,Do(e[t],e))})),e}));function rl(e){return function(){return e}}var il=Hi(),al=Hi(!0);function ol(e){return e}function sl(e){return jr("function"==typeof e?e:cr(e,1))}var ll=Qr((function(e,t){return function(n){return Dr(n,e,t)}})),ul=Qr((function(e,t){return function(n){return Dr(e,n,t)}}));function cl(e,t,n){var r=Rs(t),i=Tr(t,r);null!=n||rs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Tr(t,Rs(t)));var a=!(rs(n)&&"chain"in n)||!!n.chain,o=es(e);return Ct(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=Ai(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Rt([this.value()],arguments))})})),e}function dl(){}var fl=Gi(Mt),pl=Gi(Pt),hl=Gi(jt);function ml(e){return _a(e)?Gt(Fa(e)):function(e){return function(t){return kr(t,e)}}(e)}var gl=qi(),vl=qi(!0);function yl(){return[]}function bl(){return!1}var wl=$i((function(e,t){return e+t}),0),Sl=Xi("ceil"),_l=$i((function(e,t){return e/t}),1),xl=Xi("floor");var Tl,kl=$i((function(e,t){return e*t}),1),El=Xi("round"),Cl=$i((function(e,t){return e-t}),0);return zn.after=function(e,t){if("function"!=typeof t)throw new Ie(a);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},zn.ary=Io,zn.assign=_s,zn.assignIn=xs,zn.assignInWith=Ts,zn.assignWith=ks,zn.at=Es,zn.before=Ao,zn.bind=Do,zn.bindAll=nl,zn.bindKey=Mo,zn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qo(e)?e:[e]},zn.chain=mo,zn.chunk=function(e,t,n){t=(n?Sa(e,t,n):t===i)?1:wn(vs(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,s=0,l=r(mt(a/t));o<a;)l[s++]=ai(e,o,o+=t);return l},zn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},zn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Rt(qo(n)?Ai(n):[n],br(t,1))},zn.cond=function(e){var t=null==e?0:e.length,n=ca();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Ie(a);return[n(e[0]),e[1]]})):[],Qr((function(n){for(var r=-1;++r<t;){var i=e[r];if(kt(i[0],this,n))return kt(i[1],this,n)}}))},zn.conforms=function(e){return function(e){var t=Rs(e);return function(n){return dr(n,e,t)}}(cr(e,1))},zn.constant=rl,zn.countBy=yo,zn.create=function(e,t){var n=Vn(e);return null==t?n:or(n,t)},zn.curry=function e(t,n,r){var a=Ji(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},zn.curryRight=function e(t,n,r){var a=Ji(t,l,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},zn.debounce=Ro,zn.defaults=Cs,zn.defaultsDeep=Os,zn.defer=No,zn.delay=Lo,zn.difference=za,zn.differenceBy=Va,zn.differenceWith=$a,zn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ai(e,(t=n||t===i?1:vs(t))<0?0:t,r):[]},zn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ai(e,0,(t=r-(t=n||t===i?1:vs(t)))<0?0:t):[]},zn.dropRightWhile=function(e,t){return e&&e.length?mi(e,ca(t,3),!0,!0):[]},zn.dropWhile=function(e,t){return e&&e.length?mi(e,ca(t,3),!0):[]},zn.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&Sa(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=vs(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:vs(r))<0&&(r+=a),r=n>r?0:ys(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},zn.filter=function(e,t){return(qo(e)?It:yr)(e,ca(t,3))},zn.flatMap=function(e,t){return br(Eo(e,t),1)},zn.flatMapDeep=function(e,t){return br(Eo(e,t),p)},zn.flatMapDepth=function(e,t,n){return n=n===i?1:vs(n),br(Eo(e,t),n)},zn.flatten=qa,zn.flattenDeep=function(e){return(null==e?0:e.length)?br(e,p):[]},zn.flattenDepth=function(e,t){return(null==e?0:e.length)?br(e,t=t===i?1:vs(t)):[]},zn.flip=function(e){return Ji(e,512)},zn.flow=il,zn.flowRight=al,zn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},zn.functions=function(e){return null==e?[]:Tr(e,Rs(e))},zn.functionsIn=function(e){return null==e?[]:Tr(e,Ns(e))},zn.groupBy=xo,zn.initial=function(e){return(null==e?0:e.length)?ai(e,0,-1):[]},zn.intersection=Ka,zn.intersectionBy=Xa,zn.intersectionWith=Ya,zn.invert=As,zn.invertBy=Ds,zn.invokeMap=To,zn.iteratee=sl,zn.keyBy=ko,zn.keys=Rs,zn.keysIn=Ns,zn.map=Eo,zn.mapKeys=function(e,t){var n={};return t=ca(t,3),_r(e,(function(e,r,i){sr(n,t(e,r,i),e)})),n},zn.mapValues=function(e,t){var n={};return t=ca(t,3),_r(e,(function(e,r,i){sr(n,r,t(e,r,i))})),n},zn.matches=function(e){return zr(cr(e,1))},zn.matchesProperty=function(e,t){return Vr(e,cr(t,1))},zn.memoize=jo,zn.merge=Ls,zn.mergeWith=js,zn.method=ll,zn.methodOf=ul,zn.mixin=cl,zn.negate=Bo,zn.nthArg=function(e){return e=vs(e),Qr((function(t){return Gr(t,e)}))},zn.omit=Bs,zn.omitBy=function(e,t){return Us(e,Bo(ca(t)))},zn.once=function(e){return Ao(2,e)},zn.orderBy=function(e,t,n,r){return null==e?[]:(qo(t)||(t=null==t?[]:[t]),qo(n=r?i:n)||(n=null==n?[]:[n]),Wr(e,t,n))},zn.over=fl,zn.overArgs=Fo,zn.overEvery=pl,zn.overSome=hl,zn.partial=Uo,zn.partialRight=Ho,zn.partition=Co,zn.pick=Fs,zn.pickBy=Us,zn.property=ml,zn.propertyOf=function(e){return function(t){return null==e?i:kr(e,t)}},zn.pull=Ja,zn.pullAll=eo,zn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Zr(e,t,ca(n,2)):e},zn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Zr(e,t,i,n):e},zn.pullAt=to,zn.range=gl,zn.rangeRight=vl,zn.rearg=zo,zn.reject=function(e,t){return(qo(e)?It:yr)(e,Bo(ca(t,3)))},zn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ca(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Kr(e,i),n},zn.rest=function(e,t){if("function"!=typeof e)throw new Ie(a);return Qr(e,t=t===i?t:vs(t))},zn.reverse=no,zn.sampleSize=function(e,t,n){return t=(n?Sa(e,t,n):t===i)?1:vs(t),(qo(e)?er:ei)(e,t)},zn.set=function(e,t,n){return null==e?e:ti(e,t,n)},zn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ti(e,t,n,r)},zn.shuffle=function(e){return(qo(e)?tr:ii)(e)},zn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Sa(e,t,n)?(t=0,n=r):(t=null==t?0:vs(t),n=n===i?r:vs(n)),ai(e,t,n)):[]},zn.sortBy=Oo,zn.sortedUniq=function(e){return e&&e.length?ui(e):[]},zn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,ca(t,2)):[]},zn.split=function(e,t,n){return n&&"number"!=typeof n&&Sa(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=Ss(e))&&("string"==typeof t||null!=t&&!ls(t))&&!(t=di(t))&&sn(e)?xi(hn(e),0,n):e.split(t,n):[]},zn.spread=function(e,t){if("function"!=typeof e)throw new Ie(a);return t=null==t?0:wn(vs(t),0),Qr((function(n){var r=n[t],i=xi(n,0,t);return r&&Rt(i,r),kt(e,this,i)}))},zn.tail=function(e){var t=null==e?0:e.length;return t?ai(e,1,t):[]},zn.take=function(e,t,n){return e&&e.length?ai(e,0,(t=n||t===i?1:vs(t))<0?0:t):[]},zn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ai(e,(t=r-(t=n||t===i?1:vs(t)))<0?0:t,r):[]},zn.takeRightWhile=function(e,t){return e&&e.length?mi(e,ca(t,3),!1,!0):[]},zn.takeWhile=function(e,t){return e&&e.length?mi(e,ca(t,3)):[]},zn.tap=function(e,t){return t(e),e},zn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ie(a);return rs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ro(e,t,{leading:r,maxWait:t,trailing:i})},zn.thru=go,zn.toArray=ms,zn.toPairs=Hs,zn.toPairsIn=zs,zn.toPath=function(e){return qo(e)?Mt(e,Fa):ds(e)?[e]:Ai(Ba(Ss(e)))},zn.toPlainObject=ws,zn.transform=function(e,t,n){var r=qo(e),i=r||Yo(e)||fs(e);if(t=ca(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:rs(e)&&es(a)?Vn(qe(e)):{}}return(i?Ct:_r)(e,(function(e,r,i){return t(n,e,r,i)})),n},zn.unary=function(e){return Io(e,1)},zn.union=ro,zn.unionBy=io,zn.unionWith=ao,zn.uniq=function(e){return e&&e.length?fi(e):[]},zn.uniqBy=function(e,t){return e&&e.length?fi(e,ca(t,2)):[]},zn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fi(e,i,t):[]},zn.unset=function(e,t){return null==e||pi(e,t)},zn.unzip=oo,zn.unzipWith=so,zn.update=function(e,t,n){return null==e?e:hi(e,t,wi(n))},zn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,wi(n),r)},zn.values=Vs,zn.valuesIn=function(e){return null==e?[]:Qt(e,Ns(e))},zn.without=lo,zn.words=el,zn.wrap=function(e,t){return Uo(wi(t),e)},zn.xor=uo,zn.xorBy=co,zn.xorWith=fo,zn.zip=po,zn.zipObject=function(e,t){return yi(e||[],t||[],rr)},zn.zipObjectDeep=function(e,t){return yi(e||[],t||[],ti)},zn.zipWith=ho,zn.entries=Hs,zn.entriesIn=zs,zn.extend=xs,zn.extendWith=Ts,cl(zn,zn),zn.add=wl,zn.attempt=tl,zn.camelCase=$s,zn.capitalize=Gs,zn.ceil=Sl,zn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=bs(n))===n?n:0),t!==i&&(t=(t=bs(t))===t?t:0),ur(bs(e),t,n)},zn.clone=function(e){return cr(e,4)},zn.cloneDeep=function(e){return cr(e,5)},zn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},zn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},zn.conformsTo=function(e,t){return null==t||dr(e,t,Rs(t))},zn.deburr=Ws,zn.defaultTo=function(e,t){return null==e||e!==e?t:e},zn.divide=_l,zn.endsWith=function(e,t,n){e=Ss(e),t=di(t);var r=e.length,a=n=n===i?r:ur(vs(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},zn.eq=Vo,zn.escape=function(e){return(e=Ss(e))&&Y.test(e)?e.replace(K,an):e},zn.escapeRegExp=function(e){return(e=Ss(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},zn.every=function(e,t,n){var r=qo(e)?Pt:gr;return n&&Sa(e,t,n)&&(t=i),r(e,ca(t,3))},zn.find=bo,zn.findIndex=Ga,zn.findKey=function(e,t){return Ft(e,ca(t,3),_r)},zn.findLast=wo,zn.findLastIndex=Wa,zn.findLastKey=function(e,t){return Ft(e,ca(t,3),xr)},zn.floor=xl,zn.forEach=So,zn.forEachRight=_o,zn.forIn=function(e,t){return null==e?e:wr(e,ca(t,3),Ns)},zn.forInRight=function(e,t){return null==e?e:Sr(e,ca(t,3),Ns)},zn.forOwn=function(e,t){return e&&_r(e,ca(t,3))},zn.forOwnRight=function(e,t){return e&&xr(e,ca(t,3))},zn.get=Ps,zn.gt=$o,zn.gte=Go,zn.has=function(e,t){return null!=e&&va(e,t,Pr)},zn.hasIn=Is,zn.head=Za,zn.identity=ol,zn.includes=function(e,t,n,r){e=Ko(e)?e:Vs(e),n=n&&!r?vs(n):0;var i=e.length;return n<0&&(n=wn(i+n,0)),cs(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ht(e,t,n)>-1},zn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=wn(r+i,0)),Ht(e,t,i)},zn.inRange=function(e,t,n){return t=gs(t),n===i?(n=t,t=0):n=gs(n),function(e,t,n){return e>=Sn(t,n)&&e<wn(t,n)}(e=bs(e),t,n)},zn.invoke=Ms,zn.isArguments=Wo,zn.isArray=qo,zn.isArrayBuffer=Zo,zn.isArrayLike=Ko,zn.isArrayLikeObject=Xo,zn.isBoolean=function(e){return!0===e||!1===e||is(e)&&Cr(e)==w},zn.isBuffer=Yo,zn.isDate=Qo,zn.isElement=function(e){return is(e)&&1===e.nodeType&&!ss(e)},zn.isEmpty=function(e){if(null==e)return!0;if(Ko(e)&&(qo(e)||"string"==typeof e||"function"==typeof e.splice||Yo(e)||fs(e)||Wo(e)))return!e.length;var t=ga(e);if(t==k||t==I)return!e.size;if(ka(e))return!Br(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},zn.isEqual=function(e,t){return Rr(e,t)},zn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Rr(e,t,i,n):!!r},zn.isError=Jo,zn.isFinite=function(e){return"number"==typeof e&&Wt(e)},zn.isFunction=es,zn.isInteger=ts,zn.isLength=ns,zn.isMap=as,zn.isMatch=function(e,t){return e===t||Nr(e,t,fa(t))},zn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Nr(e,t,fa(t),n)},zn.isNaN=function(e){return os(e)&&e!=+e},zn.isNative=function(e){if(Ta(e))throw new Te("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},zn.isNil=function(e){return null==e},zn.isNull=function(e){return null===e},zn.isNumber=os,zn.isObject=rs,zn.isObjectLike=is,zn.isPlainObject=ss,zn.isRegExp=ls,zn.isSafeInteger=function(e){return ts(e)&&e>=-9007199254740991&&e<=h},zn.isSet=us,zn.isString=cs,zn.isSymbol=ds,zn.isTypedArray=fs,zn.isUndefined=function(e){return e===i},zn.isWeakMap=function(e){return is(e)&&ga(e)==M},zn.isWeakSet=function(e){return is(e)&&"[object WeakSet]"==Cr(e)},zn.join=function(e,t){return null==e?"":yn.call(e,t)},zn.kebabCase=qs,zn.last=Qa,zn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=vs(n))<0?wn(r+a,0):Sn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Ut(e,Vt,a,!0)},zn.lowerCase=Zs,zn.lowerFirst=Ks,zn.lt=ps,zn.lte=hs,zn.max=function(e){return e&&e.length?vr(e,ol,Or):i},zn.maxBy=function(e,t){return e&&e.length?vr(e,ca(t,2),Or):i},zn.mean=function(e){return $t(e,ol)},zn.meanBy=function(e,t){return $t(e,ca(t,2))},zn.min=function(e){return e&&e.length?vr(e,ol,Ur):i},zn.minBy=function(e,t){return e&&e.length?vr(e,ca(t,2),Ur):i},zn.stubArray=yl,zn.stubFalse=bl,zn.stubObject=function(){return{}},zn.stubString=function(){return""},zn.stubTrue=function(){return!0},zn.multiply=kl,zn.nth=function(e,t){return e&&e.length?Gr(e,vs(t)):i},zn.noConflict=function(){return pt._===this&&(pt._=He),this},zn.noop=dl,zn.now=Po,zn.pad=function(e,t,n){e=Ss(e);var r=(t=vs(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Wi(vt(i),n)+e+Wi(mt(i),n)},zn.padEnd=function(e,t,n){e=Ss(e);var r=(t=vs(t))?pn(e):0;return t&&r<t?e+Wi(t-r,n):e},zn.padStart=function(e,t,n){e=Ss(e);var r=(t=vs(t))?pn(e):0;return t&&r<t?Wi(t-r,n)+e:e},zn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(Ss(e).replace(oe,""),t||0)},zn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Sa(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=gs(e),t===i?(t=e,e=0):t=gs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=Tn();return Sn(e+a*(t-e+ut("1e-"+((a+"").length-1))),t)}return Xr(e,t)},zn.reduce=function(e,t,n){var r=qo(e)?Nt:qt,i=arguments.length<3;return r(e,ca(t,4),n,i,hr)},zn.reduceRight=function(e,t,n){var r=qo(e)?Lt:qt,i=arguments.length<3;return r(e,ca(t,4),n,i,mr)},zn.repeat=function(e,t,n){return t=(n?Sa(e,t,n):t===i)?1:vs(t),Yr(Ss(e),t)},zn.replace=function(){var e=arguments,t=Ss(e[0]);return e.length<3?t:t.replace(e[1],e[2])},zn.result=function(e,t,n){var r=-1,a=(t=Si(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Fa(t[r])];o===i&&(r=a,o=n),e=es(o)?o.call(e):o}return e},zn.round=El,zn.runInContext=e,zn.sample=function(e){return(qo(e)?Jn:Jr)(e)},zn.size=function(e){if(null==e)return 0;if(Ko(e))return cs(e)?pn(e):e.length;var t=ga(e);return t==k||t==I?e.size:Br(e).length},zn.snakeCase=Xs,zn.some=function(e,t,n){var r=qo(e)?jt:oi;return n&&Sa(e,t,n)&&(t=i),r(e,ca(t,3))},zn.sortedIndex=function(e,t){return si(e,t)},zn.sortedIndexBy=function(e,t,n){return li(e,t,ca(n,2))},zn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=si(e,t);if(r<n&&Vo(e[r],t))return r}return-1},zn.sortedLastIndex=function(e,t){return si(e,t,!0)},zn.sortedLastIndexBy=function(e,t,n){return li(e,t,ca(n,2),!0)},zn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=si(e,t,!0)-1;if(Vo(e[n],t))return n}return-1},zn.startCase=Ys,zn.startsWith=function(e,t,n){return e=Ss(e),n=null==n?0:ur(vs(n),0,e.length),t=di(t),e.slice(n,n+t.length)==t},zn.subtract=Cl,zn.sum=function(e){return e&&e.length?Zt(e,ol):0},zn.sumBy=function(e,t){return e&&e.length?Zt(e,ca(t,2)):0},zn.template=function(e,t,n){var r=zn.templateSettings;n&&Sa(e,t,n)&&(t=i),e=Ss(e),t=Ts({},t,r,ea);var a,o,s=Ts({},t.imports,r.imports,ea),l=Rs(s),u=Qt(s,l),c=0,d=t.interpolate||_e,f="__p += '",p=Oe((t.escape||_e).source+"|"+d.source+"|"+(d===ee?he:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),h="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(p,(function(t,n,r,i,s,l){return r||(r=i),f+=e.slice(c,l).replace(xe,on),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),f+="';\n";var m=Le.call(t,"variable")&&t.variable;if(m){if(fe.test(m))throw new Te("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(G,""):f).replace(W,"$1").replace(q,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=tl((function(){return ke(l,h+"return "+f).apply(i,u)}));if(g.source=f,Jo(g))throw g;return g},zn.times=function(e,t){if((e=vs(e))<1||e>h)return[];var n=g,r=Sn(e,g);t=ca(t),e-=g;for(var i=Kt(r,t);++n<e;)t(n);return i},zn.toFinite=gs,zn.toInteger=vs,zn.toLength=ys,zn.toLower=function(e){return Ss(e).toLowerCase()},zn.toNumber=bs,zn.toSafeInteger=function(e){return e?ur(vs(e),-9007199254740991,h):0===e?e:0},zn.toString=Ss,zn.toUpper=function(e){return Ss(e).toUpperCase()},zn.trim=function(e,t,n){if((e=Ss(e))&&(n||t===i))return Xt(e);if(!e||!(t=di(t)))return e;var r=hn(e),a=hn(t);return xi(r,en(r,a),tn(r,a)+1).join("")},zn.trimEnd=function(e,t,n){if((e=Ss(e))&&(n||t===i))return e.slice(0,mn(e)+1);if(!e||!(t=di(t)))return e;var r=hn(e);return xi(r,0,tn(r,hn(t))+1).join("")},zn.trimStart=function(e,t,n){if((e=Ss(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=di(t)))return e;var r=hn(e);return xi(r,en(r,hn(t))).join("")},zn.truncate=function(e,t){var n=30,r="...";if(rs(t)){var a="separator"in t?t.separator:a;n="length"in t?vs(t.length):n,r="omission"in t?di(t.omission):r}var o=(e=Ss(e)).length;if(sn(e)){var s=hn(e);o=s.length}if(n>=o)return e;var l=n-pn(r);if(l<1)return r;var u=s?xi(s,0,l).join(""):e.slice(0,l);if(a===i)return u+r;if(s&&(l+=u.length-l),ls(a)){if(e.slice(l).search(a)){var c,d=u;for(a.global||(a=Oe(a.source,Ss(me.exec(a))+"g")),a.lastIndex=0;c=a.exec(d);)var f=c.index;u=u.slice(0,f===i?l:f)}}else if(e.indexOf(di(a),l)!=l){var p=u.lastIndexOf(a);p>-1&&(u=u.slice(0,p))}return u+r},zn.unescape=function(e){return(e=Ss(e))&&X.test(e)?e.replace(Z,gn):e},zn.uniqueId=function(e){var t=++je;return Ss(e)+t},zn.upperCase=Qs,zn.upperFirst=Js,zn.each=So,zn.eachRight=_o,zn.first=Za,cl(zn,(Tl={},_r(zn,(function(e,t){Le.call(zn.prototype,t)||(Tl[t]=e)})),Tl),{chain:!1}),zn.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){zn[e].placeholder=zn})),Ct(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===i?1:wn(vs(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=Sn(n,r.__takeCount__):r.__views__.push({size:Sn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ca(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ct(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(ol)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Qr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Dr(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Bo(ca(e)))},Wn.prototype.slice=function(e,t){e=vs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=vs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(g)},_r(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=zn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(zn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,l=t instanceof Wn,u=s[0],c=l||qo(t),d=function(e){var t=a.apply(zn,Rt([e],s));return r&&f?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var f=this.__chain__,p=!!this.__actions__.length,h=o&&!f,m=l&&!p;if(!o&&c){t=m?t:new Wn(this);var g=e.apply(t,s);return g.__actions__.push({func:go,args:[d],thisArg:i}),new Gn(g,f)}return h&&m?e.apply(this,s):(g=this.thru(d),h?r?g.value()[0]:g.value():g)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ae[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);zn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(qo(i)?i:[],e)}return this[n]((function(n){return t.apply(qo(n)?n:[],e)}))}})),_r(Wn.prototype,(function(e,t){var n=zn[t];if(n){var r=n.name+"";Le.call(Mn,r)||(Mn[r]=[]),Mn[r].push({name:t,func:n})}})),Mn[zi(i,2).name]=[{name:"wrapper",func:i}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Ai(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ai(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ai(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=qo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Sn(t,e+o);break;case"takeRight":e=wn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=r?s:o-1,c=this.__iteratees__,d=c.length,f=0,p=Sn(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return gi(e,this.__actions__);var h=[];e:for(;l--&&f<p;){for(var m=-1,g=e[u+=t];++m<d;){var v=c[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}h[f++]=g}return h},zn.prototype.at=vo,zn.prototype.chain=function(){return mo(this)},zn.prototype.commit=function(){return new Gn(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===i&&(this.__values__=ms(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},zn.prototype.plant=function(e){for(var t,n=this;n instanceof $n;){var r=Ha(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},zn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:go,args:[no],thisArg:i}),new Gn(t,this.__chain__)}return this.thru(no)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,et&&(zn.prototype[et]=function(){return this}),zn}();pt._=vn,(r=function(){return vn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},7771:(e,t,n)=>{var r=n(55639);e.exports=function(){return r.Date.now()}},23493:(e,t,n)=>{var r=n(23279),i=n(13218);e.exports=function(e,t,n){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:a,maxWait:t,trailing:o})}},14841:(e,t,n)=>{var r=n(27561),i=n(13218),a=n(33448),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}},43720:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(k){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},a={};function o(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=l(e,(0|e)<0?-1:0,!0),o&&(a[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=l(e,e<0?-1:0,!1),o&&(i[e]=n),n)}function s(e,t){if(isNaN(e))return t?v:g;if(t){if(e<0)return v;if(e>=p)return _}else{if(e<=-h)return x;if(e+1>=h)return S}return e<0?s(-e,t).neg():l(e%f|0,e/f|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=o,n.fromNumber=s,n.fromBits=l;var u=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var i=s(u(n,8)),a=g,o=0;o<e.length;o+=8){var l=Math.min(8,e.length-o),d=parseInt(e.substring(o,o+l),n);if(l<8){var f=s(u(n,l));a=a.mul(f).add(s(d))}else a=(a=a.mul(i)).add(s(d))}return a.unsigned=t,a}function d(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?c(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=d;var f=4294967296,p=f*f,h=p/2,m=o(1<<24),g=o(0);n.ZERO=g;var v=o(0,!0);n.UZERO=v;var y=o(1);n.ONE=y;var b=o(1,!0);n.UONE=b;var w=o(-1);n.NEG_ONE=w;var S=l(-1,2147483647,!1);n.MAX_VALUE=S;var _=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=_;var x=l(0,-2147483648,!1);n.MIN_VALUE=x;var T=n.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(x)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=s(u(e,6),this.unsigned),a=this,o="";;){var l=a.div(i),c=(a.sub(l.mul(i)).toInt()>>>0).toString(e);if((a=l).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(x)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1===(1&this.low)},T.isEven=function(){return 0===(1&this.low)},T.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(x)?x:this.not().add(y)},T.neg=T.negate,T.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,a=65535&this.low,o=e.high>>>16,s=65535&e.high,u=e.low>>>16,c=0,f=0,p=0,h=0;return p+=(h+=a+(65535&e.low))>>>16,f+=(p+=i+u)>>>16,c+=(f+=n+s)>>>16,c+=t+o,l((p&=65535)<<16|(h&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},T.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(x))return e.isOdd()?x:g;if(e.eq(x))return this.isOdd()?x:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,a=this.low>>>16,o=65535&this.low,u=e.high>>>16,c=65535&e.high,f=e.low>>>16,p=65535&e.low,h=0,v=0,y=0,b=0;return y+=(b+=o*p)>>>16,v+=(y+=a*p)>>>16,y&=65535,v+=(y+=o*f)>>>16,h+=(v+=i*p)>>>16,v&=65535,h+=(v+=a*f)>>>16,v&=65535,h+=(v+=o*c)>>>16,h+=n*p+i*f+a*c+o*u,l((y&=65535)<<16|(b&=65535),(h&=65535)<<16|(v&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,i,a;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return b;a=v}else{if(this.eq(x))return e.eq(y)||e.eq(w)?x:e.eq(x)?y:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?y:w:(i=this.sub(e.mul(n)),a=n.add(i.div(e)));if(e.eq(x))return this.unsigned?v:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=g}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),c=o<=48?1:u(2,o-48),f=s(n),p=f.mul(e);p.isNegative()||p.gt(i);)p=(f=s(n-=c,this.unsigned)).mul(e);f.isZero()&&(f=y),a=a.add(f),i=i.sub(p)}return a},T.div=T.divide,T.modulo=function(e){return r(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return l(~this.low,~this.high,this.unsigned)},T.and=function(e){return r(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return r(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return r(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},30845:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(i=e[n],a=t[n],!(i===a||r(i)&&r(a)))return!1;var i,a;return!0}const a=function(e,t){var n;void 0===t&&(t=i);var r,a=[],o=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return o&&n===this&&t(i,a)||(r=e.apply(this,i),o=!0,n=this,a=i),r}}},93268:()=>{},12437:(e,t,n)=>{!function(e,t){e((function(){"use strict";var e,n={mobileDetectRules:{phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+|\\b(BBA100|BBB100|BBD100|BBE100|BBF100|STH100)\\b-[0-9]+",Pixel:"; \\bPixel\\b",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 5X|Nexus 6",Dell:"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052",Samsung:"\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F|SM-G610F|SM-G981B|SM-G892A|SM-A530F",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)|LM-G710",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533|SOV34|601SO|F8332",Asus:"Asus.*Galaxy|PadFone.*Mobile",Xiaomi:"^(?!.*\\bx11\\b).*xiaomi.*$|POCOPHONE F1|MI 8|Redmi Note 9S|Redmi Note 5A Prime|N2G47H|M2001J2G|M2001J2I|M1805E10A|M2004J11G|M1902F1G|M2002J9G|M2004J19G|M2003J6A1G",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo (3DS|Switch)",Amoi:"Amoi",INQ:"INQ",OnePlus:"ONEPLUS",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",GoogleTablet:"Android.*Pixel C",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-T830|SM-T837V|SM-T720|SM-T510|SM-T387V|SM-P610|SM-T290|SM-T515|SM-T590|SM-T595|SM-T725|SM-T817P|SM-P585N0|SM-T395|SM-T295|SM-T865|SM-P610N|SM-P615|SM-T970|SM-T380|SM-T5950|SM-T905|SM-T231|SM-T500|SM-T860",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30|A3-A40",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304X|TB-X304F|TB-X304L|TB-X505F|TB-X505L|TB-X505X|TB-X605F|TB-X605L|TB-8703F|TB-8703X|TB-8703N|TB-8704N|TB-8704F|TB-8704X|TB-8704V|TB-7304F|TB-7304I|TB-7304X|Tab2A7-10F|Tab2A7-20F|TB2-X30L|YT3-X50L|YT3-X50F|YT3-X50M|YT-X705F|YT-X703F|YT-X703L|YT-X705L|YT-X705X|TB2-X30F|TB2-X30L|TB2-X30M|A2107A-F|A2107A-H|TB3-730F|TB3-730M|TB3-730X|TB-7504F|TB-7504X|TB-X704F|TB-X104F|TB3-X70F|TB-X705F|TB-8504F|TB3-X70L|TB3-710F|TB-X704L",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*\\b(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))\\b|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-L09|CMR-AL19",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z930|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android [0-9.]+; [a-z-]+; \\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497|VFD 1400",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9|TECNO DP8D",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",VerizonTablet:"QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Windows Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia",iPadOS:"CPU OS 13",SailfishOS:"Sailfish",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"\\bEdgiOS\\b|Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version((?!\\bEdgiOS\\b).)*Mobile.*Safari|Safari.*Mobile|MobileSafari",WeChat:"\\bMicroMessenger\\b",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]",UCBrowser:["UCWEB[VER]","UC.*Browser/[VER]"],MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",SailfishBrowser:"SailfishBrowser/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",Sailfish:"Sailfish [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|Google-AMPHTML|s~amp-validator|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom|contentkingapp|AspiegelBot",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},detectMobileBrowsers:{fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i}},r=Object.prototype.hasOwnProperty;function i(e,t){return null!=e&&null!=t&&e.toLowerCase()===t.toLowerCase()}function a(e,t){var n,r,i=e.length;if(!i||!t)return!1;for(n=t.toLowerCase(),r=0;r<i;++r)if(n===e[r].toLowerCase())return!0;return!1}function o(e){for(var t in e)r.call(e,t)&&(e[t]=new RegExp(e[t],"i"))}function s(e,t){this.ua=function(e){return(e||"").substr(0,500)}(e),this._cache={},this.maxPhoneWidth=t||600}return n.FALLBACK_PHONE="UnknownPhone",n.FALLBACK_TABLET="UnknownTablet",n.FALLBACK_MOBILE="UnknownMobile",e="isArray"in Array?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},function(){var t,i,a,s,l,u,c=n.mobileDetectRules;for(t in c.props)if(r.call(c.props,t)){for(i=c.props[t],e(i)||(i=[i]),l=i.length,s=0;s<l;++s)(u=(a=i[s]).indexOf("[VER]"))>=0&&(a=a.substring(0,u)+"([\\w._\\+]+)"+a.substring(u+5)),i[s]=new RegExp(a,"i");c.props[t]=i}o(c.oss),o(c.phones),o(c.tablets),o(c.uas),o(c.utils),c.oss0={WindowsPhoneOS:c.oss.WindowsPhoneOS,WindowsMobileOS:c.oss.WindowsMobileOS}}(),n.findMatch=function(e,t){for(var n in e)if(r.call(e,n)&&e[n].test(t))return n;return null},n.findMatches=function(e,t){var n=[];for(var i in e)r.call(e,i)&&e[i].test(t)&&n.push(i);return n},n.getVersionStr=function(e,t){var i,a,o,s,l=n.mobileDetectRules.props;if(r.call(l,e))for(o=(i=l[e]).length,a=0;a<o;++a)if(null!==(s=i[a].exec(t)))return s[1];return null},n.getVersion=function(e,t){var r=n.getVersionStr(e,t);return r?n.prepareVersionNo(r):NaN},n.prepareVersionNo=function(e){var t;return 1===(t=e.split(/[a-z._ \/\-]/i)).length&&(e=t[0]),t.length>1&&(e=t[0]+".",t.shift(),e+=t.join("")),Number(e)},n.isMobileFallback=function(e){return n.detectMobileBrowsers.fullPattern.test(e)||n.detectMobileBrowsers.shortPattern.test(e.substr(0,4))},n.isTabletFallback=function(e){return n.detectMobileBrowsers.tabletPattern.test(e)},n.prepareDetectionCache=function(e,r,i){if(e.mobile===t){var a,o,l;if(o=n.findMatch(n.mobileDetectRules.tablets,r))return e.mobile=e.tablet=o,void(e.phone=null);if(a=n.findMatch(n.mobileDetectRules.phones,r))return e.mobile=e.phone=a,void(e.tablet=null);n.isMobileFallback(r)?(l=s.isPhoneSized(i))===t?(e.mobile=n.FALLBACK_MOBILE,e.tablet=e.phone=null):l?(e.mobile=e.phone=n.FALLBACK_PHONE,e.tablet=null):(e.mobile=e.tablet=n.FALLBACK_TABLET,e.phone=null):n.isTabletFallback(r)?(e.mobile=e.tablet=n.FALLBACK_TABLET,e.phone=null):e.mobile=e.tablet=e.phone=null}},n.mobileGrade=function(e){var t=null!==e.mobile();return e.os("iOS")&&e.version("iPad")>=4.3||e.os("iOS")&&e.version("iPhone")>=3.1||e.os("iOS")&&e.version("iPod")>=3.1||e.version("Android")>2.1&&e.is("Webkit")||e.version("Windows Phone OS")>=7||e.is("BlackBerry")&&e.version("BlackBerry")>=6||e.match("Playbook.*Tablet")||e.version("webOS")>=1.4&&e.match("Palm|Pre|Pixi")||e.match("hp.*TouchPad")||e.is("Firefox")&&e.version("Firefox")>=12||e.is("Chrome")&&e.is("AndroidOS")&&e.version("Android")>=4||e.is("Skyfire")&&e.version("Skyfire")>=4.1&&e.is("AndroidOS")&&e.version("Android")>=2.3||e.is("Opera")&&e.version("Opera Mobi")>11&&e.is("AndroidOS")||e.is("MeeGoOS")||e.is("Tizen")||e.is("Dolfin")&&e.version("Bada")>=2||(e.is("UC Browser")||e.is("Dolfin"))&&e.version("Android")>=2.3||e.match("Kindle Fire")||e.is("Kindle")&&e.version("Kindle")>=3||e.is("AndroidOS")&&e.is("NookTablet")||e.version("Chrome")>=11&&!t||e.version("Safari")>=5&&!t||e.version("Firefox")>=4&&!t||e.version("MSIE")>=7&&!t||e.version("Opera")>=10&&!t?"A":e.os("iOS")&&e.version("iPad")<4.3||e.os("iOS")&&e.version("iPhone")<3.1||e.os("iOS")&&e.version("iPod")<3.1||e.is("Blackberry")&&e.version("BlackBerry")>=5&&e.version("BlackBerry")<6||e.version("Opera Mini")>=5&&e.version("Opera Mini")<=6.5&&(e.version("Android")>=2.3||e.is("iOS"))||e.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||e.version("Opera Mobi")>=11&&e.is("SymbianOS")?"B":(e.version("BlackBerry")<5||e.match("MSIEMobile|Windows CE.*Mobile")||e.version("Windows Mobile"),"C")},n.detectOS=function(e){return n.findMatch(n.mobileDetectRules.oss0,e)||n.findMatch(n.mobileDetectRules.oss,e)},n.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},s.prototype={constructor:s,mobile:function(){return n.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return n.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return n.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===t&&(this._cache.userAgent=n.findMatch(n.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return this._cache.userAgents===t&&(this._cache.userAgents=n.findMatches(n.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return this._cache.os===t&&(this._cache.os=n.detectOS(this.ua)),this._cache.os},version:function(e){return n.getVersion(e,this.ua)},versionStr:function(e){return n.getVersionStr(e,this.ua)},is:function(e){return a(this.userAgents(),e)||i(e,this.os())||i(e,this.phone())||i(e,this.tablet())||a(n.findMatches(n.mobileDetectRules.utils,this.ua),e)},match:function(e){return e instanceof RegExp||(e=new RegExp(e,"i")),e.test(this.ua)},isPhoneSized:function(e){return s.isPhoneSized(e||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===t&&(this._cache.grade=n.mobileGrade(this)),this._cache.grade}},"undefined"!==typeof window&&window.screen?s.isPhoneSized=function(e){return e<0?t:n.getDeviceSmallerSide()<=e}:s.isPhoneSized=function(){},s._impl=n,s.version="1.4.5 2021-03-13",s}))}(e.exports?function(t){e.exports=t()}:n.amdD)},84221:(e,t,n)=>{var r=n(46894).getUint64;e.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},i=12;0===n.version?(n.earliestPresentationTime=t.getUint32(i),n.firstOffset=t.getUint32(i+4),i+=8):(n.earliestPresentationTime=r(e.subarray(i)),n.firstOffset=r(e.subarray(i+8)),i+=16),i+=2;var a=t.getUint16(i);for(i+=2;a>0;i+=12,a--)n.references.push({referenceType:(128&e[i])>>>7,referencedSize:2147483647&t.getUint32(i),subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(128&e[i+8]),sapType:(112&e[i+8])>>>4,sapDeltaTime:268435455&t.getUint32(i+8)});return n}},51489:e=>{var t,n,r,i,a,o,s,l=9e4;t=function(e){return e*l},n=function(e,t){return e*t},r=function(e){return e/l},i=function(e,t){return e/t},a=function(e,n){return t(i(e,n))},o=function(e,t){return n(r(e),t)},s=function(e,t,n){return r(n?e:e-t)},e.exports={ONE_SECOND_IN_TS:l,secondsToVideoTs:t,secondsToAudioTs:n,videoTsToSeconds:r,audioTsToSeconds:i,audioTsToVideoTs:a,videoTsToAudioTs:o,metadataTsToSeconds:s}},46894:e=>{var t=Math.pow(2,32);e.exports={getUint64:function(e){var n,r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getBigUint64?(n=r.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(n):n:r.getUint32(0)*t+r.getUint32(4)},MAX_UINT32:t}},79430:function(e,t){var n,r,i;r=[],void 0===(i="function"===typeof(n=function(){return function(e){function t(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function n(t){var n,r=t.exec(e.substring(m));if(r)return n=r[0],m+=n.length,n}for(var r,i,a,o,s,l=e.length,u=/^[ \t\n\r\u000c]+/,c=/^[, \t\n\r\u000c]+/,d=/^[^ \t\n\r\u000c]+/,f=/[,]+$/,p=/^\d+$/,h=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,m=0,g=[];;){if(n(c),m>=l)return g;r=n(d),i=[],","===r.slice(-1)?(r=r.replace(f,""),y()):v()}function v(){for(n(u),a="",o="in descriptor";;){if(s=e.charAt(m),"in descriptor"===o)if(t(s))a&&(i.push(a),a="",o="after descriptor");else{if(","===s)return m+=1,a&&i.push(a),void y();if("("===s)a+=s,o="in parens";else{if(""===s)return a&&i.push(a),void y();a+=s}}else if("in parens"===o)if(")"===s)a+=s,o="in descriptor";else{if(""===s)return i.push(a),void y();a+=s}else if("after descriptor"===o)if(t(s));else{if(""===s)return void y();o="in descriptor",m-=1}m+=1}}function y(){var t,n,a,o,s,l,u,c,d,f=!1,m={};for(o=0;o<i.length;o++)l=(s=i[o])[s.length-1],u=s.substring(0,s.length-1),c=parseInt(u,10),d=parseFloat(u),p.test(u)&&"w"===l?((t||n)&&(f=!0),0===c?f=!0:t=c):h.test(u)&&"x"===l?((t||n||a)&&(f=!0),d<0?f=!0:n=d):p.test(u)&&"h"===l?((a||n)&&(f=!0),0===c?f=!0:a=c):f=!0;f?console&&console.log&&console.log("Invalid srcset descriptor found in '"+e+"' at '"+s+"'."):(m.url=r,t&&(m.w=t),n&&(m.d=n),a&&(m.h=a),g.push(m))}}})?n.apply(t,r):n)||(e.exports=i)},74241:e=>{var t=String,n=function(){return{isColorSupported:!1,reset:t,bold:t,dim:t,italic:t,underline:t,inverse:t,hidden:t,strikethrough:t,black:t,red:t,green:t,yellow:t,blue:t,magenta:t,cyan:t,white:t,gray:t,bgBlack:t,bgRed:t,bgGreen:t,bgYellow:t,bgBlue:t,bgMagenta:t,bgCyan:t,bgWhite:t}};e.exports=n(),e.exports.createColors=n},41353:(e,t,n)=>{"use strict";let r=n(21019);class i extends r{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}}e.exports=i,i.default=i,r.registerAtRule(i)},69932:(e,t,n)=>{"use strict";let r=n(65631);class i extends r{constructor(e){super(e),this.type="comment"}}e.exports=i,i.default=i},21019:(e,t,n)=>{"use strict";let r,i,a,{isClean:o,my:s}=n(65513),l=n(94258),u=n(69932),c=n(65631);function d(e){return e.map((e=>(e.nodes&&(e.nodes=d(e.nodes)),delete e.source,e)))}function f(e){if(e[o]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)f(t)}class p extends c{push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}each(e){if(!this.proxyOf.nodes)return;let t,n,r=this.getIterator();for(;this.indexes[r]<this.proxyOf.nodes.length&&(t=this.indexes[r],n=e(this.proxyOf.nodes[t],t),!1!==n);)this.indexes[r]+=1;return delete this.indexes[r],n}walk(e){return this.each(((t,n)=>{let r;try{r=e(t,n)}catch(i){throw t.addToError(i)}return!1!==r&&t.walk&&(r=t.walk(e)),r}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((n,r)=>{if("decl"===n.type&&e.test(n.prop))return t(n,r)})):this.walk(((n,r)=>{if("decl"===n.type&&n.prop===e)return t(n,r)})):(t=e,this.walk(((e,n)=>{if("decl"===e.type)return t(e,n)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((n,r)=>{if("rule"===n.type&&e.test(n.selector))return t(n,r)})):this.walk(((n,r)=>{if("rule"===n.type&&n.selector===e)return t(n,r)})):(t=e,this.walk(((e,n)=>{if("rule"===e.type)return t(e,n)})))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((n,r)=>{if("atrule"===n.type&&e.test(n.name))return t(n,r)})):this.walk(((n,r)=>{if("atrule"===n.type&&n.name===e)return t(n,r)})):(t=e,this.walk(((e,n)=>{if("atrule"===e.type)return t(e,n)})))}walkComments(e){return this.walk(((t,n)=>{if("comment"===t.type)return e(t,n)}))}append(...e){for(let t of e){let e=this.normalize(t,this.last);for(let t of e)this.proxyOf.nodes.push(t)}return this.markDirty(),this}prepend(...e){e=e.reverse();for(let t of e){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}insertBefore(e,t){let n,r=0===(e=this.index(e))&&"prepend",i=this.normalize(t,this.proxyOf.nodes[e],r).reverse();for(let a of i)this.proxyOf.nodes.splice(e,0,a);for(let a in this.indexes)n=this.indexes[a],e<=n&&(this.indexes[a]=n+i.length);return this.markDirty(),this}insertAfter(e,t){e=this.index(e);let n,r=this.normalize(t,this.proxyOf.nodes[e]).reverse();for(let i of r)this.proxyOf.nodes.splice(e+1,0,i);for(let i in this.indexes)n=this.indexes[i],e<n&&(this.indexes[i]=n+r.length);return this.markDirty(),this}removeChild(e){let t;e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);for(let n in this.indexes)t=this.indexes[n],t>=e&&(this.indexes[n]=t-1);return this.markDirty(),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(e,t,n){return n||(n=t,t={}),this.walkDecls((r=>{t.props&&!t.props.includes(r.prop)||t.fast&&!r.value.includes(t.fast)||(r.value=r.value.replace(e,n))})),this.markDirty(),this}every(e){return this.nodes.every(e)}some(e){return this.nodes.some(e)}index(e){return"number"===typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(e,t){if("string"===typeof e)e=d(r(e).nodes);else if(Array.isArray(e)){e=e.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if("root"===e.type&&"document"!==this.type){e=e.nodes.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if(e.type)e=[e];else if(e.prop){if("undefined"===typeof e.value)throw new Error("Value field is missed in node creation");"string"!==typeof e.value&&(e.value=String(e.value)),e=[new l(e)]}else if(e.selector)e=[new i(e)];else if(e.name)e=[new a(e)];else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new u(e)]}return e.map((e=>(e[s]||p.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[o]&&f(e),"undefined"===typeof e.raws.before&&t&&"undefined"!==typeof t.raws.before&&(e.raws.before=t.raws.before.replace(/\S/g,"")),e.parent=this.proxyOf,e)))}getProxyProcessor(){return{set:(e,t,n)=>(e[t]===n||(e[t]=n,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0),get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"===typeof t&&t.startsWith("walk")?(...n)=>e[t](...n.map((e=>"function"===typeof e?(t,n)=>e(t.toProxy(),n):e))):"every"===t||"some"===t?n=>e[t](((e,...t)=>n(e.toProxy(),...t))):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t]}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}}p.registerParse=e=>{r=e},p.registerRule=e=>{i=e},p.registerAtRule=e=>{a=e},e.exports=p,p.default=p,p.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,a.prototype):"rule"===e.type?Object.setPrototypeOf(e,i.prototype):"decl"===e.type?Object.setPrototypeOf(e,l.prototype):"comment"===e.type&&Object.setPrototypeOf(e,u.prototype),e[s]=!0,e.nodes&&e.nodes.forEach((e=>{p.rebuild(e)}))}},42671:(e,t,n)=>{"use strict";let r=n(74241),i=n(73908);class a extends Error{constructor(e,t,n,r,i,o){super(e),this.name="CssSyntaxError",this.reason=e,i&&(this.file=i),r&&(this.source=r),o&&(this.plugin=o),"undefined"!==typeof t&&"undefined"!==typeof n&&("number"===typeof t?(this.line=t,this.column=n):(this.line=t.line,this.column=t.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,a)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>","undefined"!==typeof this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;null==e&&(e=r.isColorSupported),i&&e&&(t=i(t));let n,a,o=t.split(/\r?\n/),s=Math.max(this.line-3,0),l=Math.min(this.line+2,o.length),u=String(l).length;if(e){let{bold:e,red:t,gray:i}=r.createColors(!0);n=n=>e(t(n)),a=e=>i(e)}else n=a=e=>e;return o.slice(s,l).map(((e,t)=>{let r=s+1+t,i=" "+(" "+r).slice(-u)+" | ";if(r===this.line){let t=a(i.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return n(">")+a(i)+e+"\n "+t+n("^")}return" "+a(i)+e})).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}e.exports=a,a.default=a},94258:(e,t,n)=>{"use strict";let r=n(65631);class i extends r{constructor(e){e&&"undefined"!==typeof e.value&&"string"!==typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}}e.exports=i,i.default=i},26461:(e,t,n)=>{"use strict";let r,i,a=n(21019);class o extends a{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new r(new i,this,e).stringify()}}o.registerLazyResult=e=>{r=e},o.registerProcessor=e=>{i=e},e.exports=o,o.default=o},50250:(e,t,n)=>{"use strict";let r=n(94258),i=n(47981),a=n(69932),o=n(41353),s=n(5995),l=n(41025),u=n(31675);function c(e,t){if(Array.isArray(e))return e.map((e=>c(e)));let{inputs:n,...d}=e;if(n){t=[];for(let e of n){let n={...e,__proto__:s.prototype};n.map&&(n.map={...n.map,__proto__:i.prototype}),t.push(n)}}if(d.nodes&&(d.nodes=e.nodes.map((e=>c(e,t)))),d.source){let{inputId:e,...n}=d.source;d.source=n,null!=e&&(d.source.input=t[e])}if("root"===d.type)return new l(d);if("decl"===d.type)return new r(d);if("rule"===d.type)return new u(d);if("comment"===d.type)return new a(d);if("atrule"===d.type)return new o(d);throw new Error("Unknown node type: "+e.type)}e.exports=c,c.default=c},5995:(e,t,n)=>{"use strict";let{SourceMapConsumer:r,SourceMapGenerator:i}=n(70209),{fileURLToPath:a,pathToFileURL:o}=n(87414),{resolve:s,isAbsolute:l}=n(99830),{nanoid:u}=n(62961),c=n(73908),d=n(42671),f=n(47981),p=Symbol("fromOffsetCache"),h=Boolean(r&&i),m=Boolean(s&&l);class g{constructor(e,t={}){if(null===e||"undefined"===typeof e||"object"===typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\ufeff"===this.css[0]||"\ufffe"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!m||/^\w+:\/\//.test(t.from)||l(t.from)?this.file=t.from:this.file=s(t.from)),m&&h){let e=new f(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+u(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(e){let t,n;if(this[p])n=this[p];else{let e=this.css.split("\n");n=new Array(e.length);let t=0;for(let r=0,i=e.length;r<i;r++)n[r]=t,t+=e[r].length+1;this[p]=n}t=n[n.length-1];let r=0;if(e>=t)r=n.length-1;else{let t,i=n.length-2;for(;r<i;)if(t=r+(i-r>>1),e<n[t])i=t-1;else{if(!(e>=n[t+1])){r=t;break}r=t+1}}return{line:r+1,col:e-n[r]+1}}error(e,t,n,r={}){let i,a,s;if(t&&"object"===typeof t){let e=t,r=n;if("number"===typeof t.offset){let r=this.fromOffset(e.offset);t=r.line,n=r.col}else t=e.line,n=e.column;if("number"===typeof r.offset){let e=this.fromOffset(r.offset);a=e.line,s=e.col}else a=r.line,s=r.column}else if(!n){let e=this.fromOffset(t);t=e.line,n=e.col}let l=this.origin(t,n,a,s);return i=l?new d(e,void 0===l.endLine?l.line:{line:l.line,column:l.column},void 0===l.endLine?l.column:{line:l.endLine,column:l.endColumn},l.source,l.file,r.plugin):new d(e,void 0===a?t:{line:t,column:n},void 0===a?n:{line:a,column:s},this.css,this.file,r.plugin),i.input={line:t,column:n,endLine:a,endColumn:s,source:this.css},this.file&&(o&&(i.input.url=o(this.file).toString()),i.input.file=this.file),i}origin(e,t,n,r){if(!this.map)return!1;let i,s,u=this.map.consumer(),c=u.originalPositionFor({line:e,column:t});if(!c.source)return!1;"number"===typeof n&&(i=u.originalPositionFor({line:n,column:r})),s=l(c.source)?o(c.source):new URL(c.source,this.map.consumer().sourceRoot||o(this.map.mapFile));let d={url:s.toString(),line:c.line,column:c.column,endLine:i&&i.line,endColumn:i&&i.column};if("file:"===s.protocol){if(!a)throw new Error("file: protocol is not available in this PostCSS build");d.file=a(s)}let f=u.sourceContentFor(c.source);return f&&(d.source=f),d}mapResolve(e){return/^\w+:\/\//.test(e)?e:s(this.map.consumer().sourceRoot||this.map.root||".",e)}get from(){return this.file||this.id}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}}e.exports=g,g.default=g,c&&c.registerInput&&c.registerInput(g)},21939:(e,t,n)=>{"use strict";let{isClean:r,my:i}=n(65513),a=n(48505),o=n(67088),s=n(21019),l=n(26461),u=(n(72448),n(83632)),c=n(66939),d=n(41025);const f={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},p={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},h={postcssPlugin:!0,prepare:!0,Once:!0};function m(e){return"object"===typeof e&&"function"===typeof e.then}function g(e){let t=!1,n=f[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[n,n+"-"+t,0,n+"Exit",n+"Exit-"+t]:t?[n,n+"-"+t,n+"Exit",n+"Exit-"+t]:e.append?[n,0,n+"Exit"]:[n,n+"Exit"]}function v(e){let t;return t="document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:g(e),{node:e,events:t,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function y(e){return e[r]=!1,e.nodes&&e.nodes.forEach((e=>y(e))),e}let b={};class w{constructor(e,t,n){let r;if(this.stringified=!1,this.processed=!1,"object"!==typeof t||null===t||"root"!==t.type&&"document"!==t.type)if(t instanceof w||t instanceof u)r=y(t.root),t.map&&("undefined"===typeof n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=t.map);else{let e=c;n.syntax&&(e=n.syntax.parse),n.parser&&(e=n.parser),e.parse&&(e=e.parse);try{r=e(t,n)}catch(a){this.processed=!0,this.error=a}r&&!r[i]&&s.rebuild(r)}else r=y(t);this.result=new u(e,r,n),this.helpers={...b,result:this.result,postcss:b},this.plugins=this.processor.plugins.map((e=>"object"===typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e))}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(e,t){return this.async().then(e,t)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){if(m(this.runOnRoot(e)))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[r];)e[r]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=o;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let n=new a(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}walkSync(e){e[r]=!0;let t=g(e);for(let n of t)if(0===n)e.nodes&&e.each((e=>{e[r]||this.walkSync(e)}));else{let t=this.listeners[n];if(t&&this.visitSync(t,e.toProxy()))return}}visitSync(e,t){for(let[r,i]of e){let e;this.result.lastPlugin=r;try{e=i(t,this.helpers)}catch(n){throw this.handleError(n,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(m(e))throw this.getAsyncError()}}runOnRoot(e){this.result.lastPlugin=e;try{if("object"===typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return m(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"===typeof e)return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let n=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?n.postcssVersion:(e.plugin=n.postcssPlugin,e.setMessage())}catch(r){console&&console.error&&console.error(r)}return e}async runAsync(){this.plugin=0;for(let n=0;n<this.plugins.length;n++){let t=this.plugins[n],r=this.runOnRoot(t);if(m(r))try{await r}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[r];){e[r]=!0;let n=[v(e)];for(;n.length>0;){let e=this.visitTick(n);if(m(e))try{await e}catch(t){let e=n[n.length-1].node;throw this.handleError(t,e)}}}if(this.listeners.OnceExit)for(let[n,r]of this.listeners.OnceExit){this.result.lastPlugin=n;try{if("document"===e.type){let t=e.nodes.map((e=>r(e,this.helpers)));await Promise.all(t)}else await r(e,this.helpers)}catch(t){throw this.handleError(t)}}}return this.processed=!0,this.stringify()}prepareVisitors(){this.listeners={};let e=(e,t,n)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,n])};for(let t of this.plugins)if("object"===typeof t)for(let n in t){if(!p[n]&&/^[A-Z]/.test(n))throw new Error(`Unknown event ${n} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!h[n])if("object"===typeof t[n])for(let r in t[n])e(t,"*"===r?n:n+"-"+r.toLowerCase(),t[n][r]);else"function"===typeof t[n]&&e(t,n,t[n])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(e){let t=e[e.length-1],{node:n,visitors:i}=t;if("root"!==n.type&&"document"!==n.type&&!n.parent)return void e.pop();if(i.length>0&&t.visitorIndex<i.length){let[e,r]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return r(n.toProxy(),this.helpers)}catch(o){throw this.handleError(o,n)}}if(0!==t.iterator){let i,a=t.iterator;for(;i=n.nodes[n.indexes[a]];)if(n.indexes[a]+=1,!i[r])return i[r]=!0,void e.push(v(i));t.iterator=0,delete n.indexes[a]}let a=t.events;for(;t.eventIndex<a.length;){let e=a[t.eventIndex];if(t.eventIndex+=1,0===e)return void(n.nodes&&n.nodes.length&&(n[r]=!0,t.iterator=n.getIterator()));if(this.listeners[e])return void(t.visitors=this.listeners[e])}e.pop()}}w.registerPostcss=e=>{b=e},e.exports=w,w.default=w,d.registerLazyResult(w),l.registerLazyResult(w)},54715:e=>{"use strict";let t={split(e,t,n){let r=[],i="",a=!1,o=0,s=!1,l=!1;for(let u of e)l?l=!1:"\\"===u?l=!0:s?u===s&&(s=!1):'"'===u||"'"===u?s=u:"("===u?o+=1:")"===u?o>0&&(o-=1):0===o&&t.includes(u)&&(a=!0),a?(""!==i&&r.push(i.trim()),i="",a=!1):i+=u;return(n||""!==i)&&r.push(i.trim()),r},space:e=>t.split(e,[" ","\n","\t"]),comma:e=>t.split(e,[","],!0)};e.exports=t,t.default=t},48505:(e,t,n)=>{"use strict";let{SourceMapConsumer:r,SourceMapGenerator:i}=n(70209),{dirname:a,resolve:o,relative:s,sep:l}=n(99830),{pathToFileURL:u}=n(87414),c=n(5995),d=Boolean(r&&i),f=Boolean(a&&o&&s&&l);e.exports=class{constructor(e,t,n,r){this.stringify=e,this.mapOpts=n.map||{},this.root=t,this.opts=n,this.css=r}isMap(){return"undefined"!==typeof this.opts.map?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{let e=new c(this.css,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}isInline(){if("undefined"!==typeof this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return("undefined"===typeof e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isSourcesContent(){return"undefined"!==typeof this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let e={};if(this.root)this.root.walk((t=>{if(t.source){let n=t.source.input.from;n&&!e[n]&&(e[n]=!0,this.map.setSourceContent(this.toUrl(this.path(n)),t.source.input.css))}}));else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}applyPrevMaps(){for(let e of this.previous()){let t,n=this.toUrl(this.path(e.file)),i=e.root||a(e.file);!1===this.mapOpts.sourcesContent?(t=new r(e.text),t.sourcesContent&&(t.sourcesContent=t.sourcesContent.map((()=>null)))):t=e.consumer(),this.map.applySourceMap(t,n,this.toUrl(this.path(i)))}}isAnnotation(){return!!this.isInline()||("undefined"!==typeof this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"===typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"===typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=i.fromSourceMap(e)}else this.map=new i({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(e){if(0===e.indexOf("<"))return e;if(/^\w+:\/\//.test(e))return e;if(this.mapOpts.absolute)return e;let t=this.opts.to?a(this.opts.to):".";return"string"===typeof this.mapOpts.annotation&&(t=a(o(t,this.mapOpts.annotation))),e=s(t,e)}toUrl(e){return"\\"===l&&(e=e.replace(/\\/g,"/")),encodeURI(e).replace(/[#?]/g,encodeURIComponent)}sourcePath(e){if(this.mapOpts.from)return this.toUrl(this.mapOpts.from);if(this.mapOpts.absolute){if(u)return u(e.source.input.from).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}return this.toUrl(this.path(e.source.input.from))}generateString(){this.css="",this.map=new i({file:this.outputFile()});let e,t,n=1,r=1,a="<no source>",o={source:"",generated:{line:0,column:0},original:{line:0,column:0}};this.stringify(this.root,((i,s,l)=>{if(this.css+=i,s&&"end"!==l&&(o.generated.line=n,o.generated.column=r-1,s.source&&s.source.start?(o.source=this.sourcePath(s),o.original.line=s.source.start.line,o.original.column=s.source.start.column-1,this.map.addMapping(o)):(o.source=a,o.original.line=1,o.original.column=0,this.map.addMapping(o))),e=i.match(/\n/g),e?(n+=e.length,t=i.lastIndexOf("\n"),r=i.length-t):r+=i.length,s&&"start"!==l){let e=s.parent||{raws:{}};("decl"!==s.type||s!==e.last||e.raws.semicolon)&&(s.source&&s.source.end?(o.source=this.sourcePath(s),o.original.line=s.source.end.line,o.original.column=s.source.end.column-1,o.generated.line=n,o.generated.column=r-2,this.map.addMapping(o)):(o.source=a,o.original.line=1,o.original.column=0,o.generated.line=n,o.generated.column=r-1,this.map.addMapping(o)))}}))}generate(){if(this.clearAnnotation(),f&&d&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,(t=>{e+=t})),[e]}}}},47647:(e,t,n)=>{"use strict";let r=n(48505),i=n(67088),a=(n(72448),n(66939));const o=n(83632);class s{constructor(e,t,n){let a;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=n,this._map=void 0;let s=i;this.result=new o(this._processor,a,this._opts),this.result.css=t;let l=this;Object.defineProperty(this.result,"root",{get:()=>l.root});let u=new r(s,a,this._opts,t);if(u.isMap()){let[e,t]=u.generate();e&&(this.result.css=e),t&&(this.result.map=t)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let e,t=a;try{e=t(this._css,this._opts)}catch(n){this.error=n}if(this.error)throw this.error;return this._root=e,e}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(e,t){return this.async().then(e,t)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}}e.exports=s,s.default=s},65631:(e,t,n)=>{"use strict";let{isClean:r,my:i}=n(65513),a=n(42671),o=n(1062),s=n(67088);function l(e,t){let n=new e.constructor;for(let r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;if("proxyCache"===r)continue;let i=e[r],a=typeof i;"parent"===r&&"object"===a?t&&(n[r]=t):"source"===r?n[r]=i:Array.isArray(i)?n[r]=i.map((e=>l(e,n))):("object"===a&&null!==i&&(i=l(i)),n[r]=i)}return n}class u{constructor(e={}){this.raws={},this[r]=!1,this[i]=!0;for(let t in e)if("nodes"===t){this.nodes=[];for(let n of e[t])"function"===typeof n.clone?this.append(n.clone()):this.append(n)}else this[t]=e[t]}error(e,t={}){if(this.source){let{start:n,end:r}=this.rangeBy(t);return this.source.input.error(e,{line:n.line,column:n.column},{line:r.line,column:r.column},t)}return new a(e)}warn(e,t,n){let r={node:this};for(let i in n)r[i]=n[i];return e.warn(t,r)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(e=s){e.stringify&&(e=e.stringify);let t="";return e(this,(e=>{t+=e})),t}assign(e={}){for(let t in e)this[t]=e[t];return this}clone(e={}){let t=l(this);for(let n in e)t[n]=e[n];return t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}replaceWith(...e){if(this.parent){let t=this,n=!1;for(let r of e)r===this?n=!0:n?(this.parent.insertAfter(t,r),t=r):this.parent.insertBefore(t,r);n||this.remove()}return this}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}before(e){return this.parent.insertBefore(this,e),this}after(e){return this.parent.insertAfter(this,e),this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}raw(e,t){return(new o).raw(this,e,t)}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}toJSON(e,t){let n={},r=null==t;t=t||new Map;let i=0;for(let a in this){if(!Object.prototype.hasOwnProperty.call(this,a))continue;if("parent"===a||"proxyCache"===a)continue;let e=this[a];if(Array.isArray(e))n[a]=e.map((e=>"object"===typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"===typeof e&&e.toJSON)n[a]=e.toJSON(null,t);else if("source"===a){let r=t.get(e.input);null==r&&(r=i,t.set(e.input,i),i++),n[a]={inputId:r,start:e.start,end:e.end}}else n[a]=e}return r&&(n.inputs=[...t.keys()].map((e=>e.toJSON()))),n}positionInside(e){let t=this.toString(),n=this.source.start.column,r=this.source.start.line;for(let i=0;i<e;i++)"\n"===t[i]?(n=1,r+=1):n+=1;return{line:r,column:n}}positionBy(e){let t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){let n=this.toString().indexOf(e.word);-1!==n&&(t=this.positionInside(n))}return t}rangeBy(e){let t={line:this.source.start.line,column:this.source.start.column},n=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:t.line,column:t.column+1};if(e.word){let r=this.toString().indexOf(e.word);-1!==r&&(t=this.positionInside(r),n=this.positionInside(r+e.word.length))}else e.start?t={line:e.start.line,column:e.start.column}:e.index&&(t=this.positionInside(e.index)),e.end?n={line:e.end.line,column:e.end.column}:e.endIndex?n=this.positionInside(e.endIndex):e.index&&(n=this.positionInside(e.index+1));return(n.line<t.line||n.line===t.line&&n.column<=t.column)&&(n={line:t.line,column:t.column+1}),{start:t,end:n}}getProxyProcessor(){return{set:(e,t,n)=>(e[t]===n||(e[t]=n,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0),get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t]}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}markDirty(){if(this[r]){this[r]=!1;let e=this;for(;e=e.parent;)e[r]=!1}}get proxyOf(){return this}}e.exports=u,u.default=u},66939:(e,t,n)=>{"use strict";let r=n(21019),i=n(68867),a=n(5995);function o(e,t){let n=new a(e,t),r=new i(n);try{r.parse()}catch(o){throw o}return r.root}e.exports=o,o.default=o,r.registerParse(o)},68867:(e,t,n)=>{"use strict";let r=n(94258),i=n(83852),a=n(69932),o=n(41353),s=n(41025),l=n(31675);const u={empty:!0,space:!0};e.exports=class{constructor(e){this.input=e,this.root=new s,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:e,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=i(this.input)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}comment(e){let t=new a;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]);let n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{let e=n.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}emptyRule(e){let t=new l;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}other(e){let t=!1,n=null,r=!1,i=null,a=[],o=e[1].startsWith("--"),s=[],l=e;for(;l;){if(n=l[0],s.push(l),"("===n||"["===n)i||(i=l),a.push("("===n?")":"]");else if(o&&r&&"{"===n)i||(i=l),a.push("}");else if(0===a.length){if(";"===n){if(r)return void this.decl(s,o);break}if("{"===n)return void this.rule(s);if("}"===n){this.tokenizer.back(s.pop()),t=!0;break}":"===n&&(r=!0)}else n===a[a.length-1]&&(a.pop(),0===a.length&&(i=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),a.length>0&&this.unclosedBracket(i),t&&r){if(!o)for(;s.length&&(l=s[s.length-1][0],"space"===l||"comment"===l);)this.tokenizer.back(s.pop());this.decl(s,o)}else this.unknownWord(s)}rule(e){e.pop();let t=new l;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}decl(e,t){let n=new r;this.init(n,e[0][2]);let i,a=e[e.length-1];for(";"===a[0]&&(this.semicolon=!0,e.pop()),n.source.end=this.getPosition(a[3]||a[2]||function(e){for(let t=e.length-1;t>=0;t--){let n=e[t],r=n[3]||n[2];if(r)return r}}(e));"word"!==e[0][0];)1===e.length&&this.unknownWord(e),n.raws.before+=e.shift()[1];for(n.source.start=this.getPosition(e[0][2]),n.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;n.prop+=e.shift()[1]}for(n.raws.between="";e.length;){if(i=e.shift(),":"===i[0]){n.raws.between+=i[1];break}"word"===i[0]&&/\w/.test(i[1])&&this.unknownWord([i]),n.raws.between+=i[1]}"_"!==n.prop[0]&&"*"!==n.prop[0]||(n.raws.before+=n.prop[0],n.prop=n.prop.slice(1));let o,s=[];for(;e.length&&(o=e[0][0],"space"===o||"comment"===o);)s.push(e.shift());this.precheckMissedSemicolon(e);for(let r=e.length-1;r>=0;r--){if(i=e[r],"!important"===i[1].toLowerCase()){n.important=!0;let t=this.stringFrom(e,r);t=this.spacesFromEnd(e)+t," !important"!==t&&(n.raws.important=t);break}if("important"===i[1].toLowerCase()){let t=e.slice(0),i="";for(let e=r;e>0;e--){let n=t[e][0];if(0===i.trim().indexOf("!")&&"space"!==n)break;i=t.pop()[1]+i}0===i.trim().indexOf("!")&&(n.important=!0,n.raws.important=i,e=t)}if("space"!==i[0]&&"comment"!==i[0])break}e.some((e=>"space"!==e[0]&&"comment"!==e[0]))&&(n.raws.between+=s.map((e=>e[1])).join(""),s=[]),this.raw(n,"value",s.concat(e),t),n.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}atrule(e){let t,n,r,i=new o;i.name=e[1].slice(1),""===i.name&&this.unnamedAtrule(i,e),this.init(i,e[2]);let a=!1,s=!1,l=[],u=[];for(;!this.tokenizer.endOfFile();){if(t=(e=this.tokenizer.nextToken())[0],"("===t||"["===t?u.push("("===t?")":"]"):"{"===t&&u.length>0?u.push("}"):t===u[u.length-1]&&u.pop(),0===u.length){if(";"===t){i.source.end=this.getPosition(e[2]),this.semicolon=!0;break}if("{"===t){s=!0;break}if("}"===t){if(l.length>0){for(r=l.length-1,n=l[r];n&&"space"===n[0];)n=l[--r];n&&(i.source.end=this.getPosition(n[3]||n[2]))}this.end(e);break}l.push(e)}else l.push(e);if(this.tokenizer.endOfFile()){a=!0;break}}i.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(i.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(i,"params",l),a&&(e=l[l.length-1],i.source.end=this.getPosition(e[3]||e[2]),this.spaces=i.raws.between,i.raws.between="")):(i.raws.afterName="",i.params=""),s&&(i.nodes=[],this.current=i)}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{offset:e,line:t.line,column:t.col}}init(e,t){this.current.push(e),e.source={start:this.getPosition(t),input:this.input},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}raw(e,t,n,r){let i,a,o,s,l=n.length,c="",d=!0;for(let f=0;f<l;f+=1)i=n[f],a=i[0],"space"!==a||f!==l-1||r?"comment"===a?(s=n[f-1]?n[f-1][0]:"empty",o=n[f+1]?n[f+1][0]:"empty",u[s]||u[o]||","===c.slice(-1)?d=!1:c+=i[1]):c+=i[1]:d=!1;if(!d){let r=n.reduce(((e,t)=>e+t[1]),"");e.raws[t]={value:c,raw:r}}e[t]=c}spacesAndCommentsFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)n=e.pop()[1]+n;return n}spacesAndCommentsFromStart(e){let t,n="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)n+=e.shift()[1];return n}spacesFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)n=e.pop()[1]+n;return n}stringFrom(e,t){let n="";for(let r=t;r<e.length;r++)n+=e[r][1];return e.splice(t,e.length-t),n}colon(e){let t,n,r,i=0;for(let[a,o]of e.entries()){if(t=o,n=t[0],"("===n&&(i+=1),")"===n&&(i-=1),0===i&&":"===n){if(r){if("word"===r[0]&&"progid"===r[1])continue;return a}this.doubleColon(t)}r=t}return!1}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let n,r=0;for(let i=t-1;i>=0&&(n=e[i],"space"===n[0]||(r+=1,2!==r));i--);throw this.input.error("Missed semicolon","word"===n[0]?n[3]+1:n[2])}}},50020:(e,t,n)=>{"use strict";let r=n(42671),i=n(94258),a=n(21939),o=n(21019),s=n(71723),l=n(67088),u=n(50250),c=n(26461),d=n(11728),f=n(69932),p=n(41353),h=n(83632),m=n(5995),g=n(66939),v=n(54715),y=n(31675),b=n(41025),w=n(65631);function S(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new s(e)}S.plugin=function(e,t){let n,r=!1;function i(...n){console&&console.warn&&!r&&(r=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+": \u91cc\u9762 postcss.plugin \u88ab\u5f03\u7528. \u8fc1\u79fb\u6307\u5357:\nhttps://www.w3ctech.com/topic/2226"));let i=t(...n);return i.postcssPlugin=e,i.postcssVersion=(new s).version,i}return Object.defineProperty(i,"postcss",{get:()=>(n||(n=i()),n)}),i.process=function(e,t,n){return S([i(n)]).process(e,t)},i},S.stringify=l,S.parse=g,S.fromJSON=u,S.list=v,S.comment=e=>new f(e),S.atRule=e=>new p(e),S.decl=e=>new i(e),S.rule=e=>new y(e),S.root=e=>new b(e),S.document=e=>new c(e),S.CssSyntaxError=r,S.Declaration=i,S.Container=o,S.Processor=s,S.Document=c,S.Comment=f,S.Warning=d,S.AtRule=p,S.Result=h,S.Input=m,S.Rule=y,S.Root=b,S.Node=w,a.registerPostcss(S),e.exports=S,S.default=S},47981:(e,t,n)=>{"use strict";let{SourceMapConsumer:r,SourceMapGenerator:i}=n(70209),{existsSync:a,readFileSync:o}=n(14777),{dirname:s,join:l}=n(99830);class u{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let n=t.map?t.map.prev:void 0,r=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=s(this.mapFile)),r&&(this.text=r)}consumer(){return this.consumerCache||(this.consumerCache=new r(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(e,t){return!!e&&e.substr(0,t.length)===t}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let n=e.lastIndexOf(t.pop()),r=e.indexOf("*/",n);n>-1&&r>-1&&(this.annotation=this.getAnnotationURL(e.substring(n,r)))}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return t=e.substr(RegExp.lastMatch.length),Buffer?Buffer.from(t,"base64").toString():window.atob(t);var t;let n=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+n)}loadFile(e){if(this.root=s(e),a(e))return this.mapFile=e,o(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"===typeof t)return t;if("function"!==typeof t){if(t instanceof r)return i.fromSourceMap(t).toString();if(t instanceof i)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let n=t(e);if(n){let e=this.loadFile(n);if(!e)throw new Error("Unable to load previous source map: "+n.toString());return e}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let t=this.annotation;return e&&(t=l(s(e),t)),this.loadFile(t)}}}isMap(e){return"object"===typeof e&&("string"===typeof e.mappings||"string"===typeof e._mappings||Array.isArray(e.sections))}}e.exports=u,u.default=u},71723:(e,t,n)=>{"use strict";let r=n(47647),i=n(21939),a=n(26461),o=n(41025);class s{constructor(e=[]){this.version="8.4.14",this.plugins=this.normalize(e)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}process(e,t={}){return 0===this.plugins.length&&"undefined"===typeof t.parser&&"undefined"===typeof t.stringifier&&"undefined"===typeof t.syntax?new r(this,e,t):new i(this,e,t)}normalize(e){let t=[];for(let n of e)if(!0===n.postcss?n=n():n.postcss&&(n=n.postcss),"object"===typeof n&&Array.isArray(n.plugins))t=t.concat(n.plugins);else if("object"===typeof n&&n.postcssPlugin)t.push(n);else if("function"===typeof n)t.push(n);else{if("object"!==typeof n||!n.parse&&!n.stringify)throw new Error(n+" is not a PostCSS plugin")}return t}}e.exports=s,s.default=s,o.registerProcessor(s),a.registerProcessor(s)},83632:(e,t,n)=>{"use strict";let r=n(11728);class i{constructor(e,t,n){this.processor=e,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let n=new r(e,t);return this.messages.push(n),n}warnings(){return this.messages.filter((e=>"warning"===e.type))}get content(){return this.css}}e.exports=i,i.default=i},41025:(e,t,n)=>{"use strict";let r,i,a=n(21019);class o extends a{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}removeChild(e,t){let n=this.index(e);return!t&&0===n&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),super.removeChild(e)}normalize(e,t,n){let r=super.normalize(e);if(t)if("prepend"===n)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let i of r)i.raws.before=t.raws.before;return r}toResult(e={}){return new r(new i,this,e).stringify()}}o.registerLazyResult=e=>{r=e},o.registerProcessor=e=>{i=e},e.exports=o,o.default=o},31675:(e,t,n)=>{"use strict";let r=n(21019),i=n(54715);class a extends r{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return i.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}}e.exports=a,a.default=a,r.registerRule(a)},1062:e=>{"use strict";const t={colon:": ",indent:"    ",beforeDecl:"\n",beforeRule:"\n",beforeOpen:" ",beforeClose:"\n",beforeComment:"\n",after:"\n",emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};class n{constructor(e){this.builder=e}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}document(e){this.body(e)}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}comment(e){let t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)}decl(e,t){let n=this.raw(e,"between","colon"),r=e.prop+n+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}atrule(e,t){let n="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if("undefined"!==typeof e.raws.afterName?n+=e.raws.afterName:r&&(n+=" "),e.nodes)this.block(e,n+r);else{let i=(e.raws.between||"")+(t?";":"");this.builder(n+r+i,e)}}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let n=this.raw(e,"semicolon");for(let r=0;r<e.nodes.length;r++){let i=e.nodes[r],a=this.raw(i,"before");a&&this.builder(a),this.stringify(i,t!==r||n)}}block(e,t){let n,r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")}raw(e,n,r){let i;if(r||(r=n),n&&(i=e.raws[n],"undefined"!==typeof i))return i;let a=e.parent;if("before"===r){if(!a||"root"===a.type&&a.first===e)return"";if(a&&"document"===a.type)return""}if(!a)return t[r];let o=e.root();if(o.rawCache||(o.rawCache={}),"undefined"!==typeof o.rawCache[r])return o.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(e,r);{let t="raw"+((s=r)[0].toUpperCase()+s.slice(1));this[t]?i=this[t](o,e):o.walk((e=>{if(i=e.raws[n],"undefined"!==typeof i)return!1}))}var s;return"undefined"===typeof i&&(i=t[r]),o.rawCache[r]=i,i}rawSemicolon(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,"undefined"!==typeof t))return!1})),t}rawEmptyBody(e){let t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&(t=e.raws.after,"undefined"!==typeof t))return!1})),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk((n=>{let r=n.parent;if(r&&r!==e&&r.parent&&r.parent===e&&"undefined"!==typeof n.raws.before){let e=n.raws.before.split("\n");return t=e[e.length-1],t=t.replace(/\S/g,""),!1}})),t}rawBeforeComment(e,t){let n;return e.walkComments((e=>{if("undefined"!==typeof e.raws.before)return n=e.raws.before,n.includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1})),"undefined"===typeof n?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeDecl(e,t){let n;return e.walkDecls((e=>{if("undefined"!==typeof e.raws.before)return n=e.raws.before,n.includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1})),"undefined"===typeof n?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeRule(e){let t;return e.walk((n=>{if(n.nodes&&(n.parent!==e||e.first!==n)&&"undefined"!==typeof n.raws.before)return t=n.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeClose(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&"undefined"!==typeof e.raws.after)return t=e.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeOpen(e){let t;return e.walk((e=>{if("decl"!==e.type&&(t=e.raws.between,"undefined"!==typeof t))return!1})),t}rawColon(e){let t;return e.walkDecls((e=>{if("undefined"!==typeof e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}beforeAfter(e,t){let n;n="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let r=e.parent,i=0;for(;r&&"root"!==r.type;)i+=1,r=r.parent;if(n.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<i;e++)n+=t}return n}rawValue(e,t){let n=e[t],r=e.raws[t];return r&&r.value===n?r.raw:n}}e.exports=n,n.default=n},67088:(e,t,n)=>{"use strict";let r=n(1062);function i(e,t){new r(t).stringify(e)}e.exports=i,i.default=i},65513:e=>{"use strict";e.exports.isClean=Symbol("isClean"),e.exports.my=Symbol("my")},83852:e=>{"use strict";const t="'".charCodeAt(0),n='"'.charCodeAt(0),r="\\".charCodeAt(0),i="/".charCodeAt(0),a="\n".charCodeAt(0),o=" ".charCodeAt(0),s="\f".charCodeAt(0),l="\t".charCodeAt(0),u="\r".charCodeAt(0),c="[".charCodeAt(0),d="]".charCodeAt(0),f="(".charCodeAt(0),p=")".charCodeAt(0),h="{".charCodeAt(0),m="}".charCodeAt(0),g=";".charCodeAt(0),v="*".charCodeAt(0),y=":".charCodeAt(0),b="@".charCodeAt(0),w=/[\t\n\f\r "#'()/;[\\\]{}]/g,S=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,_=/.[\n"'(/\\]/,x=/[\da-f]/i;e.exports=function(e,T={}){let k,E,C,O,P,I,A,D,M,R,N=e.css.valueOf(),L=T.ignoreErrors,j=N.length,B=0,F=[],U=[];function H(t){throw e.error("Unclosed "+t,B)}return{back:function(e){U.push(e)},nextToken:function(e){if(U.length)return U.pop();if(B>=j)return;let T=!!e&&e.ignoreUnclosed;switch(k=N.charCodeAt(B),k){case a:case o:case l:case u:case s:E=B;do{E+=1,k=N.charCodeAt(E)}while(k===o||k===a||k===l||k===u||k===s);R=["space",N.slice(B,E)],B=E-1;break;case c:case d:case h:case m:case y:case g:case p:{let e=String.fromCharCode(k);R=[e,e,B];break}case f:if(D=F.length?F.pop()[1]:"",M=N.charCodeAt(B+1),"url"===D&&M!==t&&M!==n&&M!==o&&M!==a&&M!==l&&M!==s&&M!==u){E=B;do{if(I=!1,E=N.indexOf(")",E+1),-1===E){if(L||T){E=B;break}H("bracket")}for(A=E;N.charCodeAt(A-1)===r;)A-=1,I=!I}while(I);R=["brackets",N.slice(B,E+1),B,E],B=E}else E=N.indexOf(")",B+1),O=N.slice(B,E+1),-1===E||_.test(O)?R=["(","(",B]:(R=["brackets",O,B,E],B=E);break;case t:case n:C=k===t?"'":'"',E=B;do{if(I=!1,E=N.indexOf(C,E+1),-1===E){if(L||T){E=B+1;break}H("string")}for(A=E;N.charCodeAt(A-1)===r;)A-=1,I=!I}while(I);R=["string",N.slice(B,E+1),B,E],B=E;break;case b:w.lastIndex=B+1,w.test(N),E=0===w.lastIndex?N.length-1:w.lastIndex-2,R=["at-word",N.slice(B,E+1),B,E],B=E;break;case r:for(E=B,P=!0;N.charCodeAt(E+1)===r;)E+=1,P=!P;if(k=N.charCodeAt(E+1),P&&k!==i&&k!==o&&k!==a&&k!==l&&k!==u&&k!==s&&(E+=1,x.test(N.charAt(E)))){for(;x.test(N.charAt(E+1));)E+=1;N.charCodeAt(E+1)===o&&(E+=1)}R=["word",N.slice(B,E+1),B,E],B=E;break;default:k===i&&N.charCodeAt(B+1)===v?(E=N.indexOf("*/",B+2)+1,0===E&&(L||T?E=N.length:H("comment")),R=["comment",N.slice(B,E+1),B,E],B=E):(S.lastIndex=B+1,S.test(N),E=0===S.lastIndex?N.length-1:S.lastIndex-2,R=["word",N.slice(B,E+1),B,E],F.push(R),B=E)}return B++,R},endOfFile:function(){return 0===U.length&&B>=j},position:function(){return B}}}},72448:e=>{"use strict";let t={};e.exports=function(e){t[e]||(t[e]=!0,"undefined"!==typeof console&&console.warn&&console.warn(e))}},11728:e=>{"use strict";class t{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let n in t)this[n]=t[n]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}e.exports=t,t.default=t},92703:(e,t,n)=>{"use strict";var r=n(50414);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},45697:(e,t,n)=>{e.exports=n(92703)()},50414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},87774:(e,t,n)=>{"use strict";var r=n(67294);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=Object.prototype.hasOwnProperty,o=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s={},l={};function u(e){return!!a.call(l,e)||!a.call(s,e)&&(o.test(e)?l[e]=!0:(s[e]=!0,!1))}function c(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var d={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){d[e]=new c(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];d[t]=new c(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){d[e]=new c(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){d[e]=new c(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){d[e]=new c(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){d[e]=new c(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){d[e]=new c(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){d[e]=new c(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){d[e]=new c(e,5,!1,e.toLowerCase(),null,!1,!1)}));var f=/[\-:]([a-z])/g;function p(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(f,p);d[t]=new c(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(f,p);d[t]=new c(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(f,p);d[t]=new c(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){d[e]=new c(e,1,!1,e.toLowerCase(),null,!1,!1)})),d.xlinkHref=new c("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){d[e]=new c(e,1,!1,e.toLowerCase(),null,!0,!0)}));var h={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m=["Webkit","ms","Moz","O"];Object.keys(h).forEach((function(e){m.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),h[t]=h[e]}))}));var g=/["'&<>]/;function v(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=g.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var y=/([A-Z])/g,b=/^ms-/,w=Array.isArray;function S(e,t){return{insertionMode:e,selectedValue:t}}var _=new Map;function x(e,t,n){if("object"!==typeof n)throw Error(i(62));for(var r in t=!0,n)if(a.call(n,r)){var o=n[r];if(null!=o&&"boolean"!==typeof o&&""!==o){if(0===r.indexOf("--")){var s=v(r);o=v((""+o).trim())}else{s=r;var l=_.get(s);void 0!==l||(l=v(s.replace(y,"-$1").toLowerCase().replace(b,"-ms-")),_.set(s,l)),s=l,o="number"===typeof o?0===o||a.call(h,r)?""+o:o+"px":v((""+o).trim())}t?(t=!1,e.push(' style="',s,":",o)):e.push(";",s,":",o)}}t||e.push('"')}function T(e,t,n,r){switch(n){case"style":return void x(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=d.hasOwnProperty(n)?d[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:!0===r?e.push(" ",n,'=""'):!1!==r&&e.push(" ",n,'="',v(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',v(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',v(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',v(r),'"')}}else if(u(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(" ",n,'="',v(r),'"')}}function k(e,t,n){if(null!=t){if(null!=n)throw Error(i(60));if("object"!==typeof t||!("__html"in t))throw Error(i(61));null!==(t=t.__html)&&void 0!==t&&e.push(""+t)}}function E(e,t,n,r){e.push(P(n));var i,o=n=null;for(i in t)if(a.call(t,i)){var s=t[i];if(null!=s)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:T(e,r,i,s)}}return e.push(">"),k(e,o,n),"string"===typeof n?(e.push(v(n)),null):n}var C=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,O=new Map;function P(e){var t=O.get(e);if(void 0===t){if(!C.test(e))throw Error(i(65,e));t="<"+e,O.set(e,t)}return t}function I(e,t,n,o,s){switch(t){case"select":e.push(P("select"));var l=null,c=null;for(h in n)if(a.call(n,h)){var d=n[h];if(null!=d)switch(h){case"children":l=d;break;case"dangerouslySetInnerHTML":c=d;break;case"defaultValue":case"value":break;default:T(e,o,h,d)}}return e.push(">"),k(e,c,l),l;case"option":c=s.selectedValue,e.push(P("option"));var f=d=null,p=null,h=null;for(l in n)if(a.call(n,l)){var m=n[l];if(null!=m)switch(l){case"children":d=m;break;case"selected":p=m;break;case"dangerouslySetInnerHTML":h=m;break;case"value":f=m;default:T(e,o,l,m)}}if(null!=c)if(n=null!==f?""+f:function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(d),w(c)){for(o=0;o<c.length;o++)if(""+c[o]===n){e.push(' selected=""');break}}else""+c===n&&e.push(' selected=""');else p&&e.push(' selected=""');return e.push(">"),k(e,h,d),d;case"textarea":for(d in e.push(P("textarea")),h=c=l=null,n)if(a.call(n,d)&&null!=(f=n[d]))switch(d){case"children":h=f;break;case"value":l=f;break;case"defaultValue":c=f;break;case"dangerouslySetInnerHTML":throw Error(i(91));default:T(e,o,d,f)}if(null===l&&null!==c&&(l=c),e.push(">"),null!=h){if(null!=l)throw Error(i(92));if(w(h)&&1<h.length)throw Error(i(93));l=""+h}return"string"===typeof l&&"\n"===l[0]&&e.push("\n"),null!==l&&e.push(v(""+l)),null;case"input":for(c in e.push(P("input")),f=h=d=l=null,n)if(a.call(n,c)&&null!=(p=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(i(399,"input"));case"defaultChecked":f=p;break;case"defaultValue":d=p;break;case"checked":h=p;break;case"value":l=p;break;default:T(e,o,c,p)}return null!==h?T(e,o,"checked",h):null!==f&&T(e,o,"checked",f),null!==l?T(e,o,"value",l):null!==d&&T(e,o,"value",d),e.push("/>"),null;case"menuitem":for(var g in e.push(P("menuitem")),n)if(a.call(n,g)&&null!=(l=n[g]))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(i(400));default:T(e,o,g,l)}return e.push(">"),null;case"title":for(m in e.push(P("title")),l=null,n)if(a.call(n,m)&&null!=(c=n[m]))switch(m){case"children":l=c;break;case"dangerouslySetInnerHTML":throw Error(i(434));default:T(e,o,m,c)}return e.push(">"),l;case"listing":case"pre":for(f in e.push(P(t)),c=l=null,n)if(a.call(n,f)&&null!=(d=n[f]))switch(f){case"children":l=d;break;case"dangerouslySetInnerHTML":c=d;break;default:T(e,o,f,d)}if(e.push(">"),null!=c){if(null!=l)throw Error(i(60));if("object"!==typeof c||!("__html"in c))throw Error(i(61));null!==(n=c.__html)&&void 0!==n&&("string"===typeof n&&0<n.length&&"\n"===n[0]?e.push("\n",n):e.push(""+n))}return"string"===typeof l&&"\n"===l[0]&&e.push("\n"),l;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var y in e.push(P(t)),n)if(a.call(n,y)&&null!=(l=n[y]))switch(y){case"children":case"dangerouslySetInnerHTML":throw Error(i(399,t));default:T(e,o,y,l)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return E(e,n,t,o);case"html":return 0===s.insertionMode&&e.push("<!DOCTYPE html>"),E(e,n,t,o);default:if(-1===t.indexOf("-")&&"string"!==typeof n.is)return E(e,n,t,o);for(p in e.push(P(t)),c=l=null,n)if(a.call(n,p)&&null!=(d=n[p]))switch(p){case"children":l=d;break;case"dangerouslySetInnerHTML":c=d;break;case"style":x(e,o,d);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:u(p)&&"function"!==typeof d&&"symbol"!==typeof d&&e.push(" ",p,'="',v(d),'"')}return e.push(">"),k(e,c,l),l}}function A(e,t,n){if(e.push('\x3c!--$?--\x3e<template id="'),null===n)throw Error(i(395));return e.push(n),e.push('"></template>')}var D=/[<\u2028\u2029]/g;function M(e){return JSON.stringify(e).replace(D,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}function R(e,t,n,r){return n.generateStaticMarkup?(e.push(v(t)),!1):(""===t?e=r:(r&&e.push("\x3c!-- --\x3e"),e.push(v(t)),e=!0),e)}var N=Object.assign,L=Symbol.for("react.element"),j=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),z=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Z=Symbol.for("react.scope"),K=Symbol.for("react.debug_trace_mode"),X=Symbol.for("react.legacy_hidden"),Y=Symbol.for("react.default_value"),Q=Symbol.iterator;function J(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case B:return"Fragment";case j:return"Portal";case U:return"Profiler";case F:return"StrictMode";case $:return"Suspense";case G:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case z:return(e.displayName||"Context")+".Consumer";case H:return(e._context.displayName||"Context")+".Provider";case V:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case W:return null!==(t=e.displayName||null)?t:J(e.type)||"Memo";case q:t=e._payload,e=e._init;try{return J(e(t))}catch(n){}}return null}var ee={};function te(e,t){if(!(e=e.contextTypes))return ee;var n,r={};for(n in e)r[n]=t[n];return r}var ne=null;function re(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(i(401))}else{if(null===n)throw Error(i(401));re(e,n)}t.context._currentValue2=t.value}}function ie(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&ie(e)}function ae(e){var t=e.parent;null!==t&&ae(t),e.context._currentValue2=e.value}function oe(e,t){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(i(402));e.depth===t.depth?re(e,t):oe(e,t)}function se(e,t){var n=t.parent;if(null===n)throw Error(i(402));e.depth===n.depth?re(e,n):se(e,n),t.context._currentValue2=t.value}function le(e){var t=ne;t!==e&&(null===t?ae(e):null===e?ie(t):t.depth===e.depth?re(t,e):t.depth>e.depth?oe(t,e):se(t,e),ne=e)}var ue={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function ce(e,t,n,r){var i=void 0!==e.state?e.state:null;e.updater=ue,e.props=n,e.state=i;var a={queue:[],replace:!1};e._reactInternals=a;var o=t.contextType;if(e.context="object"===typeof o&&null!==o?o._currentValue2:r,"function"===typeof(o=t.getDerivedStateFromProps)&&(i=null===(o=o(n,i))||void 0===o?i:N({},i,o),e.state=i),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&ue.enqueueReplaceState(e,e.state,null),null!==a.queue&&0<a.queue.length)if(t=a.queue,o=a.replace,a.queue=null,a.replace=!1,o&&1===t.length)e.state=t[0];else{for(a=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var s=t[o];null!=(s="function"===typeof s?s.call(e,a,n,r):s)&&(i?(i=!1,a=N({},a,s)):N(a,s))}e.state=a}else a.queue=null}var de={id:1,overflow:""};function fe(e,t,n){var r=e.id;e=e.overflow;var i=32-pe(r)-1;r&=~(1<<i),n+=1;var a=32-pe(t)+i;if(30<a){var o=i-i%5;return a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-pe(t)+i|n<<i|r,overflow:a+e}}return{id:1<<a|n<<i|r,overflow:e}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(he(e)/me|0)|0},he=Math.log,me=Math.LN2;var ge="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ve=null,ye=null,be=null,we=null,Se=!1,_e=!1,xe=0,Te=null,ke=0;function Ee(){if(null===ve)throw Error(i(321));return ve}function Ce(){if(0<ke)throw Error(i(312));return{memoizedState:null,queue:null,next:null}}function Oe(){return null===we?null===be?(Se=!1,be=we=Ce()):(Se=!0,we=be):null===we.next?(Se=!1,we=we.next=Ce()):(Se=!0,we=we.next),we}function Pe(){ye=ve=null,_e=!1,be=null,ke=0,we=Te=null}function Ie(e,t){return"function"===typeof t?t(e):t}function Ae(e,t,n){if(ve=Ee(),we=Oe(),Se){var r=we.queue;if(t=r.dispatch,null!==Te&&void 0!==(n=Te.get(r))){Te.delete(r),r=we.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return we.memoizedState=r,[r,t]}return[we.memoizedState,t]}return e=e===Ie?"function"===typeof t?t():t:void 0!==n?n(t):t,we.memoizedState=e,e=(e=we.queue={last:null,dispatch:null}).dispatch=Me.bind(null,ve,e),[we.memoizedState,e]}function De(e,t){if(ve=Ee(),t=void 0===t?null:t,null!==(we=Oe())){var n=we.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!ge(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),we.memoizedState=[e,t],e}function Me(e,t,n){if(25<=ke)throw Error(i(301));if(e===ve)if(_e=!0,e={action:n,next:null},null===Te&&(Te=new Map),void 0===(n=Te.get(t)))Te.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function Re(){throw Error(i(394))}function Ne(){}var Le={readContext:function(e){return e._currentValue2},useContext:function(e){return Ee(),e._currentValue2},useMemo:De,useReducer:Ae,useRef:function(e){ve=Ee();var t=(we=Oe()).memoizedState;return null===t?(e={current:e},we.memoizedState=e):t},useState:function(e){return Ae(Ie,e)},useInsertionEffect:Ne,useLayoutEffect:function(){},useCallback:function(e,t){return De((function(){return e}),t)},useImperativeHandle:Ne,useEffect:Ne,useDebugValue:Ne,useDeferredValue:function(e){return Ee(),e},useTransition:function(){return Ee(),[!1,Re]},useId:function(){var e=ye.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-pe(e)-1)).toString(32)+t;var n=je;if(null===n)throw Error(i(404));return t=xe++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Ee(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(i(407));return n()}},je=null,Be=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Fe(e){return console.error(e),null}function Ue(){}function He(e,t,n,r,i,a,o,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&nt(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:a,context:o,treeContext:s};return i.add(l),l}function ze(e,t,n,r,i,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:a}}function Ve(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function $e(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function Ge(e,t,n,r,i){for(ve={},ye=t,xe=0,e=n(r,i);_e;)_e=!1,xe=0,ke+=1,we=null,e=n(r,i);return Pe(),e}function We(e,t,n,r){var a=n.render(),o=r.childContextTypes;if(null!==o&&void 0!==o){var s=t.legacyContext;if("function"!==typeof n.getChildContext)r=s;else{for(var l in n=n.getChildContext())if(!(l in o))throw Error(i(108,J(r)||"Unknown",l));r=N({},s,n)}t.legacyContext=r,Ke(e,t,a),t.legacyContext=s}else Ke(e,t,a)}function qe(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Ze(e,t,n,r,a){if("function"===typeof n)if(n.prototype&&n.prototype.isReactComponent){a=te(n,t.legacyContext);var o=n.contextType;ce(o=new n(r,"object"===typeof o&&null!==o?o._currentValue2:a),n,r,a),We(e,t,o,n)}else{a=Ge(e,t,n,r,o=te(n,t.legacyContext));var s=0!==xe;if("object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof)ce(a,n,r,o),We(e,t,a,n);else if(s){r=t.treeContext,t.treeContext=fe(r,1,0);try{Ke(e,t,a)}finally{t.treeContext=r}}else Ke(e,t,a)}else{if("string"!==typeof n){switch(n){case X:case K:case F:case U:case B:case G:return void Ke(e,t,r.children);case Z:throw Error(i(343));case $:e:{n=t.blockedBoundary,a=t.blockedSegment,o=r.fallback,r=r.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},u=ze(0,a.chunks.length,l,a.formatContext,!1,!1);a.children.push(u),a.lastPushedText=!1;var c=ze(0,0,null,a.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=c;try{if(Ye(e,t,r),e.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("\x3c!-- --\x3e"),c.status=1,et(l,c),0===l.pendingTasks)break e}catch(d){c.status=4,l.forceClientRender=!0,l.errorDigest=Ve(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=a}t=He(e,o,n,u,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof n&&null!==n)switch(n.$$typeof){case V:if(r=Ge(e,t,n.render,r,a),0!==xe){n=t.treeContext,t.treeContext=fe(n,1,0);try{Ke(e,t,r)}finally{t.treeContext=n}}else Ke(e,t,r);return;case W:return void Ze(e,t,n=n.type,r=qe(n,r),a);case H:if(a=r.children,n=n._context,r=r.value,o=n._currentValue2,n._currentValue2=r,ne=r={parent:s=ne,depth:null===s?0:s.depth+1,context:n,parentValue:o,value:r},t.context=r,Ke(e,t,a),null===(e=ne))throw Error(i(403));return r=e.parentValue,e.context._currentValue2=r===Y?e.context._defaultValue:r,e=ne=e.parent,void(t.context=e);case z:return void Ke(e,t,r=(r=r.children)(n._currentValue2));case q:return void Ze(e,t,n=(a=n._init)(n._payload),r=qe(n,r),void 0)}throw Error(i(130,null==n?n:typeof n,""))}switch(o=I((a=t.blockedSegment).chunks,n,r,e.responseState,a.formatContext),a.lastPushedText=!1,s=a.formatContext,a.formatContext=function(e,t,n){switch(t){case"select":return S(1,null!=n.value?n.value:n.defaultValue);case"svg":return S(2,null);case"math":return S(3,null);case"foreignObject":return S(1,null);case"table":return S(4,null);case"thead":case"tbody":case"tfoot":return S(5,null);case"colgroup":return S(7,null);case"tr":return S(6,null)}return 4<=e.insertionMode||0===e.insertionMode?S(1,null):e}(s,n,r),Ye(e,t,o),a.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:a.chunks.push("</",n,">")}a.lastPushedText=!1}}function Ke(e,t,n){if(t.node=n,"object"===typeof n&&null!==n){switch(n.$$typeof){case L:return void Ze(e,t,n.type,n.props,n.ref);case j:throw Error(i(257));case q:var r=n._init;return void Ke(e,t,n=r(n._payload))}if(w(n))return void Xe(e,t,n);if(null===n||"object"!==typeof n?r=null:r="function"===typeof(r=Q&&n[Q]||n["@@iterator"])?r:null,r&&(r=r.call(n))){if(!(n=r.next()).done){var a=[];do{a.push(n.value),n=r.next()}while(!n.done);Xe(e,t,a)}return}throw e=Object.prototype.toString.call(n),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}"string"===typeof n?(r=t.blockedSegment).lastPushedText=R(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText):"number"===typeof n&&((r=t.blockedSegment).lastPushedText=R(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function Xe(e,t,n){for(var r=n.length,i=0;i<r;i++){var a=t.treeContext;t.treeContext=fe(a,r,i);try{Ye(e,t,n[i])}finally{t.treeContext=a}}}function Ye(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,a=t.context;try{return Ke(e,t,n)}catch(l){if(Pe(),"object"!==typeof l||null===l||"function"!==typeof l.then)throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,le(a),l;n=l;var o=t.blockedSegment,s=ze(0,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(s),o.lastPushedText=!1,e=He(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,le(a)}}function Qe(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,tt(this,t,e)}function Je(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,null===r?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=void 0===n?Error(i(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach((function(e){return Je(e,t,n)})),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(r=t.onAllReady)())}function et(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&et(e,n)}else e.completedSegments.push(t)}function tt(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(i(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=Ue,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&et(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Qe,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(et(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function nt(e){if(2!==e.status){var t=ne,n=Be.current;Be.current=Le;var r=je;je=e.responseState;try{var i,a=e.pingedTasks;for(i=0;i<a.length;i++){var o=a[i],s=e,l=o.blockedSegment;if(0===l.status){le(o.context);try{Ke(s,o,o.node),s.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("\x3c!-- --\x3e"),o.abortSet.delete(o),l.status=1,tt(s,o.blockedBoundary,l)}catch(p){if(Pe(),"object"===typeof p&&null!==p&&"function"===typeof p.then){var u=o.ping;p.then(u,u)}else{o.abortSet.delete(o),l.status=4;var c=o.blockedBoundary,d=p,f=Ve(s,d);if(null===c?$e(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=f,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}a.splice(0,i),null!==e.destination&&lt(e,e.destination)}catch(p){Ve(e,p),$e(e,p)}finally{je=r,Be.current=n,n===Le&&le(t)}}}function rt(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var a=!0;r=n.chunks;var o=0;n=n.children;for(var s=0;s<n.length;s++){for(a=n[s];o<a.index;o++)t.push(r[o]);a=it(e,t,a)}for(;o<r.length-1;o++)t.push(r[o]);return o<r.length&&(a=t.push(r[o])),a;default:throw Error(i(390))}}function it(e,t,n){var r=n.boundary;if(null===r)return rt(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("\x3c!--$!--\x3e"),t.push("<template"),r&&(t.push(' data-dgst="'),r=v(r),t.push(r),t.push('"')),t.push("></template>")),rt(e,t,n),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e");if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var a=e.responseState,o=a.nextSuspenseID++;return a=a.boundaryPrefix+o.toString(16),r=r.id=a,A(t,e.responseState,r),rt(e,t,n),t.push("\x3c!--/$--\x3e")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),A(t,e.responseState,r.id),rt(e,t,n),t.push("\x3c!--/$--\x3e");if(e.responseState.generateStaticMarkup||t.push("\x3c!--$--\x3e"),1!==(n=r.completedSegments).length)throw Error(i(391));return it(e,t,n[0]),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}function at(e,t,n){return function(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(i(397))}}(t,e.responseState,n.formatContext,n.id),it(e,t,n),function(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(i(397))}}(t,n.formatContext)}function ot(e,t,n){for(var r=n.completedSegments,a=0;a<r.length;a++)st(e,t,n,r[a]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===r)throw Error(i(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function st(e,t,n,r){if(2===r.status)return!0;var a=r.id;if(-1===a){if(-1===(r.id=n.rootSegmentID))throw Error(i(392));return at(e,t,r)}return at(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),a=a.toString(16),t.push(a),t.push('","'),t.push(e.placeholderPrefix),t.push(a),t.push('")<\/script>')}function lt(e,t){try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){it(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var a,o=e.clientRenderedBoundaries;for(a=0;a<o.length;a++){var s=o[a];r=t;var l=e.responseState,u=s.id,c=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(r.push(l.startInlineScript),l.sentClientRenderFunction?r.push('$RX("'):(l.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),null===u)throw Error(i(395));if(r.push(u),r.push('"'),c||d||f){r.push(",");var p=M(c||"");r.push(p)}if(d||f){r.push(",");var h=M(d||"");r.push(h)}if(f){r.push(",");var m=M(f);r.push(m)}if(!r.push(")<\/script>"))return e.destination=null,a++,void o.splice(0,a)}o.splice(0,a);var g=e.completedBoundaries;for(a=0;a<g.length;a++)if(!ot(e,t,g[a]))return e.destination=null,a++,void g.splice(0,a);g.splice(0,a);var v=e.partialBoundaries;for(a=0;a<v.length;a++){var y=v[a];e:{o=e,s=t;var b=y.completedSegments;for(l=0;l<b.length;l++)if(!st(o,s,y,b[l])){l++,b.splice(0,l);var w=!1;break e}b.splice(0,l),w=!0}if(!w)return e.destination=null,a++,void v.splice(0,a)}v.splice(0,a);var S=e.completedBoundaries;for(a=0;a<S.length;a++)if(!ot(e,t,S[a]))return e.destination=null,a++,void S.splice(0,a);S.splice(0,a)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.push(null)}}function ut(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return Je(n,e,t)})),n.clear(),null!==e.destination&&lt(e,e.destination)}catch(r){Ve(e,r),$e(e,r)}}function ct(){}function dt(e,t,n,r){var a=!1,o=null,s="",l={push:function(e){return null!==e&&(s+=e),!0},destroy:function(e){a=!0,o=e}},u=!1;if(e=function(e,t,n,r,i,a,o,s,l){var u=[],c=new Set;return(n=ze(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===i?Fe:i,onAllReady:void 0===a?Ue:a,onShellReady:void 0===o?Ue:o,onShellError:void 0===s?Ue:s,onFatalError:void 0===l?Ue:l},0,null,n,!1,!1)).parentFlushed=!0,e=He(t,e,null,n,c,ee,null,de),u.push(e),t}(e,function(e,t){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(t=void 0===t?"":t)+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,ct,void 0,(function(){u=!0}),void 0,void 0),nt(e),ut(e,r),1===e.status)e.status=2,l.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=l;try{lt(e,l)}catch(c){Ve(e,c),$e(e,c)}}if(a)throw o;if(!u)throw Error(i(426));return s}t.renderToNodeStream=function(){throw Error(i(207))},t.renderToStaticMarkup=function(e,t){return dt(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.renderToStaticNodeStream=function(){throw Error(i(208))},t.renderToString=function(e,t){return dt(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.version="18.2.0"},38698:(e,t,n)=>{"use strict";var r=n(67294);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=null,o=0;function s(e,t){if(0!==t.length)if(512<t.length)0<o&&(e.enqueue(new Uint8Array(a.buffer,0,o)),a=new Uint8Array(512),o=0),e.enqueue(t);else{var n=a.length-o;n<t.length&&(0===n?e.enqueue(a):(a.set(t.subarray(0,n),o),e.enqueue(a),t=t.subarray(n)),a=new Uint8Array(512),o=0),a.set(t,o),o+=t.length}}function l(e,t){return s(e,t),!0}function u(e){a&&0<o&&(e.enqueue(new Uint8Array(a.buffer,0,o)),a=null,o=0)}var c=new TextEncoder;function d(e){return c.encode(e)}function f(e){return c.encode(e)}function p(e,t){"function"===typeof e.error?e.error(t):e.close()}var h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function y(e){return!!h.call(v,e)||!h.call(g,e)&&(m.test(e)?v[e]=!0:(g[e]=!0,!1))}function b(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){w[e]=new b(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];w[t]=new b(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){w[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){w[e]=new b(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){w[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){w[e]=new b(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){w[e]=new b(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){w[e]=new b(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){w[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)}));var S=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(S,_);w[t]=new b(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(S,_);w[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(S,_);w[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){w[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)})),w.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){w[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T=["Webkit","ms","Moz","O"];Object.keys(x).forEach((function(e){T.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),x[t]=x[e]}))}));var k=/["'&<>]/;function E(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=k.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var C=/([A-Z])/g,O=/^ms-/,P=Array.isArray,I=f("<script>"),A=f("<\/script>"),D=f('<script src="'),M=f('<script type="module" src="'),R=f('" async=""><\/script>'),N=/(<\/|<)(s)(cript)/gi;function L(e,t,n,r){return t+("s"===n?"\\u0073":"\\u0053")+r}function j(e,t){return{insertionMode:e,selectedValue:t}}var B=f("\x3c!-- --\x3e");function F(e,t,n,r){return""===t?r:(r&&e.push(B),e.push(d(E(t))),!0)}var U=new Map,H=f(' style="'),z=f(":"),V=f(";");function $(e,t,n){if("object"!==typeof n)throw Error(i(62));for(var r in t=!0,n)if(h.call(n,r)){var a=n[r];if(null!=a&&"boolean"!==typeof a&&""!==a){if(0===r.indexOf("--")){var o=d(E(r));a=d(E((""+a).trim()))}else{o=r;var s=U.get(o);void 0!==s||(s=f(E(o.replace(C,"-$1").toLowerCase().replace(O,"-ms-"))),U.set(o,s)),o=s,a="number"===typeof a?0===a||h.call(x,r)?d(""+a):d(a+"px"):d(E((""+a).trim()))}t?(t=!1,e.push(H,o,z,a)):e.push(V,o,z,a)}}t||e.push(q)}var G=f(" "),W=f('="'),q=f('"'),Z=f('=""');function K(e,t,n,r){switch(n){case"style":return void $(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=w.hasOwnProperty(n)?w[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=d(t.attributeName),t.type){case 3:r&&e.push(G,n,Z);break;case 4:!0===r?e.push(G,n,Z):!1!==r&&e.push(G,n,W,d(E(r)),q);break;case 5:isNaN(r)||e.push(G,n,W,d(E(r)),q);break;case 6:!isNaN(r)&&1<=r&&e.push(G,n,W,d(E(r)),q);break;default:t.sanitizeURL&&(r=""+r),e.push(G,n,W,d(E(r)),q)}}else if(y(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(G,d(n),W,d(E(r)),q)}}var X=f(">"),Y=f("/>");function Q(e,t,n){if(null!=t){if(null!=n)throw Error(i(60));if("object"!==typeof t||!("__html"in t))throw Error(i(61));null!==(t=t.__html)&&void 0!==t&&e.push(d(""+t))}}var J=f(' selected=""');function ee(e,t,n,r){e.push(ie(n));var i,a=n=null;for(i in t)if(h.call(t,i)){var o=t[i];if(null!=o)switch(i){case"children":n=o;break;case"dangerouslySetInnerHTML":a=o;break;default:K(e,r,i,o)}}return e.push(X),Q(e,a,n),"string"===typeof n?(e.push(d(E(n))),null):n}var te=f("\n"),ne=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,re=new Map;function ie(e){var t=re.get(e);if(void 0===t){if(!ne.test(e))throw Error(i(65,e));t=f("<"+e),re.set(e,t)}return t}var ae=f("<!DOCTYPE html>");function oe(e,t,n,a,o){switch(t){case"select":e.push(ie("select"));var s=null,l=null;for(p in n)if(h.call(n,p)){var u=n[p];if(null!=u)switch(p){case"children":s=u;break;case"dangerouslySetInnerHTML":l=u;break;case"defaultValue":case"value":break;default:K(e,a,p,u)}}return e.push(X),Q(e,l,s),s;case"option":l=o.selectedValue,e.push(ie("option"));var c=u=null,f=null,p=null;for(s in n)if(h.call(n,s)){var m=n[s];if(null!=m)switch(s){case"children":u=m;break;case"selected":f=m;break;case"dangerouslySetInnerHTML":p=m;break;case"value":c=m;default:K(e,a,s,m)}}if(null!=l)if(n=null!==c?""+c:function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(u),P(l)){for(a=0;a<l.length;a++)if(""+l[a]===n){e.push(J);break}}else""+l===n&&e.push(J);else f&&e.push(J);return e.push(X),Q(e,p,u),u;case"textarea":for(u in e.push(ie("textarea")),p=l=s=null,n)if(h.call(n,u)&&null!=(c=n[u]))switch(u){case"children":p=c;break;case"value":s=c;break;case"defaultValue":l=c;break;case"dangerouslySetInnerHTML":throw Error(i(91));default:K(e,a,u,c)}if(null===s&&null!==l&&(s=l),e.push(X),null!=p){if(null!=s)throw Error(i(92));if(P(p)&&1<p.length)throw Error(i(93));s=""+p}return"string"===typeof s&&"\n"===s[0]&&e.push(te),null!==s&&e.push(d(E(""+s))),null;case"input":for(l in e.push(ie("input")),c=p=u=s=null,n)if(h.call(n,l)&&null!=(f=n[l]))switch(l){case"children":case"dangerouslySetInnerHTML":throw Error(i(399,"input"));case"defaultChecked":c=f;break;case"defaultValue":u=f;break;case"checked":p=f;break;case"value":s=f;break;default:K(e,a,l,f)}return null!==p?K(e,a,"checked",p):null!==c&&K(e,a,"checked",c),null!==s?K(e,a,"value",s):null!==u&&K(e,a,"value",u),e.push(Y),null;case"menuitem":for(var g in e.push(ie("menuitem")),n)if(h.call(n,g)&&null!=(s=n[g]))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(i(400));default:K(e,a,g,s)}return e.push(X),null;case"title":for(m in e.push(ie("title")),s=null,n)if(h.call(n,m)&&null!=(l=n[m]))switch(m){case"children":s=l;break;case"dangerouslySetInnerHTML":throw Error(i(434));default:K(e,a,m,l)}return e.push(X),s;case"listing":case"pre":for(c in e.push(ie(t)),l=s=null,n)if(h.call(n,c)&&null!=(u=n[c]))switch(c){case"children":s=u;break;case"dangerouslySetInnerHTML":l=u;break;default:K(e,a,c,u)}if(e.push(X),null!=l){if(null!=s)throw Error(i(60));if("object"!==typeof l||!("__html"in l))throw Error(i(61));null!==(n=l.__html)&&void 0!==n&&("string"===typeof n&&0<n.length&&"\n"===n[0]?e.push(te,d(n)):e.push(d(""+n)))}return"string"===typeof s&&"\n"===s[0]&&e.push(te),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var v in e.push(ie(t)),n)if(h.call(n,v)&&null!=(s=n[v]))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(i(399,t));default:K(e,a,v,s)}return e.push(Y),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return ee(e,n,t,a);case"html":return 0===o.insertionMode&&e.push(ae),ee(e,n,t,a);default:if(-1===t.indexOf("-")&&"string"!==typeof n.is)return ee(e,n,t,a);for(f in e.push(ie(t)),l=s=null,n)if(h.call(n,f)&&null!=(u=n[f]))switch(f){case"children":s=u;break;case"dangerouslySetInnerHTML":l=u;break;case"style":$(e,a,u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:y(f)&&"function"!==typeof u&&"symbol"!==typeof u&&e.push(G,d(f),W,d(E(u)),q)}return e.push(X),Q(e,l,s),s}}var se=f("</"),le=f(">"),ue=f('<template id="'),ce=f('"></template>'),de=f("\x3c!--$--\x3e"),fe=f('\x3c!--$?--\x3e<template id="'),pe=f('"></template>'),he=f("\x3c!--$!--\x3e"),me=f("\x3c!--/$--\x3e"),ge=f("<template"),ve=f('"'),ye=f(' data-dgst="');f(' data-msg="'),f(' data-stck="');var be=f("></template>");function we(e,t,n){if(s(e,fe),null===n)throw Error(i(395));return s(e,n),l(e,pe)}var Se=f('<div hidden id="'),_e=f('">'),xe=f("</div>"),Te=f('<svg aria-hidden="true" style="display:none" id="'),ke=f('">'),Ee=f("</svg>"),Ce=f('<math aria-hidden="true" style="display:none" id="'),Oe=f('">'),Pe=f("</math>"),Ie=f('<table hidden id="'),Ae=f('">'),De=f("</table>"),Me=f('<table hidden><tbody id="'),Re=f('">'),Ne=f("</tbody></table>"),Le=f('<table hidden><tr id="'),je=f('">'),Be=f("</tr></table>"),Fe=f('<table hidden><colgroup id="'),Ue=f('">'),He=f("</colgroup></table>");var ze=f('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Ve=f('$RS("'),$e=f('","'),Ge=f('")<\/script>'),We=f('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),qe=f('$RC("'),Ze=f('","'),Ke=f('")<\/script>'),Xe=f('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Ye=f('$RX("'),Qe=f('"'),Je=f(")<\/script>"),et=f(","),tt=/[<\u2028\u2029]/g;function nt(e){return JSON.stringify(e).replace(tt,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}var rt=Object.assign,it=Symbol.for("react.element"),at=Symbol.for("react.portal"),ot=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),ut=Symbol.for("react.provider"),ct=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),gt=Symbol.for("react.scope"),vt=Symbol.for("react.debug_trace_mode"),yt=Symbol.for("react.legacy_hidden"),bt=Symbol.for("react.default_value"),wt=Symbol.iterator;function St(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ot:return"Fragment";case at:return"Portal";case lt:return"Profiler";case st:return"StrictMode";case ft:return"Suspense";case pt:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ct:return(e.displayName||"Context")+".Consumer";case ut:return(e._context.displayName||"Context")+".Provider";case dt:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case ht:return null!==(t=e.displayName||null)?t:St(e.type)||"Memo";case mt:t=e._payload,e=e._init;try{return St(e(t))}catch(n){}}return null}var _t={};function xt(e,t){if(!(e=e.contextTypes))return _t;var n,r={};for(n in e)r[n]=t[n];return r}var Tt=null;function kt(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(i(401))}else{if(null===n)throw Error(i(401));kt(e,n)}t.context._currentValue=t.value}}function Et(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&Et(e)}function Ct(e){var t=e.parent;null!==t&&Ct(t),e.context._currentValue=e.value}function Ot(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(i(402));e.depth===t.depth?kt(e,t):Ot(e,t)}function Pt(e,t){var n=t.parent;if(null===n)throw Error(i(402));e.depth===n.depth?kt(e,n):Pt(e,n),t.context._currentValue=t.value}function It(e){var t=Tt;t!==e&&(null===t?Ct(e):null===e?Et(t):t.depth===e.depth?kt(t,e):t.depth>e.depth?Ot(t,e):Pt(t,e),Tt=e)}var At={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Dt(e,t,n,r){var i=void 0!==e.state?e.state:null;e.updater=At,e.props=n,e.state=i;var a={queue:[],replace:!1};e._reactInternals=a;var o=t.contextType;if(e.context="object"===typeof o&&null!==o?o._currentValue:r,"function"===typeof(o=t.getDerivedStateFromProps)&&(i=null===(o=o(n,i))||void 0===o?i:rt({},i,o),e.state=i),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&At.enqueueReplaceState(e,e.state,null),null!==a.queue&&0<a.queue.length)if(t=a.queue,o=a.replace,a.queue=null,a.replace=!1,o&&1===t.length)e.state=t[0];else{for(a=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var s=t[o];null!=(s="function"===typeof s?s.call(e,a,n,r):s)&&(i?(i=!1,a=rt({},a,s)):rt(a,s))}e.state=a}else a.queue=null}var Mt={id:1,overflow:""};function Rt(e,t,n){var r=e.id;e=e.overflow;var i=32-Nt(r)-1;r&=~(1<<i),n+=1;var a=32-Nt(t)+i;if(30<a){var o=i-i%5;return a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-Nt(t)+i|n<<i|r,overflow:a+e}}return{id:1<<a|n<<i|r,overflow:e}}var Nt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Lt(e)/jt|0)|0},Lt=Math.log,jt=Math.LN2;var Bt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Ft=null,Ut=null,Ht=null,zt=null,Vt=!1,$t=!1,Gt=0,Wt=null,qt=0;function Zt(){if(null===Ft)throw Error(i(321));return Ft}function Kt(){if(0<qt)throw Error(i(312));return{memoizedState:null,queue:null,next:null}}function Xt(){return null===zt?null===Ht?(Vt=!1,Ht=zt=Kt()):(Vt=!0,zt=Ht):null===zt.next?(Vt=!1,zt=zt.next=Kt()):(Vt=!0,zt=zt.next),zt}function Yt(){Ut=Ft=null,$t=!1,Ht=null,qt=0,zt=Wt=null}function Qt(e,t){return"function"===typeof t?t(e):t}function Jt(e,t,n){if(Ft=Zt(),zt=Xt(),Vt){var r=zt.queue;if(t=r.dispatch,null!==Wt&&void 0!==(n=Wt.get(r))){Wt.delete(r),r=zt.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return zt.memoizedState=r,[r,t]}return[zt.memoizedState,t]}return e=e===Qt?"function"===typeof t?t():t:void 0!==n?n(t):t,zt.memoizedState=e,e=(e=zt.queue={last:null,dispatch:null}).dispatch=tn.bind(null,Ft,e),[zt.memoizedState,e]}function en(e,t){if(Ft=Zt(),t=void 0===t?null:t,null!==(zt=Xt())){var n=zt.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!Bt(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),zt.memoizedState=[e,t],e}function tn(e,t,n){if(25<=qt)throw Error(i(301));if(e===Ft)if($t=!0,e={action:n,next:null},null===Wt&&(Wt=new Map),void 0===(n=Wt.get(t)))Wt.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function nn(){throw Error(i(394))}function rn(){}var an={readContext:function(e){return e._currentValue},useContext:function(e){return Zt(),e._currentValue},useMemo:en,useReducer:Jt,useRef:function(e){Ft=Zt();var t=(zt=Xt()).memoizedState;return null===t?(e={current:e},zt.memoizedState=e):t},useState:function(e){return Jt(Qt,e)},useInsertionEffect:rn,useLayoutEffect:function(){},useCallback:function(e,t){return en((function(){return e}),t)},useImperativeHandle:rn,useEffect:rn,useDebugValue:rn,useDeferredValue:function(e){return Zt(),e},useTransition:function(){return Zt(),[!1,nn]},useId:function(){var e=Ut.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-Nt(e)-1)).toString(32)+t;var n=on;if(null===n)throw Error(i(404));return t=Gt++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Zt(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(i(407));return n()}},on=null,sn=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function ln(e){return console.error(e),null}function un(){}function cn(e,t,n,r,i,a,o,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var t=e.pingedTasks;t.push(l),1===t.length&&kn(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:a,context:o,treeContext:s};return i.add(l),l}function dn(e,t,n,r,i,a){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:a}}function fn(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function pn(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,p(e.destination,t)):(e.status=1,e.fatalError=t)}function hn(e,t,n,r,i){for(Ft={},Ut=t,Gt=0,e=n(r,i);$t;)$t=!1,Gt=0,qt+=1,zt=null,e=n(r,i);return Yt(),e}function mn(e,t,n,r){var a=n.render(),o=r.childContextTypes;if(null!==o&&void 0!==o){var s=t.legacyContext;if("function"!==typeof n.getChildContext)r=s;else{for(var l in n=n.getChildContext())if(!(l in o))throw Error(i(108,St(r)||"Unknown",l));r=rt({},s,n)}t.legacyContext=r,yn(e,t,a),t.legacyContext=s}else yn(e,t,a)}function gn(e,t){if(e&&e.defaultProps){for(var n in t=rt({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function vn(e,t,n,r,a){if("function"===typeof n)if(n.prototype&&n.prototype.isReactComponent){a=xt(n,t.legacyContext);var o=n.contextType;Dt(o=new n(r,"object"===typeof o&&null!==o?o._currentValue:a),n,r,a),mn(e,t,o,n)}else{a=hn(e,t,n,r,o=xt(n,t.legacyContext));var s=0!==Gt;if("object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof)Dt(a,n,r,o),mn(e,t,a,n);else if(s){r=t.treeContext,t.treeContext=Rt(r,1,0);try{yn(e,t,a)}finally{t.treeContext=r}}else yn(e,t,a)}else{if("string"!==typeof n){switch(n){case yt:case vt:case st:case lt:case ot:case pt:return void yn(e,t,r.children);case gt:throw Error(i(343));case ft:e:{n=t.blockedBoundary,a=t.blockedSegment,o=r.fallback,r=r.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},u=dn(0,a.chunks.length,l,a.formatContext,!1,!1);a.children.push(u),a.lastPushedText=!1;var c=dn(0,0,null,a.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=l,t.blockedSegment=c;try{if(wn(e,t,r),c.lastPushedText&&c.textEmbedded&&c.chunks.push(B),c.status=1,xn(l,c),0===l.pendingTasks)break e}catch(f){c.status=4,l.forceClientRender=!0,l.errorDigest=fn(e,f)}finally{t.blockedBoundary=n,t.blockedSegment=a}t=cn(e,o,n,u,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof n&&null!==n)switch(n.$$typeof){case dt:if(r=hn(e,t,n.render,r,a),0!==Gt){n=t.treeContext,t.treeContext=Rt(n,1,0);try{yn(e,t,r)}finally{t.treeContext=n}}else yn(e,t,r);return;case ht:return void vn(e,t,n=n.type,r=gn(n,r),a);case ut:if(a=r.children,n=n._context,r=r.value,o=n._currentValue,n._currentValue=r,Tt=r={parent:s=Tt,depth:null===s?0:s.depth+1,context:n,parentValue:o,value:r},t.context=r,yn(e,t,a),null===(e=Tt))throw Error(i(403));return r=e.parentValue,e.context._currentValue=r===bt?e.context._defaultValue:r,e=Tt=e.parent,void(t.context=e);case ct:return void yn(e,t,r=(r=r.children)(n._currentValue));case mt:return void vn(e,t,n=(a=n._init)(n._payload),r=gn(n,r),void 0)}throw Error(i(130,null==n?n:typeof n,""))}switch(o=oe((a=t.blockedSegment).chunks,n,r,e.responseState,a.formatContext),a.lastPushedText=!1,s=a.formatContext,a.formatContext=function(e,t,n){switch(t){case"select":return j(1,null!=n.value?n.value:n.defaultValue);case"svg":return j(2,null);case"math":return j(3,null);case"foreignObject":return j(1,null);case"table":return j(4,null);case"thead":case"tbody":case"tfoot":return j(5,null);case"colgroup":return j(7,null);case"tr":return j(6,null)}return 4<=e.insertionMode||0===e.insertionMode?j(1,null):e}(s,n,r),wn(e,t,o),a.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:a.chunks.push(se,d(n),le)}a.lastPushedText=!1}}function yn(e,t,n){if(t.node=n,"object"===typeof n&&null!==n){switch(n.$$typeof){case it:return void vn(e,t,n.type,n.props,n.ref);case at:throw Error(i(257));case mt:var r=n._init;return void yn(e,t,n=r(n._payload))}if(P(n))return void bn(e,t,n);if(null===n||"object"!==typeof n?r=null:r="function"===typeof(r=wt&&n[wt]||n["@@iterator"])?r:null,r&&(r=r.call(n))){if(!(n=r.next()).done){var a=[];do{a.push(n.value),n=r.next()}while(!n.done);bn(e,t,a)}return}throw e=Object.prototype.toString.call(n),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}"string"===typeof n?(r=t.blockedSegment).lastPushedText=F(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText):"number"===typeof n&&((r=t.blockedSegment).lastPushedText=F(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function bn(e,t,n){for(var r=n.length,i=0;i<r;i++){var a=t.treeContext;t.treeContext=Rt(a,r,i);try{wn(e,t,n[i])}finally{t.treeContext=a}}}function wn(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,a=t.context;try{return yn(e,t,n)}catch(l){if(Yt(),"object"!==typeof l||null===l||"function"!==typeof l.then)throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,It(a),l;n=l;var o=t.blockedSegment,s=dn(0,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(s),o.lastPushedText=!1,e=cn(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=a,It(a)}}function Sn(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,Tn(this,t,e)}function _n(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,null===r?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=void 0===n?Error(i(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach((function(e){return _n(e,t,n)})),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(r=t.onAllReady)())}function xn(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&xn(e,n)}else e.completedSegments.push(t)}function Tn(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(i(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=un,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&xn(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Sn,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(xn(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function kn(e){if(2!==e.status){var t=Tt,n=sn.current;sn.current=an;var r=on;on=e.responseState;try{var i,a=e.pingedTasks;for(i=0;i<a.length;i++){var o=a[i],s=e,l=o.blockedSegment;if(0===l.status){It(o.context);try{yn(s,o,o.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(B),o.abortSet.delete(o),l.status=1,Tn(s,o.blockedBoundary,l)}catch(p){if(Yt(),"object"===typeof p&&null!==p&&"function"===typeof p.then){var u=o.ping;p.then(u,u)}else{o.abortSet.delete(o),l.status=4;var c=o.blockedBoundary,d=p,f=fn(s,d);if(null===c?pn(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=f,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}a.splice(0,i),null!==e.destination&&An(e,e.destination)}catch(p){fn(e,p),pn(e,p)}finally{on=r,sn.current=n,n===an&&It(t)}}}function En(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,s(t,ue),s(t,e.placeholderPrefix),s(t,e=d(r.toString(16))),l(t,ce);case 1:n.status=2;var a=!0;r=n.chunks;var o=0;n=n.children;for(var u=0;u<n.length;u++){for(a=n[u];o<a.index;o++)s(t,r[o]);a=Cn(e,t,a)}for(;o<r.length-1;o++)s(t,r[o]);return o<r.length&&(a=l(t,r[o])),a;default:throw Error(i(390))}}function Cn(e,t,n){var r=n.boundary;if(null===r)return En(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,l(t,he),s(t,ge),r&&(s(t,ye),s(t,d(E(r))),s(t,ve)),l(t,be),En(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var a=e.responseState,o=a.nextSuspenseID++;a=f(a.boundaryPrefix+o.toString(16)),r=r.id=a,we(t,e.responseState,r),En(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),we(t,e.responseState,r.id),En(e,t,n);else{if(l(t,de),1!==(n=r.completedSegments).length)throw Error(i(391));Cn(e,t,n[0])}return l(t,me)}function On(e,t,n){return function(e,t,n,r){switch(n.insertionMode){case 0:case 1:return s(e,Se),s(e,t.segmentPrefix),s(e,d(r.toString(16))),l(e,_e);case 2:return s(e,Te),s(e,t.segmentPrefix),s(e,d(r.toString(16))),l(e,ke);case 3:return s(e,Ce),s(e,t.segmentPrefix),s(e,d(r.toString(16))),l(e,Oe);case 4:return s(e,Ie),s(e,t.segmentPrefix),s(e,d(r.toString(16))),l(e,Ae);case 5:return s(e,Me),s(e,t.segmentPrefix),s(e,d(r.toString(16))),l(e,Re);case 6:return s(e,Le),s(e,t.segmentPrefix),s(e,d(r.toString(16))),l(e,je);case 7:return s(e,Fe),s(e,t.segmentPrefix),s(e,d(r.toString(16))),l(e,Ue);default:throw Error(i(397))}}(t,e.responseState,n.formatContext,n.id),Cn(e,t,n),function(e,t){switch(t.insertionMode){case 0:case 1:return l(e,xe);case 2:return l(e,Ee);case 3:return l(e,Pe);case 4:return l(e,De);case 5:return l(e,Ne);case 6:return l(e,Be);case 7:return l(e,He);default:throw Error(i(397))}}(t,n.formatContext)}function Pn(e,t,n){for(var r=n.completedSegments,a=0;a<r.length;a++)In(e,t,n,r[a]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,s(t,e.startInlineScript),e.sentCompleteBoundaryFunction?s(t,qe):(e.sentCompleteBoundaryFunction=!0,s(t,We)),null===r)throw Error(i(395));return n=d(n.toString(16)),s(t,r),s(t,Ze),s(t,e.segmentPrefix),s(t,n),l(t,Ke)}function In(e,t,n,r){if(2===r.status)return!0;var a=r.id;if(-1===a){if(-1===(r.id=n.rootSegmentID))throw Error(i(392));return On(e,t,r)}return On(e,t,r),s(t,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?s(t,Ve):(e.sentCompleteSegmentFunction=!0,s(t,ze)),s(t,e.segmentPrefix),s(t,a=d(a.toString(16))),s(t,$e),s(t,e.placeholderPrefix),s(t,a),l(t,Ge)}function An(e,t){a=new Uint8Array(512),o=0;try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){Cn(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)s(t,r[n]);n<r.length&&l(t,r[n])}var c,f=e.clientRenderedBoundaries;for(c=0;c<f.length;c++){var p=f[c];r=t;var h=e.responseState,m=p.id,g=p.errorDigest,v=p.errorMessage,y=p.errorComponentStack;if(s(r,h.startInlineScript),h.sentClientRenderFunction?s(r,Ye):(h.sentClientRenderFunction=!0,s(r,Xe)),null===m)throw Error(i(395));if(s(r,m),s(r,Qe),(g||v||y)&&(s(r,et),s(r,d(nt(g||"")))),(v||y)&&(s(r,et),s(r,d(nt(v||"")))),y&&(s(r,et),s(r,d(nt(y)))),!l(r,Je))return e.destination=null,c++,void f.splice(0,c)}f.splice(0,c);var b=e.completedBoundaries;for(c=0;c<b.length;c++)if(!Pn(e,t,b[c]))return e.destination=null,c++,void b.splice(0,c);b.splice(0,c),u(t),a=new Uint8Array(512),o=0;var w=e.partialBoundaries;for(c=0;c<w.length;c++){var S=w[c];e:{f=e,p=t;var _=S.completedSegments;for(h=0;h<_.length;h++)if(!In(f,p,S,_[h])){h++,_.splice(0,h);var x=!1;break e}_.splice(0,h),x=!0}if(!x)return e.destination=null,c++,void w.splice(0,c)}w.splice(0,c);var T=e.completedBoundaries;for(c=0;c<T.length;c++)if(!Pn(e,t,T[c]))return e.destination=null,c++,void T.splice(0,c);T.splice(0,c)}finally{u(t),0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.close()}}function Dn(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return _n(n,e,t)})),n.clear(),null!==e.destination&&An(e,e.destination)}catch(r){fn(e,r),pn(e,r)}}t.renderToReadableStream=function(e,t){return new Promise((function(n,r){var i,a,o=new Promise((function(e,t){a=e,i=t})),s=function(e,t,n,r,i,a,o,s,l){var u=[],c=new Set;return(n=dn(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===i?ln:i,onAllReady:void 0===a?un:a,onShellReady:void 0===o?un:o,onShellError:void 0===s?un:s,onFatalError:void 0===l?un:l},0,null,n,!1,!1)).parentFlushed=!0,e=cn(t,e,null,n,c,_t,null,Mt),u.push(e),t}(e,function(e,t,n,r,i){e=void 0===e?"":e,t=void 0===t?I:f('<script nonce="'+E(t)+'">');var a=[];if(void 0!==n&&a.push(t,d((""+n).replace(N,L)),A),void 0!==r)for(n=0;n<r.length;n++)a.push(D,d(E(r[n])),R);if(void 0!==i)for(r=0;r<i.length;r++)a.push(M,d(E(i[r])),R);return{bootstrapChunks:a,startInlineScript:t,placeholderPrefix:f(e+"P:"),segmentPrefix:f(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),function(e){return j("http://www.w3.org/2000/svg"===e?2:"http://www.w3.org/1998/Math/MathML"===e?3:0,null)}(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,a,(function(){var e=new ReadableStream({type:"bytes",pull:function(e){if(1===s.status)s.status=2,p(e,s.fatalError);else if(2!==s.status&&null===s.destination){s.destination=e;try{An(s,e)}catch(t){fn(s,t),pn(s,t)}}},cancel:function(){Dn(s)}},{highWaterMark:0});e.allReady=o,n(e)}),(function(e){o.catch((function(){})),r(e)}),i);if(t&&t.signal){var l=t.signal,u=function(){Dn(s,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}kn(s)}))},t.version="18.2.0"},64448:(e,t,n)=>{"use strict";var r=n(67294),i=n(63840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,j=Object.assign;function B(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function H(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case k:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Y(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ae(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Te=null;function ke(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=Si(t),_e(e.stateNode,e.type,t))}}function Ee(e){xe?Te?Te.push(e):Te=[e]:xe=e}function Ce(){if(xe){var e=xe,t=Te;if(Te=xe=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Oe(e,t){return e(t)}function Pe(){}var Ie=!1;function Ae(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Oe(e,t,n)}finally{Ie=!1,(null!==xe||null!==Te)&&(Pe(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Me=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){Me=!1}function Ne(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Le=!1,je=null,Be=!1,Fe=null,Ue={onError:function(e){Le=!0,je=e}};function He(e,t,n,r,i,a,o,s,l){Le=!1,je=null,Ne.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $e(i),e;if(o===r)return $e(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,_t,xt,Tt,kt,Et=!1,Ct=[],Ot=null,Pt=null,It=null,At=new Map,Dt=new Map,Mt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void kt(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Bt(e)&&n.delete(t)}function Ut(){Et=!1,null!==Ot&&Bt(Ot)&&(Ot=null),null!==Pt&&Bt(Pt)&&(Pt=null),null!==It&&Bt(It)&&(It=null),At.forEach(Ft),Dt.forEach(Ft)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Ht(t,e)}if(0<Ct.length){Ht(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&Ht(Ot,e),null!==Pt&&Ht(Pt,e),null!==It&&Ht(It,e),At.forEach(t),Dt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)jt(n),null===n.blockedOn&&Mt.shift()}var Vt=w.ReactCurrentBatchConfig,$t=!0;function Gt(e,t,n,r){var i=bt,a=Vt.transition;Vt.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=i,Vt.transition=a}}function Wt(e,t,n,r){var i=bt,a=Vt.transition;Vt.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=i,Vt.transition=a}}function qt(e,t,n,r){if($t){var i=Kt(e,t,n,r);if(null===i)$r(e,t,r,Zt,n),Nt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ot=Lt(Ot,e,t,n,r,i),!0;case"dragenter":return Pt=Lt(Pt,e,t,n,r,i),!0;case"mouseover":return It=Lt(It,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Lt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&St(a),null===(a=Kt(e,t,n,r))&&$r(e,t,r,Zt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Zt=null;function Kt(e,t,n,r){if(Zt=null,null!==(e=yi(e=Se(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=j({},un,{view:0,detail:0}),fn=an(dn),pn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=an(pn),mn=an(j({},pn,{dataTransfer:0})),gn=an(j({},dn,{relatedTarget:0})),vn=an(j({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(j({},un,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function kn(){return Tn}var En=j({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(En),On=an(j({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),In=an(j({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(An),Mn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Nn=null;c&&"documentMode"in document&&(Nn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Nn,jn=c&&(!Rn||Nn&&8<Nn&&11>=Nn),Bn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,qn=null;function Zn(e){Br(e,0)}function Kn(e){if(q(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Qn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Qn=Jn}else Qn=!1;Yn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),qn=Wn=null)}function nr(e){if("value"===e.propertyName&&Kn(qn)){var t=[];Gn(t,qn,e,Se(e)),Ae(Zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(qn)}function ar(e,t){if("click"===e)return Kn(t)}function or(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Z(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},xr={},Tr={};function kr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return xr[e]=n[t];return e}c&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Er=kr("animationend"),Cr=kr("animationiteration"),Or=kr("animationstart"),Pr=kr("transitionend"),Ir=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ir.set(e,t),l(t,[e])}for(var Mr=0;Mr<Ar.length;Mr++){var Rr=Ar[Mr];Dr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Cr,"onAnimationIteration"),Dr(Or,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Pr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(He.apply(this,arguments),Le){if(!Le)throw Error(a(198));var c=je;Le=!1,je=null,Be||(Be=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;jr(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;jr(i,s,u),a=l}}}if(Be)throw e=Fe,Be=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Hr]){e[Hr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,Ur("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Xt(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=Se(n),o=[];e:{var s=Ir.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Er:case Cr:case Or:l=vn;break;case Pr:l=In;break;case"scroll":l=fn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=De(h,f))&&c.push(Gr(h,m,p)))),d)break;h=h.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[hi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(d=ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=hn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=On,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==l?s:wi(l),p=null==u?s:wi(u),(s=new c(m,h+"leave",l,n,i)).target=d,s.relatedTarget=p,m=null,yi(i)===r&&((c=new c(f,h+"enter",u,n,i)).target=p,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(f=u,h=0,p=c=l;p;p=qr(p))h++;for(p=0,m=f;m;m=qr(m))p++;for(;0<h-p;)c=qr(c),h--;for(;0<p-h;)f=qr(f),p--;for(;h--;){if(c===f||null!==f&&c===f.alternate)break e;c=qr(c),f=qr(f)}c=null}else c=null;null!==l&&Zr(o,s,l,c,!1),null!==u&&null!==d&&Zr(o,d,u,c,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if($n(s))if(Yn)g=or;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Gn(o,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":($n(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Qt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Hn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Jt=Qt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Br(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=De(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=De(n,a))&&o.unshift(Gr(n,l,s)):i||null!=(l=De(n,a))&&o.push(Gr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Kr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Xr,"")}function Qr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,pi="__reactProps$"+di,hi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Si(e){return e[pi]||null}var _i=[],xi=-1;function Ti(e){return{current:e}}function ki(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ei(e,t){xi++,_i[xi]=e.current,e.current=t}var Ci={},Oi=Ti(Ci),Pi=Ti(!1),Ii=Ci;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){ki(Pi),ki(Oi)}function Ri(e,t,n){if(Oi.current!==Ci)throw Error(a(168));Ei(Oi,t),Ei(Pi,n)}function Ni(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,V(e)||"Unknown",i));return j({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ii=Oi.current,Ei(Oi,e),Ei(Pi,Pi.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ni(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,ki(Pi),ki(Oi),Ei(Oi,e)):ki(Pi),Ei(Pi,n)}var Bi=null,Fi=!1,Ui=!1;function Hi(e){null===Bi?Bi=[e]:Bi.push(e)}function zi(){if(!Ui&&null!==Bi){Ui=!0;var e=0,t=bt;try{var n=Bi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,Fi=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),qe(Je,zi),i}finally{bt=t,Ui=!1}}return null}var Vi=[],$i=0,Gi=null,Wi=0,qi=[],Zi=0,Ki=null,Xi=1,Yi="";function Qi(e,t){Vi[$i++]=Wi,Vi[$i++]=Gi,Gi=e,Wi=t}function Ji(e,t,n){qi[Zi++]=Xi,qi[Zi++]=Yi,qi[Zi++]=Ki,Ki=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Xi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Qi(e,1),Ji(e,1,0))}function ta(e){for(;e===Gi;)Gi=Vi[--$i],Vi[$i]=null,Wi=Vi[--$i],Vi[$i]=null;for(;e===Ki;)Ki=qi[--Zi],qi[Zi]=null,Yi=qi[--Zi],qi[Zi]=null,Xi=qi[--Zi],qi[Zi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Au(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Au(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ui(e.nextSibling)}function pa(){ra=na=null,ia=!1}function ha(e){null===aa?aa=[e]:aa.push(e)}var ma=w.ReactCurrentBatchConfig;function ga(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var va=Ti(null),ya=null,ba=null,wa=null;function Sa(){wa=ba=ya=null}function _a(e){var t=va.current;ki(va),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t){ya=e,wa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function ka(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Ca(e){null===Ea?Ea=[e]:Ea.push(e)}function Oa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pa(e,r)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ia=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ma(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pa(e,n)}function Na(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Ia=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(f=t,p=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=m.payload)?h.call(p,d,f):h)||void 0===f)break e;d=j({},d,f);break e;case 2:Ia=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=d}}function Ba(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ha={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Ma(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nu(t,e,i,r),Na(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Ma(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nu(t,e,i,r),Na(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Ma(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nu(t,e,r,n),Na(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Va(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=ka(a):(i=Di(t)?Ii:Oi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function $a(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ha.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ka(a):(a=Di(t)?Ii:Oi.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ha.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Za(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Ru(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Nu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Ru(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case _:return(t=Bu(t,e.mode,n)).return=e,t;case D:return f(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Nu(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?u(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case D:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||N(n))return null!==i?null:d(e,t,n,r,null);qa(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||N(r))return d(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(i,d),ia&&Qi(i,m),u;if(null===d){for(;m<s.length;m++)null!==(d=f(i,s[m],l))&&(a=o(d,a,m),null===c?u=d:c.sibling=d,c=d);return ia&&Qi(i,m),u}for(d=r(i,d);m<s.length;m++)null!==(g=h(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),ia&&Qi(i,m),u}function g(i,s,l,u){var c=N(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(i,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),ia&&Qi(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(i,y.value,u))&&(s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return ia&&Qi(i,g),c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=h(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),ia&&Qi(i,g),c}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case S:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===x){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===D&&Za(u)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Wa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((a=Nu(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Ru(o.type,o.key,o.props,null,r.mode,l)).ref=Wa(r,a,o),l.return=r,r=l)}return s(r);case _:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Bu(o,r.mode,l)).return=r,r=a}return s(r);case D:return e(r,a,(c=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(N(o))return g(r,a,o,l);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=ju(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var Xa=Ka(!0),Ya=Ka(!1),Qa={},Ja=Ti(Qa),eo=Ti(Qa),to=Ti(Qa);function no(e){if(e===Qa)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Ja,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Ja),Ei(Ja,t)}function io(){ki(Ja),ki(eo),ki(to)}function ao(e){no(to.current);var t=no(Ja.current),n=le(t,e.type);t!==n&&(Ei(eo,e),Ei(Ja,n))}function oo(e){eo.current===e&&(ki(Ja),ki(eo))}var so=Ti(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var fo=w.ReactCurrentDispatcher,po=w.ReactCurrentBatchConfig,ho=0,mo=null,go=null,vo=null,yo=!1,bo=!1,wo=0,So=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function To(e,t,n,r,i,o){if(ho=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(a(301));o+=1,vo=go=null,t.updateQueue=null,fo.current=us,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==go&&null!==go.next,ho=0,vo=go=mo=null,yo=!1,t)throw Error(a(300));return e}function ko(){var e=0!==wo;return wo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function Co(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(a(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function Oo(e,t){return"function"===typeof t?t(e):t}function Po(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((ho&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,mo.lanes|=d,Ll|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Ll|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Do(e,t){var n=mo,r=Co(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,$o(No.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Fo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(a(349));0!==(30&ho)||Mo(n,t,i)}return i}function Mo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&jo(e)}function No(e,t,n){return n((function(){Lo(t)&&jo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Pa(e,1);null!==t&&nu(t,e,1,-1)}function Bo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return Co().memoizedState}function Ho(e,t,n,r){var i=Eo();mo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==go){var o=go.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}mo.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function Vo(e,t){return Ho(8390656,8,e,t)}function $o(e,t){return zo(2048,8,e,t)}function Go(e,t){return zo(4,2,e,t)}function Wo(e,t){return zo(4,4,e,t)}function qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,qo.bind(null,t,e),n)}function Ko(){}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 0===(21&ho)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mo.lanes|=n,Ll|=n,e.baseState=!0),t)}function Jo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=po.transition;po.transition={};try{e(!1),t()}finally{bt=n,po.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Oa(e,t,n,r))){nu(n,e,r,eu()),as(n,t,r)}}function ns(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ca(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Oa(e,t,i,r))&&(nu(n,e,r,i=eu()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:ka,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:ka,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:ka,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ho(4194308,4,qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ho(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Bo,useDebugValue:Ko,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Bo(!1),t=e[0];return e=Jo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pl)throw Error(a(349));0!==(30&ho)||Mo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Vo(No.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Pl.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=So++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:ka,useCallback:Xo,useContext:ka,useEffect:$o,useImperativeHandle:Zo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Yo,useReducer:Po,useRef:Uo,useState:function(){return Po(Oo)},useDebugValue:Ko,useDeferredValue:function(e){return Qo(Co(),go.memoizedState,e)},useTransition:function(){return[Po(Oo)[0],Co().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1},us={readContext:ka,useCallback:Xo,useContext:ka,useEffect:$o,useImperativeHandle:Zo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Yo,useReducer:Io,useRef:Uo,useState:function(){return Io(Oo)},useDebugValue:Ko,useDeferredValue:function(e){var t=Co();return null===go?t.memoizedState=e:Qo(t,go.memoizedState,e)},useTransition:function(){return[Io(Oo)[0],Co().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Ma(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,Gl=r),fs(0,t)},n}function ms(e,t,n){(n=Ma(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ma(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function Ss(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Xa(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ta(t,i),r=To(e,t,n,r,a,i),n=ko(),null===e||ws?(ia&&n&&ea(t),t.flags|=1,Ss(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$s(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Du(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ru(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ts(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return $s(e,t,i)}return t.flags|=1,(e=Mu(a,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,$s(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Cs(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ml,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ml,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ml,Dl),Dl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ml,Dl),Dl|=r;return Ss(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Di(n)?Ii:Oi.current;return a=Ai(t,a),Ta(t,i),n=To(e,t,n,r,a,i),r=ko(),null===e||ws?(ia&&r&&ea(t),t.flags|=1,Ss(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$s(e,t,i))}function Os(e,t,n,r,i){if(Di(n)){var a=!0;Li(t)}else a=!1;if(Ta(t,i),null===t.stateNode)Vs(e,t),Va(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=ka(u):u=Ai(t,u=Di(n)?Ii:Oi.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&$a(t,o,r,u),Ia=!1;var f=t.memoizedState;o.state=f,ja(t,r,o,i),l=t.memoizedState,s!==r||f!==l||Pi.current||Ia?("function"===typeof c&&(Ua(t,n,c,r),l=t.memoizedState),(s=Ia||za(t,n,s,r,f,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ga(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=ka(l):l=Ai(t,l=Di(n)?Ii:Oi.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&$a(t,o,r,l),Ia=!1,f=t.memoizedState,o.state=f,ja(t,r,o,i);var h=t.memoizedState;s!==d||f!==h||Pi.current||Ia?("function"===typeof p&&(Ua(t,n,p,r),h=t.memoizedState),(u=Ia||za(t,n,u,r,f,h,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,a,i)}function Ps(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),$s(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):Ss(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return pa(),ha(i),t.flags|=256,Ss(e,t,n,r),t.child}var Ds,Ms,Rs,Ns={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lu(l,i,0,null),e=Nu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ns,e):Bs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lu({mode:"visible",children:r.children},i,0,null),(o=Nu(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ns,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fs(e,t,s,r=ds(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),ws||l){if(null!==(r=Pl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Pa(e,i),nu(r,e,i,-1))}return mu(),Fs(e,t,s,r=ds(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(qi[Zi++]=Xi,qi[Zi++]=Yi,qi[Zi++]=Ki,Xi=e.id,Yi=e.overflow,Ki=t),(t=Bs(t,r.children)).flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Mu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Mu(r,s):(s=Nu(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i}return e=(s=e.child).sibling,i=Mu(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&ha(r),Xa(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Hs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ss(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hs(t,!0,n,null,a);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $s(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Mu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Di(t.type)&&Mi(),Ws(t),null;case 3:return r=t.stateNode,io(),ki(Pi),ki(Oi),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ou(aa),aa=null))),Ws(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=no(Ja.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[pi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)Fr(Nr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":W(r),J(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[pi]=r,Ds(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)Fr(Nr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=K(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Rs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ws(t),null;case 13:if(ki(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),pa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==aa&&(ou(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Rl&&(Rl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Ws(t),null;case 10:return _a(t.type._context),Ws(t),null;case 19:if(ki(so),null===(o=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Gs(o,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>zl&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Ws(t),null}else 2*Ye()-o.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Zs(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),ki(Pi),ki(Oi),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(ki(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=K(e,i),r=K(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Xs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Tu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[pi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||Js(n,t);case 6:var r=cl,i=dl;cl=null,fl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xs&&(Js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tu(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,fl(e,t,n),Xs=r):fl(e,t,n);break;default:fl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Ou.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));pl(o,s,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Tu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Tu(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Tu(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){Tu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(i,o),be(l,s);var c=be(l,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?ge(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,c)}switch(l){case"input":Q(i,o);break;case"textarea":ae(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ne(i,!!o.multiple,h,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(g){Tu(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Tu(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Tu(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Hl=Ye())),4&r&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(c=Xs)||d,ml(t,e),Xs=c):ml(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(f=Qs=d;null!==Qs;){switch(h=(p=Qs).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Js(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tu(r,n,g)}}break;case 5:Js(p,p.return);break;case 22:if(null!==p.memoizedState){Sl(f);continue}}null!==h?(h.return=p,Qs=h):Sl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(g){Tu(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Tu(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),vl(e),4&r&&hl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Tu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Qs=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var i=Qs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ks;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Ks;var u=Xs;if(Ks=o,(Xs=l)&&!u)for(Qs=i;null!==Qs;)l=(o=Qs).child,22===o.tag&&null!==o.memoizedState?_l(i):null!==l?(l.return=o,Qs=l):_l(i);for(;null!==a;)Qs=a,bl(a,t,n),a=a.sibling;Qs=i,Ks=s,Xs=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qs=a):wl(e)}}function wl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ba(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ba(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&zt(f)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&il(t)}catch(p){Tu(t,t.return,p)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function Sl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function _l(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Tu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Tu(t,i,l)}}var a=t.return;try{il(t)}catch(l){Tu(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Tu(t,o,l)}}}catch(l){Tu(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var xl,Tl=Math.ceil,kl=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Ol=0,Pl=null,Il=null,Al=0,Dl=0,Ml=Ti(0),Rl=0,Nl=null,Ll=0,jl=0,Bl=0,Fl=null,Ul=null,Hl=0,zl=1/0,Vl=null,$l=!1,Gl=null,Wl=null,ql=!1,Zl=null,Kl=0,Xl=0,Yl=null,Ql=-1,Jl=0;function eu(){return 0!==(6&Ol)?Ye():-1!==Ql?Ql:Ql=Ye()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==Al?Al&-Al:null!==ma.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nu(e,t,n,r){if(50<Xl)throw Xl=0,Yl=null,Error(a(185));vt(e,n,r),0!==(2&Ol)&&e===Pl||(e===Pl&&(0===(2&Ol)&&(jl|=n),4===Rl&&su(e,Al)),ru(e,r),1===n&&0===Ol&&0===(1&t.mode)&&(zl=Ye()+500,Fi&&zi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=pt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Pl?Al:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Fi=!0,Hi(e)}(lu.bind(null,e)):Hi(lu.bind(null,e)),oi((function(){0===(6&Ol)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Ql=-1,Jl=0,0!==(6&Ol))throw Error(a(327));var n=e.callbackNode;if(_u()&&e.callbackNode!==n)return null;var r=ft(e,e===Pl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Ol;Ol|=2;var o=hu();for(Pl===e&&Al===t||(Vl=null,zl=Ye()+500,fu(e,t));;)try{yu();break}catch(l){pu(e,l)}Sa(),kl.current=o,Ol=i,null!==Il?t=0:(Pl=null,Al=0,t=Rl)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=au(e,i))),1===t)throw n=Nl,fu(e,0),su(e,r),ru(e,Ye()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(o=ht(e))&&(r=o,t=au(e,o))),1===t))throw n=Nl,fu(e,0),su(e,r),ru(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Su(e,Ul,Vl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Hl+500-Ye())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Su.bind(null,e,Ul,Vl),t);break}Su(e,Ul,Vl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(Su.bind(null,e,Ul,Vl),r);break}Su(e,Ul,Vl);break;default:throw Error(a(329))}}}return ru(e,Ye()),e.callbackNode===n?iu.bind(null,e):null}function au(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Ul,Ul=n,null!==t&&ou(t)),e}function ou(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function su(e,t){for(t&=~Bl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Ol))throw Error(a(327));_u();var t=ft(e,0);if(0===(1&t))return ru(e,Ye()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Nl,fu(e,0),su(e,t),ru(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Su(e,Ul,Vl),ru(e,Ye()),null}function uu(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(zl=Ye()+500,Fi&&zi())}}function cu(e){null!==Zl&&0===Zl.tag&&0===(6&Ol)&&_u();var t=Ol;Ol|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Ol=t))&&zi()}}function du(){Dl=Ml.current,ki(Ml)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:io(),ki(Pi),ki(Oi),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:ki(so);break;case 10:_a(r.type._context);break;case 22:case 23:du()}n=n.return}if(Pl=e,Il=e=Mu(e.current,null),Al=Dl=t,Rl=0,Nl=null,Bl=jl=Ll=0,Ul=Fl=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pu(e,t){for(;;){var n=Il;try{if(Sa(),fo.current=os,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(ho=0,vo=go=mo=null,bo=!1,wo=0,El.current=null,null===n||null===n.return){Rl=1,Nl=t,Il=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Al,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=vs(s);if(null!==h){h.flags&=-257,ys(h,s,l,0,t),1&h.mode&&gs(o,c,t),u=c;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){gs(o,c,t),mu();break e}u=Error(a(426))}else if(ia&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),ha(cs(u,l));break e}}o=u=cs(u,l),4!==Rl&&(Rl=2),null===Fl?Fl=[o]:Fl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,hs(0,u,t));break e;case 1:l=u;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,ms(o,l,t));break e}}o=o.return}while(null!==o)}wu(n)}catch(w){t=w,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function hu(){var e=kl.current;return kl.current=os,null===e?os:e}function mu(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Pl||0===(268435455&Ll)&&0===(268435455&jl)||su(Pl,Al)}function gu(e,t){var n=Ol;Ol|=2;var r=hu();for(Pl===e&&Al===t||(Vl=null,fu(e,t));;)try{vu();break}catch(i){pu(e,i)}if(Sa(),Ol=n,kl.current=r,null!==Il)throw Error(a(261));return Pl=null,Al=0,Rl}function vu(){for(;null!==Il;)bu(Il)}function yu(){for(;null!==Il&&!Ke();)bu(Il)}function bu(e){var t=xl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wu(e):Il=t,El.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,Dl)))return void(Il=n)}else{if(null!==(n=Zs(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Rl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Rl&&(Rl=5)}function Su(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{_u()}while(null!==Zl);if(0!==(6&Ol))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pl&&(Il=Pl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Pu(tt,(function(){return _u(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var s=bt;bt=1;var l=Ol;Ol|=4,El.current=null,function(e,t){if(ei=$t,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(S){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==o||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++c===i&&(l=s),p===o&&++d===r&&(u=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},$t=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ga(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(S){Tu(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=tl,tl=!1}(e,n),gl(n,e),hr(ti),$t=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Xe(),Ol=l,bt=s,Cl.transition=o}else e.current=n;if(ql&&(ql=!1,Zl=e,Kl=i),0===(o=e.pendingLanes)&&(Wl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($l)throw $l=!1,e=Gl,Gl=null,e;0!==(1&Kl)&&0!==e.tag&&_u(),0!==(1&(o=e.pendingLanes))?e===Yl?Xl++:(Xl=0,Yl=e):Xl=0,zi()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function _u(){if(null!==Zl){var e=wt(Kl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,Kl=0,0!==(6&Ol))throw Error(a(331));var i=Ol;for(Ol|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(0!==(16&Qs.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qs=c;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var f=d.child;if(null!==f)f.return=d,Qs=f;else for(;null!==Qs;){var p=(d=Qs).sibling,h=d.return;if(al(d),d===c){Qs=null;break}if(null!==p){p.return=h,Qs=p;break}Qs=h}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Qs=y;break e}Qs=o.return}}var b=e.current;for(Qs=b;null!==Qs;){var w=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Qs=w;else e:for(s=b;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Tu(l,l.return,_)}if(l===s){Qs=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,Qs=S;break e}Qs=l.return}}if(Ol=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function xu(e,t,n){e=Ra(e,t=hs(0,t=cs(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function Tu(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Ra(t,e=ms(t,e=cs(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Al&n)===n&&(4===Rl||3===Rl&&(130023424&Al)===Al&&500>Ye()-Hl?fu(e,0):Bl|=n),ru(e,t)}function Eu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Pa(e,t))&&(vt(e,t,n),ru(e,n))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Ou(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Eu(e,n)}function Pu(e,t){return qe(e,t)}function Iu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Au(e,t,n,r){return new Iu(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mu(e,t){var n=e.alternate;return null===n?((n=Au(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Du(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Nu(n.children,i,o,t);case T:s=8,i|=8;break;case k:return(e=Au(12,n,t,2|i)).elementType=k,e.lanes=o,e;case P:return(e=Au(13,n,t,i)).elementType=P,e.lanes=o,e;case I:return(e=Au(19,n,t,i)).elementType=I,e.lanes=o,e;case M:return Lu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case C:s=9;break e;case O:s=11;break e;case A:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Au(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Nu(e,t,n,r){return(e=Au(7,e,r,t)).lanes=n,e}function Lu(e,t,n,r){return(e=Au(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function ju(e,t,n){return(e=Au(6,e,null,t)).lanes=n,e}function Bu(e,t,n){return(t=Au(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,i,a,o,s,l){return e=new Fu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Au(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Hu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zu(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Ni(e,n,t)}return t}function Vu(e,t,n,r,i,a,o,s,l){return(e=Uu(n,r,!0,e,0,a,0,s,l)).context=zu(null),n=e.current,(a=Ma(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,vt(e,i,r),ru(e,r),e}function $u(e,t,n,r){var i=t.current,a=eu(),o=tu(i);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ma(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nu(e,i,o,a),Na(e,i,o)),o}function Gu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Is(t),pa();break;case 5:ao(t);break;case 1:Di(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(va,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ei(so,1&so.current),null!==(e=$s(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return $s(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var i=Ai(t,Oi.current);Ta(t,n),i=To(null,t,r,e,i,n);var o=ko();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Ha,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Ps(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),Ss(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Du(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===A)return 14}return 2}(r),e=ga(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Os(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ga(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 1:return r=t.type,i=t.pendingProps,Os(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 3:e:{if(Is(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=$s(e,t,n);break e}Ss(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),Ss(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):Ss(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 7:return Ss(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ss(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(va,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Pi.current){t=$s(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Ma(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),xa(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}Ss(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ta(t,n),r=r(i=ka(i)),t.flags|=1,Ss(e,t,r,n),t.child;case 14:return i=ga(r=t.type,t.pendingProps),xs(e,t,r,i=ga(r.type,i),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ga(r,i),Vs(e,t),t.tag=1,Di(r)?(e=!0,Li(t)):e=!1,Ta(t,n),Va(t,r,i),Ga(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return ks(e,t,n)}throw Error(a(156,t.tag))};var Zu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Gu(o);s.call(e)}}$u(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gu(o);a.call(e)}}var o=Vu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=o,e[hi]=o.current,zr(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gu(l);s.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[hi]=l.current,zr(8===e.nodeType?e.parentNode:e),cu((function(){$u(t,l,n,r)})),l}(n,t,e,i,r);return Gu(o)}Xu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));$u(e,t,null,null)},Xu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){$u(null,e,null,null)})),t[hi]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&jt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Ye()),0===(6&Ol)&&(zl=Ye()+500,zi()))}break;case 13:cu((function(){var t=Pa(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),qu(e,1)}},_t=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)nu(t,e,134217728,eu());qu(e,134217728)}},xt=function(e){if(13===e.tag){var t=tu(e),n=Pa(e,t);if(null!==n)nu(n,e,t,eu());qu(e,t)}},Tt=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(a(90));q(r),Q(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=uu,Pe=cu;var tc={usingClientEntryPoint:!1,Events:[bi,wi,Si,Ee,Ce,uu]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(a(200));return Hu(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(a(299));var n=!1,r="",i=Zu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Qu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Zu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,i,0,o,s),e[hi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xu(t)},t.render=function(e,t,n){if(!Qu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},20745:(e,t,n)=>{"use strict";var r=n(73935);t.s=r.createRoot,r.hydrateRoot},73935:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(64448)},97762:(e,t,n)=>{"use strict";var r,i;r=n(87774),i=n(38698),t.version=r.version,t.renderToString=r.renderToString,t.renderToStaticMarkup=r.renderToStaticMarkup,t.renderToNodeStream=r.renderToNodeStream,t.renderToStaticNodeStream=r.renderToStaticNodeStream,t.renderToReadableStream=i.renderToReadableStream},69590:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,l,u,c;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(l=s;0!==l--;)if(!a(e[l],o[l]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!o.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!a(l.value[1],o.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(l=s;0!==l--;)if(e[l]!==o[l])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((s=(u=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(o,u[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!e.$$typeof)&&!a(e[u[l]],o[u[l]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},95172:(e,t,n)=>{"use strict";n.d(t,{y1:()=>P});var r="undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function i(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),(function(){n(window.event)}))}function a(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function o(e){"string"!==typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}for(var s={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21ea":20,",":188,".":190,"/":191,"`":192,"-":r?173:189,"=":r?61:187,";":r?59:186,"'":222,"[":219,"]":221,"\\":220},l={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},u={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},c={16:!1,18:!1,17:!1,91:!1},d={},f=1;f<20;f++)s["f".concat(f)]=111+f;var p=[],h=!1,m="all",g=[],v=function(e){return s[e.toLowerCase()]||l[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function y(e){m=e||"all"}function b(){return m||"all"}var w=function(e){var t=e.key,n=e.scope,r=e.method,i=e.splitKey,s=void 0===i?"+":i;o(t).forEach((function(e){var t=e.split(s),i=t.length,o=t[i-1],u="*"===o?"*":v(o);if(d[u]){n||(n=b());var c=i>1?a(l,t):[];d[u]=d[u].filter((function(e){return!((!r||e.method===r)&&e.scope===n&&function(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,a=0;a<n.length;a++)-1===r.indexOf(n[a])&&(i=!1);return i}(e.mods,c))}))}}))};function S(e,t,n,r){var i;if(t.element===r&&(t.scope===n||"all"===t.scope)){for(var a in i=t.mods.length>0,c)Object.prototype.hasOwnProperty.call(c,a)&&(!c[a]&&t.mods.indexOf(+a)>-1||c[a]&&-1===t.mods.indexOf(+a))&&(i=!1);(0!==t.mods.length||c[16]||c[18]||c[17]||c[91])&&!i&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function _(e,t){var n=d["*"],r=e.keyCode||e.which||e.charCode;if(x.filter.call(this,e)){if(93!==r&&224!==r||(r=91),-1===p.indexOf(r)&&229!==r&&p.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(t){var n=u[t];e[t]&&-1===p.indexOf(n)?p.push(n):!e[t]&&p.indexOf(n)>-1?p.splice(p.indexOf(n),1):"metaKey"===t&&e[t]&&3===p.length&&(e.ctrlKey||e.shiftKey||e.altKey||(p=p.slice(p.indexOf(n))))})),r in c){for(var i in c[r]=!0,l)l[i]===r&&(x[i]=!0);if(!n)return}for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(c[a]=e[u[a]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===p.indexOf(17)&&p.push(17),-1===p.indexOf(18)&&p.push(18),c[17]=!0,c[18]=!0);var o=b();if(n)for(var s=0;s<n.length;s++)n[s].scope===o&&("keydown"===e.type&&n[s].keydown||"keyup"===e.type&&n[s].keyup)&&S(e,n[s],o,t);if(r in d)for(var f=0;f<d[r].length;f++)if(("keydown"===e.type&&d[r][f].keydown||"keyup"===e.type&&d[r][f].keyup)&&d[r][f].key){for(var h=d[r][f],m=h.splitKey,g=h.key.split(m),y=[],w=0;w<g.length;w++)y.push(v(g[w]));y.sort().join("")===p.sort().join("")&&S(e,h,o,t)}}}function x(e,t,n){p=[];var r=o(e),s=[],u="all",f=document,m=0,y=!1,b=!0,w="+",S=!1;for(void 0===n&&"function"===typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(u=t.scope),t.element&&(f=t.element),t.keyup&&(y=t.keyup),void 0!==t.keydown&&(b=t.keydown),void 0!==t.capture&&(S=t.capture),"string"===typeof t.splitKey&&(w=t.splitKey)),"string"===typeof t&&(u=t);m<r.length;m++)s=[],(e=r[m].split(w)).length>1&&(s=a(l,e)),(e="*"===(e=e[e.length-1])?"*":v(e))in d||(d[e]=[]),d[e].push({keyup:y,keydown:b,scope:u,mods:s,shortcut:r[m],method:n,key:r[m],splitKey:w,element:f});"undefined"!==typeof f&&!function(e){return g.indexOf(e)>-1}(f)&&window&&(g.push(f),i(f,"keydown",(function(e){_(e,f)}),S),h||(h=!0,i(window,"focus",(function(){p=[]}),S)),i(f,"keyup",(function(e){_(e,f),function(e){var t=e.keyCode||e.which||e.charCode,n=p.indexOf(t);if(n>=0&&p.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&p.splice(0,p.length),93!==t&&224!==t||(t=91),t in c)for(var r in c[t]=!1,l)l[r]===t&&(x[r]=!1)}(e)}),S))}var T={setScope:y,getScope:b,deleteScope:function(e,t){var n,r;for(var i in e||(e=b()),d)if(Object.prototype.hasOwnProperty.call(d,i))for(n=d[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;b()===e&&y(t||"all")},getPressedKeyCodes:function(){return p.slice(0)},isPressed:function(e){return"string"===typeof e&&(e=v(e)),-1!==p.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return!t.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||t.readOnly)||(r=!1),r},trigger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(d).forEach((function(n){var r=d[n].find((function(n){return n.scope===t&&n.shortcut===e}));r&&r.method&&r.method()}))},unbind:function(e){if(e){if(Array.isArray(e))e.forEach((function(e){e.key&&w(e)}));else if("object"===typeof e)e.key&&w(e);else if("string"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],a=n[1];"function"===typeof i&&(a=i,i=""),w({key:e,scope:i,method:a,splitKey:"+"})}}else Object.keys(d).forEach((function(e){return delete d[e]}))},keyMap:s,modifier:l,modifierMap:u};for(var k in T)Object.prototype.hasOwnProperty.call(T,k)&&(x[k]=T[k]);if("undefined"!==typeof window){var E=window.hotkeys;x.noConflict=function(e){return e&&window.hotkeys===x&&(window.hotkeys=E),x},window.hotkeys=x}var C=n(67294);x.filter=function(){return!0};var O=function(e,t){var n=e.target,r=n&&n.tagName;return Boolean(r&&t&&t.includes(r))};function P(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},a=i.enableOnTags,o=i.filter,s=i.keyup,l=i.keydown,u=i.filterPreventDefault,c=void 0===u||u,d=i.enabled,f=void 0===d||d,p=i.enableOnContentEditable,h=void 0!==p&&p,m=(0,C.useRef)(null),g=(0,C.useCallback)((function(e,n){var r;return o&&!o(e)?!c:!!(O(e,["INPUT","TEXTAREA","SELECT"])&&!O(e,a)||null!=(r=e.target)&&r.isContentEditable&&!h)||(null===m.current||document.activeElement===m.current)&&(t(e,n),!0)}),r?[m,a,o].concat(r):[m,a,o]);return(0,C.useEffect)((function(){if(f)return s&&!0!==l&&(n.keydown=!1),x(e,n||{},g),function(){return x.unbind(e,g)};x.unbind(e,g)}),[g,e,f]),m}x.isPressed},97031:(e,t,n)=>{"use strict";n.d(t,{OO:()=>h,zv:()=>g,JP:()=>m,nI:()=>v,Db:()=>y});var r=n(15671),i=n(43144),a=n(4942),o=n(67294),s=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g,l={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},u=function(e){return l[e]};function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f,p={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(s,u)}},h=(0,o.createContext)();function m(){return p}var g=function(){function e(){(0,r.Z)(this,e),this.usedNamespaces={}}return(0,i.Z)(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function v(){return f}var y={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p=d(d({},p),e)}(e.options.react),function(e){f=e}(e)}}},22327:(e,t,n)=>{"use strict";n.d(t,{$:()=>b});var r=n(83878);var i=n(88192),a=n(25267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}var s=n(4942),l=n(67294),u=n(97031);function c(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var d={};function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&d[t[0]]||("string"===typeof t[0]&&(d[t[0]]=new Date),c.apply(void 0,t))}function p(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.languages[0],i=!!t.options&&t.options.fallbackLng,a=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var o=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||(!(t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages))||!(!o(r,e)||i&&!o(a,e))))}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return f("i18n.languages were undefined or empty",t.languages),!0;var r=void 0!==t.options.ignoreJSONStructure;return r?t.hasLoadedNamespace(e,{precheck:function(t,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):h(e,t,n)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e,t){var n=(0,l.useRef)();return(0,l.useEffect)((function(){n.current=t?n.current:e}),[e,t]),n.current};function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,r=(0,l.useContext)(u.OO)||{},i=r.i18n,a=r.defaultNS,s=n||i||(0,u.nI)();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new u.zv),!s){f("You will need to pass in an i18next instance by using initReactI18next");var c=function(e){return Array.isArray(e)?e[e.length-1]:e},d=[c,{},!1];return d.t=c,d.i18n={},d.ready=!1,d}s.options.react&&void 0!==s.options.react.wait&&f("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var h=v(v(v({},(0,u.JP)()),s.options.react),t),g=h.useSuspense,b=h.keyPrefix,w=e||a||s.options&&s.options.defaultNS;w="string"===typeof w?[w]:w||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(w);var S=(s.isInitialized||s.initializedStoreOnce)&&w.every((function(e){return m(e,s,h)}));function _(){return s.getFixedT(null,"fallback"===h.nsMode?w:w[0],b)}var x=(0,l.useState)(_),T=o(x,2),k=T[0],E=T[1],C=w.join(),O=y(C),P=(0,l.useRef)(!0);(0,l.useEffect)((function(){var e=h.bindI18n,t=h.bindI18nStore;function n(){P.current&&E(_)}return P.current=!0,S||g||p(s,w,(function(){P.current&&E(_)})),S&&O&&O!==C&&P.current&&E(_),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){P.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[s,C]);var I=(0,l.useRef)(!0);(0,l.useEffect)((function(){P.current&&!I.current&&E(_),I.current=!1}),[s]);var A=[k,s,S];if(A.t=k,A.i18n=s,A.ready=S,S)return A;if(!S&&!g)return A;throw new Promise((function(e){p(s,w,(function(){e()}))}))}},69921:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case a:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case g:case m:case l:return e;default:return t}}case i:return t}}}function _(e){return S(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||S(e)===c},t.isConcurrentMode=_,t.isContextConsumer=function(e){return S(e)===u},t.isContextProvider=function(e){return S(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return S(e)===f},t.isFragment=function(e){return S(e)===a},t.isLazy=function(e){return S(e)===g},t.isMemo=function(e){return S(e)===m},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===s},t.isStrictMode=function(e){return S(e)===o},t.isSuspense=function(e){return S(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=S},59864:(e,t,n)=>{"use strict";e.exports=n(69921)},59605:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(67294)),o=(i=n(69590))&&i.__esModule?i:{default:i},s=n(29448),l=n(56281);function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,n,r,i=h(s);function s(){var e;d(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(g(e=i.call.apply(i,[this].concat(n))),"mounted",!1),y(g(e),"isReady",!1),y(g(e),"isPlaying",!1),y(g(e),"isLoading",!0),y(g(e),"loadOnReady",null),y(g(e),"startOnPlay",!0),y(g(e),"seekOnPlay",null),y(g(e),"onDurationCalled",!1),y(g(e),"handlePlayerMount",(function(t){e.player||(e.player=t,e.player.load(e.props.url),e.progress())})),y(g(e),"getInternalPlayer",(function(t){return e.player?e.player[t]:null})),y(g(e),"progress",(function(){if(e.props.url&&e.player&&e.isReady){var t=e.getCurrentTime()||0,n=e.getSecondsLoaded(),r=e.getDuration();if(r){var i={playedSeconds:t,played:t/r};null!==n&&(i.loadedSeconds=n,i.loaded=n/r),i.playedSeconds===e.prevPlayed&&i.loadedSeconds===e.prevLoaded||e.props.onProgress(i),e.prevPlayed=i.playedSeconds,e.prevLoaded=i.loadedSeconds}}e.progressTimeout=setTimeout(e.progress,e.props.progressFrequency||e.props.progressInterval)})),y(g(e),"handleReady",(function(){if(e.mounted){e.isReady=!0,e.isLoading=!1;var t=e.props,n=t.onReady,r=t.playing,i=t.volume,a=t.muted;n(),a||null===i||e.player.setVolume(i),e.loadOnReady?(e.player.load(e.loadOnReady,!0),e.loadOnReady=null):r&&e.player.play(),e.handleDurationCheck()}})),y(g(e),"handlePlay",(function(){e.isPlaying=!0,e.isLoading=!1;var t=e.props,n=t.onStart,r=t.onPlay,i=t.playbackRate;e.startOnPlay&&(e.player.setPlaybackRate&&1!==i&&e.player.setPlaybackRate(i),n(),e.startOnPlay=!1),r(),e.seekOnPlay&&(e.seekTo(e.seekOnPlay),e.seekOnPlay=null),e.handleDurationCheck()})),y(g(e),"handlePause",(function(t){e.isPlaying=!1,e.isLoading||e.props.onPause(t)})),y(g(e),"handleEnded",(function(){var t=e.props,n=t.activePlayer,r=t.loop,i=t.onEnded;n.loopOnEnded&&r&&e.seekTo(0),r||(e.isPlaying=!1,i())})),y(g(e),"handleError",(function(){var t;e.isLoading=!1,(t=e.props).onError.apply(t,arguments)})),y(g(e),"handleDurationCheck",(function(){clearTimeout(e.durationCheckTimeout);var t=e.getDuration();t?e.onDurationCalled||(e.props.onDuration(t),e.onDurationCalled=!0):e.durationCheckTimeout=setTimeout(e.handleDurationCheck,100)})),y(g(e),"handleLoaded",(function(){e.isLoading=!1})),e}return t=s,n=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.player){var n=this.props,r=n.url,i=n.playing,a=n.volume,s=n.muted,u=n.playbackRate,c=n.pip,d=n.loop,f=n.activePlayer,p=n.disableDeferredLoading;if(!(0,o.default)(e.url,r)){if(this.isLoading&&!f.forceLoad&&!p&&!(0,l.isMediaStream)(r))return console.warn("ReactPlayer: the attempt to load ".concat(r," is being deferred until the player has loaded")),void(this.loadOnReady=r);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}e.playing||!i||this.isPlaying||this.player.play(),e.playing&&!i&&this.isPlaying&&this.player.pause(),!e.pip&&c&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!c&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==a&&null!==a&&this.player.setVolume(a),e.muted!==s&&(s?this.player.mute():(this.player.unmute(),null!==a&&setTimeout((function(){return t.player.setVolume(a)})))),e.playbackRate!==u&&this.player.setPlaybackRate&&this.player.setPlaybackRate(u),e.loop!==d&&this.player.setLoop&&this.player.setLoop(d)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(e,t){var n=this;if(this.isReady){if(t?"fraction"===t:e>0&&e<1){var r=this.player.getDuration();return r?void this.player.seekTo(r*e):void console.warn("ReactPlayer: could not seek using fraction \u2013\xa0duration not yet available")}this.player.seekTo(e)}else 0!==e&&(this.seekOnPlay=e,setTimeout((function(){n.seekOnPlay=null}),5e3))}},{key:"render",value:function(){var e=this.props.activePlayer;return e?a.default.createElement(e,c({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}],n&&f(t.prototype,n),r&&f(t,r),s}(a.Component);t.default=b,y(b,"displayName","Player"),y(b,"propTypes",s.propTypes),y(b,"defaultProps",s.defaultProps)},57284:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(67294));function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g="64px",v={},y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,e);var t,n,r,a=d(o);function o(){var e;l(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(p(e=a.call.apply(a,[this].concat(n))),"mounted",!1),m(p(e),"state",{image:null}),m(p(e),"handleKeyPress",(function(t){"Enter"!==t.key&&" "!==t.key||e.props.onClick()})),e}return t=o,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.url,r=t.light;e.url===n&&e.light===r||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(e){var t=this,n=e.url,r=e.light,i=e.oEmbedUrl;if("string"!==typeof r){if(!v[n])return this.setState({image:null}),window.fetch(i.replace("{url}",n)).then((function(e){return e.json()})).then((function(e){if(e.thumbnail_url&&t.mounted){var r=e.thumbnail_url.replace("height=100","height=480");t.setState({image:r}),v[n]=r}}));this.setState({image:v[n]})}else this.setState({image:r})}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.playIcon,r=e.previewTabIndex,a=this.state.image,o={display:"flex",alignItems:"center",justifyContent:"center"},l={preview:s({width:"100%",height:"100%",backgroundImage:a?"url(".concat(a,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},o),shadow:s({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:g,width:g,height:g},o),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},u=i.default.createElement("div",{style:l.shadow,className:"react-player__shadow"},i.default.createElement("div",{style:l.playIcon,className:"react-player__play-icon"}));return i.default.createElement("div",{style:l.preview,className:"react-player__preview",onClick:t,tabIndex:r,onKeyPress:this.handleKeyPress},n||u)}}])&&u(t.prototype,n),r&&u(t,r),o}(i.Component);t.default=y},71276:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.createReactPlayer=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(67294)),a=d(n(9996)),o=d(n(30845)),s=d(n(69590)),l=n(29448),u=n(56281),c=d(n(59605));function d(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function g(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=(0,i.lazy)((function(){return n.e(736).then(n.bind(n,57284))})),C="undefined"!==typeof window&&window.document,O="undefined"!==typeof n.g&&n.g.window&&n.g.window.document,P=Object.keys(l.propTypes),I=C||O?i.Suspense:function(){return null},A=[];t.createReactPlayer=function(e,t){var n,r;return r=n=function(n){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(v,n);var r,d,f,p=S(v);function v(){var n;y(this,v);for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return k(x(n=p.call.apply(p,[this].concat(s))),"state",{showPreview:!!n.props.light}),k(x(n),"references",{wrapper:function(e){n.wrapper=e},player:function(e){n.player=e}}),k(x(n),"handleClickPreview",(function(e){n.setState({showPreview:!1}),n.props.onClickPreview(e)})),k(x(n),"showPreview",(function(){n.setState({showPreview:!0})})),k(x(n),"getDuration",(function(){return n.player?n.player.getDuration():null})),k(x(n),"getCurrentTime",(function(){return n.player?n.player.getCurrentTime():null})),k(x(n),"getSecondsLoaded",(function(){return n.player?n.player.getSecondsLoaded():null})),k(x(n),"getInternalPlayer",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return n.player?n.player.getInternalPlayer(e):null})),k(x(n),"seekTo",(function(e,t){if(!n.player)return null;n.player.seekTo(e,t)})),k(x(n),"handleReady",(function(){n.props.onReady(x(n))})),k(x(n),"getActivePlayer",(0,o.default)((function(n){for(var r=0,i=[].concat(A,g(e));r<i.length;r++){var a=i[r];if(a.canPlay(n))return a}return t||null}))),k(x(n),"getConfig",(0,o.default)((function(e,t){var r=n.props.config;return a.default.all([l.defaultProps.config,l.defaultProps.config[t]||{},r,r[t]||{}])}))),k(x(n),"getAttributes",(0,o.default)((function(e){return(0,u.omit)(n.props,P)}))),k(x(n),"renderActivePlayer",(function(e){if(!e)return null;var t=n.getActivePlayer(e);if(!t)return null;var r=n.getConfig(e,t.key);return i.default.createElement(c.default,m({},n.props,{key:t.key,ref:n.references.player,config:r,activePlayer:t.lazyPlayer||t,onReady:n.handleReady}))})),n}return r=v,d=[{key:"shouldComponentUpdate",value:function(e,t){return!(0,s.default)(this.props,e)||!(0,s.default)(this.state,t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.light;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(e){if(!e)return null;var t=this.props,n=t.light,r=t.playIcon,a=t.previewTabIndex,o=t.oEmbedUrl;return i.default.createElement(E,{url:e,light:n,playIcon:r,previewTabIndex:a,oEmbedUrl:o,onClick:this.handleClickPreview})}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.style,r=e.width,a=e.height,o=e.fallback,s=e.wrapper,l=this.state.showPreview,u=this.getAttributes(t);return i.default.createElement(s,m({ref:this.references.wrapper,style:h(h({},n),{},{width:r,height:a})},u),i.default.createElement(I,{fallback:o},l?this.renderPreview(t):this.renderActivePlayer(t)))}}],d&&b(r.prototype,d),f&&b(r,f),v}(i.Component),k(n,"displayName","ReactPlayer"),k(n,"propTypes",l.propTypes),k(n,"defaultProps",l.defaultProps),k(n,"addCustomPlayer",(function(e){A.push(e)})),k(n,"removeCustomPlayers",(function(){A.length=0})),k(n,"canPlay",(function(t){for(var n=0,r=[].concat(A,g(e));n<r.length;n++){if(r[n].canPlay(t))return!0}return!1})),k(n,"canEnablePIP",(function(t){for(var n=0,r=[].concat(A,g(e));n<r.length;n++){var i=r[n];if(i.canEnablePIP&&i.canEnablePIP(t))return!0}return!1})),r}},56310:(e,t,n)=>{"use strict";t.Z=void 0;var r,i=(r=n(29760))&&r.__esModule?r:{default:r},a=n(71276);var o=i.default[i.default.length-1],s=(0,a.createReactPlayer)(i.default,o);t.Z=s},99790:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canPlay=t.FLV_EXTENSIONS=t.DASH_EXTENSIONS=t.HLS_EXTENSIONS=t.VIDEO_EXTENSIONS=t.AUDIO_EXTENSIONS=t.MATCH_URL_KALTURA=t.MATCH_URL_VIDYARD=t.MATCH_URL_MIXCLOUD=t.MATCH_URL_DAILYMOTION=t.MATCH_URL_TWITCH_CHANNEL=t.MATCH_URL_TWITCH_VIDEO=t.MATCH_URL_WISTIA=t.MATCH_URL_STREAMABLE=t.MATCH_URL_FACEBOOK_WATCH=t.MATCH_URL_FACEBOOK=t.MATCH_URL_VIMEO=t.MATCH_URL_SOUNDCLOUD=t.MATCH_URL_YOUTUBE=void 0;var r=n(56281);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;t.MATCH_URL_YOUTUBE=o;var s=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;t.MATCH_URL_SOUNDCLOUD=s;var l=/vimeo\.com\/(?!progressive_redirect).+/;t.MATCH_URL_VIMEO=l;var u=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;t.MATCH_URL_FACEBOOK=u;var c=/^https?:\/\/fb\.watch\/.+$/;t.MATCH_URL_FACEBOOK_WATCH=c;var d=/streamable\.com\/([a-z0-9]+)$/;t.MATCH_URL_STREAMABLE=d;var f=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;t.MATCH_URL_WISTIA=f;var p=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;t.MATCH_URL_TWITCH_VIDEO=p;var h=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;t.MATCH_URL_TWITCH_CHANNEL=h;var m=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;t.MATCH_URL_DAILYMOTION=m;var g=/mixcloud\.com\/([^/]+\/[^/]+)/;t.MATCH_URL_MIXCLOUD=g;var v=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;t.MATCH_URL_VIDYARD=v;var y=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;t.MATCH_URL_KALTURA=y;var b=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;t.AUDIO_EXTENSIONS=b;var w=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;t.VIDEO_EXTENSIONS=w;var S=/\.(m3u8)($|\?)/i;t.HLS_EXTENSIONS=S;var _=/\.(mpd)($|\?)/i;t.DASH_EXTENSIONS=_;var x=/\.(flv)($|\?)/i;t.FLV_EXTENSIONS=x;var T={youtube:function(e){return e instanceof Array?e.every((function(e){return o.test(e)})):o.test(e)},soundcloud:function(e){return s.test(e)&&!b.test(e)},vimeo:function(e){return l.test(e)&&!w.test(e)&&!S.test(e)},facebook:function(e){return u.test(e)||c.test(e)},streamable:function(e){return d.test(e)},wistia:function(e){return f.test(e)},twitch:function(e){return p.test(e)||h.test(e)},dailymotion:function(e){return m.test(e)},mixcloud:function(e){return g.test(e)},vidyard:function(e){return v.test(e)},kaltura:function(e){return y.test(e)},file:function e(t){if(t instanceof Array){var n,a=i(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;if("string"===typeof o&&e(o))return!0;if(e(o.src))return!0}}catch(s){a.e(s)}finally{a.f()}return!1}return!(!(0,r.isMediaStream)(t)&&!(0,r.isBlobUrl)(t))||(b.test(t)||w.test(t)||S.test(t)||_.test(t)||x.test(t))}};t.canPlay=T},65134:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(67294)),a=n(56281),o=n(99790);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(l,e);var t,n,r,s=m(l);function l(){var e;f(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(v(e=s.call.apply(s,[this].concat(n))),"callPlayer",a.callPlayer),b(v(e),"onDurationChange",(function(){var t=e.getDuration();e.props.onDuration(t)})),b(v(e),"mute",(function(){e.callPlayer("setMuted",!0)})),b(v(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),b(v(e),"ref",(function(t){e.container=t})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.controls,i=n.config,s=n.onError,l=n.playing,d=c(e.match(o.MATCH_URL_DAILYMOTION),2)[1];this.player?this.player.load(d,{start:(0,a.parseStartTime)(e),autoplay:l}):(0,a.getSDK)("https://api.dmcdn.net/all.js","DM","dmAsyncInit",(function(e){return e.player})).then((function(n){if(t.container){var o=n.player;t.player=new o(t.container,{width:"100%",height:"100%",video:d,params:u({controls:r,autoplay:t.props.playing,mute:t.props.muted,start:(0,a.parseStartTime)(e),origin:window.location.origin},i.params),events:{apiready:t.props.onReady,seeked:function(){return t.props.onSeek(t.player.currentTime)},video_end:t.props.onEnded,durationchange:t.onDurationChange,pause:t.props.onPause,playing:t.props.onPlay,waiting:t.props.onBuffer,error:function(e){return s(e)}}})}}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:e},i.default.createElement("div",{ref:this.ref}))}}])&&p(t.prototype,n),r&&p(t,r),l}(i.Component);t.default=w,b(w,"displayName","DailyMotion"),b(w,"canPlay",o.canPlay.dailymotion),b(w,"loopOnEnded",!0)},26429:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(67294)),a=n(56281),o=n(99790);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v="https://connect.facebook.net/en_US/sdk.js",y="fbAsyncInit",b="facebook-player-",w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,n,r,o=f(s);function s(){var e;u(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(h(e=o.call.apply(o,[this].concat(n))),"callPlayer",a.callPlayer),g(h(e),"playerID",e.props.config.playerId||"".concat(b).concat((0,a.randomString)())),g(h(e),"mute",(function(){e.callPlayer("mute")})),g(h(e),"unmute",(function(){e.callPlayer("unmute")})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this;t?(0,a.getSDK)(v,"FB",y).then((function(e){return e.XFBML.parse()})):(0,a.getSDK)(v,"FB",y).then((function(e){e.init({appId:n.props.config.appId,xfbml:!0,version:n.props.config.version}),e.Event.subscribe("xfbml.render",(function(e){n.props.onLoaded()})),e.Event.subscribe("xfbml.ready",(function(e){"video"===e.type&&e.id===n.playerID&&(n.player=e.instance,n.player.subscribe("startedPlaying",n.props.onPlay),n.player.subscribe("paused",n.props.onPause),n.player.subscribe("finishedPlaying",n.props.onEnded),n.player.subscribe("startedBuffering",n.props.onBuffer),n.player.subscribe("finishedBuffering",n.props.onBufferEnd),n.player.subscribe("error",n.props.onError),n.props.muted?n.callPlayer("mute"):n.callPlayer("unmute"),n.props.onReady(),document.getElementById(n.playerID).querySelector("iframe").style.visibility="visible")}))}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.config.attributes;return i.default.createElement("div",l({style:{width:"100%",height:"100%"},id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},e))}}])&&c(t.prototype,n),r&&c(t,r),s}(i.Component);t.default=w,g(w,"displayName","Facebook"),g(w,"canPlay",o.canPlay.facebook),g(w,"loopOnEnded",!0)},33364:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(67294)),a=n(56281),o=n(99790);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v="undefined"!==typeof navigator,y=v&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,b=v&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||y)&&!window.MSStream,w=/www\.dropbox\.com\/.+/,S=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,_=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(p,e);var t,n,r,s=f(p);function p(){var e;u(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(h(e=s.call.apply(s,[this].concat(n))),"onReady",(function(){var t;return(t=e.props).onReady.apply(t,arguments)})),g(h(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),g(h(e),"onBuffer",(function(){var t;return(t=e.props).onBuffer.apply(t,arguments)})),g(h(e),"onBufferEnd",(function(){var t;return(t=e.props).onBufferEnd.apply(t,arguments)})),g(h(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),g(h(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),g(h(e),"onError",(function(){var t;return(t=e.props).onError.apply(t,arguments)})),g(h(e),"onPlayBackRateChange",(function(t){return e.props.onPlaybackRateChange(t.target.playbackRate)})),g(h(e),"onEnablePIP",(function(){var t;return(t=e.props).onEnablePIP.apply(t,arguments)})),g(h(e),"onDisablePIP",(function(t){var n=e.props,r=n.onDisablePIP,i=n.playing;r(t),i&&e.play()})),g(h(e),"onPresentationModeChange",(function(t){if(e.player&&(0,a.supportsWebKitPresentationMode)(e.player)){var n=e.player.webkitPresentationMode;"picture-in-picture"===n?e.onEnablePIP(t):"inline"===n&&e.onDisablePIP(t)}})),g(h(e),"onSeek",(function(t){e.props.onSeek(t.target.currentTime)})),g(h(e),"mute",(function(){e.player.muted=!0})),g(h(e),"unmute",(function(){e.player.muted=!1})),g(h(e),"renderSourceElement",(function(e,t){return"string"===typeof e?i.default.createElement("source",{key:t,src:e}):i.default.createElement("source",l({key:t},e))})),g(h(e),"renderTrack",(function(e,t){return i.default.createElement("track",l({key:t},e))})),g(h(e),"ref",(function(t){e.player&&(e.prevPlayer=e.player),e.player=t})),e}return t=p,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),b&&this.player.load()}},{key:"componentDidUpdate",value:function(e){this.shouldUseAudio(this.props)!==this.shouldUseAudio(e)&&(this.removeListeners(this.prevPlayer,e.url),this.addListeners(this.player)),this.props.url===e.url||(0,a.isMediaStream)(this.props.url)||(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(e){var t=this.props,n=t.url,r=t.playsinline;e.addEventListener("play",this.onPlay),e.addEventListener("waiting",this.onBuffer),e.addEventListener("playing",this.onBufferEnd),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeek),e.addEventListener("ended",this.onEnded),e.addEventListener("error",this.onError),e.addEventListener("ratechange",this.onPlayBackRateChange),e.addEventListener("enterpictureinpicture",this.onEnablePIP),e.addEventListener("leavepictureinpicture",this.onDisablePIP),e.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(n)||e.addEventListener("canplay",this.onReady),r&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(e,t){e.removeEventListener("canplay",this.onReady),e.removeEventListener("play",this.onPlay),e.removeEventListener("waiting",this.onBuffer),e.removeEventListener("playing",this.onBufferEnd),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeek),e.removeEventListener("ended",this.onEnded),e.removeEventListener("error",this.onError),e.removeEventListener("ratechange",this.onPlayBackRateChange),e.removeEventListener("enterpictureinpicture",this.onEnablePIP),e.removeEventListener("leavepictureinpicture",this.onDisablePIP),e.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(t)||e.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(e){return!e.config.forceVideo&&!e.config.attributes.poster&&(o.AUDIO_EXTENSIONS.test(e.url)||e.config.forceAudio)}},{key:"shouldUseHLS",value:function(e){return!!this.props.config.forceHLS||!b&&(o.HLS_EXTENSIONS.test(e)||S.test(e))}},{key:"shouldUseDASH",value:function(e){return o.DASH_EXTENSIONS.test(e)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(e){return o.FLV_EXTENSIONS.test(e)||this.props.config.forceFLV}},{key:"load",value:function(e){var t=this,n=this.props.config,r=n.hlsVersion,i=n.hlsOptions,o=n.dashVersion,s=n.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(e)&&(0,a.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",r),"Hls").then((function(n){if(t.hls=new n(i),t.hls.on(n.Events.MANIFEST_PARSED,(function(){t.props.onReady()})),t.hls.on(n.Events.ERROR,(function(e,r){t.props.onError(e,r,t.hls,n)})),S.test(e)){var r=e.match(S)[1];t.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",r))}else t.hls.loadSource(e);t.hls.attachMedia(t.player),t.props.onLoaded()})),this.shouldUseDASH(e)&&(0,a.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",o),"dashjs").then((function(n){t.dash=n.MediaPlayer().create(),t.dash.initialize(t.player,e,t.props.playing),t.dash.on("error",t.props.onError),parseInt(o)<3?t.dash.getDebug().setLogToBrowserConsole(!1):t.dash.updateSettings({debug:{logLevel:n.Debug.LOG_LEVEL_NONE}}),t.props.onLoaded()})),this.shouldUseFLV(e)&&(0,a.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",s),"flvjs").then((function(n){t.flv=n.createPlayer({type:"flv",url:e}),t.flv.attachMediaElement(t.player),t.flv.on(n.Events.ERROR,(function(e,r){t.props.onError(e,r,t.flv,n)})),t.flv.load(),t.props.onLoaded()})),e instanceof Array)this.player.load();else if((0,a.isMediaStream)(e))try{this.player.srcObject=e}catch(l){this.player.src=window.URL.createObjectURL(e)}}},{key:"play",value:function(){var e=this.player.play();e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(e){this.player.currentTime=e}},{key:"setVolume",value:function(e){this.player.volume=e}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,a.supportsWebKitPresentationMode)(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,a.supportsWebKitPresentationMode)(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(e){try{this.player.playbackRate=e}catch(t){this.props.onError(t)}}},{key:"getDuration",value:function(){if(!this.player)return null;var e=this.player,t=e.duration,n=e.seekable;return t===1/0&&n.length>0?n.end(n.length-1):t}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var e=this.player.buffered;if(0===e.length)return 0;var t=e.end(e.length-1),n=this.getDuration();return t>n?n:t}},{key:"getSource",value:function(e){var t=this.shouldUseHLS(e),n=this.shouldUseDASH(e),r=this.shouldUseFLV(e);if(!(e instanceof Array||(0,a.isMediaStream)(e)||t||n||r))return w.test(e)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):e}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.playing,r=e.loop,a=e.controls,o=e.muted,s=e.config,u=e.width,c=e.height,d=this.shouldUseAudio(this.props)?"audio":"video",f={width:"auto"===u?u:"100%",height:"auto"===c?c:"100%"};return i.default.createElement(d,l({ref:this.ref,src:this.getSource(t),style:f,preload:"auto",autoPlay:n||void 0,controls:a,muted:o,loop:r},s.attributes),t instanceof Array&&t.map(this.renderSourceElement),s.tracks.map(this.renderTrack))}}])&&c(t.prototype,n),r&&c(t,r),p}(i.Component);t.default=_,g(_,"displayName","FilePlayer"),g(_,"canPlay",o.canPlay.file)},49289:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(67294)),a=n(56281),o=n(99790);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(s,e);var t,n,r,o=d(s);function s(){var e;l(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(p(e=o.call.apply(o,[this].concat(n))),"callPlayer",a.callPlayer),m(p(e),"duration",null),m(p(e),"currentTime",null),m(p(e),"secondsLoaded",null),m(p(e),"mute",(function(){e.callPlayer("mute")})),m(p(e),"unmute",(function(){e.callPlayer("unmute")})),m(p(e),"ref",(function(t){e.iframe=t})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,a.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.on("ready",(function(){setTimeout((function(){t.player.isReady=!0,t.player.setLoop(t.props.loop),t.props.muted&&t.player.mute(),t.addListeners(t.player,t.props),t.props.onReady()}),500)})))}),this.props.onError)}},{key:"addListeners",value:function(e,t){var n=this;e.on("play",t.onPlay),e.on("pause",t.onPause),e.on("ended",t.onEnded),e.on("error",t.onError),e.on("timeupdate",(function(e){var t=e.duration,r=e.seconds;n.duration=t,n.currentTime=r}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){return i.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allow:"encrypted-media; autoplay; fullscreen;",referrerPolicy:"no-referrer-when-downgrade"})}}])&&u(t.prototype,n),r&&u(t,r),s}(i.Component);t.default=g,m(g,"displayName","Kaltura"),m(g,"canPlay",o.canPlay.kaltura)},99734:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(67294)),a=n(56281),o=n(99790);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(l,e);var t,n,r,s=p(l);function l(){var e;c(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(m(e=s.call.apply(s,[this].concat(n))),"callPlayer",a.callPlayer),v(m(e),"duration",null),v(m(e),"currentTime",null),v(m(e),"secondsLoaded",null),v(m(e),"mute",(function(){})),v(m(e),"unmute",(function(){})),v(m(e),"ref",(function(t){e.iframe=t})),e}return t=l,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,a.getSDK)("https://widget.mixcloud.com/media/js/widgetApi.js","Mixcloud").then((function(e){t.player=e.PlayerWidget(t.iframe),t.player.ready.then((function(){t.player.events.play.on(t.props.onPlay),t.player.events.pause.on(t.props.onPause),t.player.events.ended.on(t.props.onEnded),t.player.events.error.on(t.props.error),t.player.events.progress.on((function(e,n){t.currentTime=e,t.duration=n})),t.props.onReady()}))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.config,r=t.match(o.MATCH_URL_MIXCLOUD)[1],s=(0,a.queryString)(u(u({},n.options),{},{feed:"/".concat(r,"/")}));return i.default.createElement("iframe",{key:r,ref:this.ref,style:{width:"100%",height:"100%"},src:"https://www.mixcloud.com/widget/iframe/?".concat(s),frameBorder:"0"})}}],n&&d(t.prototype,n),r&&d(t,r),l}(i.Component);t.default=y,v(y,"displayName","Mixcloud"),v(y,"canPlay",o.canPlay.mixcloud),v(y,"loopOnEnded",!0)},76655:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(67294)),a=n(56281),o=n(99790);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,r,o=p(s);function s(){var e;c(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(m(e=o.call.apply(o,[this].concat(n))),"callPlayer",a.callPlayer),v(m(e),"duration",null),v(m(e),"currentTime",null),v(m(e),"fractionLoaded",null),v(m(e),"mute",(function(){e.setVolume(0)})),v(m(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),v(m(e),"ref",(function(t){e.iframe=t})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this;(0,a.getSDK)("https://w.soundcloud.com/player/api.js","SC").then((function(r){if(n.iframe){var i=r.Widget.Events,a=i.PLAY,o=i.PLAY_PROGRESS,s=i.PAUSE,l=i.FINISH,c=i.ERROR;t||(n.player=r.Widget(n.iframe),n.player.bind(a,n.props.onPlay),n.player.bind(s,(function(){n.duration-n.currentTime<.05||n.props.onPause()})),n.player.bind(o,(function(e){n.currentTime=e.currentPosition/1e3,n.fractionLoaded=e.loadedProgress})),n.player.bind(l,(function(){return n.props.onEnded()})),n.player.bind(c,(function(e){return n.props.onError(e)}))),n.player.load(e,u(u({},n.props.config.options),{},{callback:function(){n.player.getDuration((function(e){n.duration=e/1e3,n.props.onReady()}))}}))}}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",1e3*e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:e,frameBorder:0,allow:"autoplay"})}}])&&d(t.prototype,n),r&&d(t,r),s}(i.Component);t.default=y,v(y,"displayName","SoundCloud"),v(y,"canPlay",o.canPlay.soundcloud),v(y,"loopOnEnded",!0)},76479:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(67294)),a=n(56281),o=n(99790);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,n,r,s=d(f);function f(){var e;l(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(p(e=s.call.apply(s,[this].concat(n))),"callPlayer",a.callPlayer),m(p(e),"duration",null),m(p(e),"currentTime",null),m(p(e),"secondsLoaded",null),m(p(e),"mute",(function(){e.callPlayer("mute")})),m(p(e),"unmute",(function(){e.callPlayer("unmute")})),m(p(e),"ref",(function(t){e.iframe=t})),e}return t=f,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,a.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.setLoop(t.props.loop),t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seeked",t.props.onSeek),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.duration,r=e.seconds;t.duration=n,t.currentTime=r})),t.player.on("buffered",(function(e){var n=e.percent;t.duration&&(t.secondsLoaded=t.duration*n)})),t.props.muted&&t.player.mute())}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e=this.props.url.match(o.MATCH_URL_STREAMABLE)[1];return i.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(e),frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allow:"encrypted-media; autoplay; fullscreen;"})}}])&&u(t.prototype,n),r&&u(t,r),f}(i.Component);t.default=g,m(g,"displayName","Streamable"),m(g,"canPlay",o.canPlay.streamable)},89743:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(67294)),a=n(56281),o=n(99790);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v="twitch-player-",y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(p,e);var t,n,r,s=f(p);function p(){var e;u(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(h(e=s.call.apply(s,[this].concat(n))),"callPlayer",a.callPlayer),g(h(e),"playerID",e.props.config.playerId||"".concat(v).concat((0,a.randomString)())),g(h(e),"mute",(function(){e.callPlayer("setMuted",!0)})),g(h(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),e}return t=p,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this,r=this.props,i=r.playsinline,s=r.onError,u=r.config,c=r.controls,d=o.MATCH_URL_TWITCH_CHANNEL.test(e),f=d?e.match(o.MATCH_URL_TWITCH_CHANNEL)[1]:e.match(o.MATCH_URL_TWITCH_VIDEO)[1];t?d?this.player.setChannel(f):this.player.setVideo("v"+f):(0,a.getSDK)("https://player.twitch.tv/js/embed/v1.js","Twitch").then((function(t){n.player=new t.Player(n.playerID,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({video:d?"":f,channel:d?f:"",height:"100%",width:"100%",playsinline:i,autoplay:n.props.playing,muted:n.props.muted,controls:!!d||c,time:(0,a.parseStartTime)(e)},u.options));var r=t.Player,o=r.READY,s=r.PLAYING,p=r.PAUSE,h=r.ENDED,m=r.ONLINE,v=r.OFFLINE,y=r.SEEK;n.player.addEventListener(o,n.props.onReady),n.player.addEventListener(s,n.props.onPlay),n.player.addEventListener(p,n.props.onPause),n.player.addEventListener(h,n.props.onEnded),n.player.addEventListener(y,n.props.onSeek),n.player.addEventListener(m,n.props.onLoaded),n.player.addEventListener(v,n.props.onLoaded)}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return i.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID})}}],n&&c(t.prototype,n),r&&c(t,r),p}(i.Component);t.default=y,g(y,"displayName","Twitch"),g(y,"canPlay",o.canPlay.twitch),g(y,"loopOnEnded",!0)},27287:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(67294)),a=n(56281),o=n(99790);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(p,e);var t,n,r,s=f(p);function p(){var e;u(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(h(e=s.call.apply(s,[this].concat(n))),"callPlayer",a.callPlayer),g(h(e),"mute",(function(){e.setVolume(0)})),g(h(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),g(h(e),"ref",(function(t){e.container=t})),e}return t=p,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.playing,i=n.config,s=n.onError,u=n.onDuration,c=e&&e.match(o.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,a.getSDK)("https://play.vidyard.com/embed/v4.js","VidyardV4","onVidyardAPI").then((function(e){t.container&&(e.api.addReadyListener((function(e,n){t.player||(t.player=n,t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seek",t.props.onSeek),t.player.on("playerComplete",t.props.onEnded))}),c),e.api.renderPlayer(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({uuid:c,container:t.container,autoplay:r?1:0},i.options)),e.api.getPlayerMetadata(c).then((function(e){t.duration=e.length_in_seconds,u(e.length_in_seconds)})))}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackSpeed",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:e},i.default.createElement("div",{ref:this.ref}))}}],n&&c(t.prototype,n),r&&c(t,r),p}(i.Component);t.default=v,g(v,"displayName","Vidyard"),g(v,"canPlay",o.canPlay.vidyard)},86746:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(67294)),a=n(56281),o=n(99790);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,n,r,o=f(s);function s(){var e;u(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(h(e=o.call.apply(o,[this].concat(n))),"callPlayer",a.callPlayer),g(h(e),"duration",null),g(h(e),"currentTime",null),g(h(e),"secondsLoaded",null),g(h(e),"mute",(function(){e.setVolume(0)})),g(h(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),g(h(e),"ref",(function(t){e.container=t})),e}return t=s,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;this.duration=null,(0,a.getSDK)("https://player.vimeo.com/api/player.js","Vimeo").then((function(n){if(t.container){var r=t.props.config,i=r.playerOptions,a=r.title;t.player=new n.Player(t.container,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({url:e,autoplay:t.props.playing,muted:t.props.muted,loop:t.props.loop,playsinline:t.props.playsinline,controls:t.props.controls},i)),t.player.ready().then((function(){var e=t.container.querySelector("iframe");e.style.width="100%",e.style.height="100%",a&&(e.title=a)})).catch(t.props.onError),t.player.on("loaded",(function(){t.props.onReady(),t.refreshDuration()})),t.player.on("play",(function(){t.props.onPlay(),t.refreshDuration()})),t.player.on("pause",t.props.onPause),t.player.on("seeked",(function(e){return t.props.onSeek(e.seconds)})),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.seconds;t.currentTime=n})),t.player.on("progress",(function(e){var n=e.seconds;t.secondsLoaded=n})),t.player.on("bufferstart",t.props.onBuffer),t.player.on("bufferend",t.props.onBufferEnd)}}),this.props.onError)}},{key:"refreshDuration",value:function(){var e=this;this.player.getDuration().then((function(t){e.duration=t}))}},{key:"play",value:function(){var e=this.callPlayer("play");e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e={width:"100%",height:"100%",overflow:"hidden",display:this.props.display};return i.default.createElement("div",{key:this.props.url,ref:this.ref,style:e})}}],n&&c(t.prototype,n),r&&c(t,r),s}(i.Component);t.default=v,g(v,"displayName","Vimeo"),g(v,"canPlay",o.canPlay.vimeo),g(v,"forceLoad",!0)},13134:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(67294)),a=n(56281),o=n(99790);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y="wistia-player-",b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(l,e);var t,n,r,s=p(l);function l(){var e;c(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(m(e=s.call.apply(s,[this].concat(n))),"callPlayer",a.callPlayer),v(m(e),"playerID",e.props.config.playerId||"".concat(y).concat((0,a.randomString)())),v(m(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),v(m(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),v(m(e),"onSeek",(function(){var t;return(t=e.props).onSeek.apply(t,arguments)})),v(m(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),v(m(e),"onPlaybackRateChange",(function(){var t;return(t=e.props).onPlaybackRateChange.apply(t,arguments)})),v(m(e),"mute",(function(){e.callPlayer("mute")})),v(m(e),"unmute",(function(){e.callPlayer("unmute")})),e}return t=l,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.playing,i=n.muted,o=n.controls,s=n.onReady,l=n.config,c=n.onError;(0,a.getSDK)("https://fast.wistia.com/assets/external/E-v1.js","Wistia").then((function(e){l.customControls&&l.customControls.forEach((function(t){return e.defineControl(t)})),window._wq=window._wq||[],window._wq.push({id:t.playerID,options:u({autoPlay:r,silentAutoPlay:"allow",muted:i,controlsVisibleOnLoad:o,fullscreenButton:o,playbar:o,playbackRateControl:o,qualityControl:o,volumeControl:o,settingsControl:o,smallPlayButton:o},l.options),onReady:function(e){t.player=e,t.unbind(),t.player.bind("play",t.onPlay),t.player.bind("pause",t.onPause),t.player.bind("seek",t.onSeek),t.player.bind("end",t.onEnded),t.player.bind("playbackratechange",t.onPlaybackRateChange),s()}})}),c)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded),this.player.unbind("playbackratechange",this.onPlaybackRateChange)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(e){this.callPlayer("time",e)}},{key:"setVolume",value:function(e){this.callPlayer("volume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("playbackRate",e)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.url,t=e&&e.match(o.MATCH_URL_WISTIA)[1],n="wistia_embed wistia_async_".concat(t);return i.default.createElement("div",{id:this.playerID,key:t,className:n,style:{width:"100%",height:"100%"}})}}],n&&d(t.prototype,n),r&&d(t,r),l}(i.Component);t.default=b,v(b,"displayName","Wistia"),v(b,"canPlay",o.canPlay.wistia),v(b,"loopOnEnded",!0)},85034:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(67294)),a=n(56281),o=n(99790);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="YT",S=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,_=/user\/([a-zA-Z0-9_-]+)\/?/,x=/youtube-nocookie\.com/,T=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(l,e);var t,n,r,s=m(l);function l(){var e;f(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(v(e=s.call.apply(s,[this].concat(n))),"callPlayer",a.callPlayer),b(v(e),"parsePlaylist",(function(t){return t instanceof Array?{listType:"playlist",playlist:t.map(e.getID).join(",")}:S.test(t)?{listType:"playlist",list:c(t.match(S),2)[1].replace(/^UC/,"UU")}:_.test(t)?{listType:"user_uploads",list:c(t.match(_),2)[1]}:{}})),b(v(e),"onStateChange",(function(t){var n=t.data,r=e.props,i=r.onPlay,a=r.onPause,o=r.onBuffer,s=r.onBufferEnd,l=r.onEnded,u=r.onReady,c=r.loop,d=r.config,f=d.playerVars,p=d.onUnstarted,h=window.YT.PlayerState,m=h.UNSTARTED,g=h.PLAYING,v=h.PAUSED,y=h.BUFFERING,b=h.ENDED,w=h.CUED;if(n===m&&p(),n===g&&(i(),s()),n===v&&a(),n===y&&o(),n===b){var S=!!e.callPlayer("getPlaylist");c&&!S&&(f.start?e.seekTo(f.start):e.play()),l()}n===w&&u()})),b(v(e),"mute",(function(){e.callPlayer("mute")})),b(v(e),"unmute",(function(){e.callPlayer("unMute")})),b(v(e),"ref",(function(t){e.container=t})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(e){return!e||e instanceof Array||S.test(e)?null:e.match(o.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(e,t){var n=this,r=this.props,i=r.playing,o=r.muted,s=r.playsinline,l=r.controls,c=r.loop,d=r.config,f=r.onError,p=d.playerVars,h=d.embedOptions,m=this.getID(e);if(t)return S.test(e)||_.test(e)||e instanceof Array?void this.player.loadPlaylist(this.parsePlaylist(e)):void this.player.cueVideoById({videoId:m,startSeconds:(0,a.parseStartTime)(e)||p.start,endSeconds:(0,a.parseEndTime)(e)||p.end});(0,a.getSDK)("https://www.youtube.com/iframe_api",w,"onYouTubeIframeAPIReady",(function(e){return e.loaded})).then((function(t){n.container&&(n.player=new t.Player(n.container,u({width:"100%",height:"100%",videoId:m,playerVars:u(u({autoplay:i?1:0,mute:o?1:0,controls:l?1:0,start:(0,a.parseStartTime)(e),end:(0,a.parseEndTime)(e),origin:window.location.origin,playsinline:s?1:0},n.parsePlaylist(e)),p),events:{onReady:function(){c&&n.player.setLoop(!0),n.props.onReady()},onPlaybackRateChange:function(e){return n.props.onPlaybackRateChange(e.data)},onStateChange:n.onStateChange,onError:function(e){return f(e.data)}},host:x.test(e)?"https://www.youtube-nocookie.com":void 0},h)))}),f),h.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer\u2019s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",e),this.props.playing||this.pause()}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return i.default.createElement("div",{style:e},i.default.createElement("div",{ref:this.ref}))}}])&&p(t.prototype,n),r&&p(t,r),l}(i.Component);t.default=T,b(T,"displayName","YouTube"),b(T,"canPlay",o.canPlay.youtube)},29760:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(67294),i=n(56281),a=n(99790),o=[{key:"youtube",name:"YouTube",canPlay:a.canPlay.youtube,lazyPlayer:(0,r.lazy)((function(){return n.e(736).then(n.bind(n,85034))}))},{key:"soundcloud",name:"SoundCloud",canPlay:a.canPlay.soundcloud,lazyPlayer:(0,r.lazy)((function(){return n.e(736).then(n.bind(n,76655))}))},{key:"vimeo",name:"Vimeo",canPlay:a.canPlay.vimeo,lazyPlayer:(0,r.lazy)((function(){return n.e(736).then(n.bind(n,86746))}))},{key:"facebook",name:"Facebook",canPlay:a.canPlay.facebook,lazyPlayer:(0,r.lazy)((function(){return n.e(736).then(n.bind(n,26429))}))},{key:"streamable",name:"Streamable",canPlay:a.canPlay.streamable,lazyPlayer:(0,r.lazy)((function(){return n.e(736).then(n.bind(n,76479))}))},{key:"wistia",name:"Wistia",canPlay:a.canPlay.wistia,lazyPlayer:(0,r.lazy)((function(){return n.e(736).then(n.bind(n,13134))}))},{key:"twitch",name:"Twitch",canPlay:a.canPlay.twitch,lazyPlayer:(0,r.lazy)((function(){return n.e(736).then(n.bind(n,89743))}))},{key:"dailymotion",name:"DailyMotion",canPlay:a.canPlay.dailymotion,lazyPlayer:(0,r.lazy)((function(){return n.e(736).then(n.bind(n,65134))}))},{key:"mixcloud",name:"Mixcloud",canPlay:a.canPlay.mixcloud,lazyPlayer:(0,r.lazy)((function(){return n.e(736).then(n.bind(n,99734))}))},{key:"vidyard",name:"Vidyard",canPlay:a.canPlay.vidyard,lazyPlayer:(0,r.lazy)((function(){return n.e(736).then(n.bind(n,27287))}))},{key:"kaltura",name:"Kaltura",canPlay:a.canPlay.kaltura,lazyPlayer:(0,r.lazy)((function(){return n.e(736).then(n.bind(n,49289))}))},{key:"file",name:"FilePlayer",canPlay:a.canPlay.file,canEnablePIP:function(e){return a.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,i.supportsWebKitPresentationMode)())&&!a.AUDIO_EXTENSIONS.test(e)},lazyPlayer:(0,r.lazy)((function(){return n.e(736).then(n.bind(n,33364))}))}];t.default=o},29448:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProps=t.propTypes=void 0;var r,i=(r=n(45697))&&r.__esModule?r:{default:r};var a=i.default.string,o=i.default.bool,s=i.default.number,l=i.default.array,u=i.default.oneOfType,c=i.default.shape,d=i.default.object,f=i.default.func,p=i.default.node,h={url:u([a,l,d]),playing:o,loop:o,controls:o,volume:s,muted:o,playbackRate:s,width:u([a,s]),height:u([a,s]),style:d,progressInterval:s,playsinline:o,pip:o,stopOnUnmount:o,light:u([o,a]),playIcon:p,previewTabIndex:s,fallback:p,oEmbedUrl:a,wrapper:u([a,f,c({render:f.isRequired})]),config:c({soundcloud:c({options:d}),youtube:c({playerVars:d,embedOptions:d,onUnstarted:f}),facebook:c({appId:a,version:a,playerId:a,attributes:d}),dailymotion:c({params:d}),vimeo:c({playerOptions:d,title:a}),file:c({attributes:d,tracks:l,forceVideo:o,forceAudio:o,forceHLS:o,forceDASH:o,forceFLV:o,hlsOptions:d,hlsVersion:a,dashVersion:a,flvVersion:a}),wistia:c({options:d,playerId:a,customControls:l}),mixcloud:c({options:d}),twitch:c({options:d,playerId:a}),vidyard:c({options:d})}),onReady:f,onStart:f,onPlay:f,onPause:f,onBuffer:f,onBufferEnd:f,onEnded:f,onError:f,onDuration:f,onSeek:f,onPlaybackRateChange:f,onProgress:f,onClickPreview:f,onEnablePIP:f,onDisablePIP:f};t.propTypes=h;var m=function(){},g={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:m},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:m,onStart:m,onPlay:m,onPause:m,onBuffer:m,onBufferEnd:m,onEnded:m,onError:m,onDuration:m,onSeek:m,onPlaybackRateChange:m,onProgress:m,onClickPreview:m,onEnablePIP:m,onDisablePIP:m};t.defaultProps=g},56281:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStartTime=function(e){return f(e,l)},t.parseEndTime=function(e){return f(e,u)},t.randomString=function(){return Math.random().toString(36).substr(2,5)},t.queryString=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")},t.getSDK=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.default,o=p(t);if(o&&i(o))return Promise.resolve(o);return new Promise((function(r,i){if(h[e])h[e].push({resolve:r,reject:i});else{h[e]=[{resolve:r,reject:i}];var o=function(t){h[e].forEach((function(e){return e.resolve(t)}))};if(n){var s=window[n];window[n]=function(){s&&s(),o(p(t))}}a(e,(function(r){r?(h[e].forEach((function(e){return e.reject(r)})),h[e]=null):n||o(p(t))}))}}))},t.getConfig=function(e,t){return(0,i.default)(t.config,e.config)},t.omit=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=(t=[]).concat.apply(t,r),o={},s=Object.keys(e),l=0,u=s;l<u.length;l++){var c=u[l];-1===a.indexOf(c)&&(o[c]=e[c])}return o},t.callPlayer=function(e){var t;if(!this.player||!this.player[e]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c \u2013 ");return this.player?this.player[e]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return(t=this.player)[e].apply(t,i)},t.isMediaStream=function(e){return"undefined"!==typeof window&&"undefined"!==typeof window.MediaStream&&e instanceof window.MediaStream},t.isBlobUrl=function(e){return/^blob:/.test(e)},t.supportsWebKitPresentationMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video"),t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"===typeof e.webkitSetPresentationMode&&t};var r=a(n(49090)),i=a(n(9996));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=/[?&#](?:start|t)=([0-9hms]+)/,u=/[?&#]end=([0-9hms]+)/,c=/(\d+)(h|m|s)/g,d=/^\d+$/;function f(e,t){if(!(e instanceof Array)){var n=e.match(t);if(n){var r=n[1];if(r.match(c))return function(e){var t=0,n=c.exec(e);for(;null!==n;){var r=o(n,3),i=r[1],a=r[2];"h"===a&&(t+=60*parseInt(i,10)*60),"m"===a&&(t+=60*parseInt(i,10)),"s"===a&&(t+=parseInt(i,10)),n=c.exec(e)}return t}(r);if(d.test(r))return parseInt(r)}}}function p(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}var h={}},70743:(e,t,n)=>{"use strict";n.d(t,{zt:()=>b,dC:()=>a.unstable_batchedUpdates,wU:()=>k,I0:()=>x,v9:()=>h,oR:()=>S});var r=n(61688),i=n(52798),a=n(73935);let o=function(e){e()};const s=()=>o;var l=n(67294);const u=l.createContext(null);function c(){return(0,l.useContext)(u)}let d=()=>{throw new Error("uSES not initialized!")};const f=(e,t)=>e===t;function p(e=u){const t=e===u?c:()=>(0,l.useContext)(e);return function(e,n=f){const{store:r,subscription:i,getServerState:a}=t(),o=d(i.addNestedSub,r.getState,a||r.getState,e,n);return(0,l.useDebugValue)(o),o}}const h=p();n(8679),n(72973);const m={notify(){},get:()=>[]};function g(e,t){let n,r=m;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){const e=s();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}const o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=m)},getListeners:()=>r};return o}const v=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?l.useLayoutEffect:l.useEffect;let y=null;const b=function({store:e,context:t,children:n,serverState:r}){const i=(0,l.useMemo)((()=>{const t=g(e);return{store:e,subscription:t,getServerState:r?()=>r:void 0}}),[e,r]),a=(0,l.useMemo)((()=>e.getState()),[e]);v((()=>{const{subscription:t}=i;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),a!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[i,a]);const o=t||u;return l.createElement(o.Provider,{value:i},n)};function w(e=u){const t=e===u?c:()=>(0,l.useContext)(e);return function(){const{store:e}=t();return e}}const S=w();function _(e=u){const t=e===u?S:w(e);return function(){return t().dispatch}}const x=_();function T(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function k(e,t){if(T(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!T(e[n[i]],t[n[i]]))return!1;return!0}var E,C;E=i.useSyncExternalStoreWithSelector,d=E,(e=>{y=e})(r.useSyncExternalStore),C=a.unstable_batchedUpdates,o=C},88359:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case f:case p:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case m:case h:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},72973:(e,t,n)=>{"use strict";n(88359)},75251:(e,t,n)=>{"use strict";var r=n(67294),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},72408:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var S=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!T.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+O(l,0):a,S(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",S(e))for(var u=0;u<e.length;u++){var c=a+O(s=e[u],u);l+=P(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=P(s=s.value,t,i,c=a+O(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},M={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:M,ReactCurrentOwner:x};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)_.call(t,u)&&!T.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},67294:(e,t,n)=>{"use strict";e.exports=n(72408)},85893:(e,t,n)=>{"use strict";e.exports=n(75251)},97779:(e,t,n)=>{"use strict";n.d(t,{md:()=>h,UY:()=>f,qC:()=>p,MT:()=>d});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var s="function"===typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function c(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function d(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(o(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(o(1));return n(d)(e,t)}if("function"!==typeof e)throw new Error(o(2));var i=e,a=t,l=[],f=l,p=!1;function h(){f===l&&(f=l.slice())}function m(){if(p)throw new Error(o(3));return a}function g(e){if("function"!==typeof e)throw new Error(o(4));if(p)throw new Error(o(5));var t=!0;return h(),f.push(e),function(){if(t){if(p)throw new Error(o(6));t=!1,h();var n=f.indexOf(e);f.splice(n,1),l=null}}}function v(e){if(!c(e))throw new Error(o(7));if("undefined"===typeof e.type)throw new Error(o(8));if(p)throw new Error(o(9));try{p=!0,a=i(a,e)}finally{p=!1}for(var t=l=f,n=0;n<t.length;n++){(0,t[n])()}return e}function y(e){if("function"!==typeof e)throw new Error(o(10));i=e,v({type:u.REPLACE})}function b(){var e,t=g;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(o(11));function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[s]=function(){return this},e}return v({type:u.INIT}),(r={dispatch:v,subscribe:g,getState:m,replaceReducer:y})[s]=b,r}function f(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:u.INIT}))throw new Error(o(12));if("undefined"===typeof n(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error(o(13))}))}(n)}catch(l){a=l}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},l=0;l<s.length;l++){var u=s[l],c=n[u],d=e[u],f=c(d,t);if("undefined"===typeof f){t&&t.type;throw new Error(o(14))}i[u]=f,r=r||f!==d}return(r=r||s.length!==Object.keys(e).length)?i:e}}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(o(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},s=t.map((function(e){return e(i)}));return r=p.apply(void 0,s)(n.dispatch),a(a({},n),{},{dispatch:r})}}}},44815:(e,t,n)=>{"use strict";n.d(t,{PW:()=>a});var r="NOT_FOUND";var i=function(e,t){return e===t};function a(e,t){var n,a,o="object"===typeof t?t:{equalityCheck:t},s=o.equalityCheck,l=void 0===s?i:s,u=o.maxSize,c=void 0===u?1:u,d=o.resultEqualityCheck,f=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(l),p=1===c?(n=f,{get:function(e){return a&&n(a.key,e)?a.value:r},put:function(e,t){a={key:e,value:t}},getEntries:function(){return a?[a]:[]},clear:function(){a=void 0}}):function(e,t){var n=[];function i(e){var i=n.findIndex((function(n){return t(e,n.key)}));if(i>-1){var a=n[i];return i>0&&(n.splice(i,1),n.unshift(a)),a.value}return r}return{get:i,put:function(t,a){i(t)===r&&(n.unshift({key:t,value:a}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(c,f);function h(){var t=p.get(arguments);if(t===r){if(t=e.apply(null,arguments),d){var n=p.getEntries(),i=n.find((function(e){return d(e.value,t)}));i&&(t=i.value)}p.put(arguments,t)}return t}return h.clearCache=function(){return p.clear()},h}},22222:(e,t,n)=>{"use strict";function r(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a=function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var o,s=0,l={memoizeOptions:void 0},u=i.pop();if("object"===typeof u&&(l=u,u=i.pop()),"function"!==typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var c=l,d=c.memoizeOptions,f=void 0===d?n:d,p=Array.isArray(f)?f:[f],h=r(i),m=e.apply(void 0,[function(){return s++,u.apply(null,arguments)}].concat(p)),g=e((function(){for(var e=[],t=h.length,n=0;n<t;n++)e.push(h[n].apply(null,arguments));return o=m.apply(null,e)}));return Object.assign(g,{resultFunc:u,memoizedResultFunc:m,dependencies:h,lastResult:function(){return o},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),g};return a}n.d(t,{P1:()=>a});var a=i(n(44815).PW)},65342:e=>{!function(){"use strict";var t=function(e){if(!(this instanceof t))return new t(e);if(this.version=1,this.support="undefined"!==typeof File&&"undefined"!==typeof Blob&&"undefined"!==typeof FileList&&(!!Blob.prototype.webkitSlice||!!Blob.prototype.mozSlice||!!Blob.prototype.slice||!1),!this.support)return!1;var n=this;n.files=[],n.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:"file",chunkNumberParameterName:"resumableChunkNumber",chunkSizeParameterName:"resumableChunkSize",currentChunkSizeParameterName:"resumableCurrentChunkSize",totalSizeParameterName:"resumableTotalSize",typeParameterName:"resumableType",identifierParameterName:"resumableIdentifier",fileNameParameterName:"resumableFilename",relativePathParameterName:"resumableRelativePath",totalChunksParameterName:"resumableTotalChunks",throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,method:"multipart",uploadMethod:"POST",testMethod:"GET",prioritizeFirstAndLastChunk:!1,target:"/",testTarget:null,parameterNamespace:"",testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:100,chunkRetryInterval:void 0,permanentErrors:[400,404,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,clearInput:!0,chunkFormat:"blob",setChunkTypeFromFile:!1,maxFilesErrorCallback:function(e,t){var r=n.getOpt("maxFiles");alert("Please upload no more than "+r+" file"+(1===r?"":"s")+" at a time.")},minFileSize:1,minFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too small, please upload files larger than "+r.formatSize(n.getOpt("minFileSize"))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too large, please upload files less than "+r.formatSize(n.getOpt("maxFileSize"))+".")},fileType:[],fileTypeErrorCallback:function(e,t){alert(e.fileName||e.name+" has type not allowed, please upload files of type "+n.getOpt("fileType")+".")}},n.opts=e||{},n.getOpt=function(e){var n=this;if(e instanceof Array){var i={};return r.each(e,(function(e){i[e]=n.getOpt(e)})),i}if(n instanceof d){if("undefined"!==typeof n.opts[e])return n.opts[e];n=n.fileObj}if(n instanceof c){if("undefined"!==typeof n.opts[e])return n.opts[e];n=n.resumableObj}if(n instanceof t)return"undefined"!==typeof n.opts[e]?n.opts[e]:n.defaults[e]},n.events=[],n.on=function(e,t){n.events.push(e.toLowerCase(),t)},n.fire=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);var r=e[0].toLowerCase();for(t=0;t<=n.events.length;t+=2)n.events[t]==r&&n.events[t+1].apply(n,e.slice(1)),"catchall"==n.events[t]&&n.events[t+1].apply(null,e);"fileerror"==r&&n.fire("error",e[2],e[1]),"fileprogress"==r&&n.fire("progress")};var r={stopEvent:function(e){e.stopPropagation(),e.preventDefault()},each:function(e,t){if("undefined"!==typeof e.length){for(var n=0;n<e.length;n++)if(!1===t(e[n]))return}else for(n in e)if(!1===t(n,e[n]))return},generateUniqueIdentifier:function(e,t){var r=n.getOpt("generateUniqueIdentifier");if("function"===typeof r)return r(e,t);var i=e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+i.replace(/[^0-9a-zA-Z_-]/gim,"")},contains:function(e,t){var n=!1;return r.each(e,(function(e){return e!=t||(n=!0,!1)})),n},formatSize:function(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(0)+" KB":e<1073741824?(e/1024/1024).toFixed(1)+" MB":(e/1024/1024/1024).toFixed(1)+" GB"},getTarget:function(e,t){var r=n.getOpt("target");if("test"===e&&n.getOpt("testTarget")&&(r="/"===n.getOpt("testTarget")?n.getOpt("target"):n.getOpt("testTarget")),"function"===typeof r)return r(t);var i=r.indexOf("?")<0?"?":"&";return r+i+t.join("&")}},i=function(e){r.stopEvent(e),e.dataTransfer&&e.dataTransfer.items?l(e.dataTransfer.items,e):e.dataTransfer&&e.dataTransfer.files&&l(e.dataTransfer.files,e)},a=function(e){e.preventDefault()};function o(e,t,n,r){var i;return e.isFile?e.file((function(e){e.relativePath=t+e.name,n.push(e),r()})):(e.isDirectory?i=e:e instanceof File&&n.push(e),"function"===typeof e.webkitGetAsEntry&&(i=e.webkitGetAsEntry()),i&&i.isDirectory?function(e,t,n,r){e.createReader().readEntries((function(e){if(!e.length)return r();s(e.map((function(e){return o.bind(null,e,t,n)})),r)}))}(i,t+i.name+"/",n,r):("function"===typeof e.getAsFile&&(e=e.getAsFile())instanceof File&&(e.relativePath=t+e.name,n.push(e)),void r()))}function s(e,t){if(!e||0===e.length)return t();e[0]((function(){s(e.slice(1),t)}))}function l(e,t){if(e.length){n.fire("beforeAdd");var r=[];s(Array.prototype.map.call(e,(function(e){return o.bind(null,e,"",r)})),(function(){r.length&&u(r,t)}))}}var u=function(e,t){var i=0,a=n.getOpt(["maxFiles","minFileSize","maxFileSize","maxFilesErrorCallback","minFileSizeErrorCallback","maxFileSizeErrorCallback","fileType","fileTypeErrorCallback"]);if("undefined"!==typeof a.maxFiles&&a.maxFiles<e.length+n.files.length){if(1!==a.maxFiles||1!==n.files.length||1!==e.length)return a.maxFilesErrorCallback(e,i++),!1;n.removeFile(n.files[0])}var o=[],s=[],l=e.length,u=function(){if(!--l){if(!o.length&&!s.length)return;window.setTimeout((function(){n.fire("filesAdded",o,s)}),0)}};r.each(e,(function(e){var l=e.name;if(a.fileType.length>0){var d=!1;for(var f in a.fileType){var p="."+a.fileType[f];if(-1!==l.toLowerCase().indexOf(p.toLowerCase(),l.length-p.length)){d=!0;break}}if(!d)return a.fileTypeErrorCallback(e,i++),!1}if("undefined"!==typeof a.minFileSize&&e.size<a.minFileSize)return a.minFileSizeErrorCallback(e,i++),!1;if("undefined"!==typeof a.maxFileSize&&e.size>a.maxFileSize)return a.maxFileSizeErrorCallback(e,i++),!1;function h(r){n.getFromUniqueIdentifier(r)?s.push(e):function(){e.uniqueIdentifier=r;var i=new c(n,e,r);n.files.push(i),o.push(i),i.container="undefined"!=typeof t?t.srcElement:null,window.setTimeout((function(){n.fire("fileAdded",i,t)}),0)}(),u()}var m=r.generateUniqueIdentifier(e,t);m&&"function"===typeof m.then?m.then((function(e){h(e)}),(function(){u()})):h(m)}))};function c(e,t,n){var i=this;i.opts={},i.getOpt=e.getOpt,i._prevProgress=0,i.resumableObj=e,i.file=t,i.fileName=t.fileName||t.name,i.size=t.size,i.relativePath=t.relativePath||t.webkitRelativePath||i.fileName,i.uniqueIdentifier=n,i._pause=!1,i.container="";var a=void 0!==n,o=function(e,t){switch(e){case"progress":i.resumableObj.fire("fileProgress",i,t);break;case"error":i.abort(),a=!0,i.chunks=[],i.resumableObj.fire("fileError",i,t);break;case"success":if(a)return;i.resumableObj.fire("fileProgress",i),i.isComplete()&&i.resumableObj.fire("fileSuccess",i,t);break;case"retry":i.resumableObj.fire("fileRetry",i)}};return i.chunks=[],i.abort=function(){var e=0;r.each(i.chunks,(function(t){"uploading"==t.status()&&(t.abort(),e++)})),e>0&&i.resumableObj.fire("fileProgress",i)},i.cancel=function(){var e=i.chunks;i.chunks=[],r.each(e,(function(e){"uploading"==e.status()&&(e.abort(),i.resumableObj.uploadNextChunk())})),i.resumableObj.removeFile(i),i.resumableObj.fire("fileProgress",i)},i.retry=function(){i.bootstrap();var e=!1;i.resumableObj.on("chunkingComplete",(function(){e||i.resumableObj.upload(),e=!0}))},i.bootstrap=function(){i.abort(),a=!1,i.chunks=[],i._prevProgress=0;for(var e=i.getOpt("forceChunkSize")?Math.ceil:Math.floor,t=Math.max(e(i.file.size/i.getOpt("chunkSize")),1),n=0;n<t;n++)!function(e){window.setTimeout((function(){i.chunks.push(new d(i.resumableObj,i,e,o)),i.resumableObj.fire("chunkingProgress",i,e/t)}),0)}(n);window.setTimeout((function(){i.resumableObj.fire("chunkingComplete",i)}),0)},i.progress=function(){if(a)return 1;var e=0,t=!1;return r.each(i.chunks,(function(n){"error"==n.status()&&(t=!0),e+=n.progress(!0)})),e=t||e>.99999?1:e,e=Math.max(i._prevProgress,e),i._prevProgress=e,e},i.isUploading=function(){var e=!1;return r.each(i.chunks,(function(t){if("uploading"==t.status())return e=!0,!1})),e},i.isComplete=function(){var e=!1;return r.each(i.chunks,(function(t){var n=t.status();if("pending"==n||"uploading"==n||1===t.preprocessState)return e=!0,!1})),!e},i.pause=function(e){i._pause="undefined"===typeof e?!i._pause:e},i.isPaused=function(){return i._pause},i.resumableObj.fire("chunkingStart",i),i.bootstrap(),this}function d(e,t,n,i){var a=this;a.opts={},a.getOpt=e.getOpt,a.resumableObj=e,a.fileObj=t,a.fileObjSize=t.size,a.fileObjType=t.file.type,a.offset=n,a.callback=i,a.lastProgressCallback=new Date,a.tested=!1,a.retries=0,a.pendingRetry=!1,a.preprocessState=0;var o=a.getOpt("chunkSize");return a.loaded=0,a.startByte=a.offset*o,a.endByte=Math.min(a.fileObjSize,(a.offset+1)*o),a.fileObjSize-a.endByte<o&&!a.getOpt("forceChunkSize")&&(a.endByte=a.fileObjSize),a.xhr=null,a.test=function(){a.xhr=new XMLHttpRequest;var e=function(e){a.tested=!0;var t=a.status();"success"==t?(a.callback(t,a.message()),a.resumableObj.uploadNextChunk()):a.send()};a.xhr.addEventListener("load",e,!1),a.xhr.addEventListener("error",e,!1),a.xhr.addEventListener("timeout",e,!1);var t=[],n=a.getOpt("parameterNamespace"),i=a.getOpt("query");"function"==typeof i&&(i=i(a.fileObj,a)),r.each(i,(function(e,r){t.push([encodeURIComponent(n+e),encodeURIComponent(r)].join("="))})),t=t.concat([["chunkNumberParameterName",a.offset+1],["chunkSizeParameterName",a.getOpt("chunkSize")],["currentChunkSizeParameterName",a.endByte-a.startByte],["totalSizeParameterName",a.fileObjSize],["typeParameterName",a.fileObjType],["identifierParameterName",a.fileObj.uniqueIdentifier],["fileNameParameterName",a.fileObj.fileName],["relativePathParameterName",a.fileObj.relativePath],["totalChunksParameterName",a.fileObj.chunks.length]].filter((function(e){return a.getOpt(e[0])})).map((function(e){return[n+a.getOpt(e[0]),encodeURIComponent(e[1])].join("=")}))),a.xhr.open(a.getOpt("testMethod"),r.getTarget("test",t)),a.xhr.timeout=a.getOpt("xhrTimeout"),a.xhr.withCredentials=a.getOpt("withCredentials");var o=a.getOpt("headers");"function"===typeof o&&(o=o(a.fileObj,a)),r.each(o,(function(e,t){a.xhr.setRequestHeader(e,t)})),a.xhr.send(null)},a.preprocessFinished=function(){a.preprocessState=2,a.send()},a.send=function(){var e=a.getOpt("preprocess");if("function"===typeof e)switch(a.preprocessState){case 0:return a.preprocessState=1,void e(a);case 1:return}if(!a.getOpt("testChunks")||a.tested){a.xhr=new XMLHttpRequest,a.xhr.upload.addEventListener("progress",(function(e){new Date-a.lastProgressCallback>1e3*a.getOpt("throttleProgressCallbacks")&&(a.callback("progress"),a.lastProgressCallback=new Date),a.loaded=e.loaded||0}),!1),a.loaded=0,a.pendingRetry=!1,a.callback("progress");var t=function(e){var t=a.status();if("success"==t||"error"==t)a.callback(t,a.message()),a.resumableObj.uploadNextChunk();else{a.callback("retry",a.message()),a.abort(),a.retries++;var n=a.getOpt("chunkRetryInterval");void 0!==n?(a.pendingRetry=!0,setTimeout(a.send,n)):a.send()}};a.xhr.addEventListener("load",t,!1),a.xhr.addEventListener("error",t,!1),a.xhr.addEventListener("timeout",t,!1);var n=[["chunkNumberParameterName",a.offset+1],["chunkSizeParameterName",a.getOpt("chunkSize")],["currentChunkSizeParameterName",a.endByte-a.startByte],["totalSizeParameterName",a.fileObjSize],["typeParameterName",a.fileObjType],["identifierParameterName",a.fileObj.uniqueIdentifier],["fileNameParameterName",a.fileObj.fileName],["relativePathParameterName",a.fileObj.relativePath],["totalChunksParameterName",a.fileObj.chunks.length]].filter((function(e){return a.getOpt(e[0])})).reduce((function(e,t){return e[a.getOpt(t[0])]=t[1],e}),{}),i=a.getOpt("query");"function"==typeof i&&(i=i(a.fileObj,a)),r.each(i,(function(e,t){n[e]=t}));var o=a.fileObj.file.slice?"slice":a.fileObj.file.mozSlice?"mozSlice":a.fileObj.file.webkitSlice?"webkitSlice":"slice",s=a.fileObj.file[o](a.startByte,a.endByte,a.getOpt("setChunkTypeFromFile")?a.fileObj.file.type:""),l=null,u=[],c=a.getOpt("parameterNamespace");if("octet"===a.getOpt("method"))l=s,r.each(n,(function(e,t){u.push([encodeURIComponent(c+e),encodeURIComponent(t)].join("="))}));else if(l=new FormData,r.each(n,(function(e,t){l.append(c+e,t),u.push([encodeURIComponent(c+e),encodeURIComponent(t)].join("="))})),"blob"==a.getOpt("chunkFormat"))l.append(c+a.getOpt("fileParameterName"),s,a.fileObj.fileName);else if("base64"==a.getOpt("chunkFormat")){var d=new FileReader;d.onload=function(e){l.append(c+a.getOpt("fileParameterName"),d.result),a.xhr.send(l)},d.readAsDataURL(s)}var f=r.getTarget("upload",u),p=a.getOpt("uploadMethod");a.xhr.open(p,f),"octet"===a.getOpt("method")&&a.xhr.setRequestHeader("Content-Type","application/octet-stream"),a.xhr.timeout=a.getOpt("xhrTimeout"),a.xhr.withCredentials=a.getOpt("withCredentials");var h=a.getOpt("headers");"function"===typeof h&&(h=h(a.fileObj,a)),r.each(h,(function(e,t){a.xhr.setRequestHeader(e,t)})),"blob"==a.getOpt("chunkFormat")&&a.xhr.send(l)}else a.test()},a.abort=function(){a.xhr&&a.xhr.abort(),a.xhr=null},a.status=function(){return a.pendingRetry?"uploading":a.xhr?a.xhr.readyState<4?"uploading":200==a.xhr.status||201==a.xhr.status?"success":r.contains(a.getOpt("permanentErrors"),a.xhr.status)||a.retries>=a.getOpt("maxChunkRetries")?"error":(a.abort(),"pending"):"pending"},a.message=function(){return a.xhr?a.xhr.responseText:""},a.progress=function(e){"undefined"===typeof e&&(e=!1);var t=e?(a.endByte-a.startByte)/a.fileObjSize:1;if(a.pendingRetry)return 0;switch(a.xhr&&a.xhr.status||(t*=.95),a.status()){case"success":case"error":return 1*t;case"pending":return 0*t;default:return a.loaded/(a.endByte-a.startByte)*t}},this}return n.uploadNextChunk=function(){var e=!1;if(n.getOpt("prioritizeFirstAndLastChunk")&&(r.each(n.files,(function(t){return t.chunks.length&&"pending"==t.chunks[0].status()&&0===t.chunks[0].preprocessState?(t.chunks[0].send(),e=!0,!1):t.chunks.length>1&&"pending"==t.chunks[t.chunks.length-1].status()&&0===t.chunks[t.chunks.length-1].preprocessState?(t.chunks[t.chunks.length-1].send(),e=!0,!1):void 0})),e))return!0;if(r.each(n.files,(function(t){if(!1===t.isPaused()&&r.each(t.chunks,(function(t){if("pending"==t.status()&&0===t.preprocessState)return t.send(),e=!0,!1})),e)return!1})),e)return!0;var t=!1;return r.each(n.files,(function(e){if(!e.isComplete())return t=!0,!1})),t||n.fire("complete"),!1},n.assignBrowse=function(e,t){"undefined"==typeof e.length&&(e=[e]),r.each(e,(function(e){var r;"INPUT"===e.tagName&&"file"===e.type?r=e:((r=document.createElement("input")).setAttribute("type","file"),r.style.display="none",e.addEventListener("click",(function(){r.style.opacity=0,r.style.display="block",r.focus(),r.click(),r.style.display="none"}),!1),e.appendChild(r));var i=n.getOpt("maxFiles");"undefined"===typeof i||1!=i?r.setAttribute("multiple","multiple"):r.removeAttribute("multiple"),t?r.setAttribute("webkitdirectory","webkitdirectory"):r.removeAttribute("webkitdirectory");var a=n.getOpt("fileType");"undefined"!==typeof a&&a.length>=1?r.setAttribute("accept",a.map((function(e){return"."+e})).join(",")):r.removeAttribute("accept"),r.addEventListener("change",(function(e){u(e.target.files,e),n.getOpt("clearInput")&&(e.target.value="")}),!1)}))},n.assignDrop=function(e){"undefined"==typeof e.length&&(e=[e]),r.each(e,(function(e){e.addEventListener("dragover",a,!1),e.addEventListener("dragenter",a,!1),e.addEventListener("drop",i,!1)}))},n.unAssignDrop=function(e){"undefined"==typeof e.length&&(e=[e]),r.each(e,(function(e){e.removeEventListener("dragover",a),e.removeEventListener("dragenter",a),e.removeEventListener("drop",i)}))},n.isUploading=function(){var e=!1;return r.each(n.files,(function(t){if(t.isUploading())return e=!0,!1})),e},n.upload=function(){if(!n.isUploading()){n.fire("uploadStart");for(var e=1;e<=n.getOpt("simultaneousUploads");e++)n.uploadNextChunk()}},n.pause=function(){r.each(n.files,(function(e){e.abort()})),n.fire("pause")},n.cancel=function(){n.fire("beforeCancel");for(var e=n.files.length-1;e>=0;e--)n.files[e].cancel();n.fire("cancel")},n.progress=function(){var e=0,t=0;return r.each(n.files,(function(n){e+=n.progress()*n.size,t+=n.size})),t>0?e/t:0},n.addFile=function(e,t){u([e],t)},n.addFiles=function(e,t){u(e,t)},n.removeFile=function(e){for(var t=n.files.length-1;t>=0;t--)n.files[t]===e&&n.files.splice(t,1)},n.getFromUniqueIdentifier=function(e){var t=!1;return r.each(n.files,(function(n){n.uniqueIdentifier==e&&(t=n)})),t},n.getSize=function(){var e=0;return r.each(n.files,(function(t){e+=t.size})),e},n.handleDropEvent=function(e){i(e)},n.handleChangeEvent=function(e){u(e.target.files,e),e.target.value=""},n.updateQuery=function(e){n.opts.query=e},this};e.exports=t}()},75974:e=>{e.exports=function(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(i){r=i}return[r,n]}},91036:(e,t,n)=>{const r=n(23719),i=n(63150),{isPlainObject:a}=n(26057),o=n(9996),s=n(79430),{parse:l}=n(50020),u=["img","audio","video","picture","svg","object","map","iframe","embed"],c=["script","style"];function d(e,t){e&&Object.keys(e).forEach((function(n){t(e[n],n)}))}function f(e,t){return{}.hasOwnProperty.call(e,t)}function p(e,t){const n=[];return d(e,(function(e){t(e)&&n.push(e)})),n}e.exports=m;const h=/^[^\0\t\n\f\r /<=>]+$/;function m(e,t,n){if(null==e)return"";let v="",y="";function b(e,t){const n=this;this.tag=e,this.attribs=t||{},this.tagPosition=v.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(P.length){P[P.length-1].text+=n.text}},this.updateParentNodeMediaChildren=function(){if(P.length&&u.includes(this.tag)){P[P.length-1].mediaChildren.push(this.tag)}}}(t=Object.assign({},m.defaults,t)).parser=Object.assign({},g,t.parser),c.forEach((function(e){t.allowedTags&&t.allowedTags.indexOf(e)>-1&&!t.allowVulnerableTags&&console.warn(`\n\n\u26a0\ufe0f Your \`allowedTags\` option includes, \`${e}\`, which is inherently\nvulnerable to XSS attacks. Please remove it from \`allowedTags\`.\nOr, to disable this warning, add the \`allowVulnerableTags\` option\nand ensure you are accounting for this risk.\n\n`)}));const w=t.nonTextTags||["script","style","textarea","option"];let S,_;t.allowedAttributes&&(S={},_={},d(t.allowedAttributes,(function(e,t){S[t]=[];const n=[];e.forEach((function(e){"string"===typeof e&&e.indexOf("*")>=0?n.push(i(e).replace(/\\\*/g,".*")):S[t].push(e)})),n.length&&(_[t]=new RegExp("^("+n.join("|")+")$"))})));const x={},T={},k={};d(t.allowedClasses,(function(e,t){S&&(f(S,t)||(S[t]=[]),S[t].push("class")),x[t]=[],k[t]=[];const n=[];e.forEach((function(e){"string"===typeof e&&e.indexOf("*")>=0?n.push(i(e).replace(/\\\*/g,".*")):e instanceof RegExp?k[t].push(e):x[t].push(e)})),n.length&&(T[t]=new RegExp("^("+n.join("|")+")$"))}));const E={};let C,O,P,I,A,D,M;d(t.transformTags,(function(e,t){let n;"function"===typeof e?n=e:"string"===typeof e&&(n=m.simpleTransform(e)),"*"===t?C=n:E[t]=n}));let R=!1;L();const N=new r.Parser({onopentag:function(e,n){if(t.enforceHtmlBoundary&&"html"===e&&L(),D)return void M++;const r=new b(e,n);P.push(r);let i=!1;const u=!!r.text;let c;if(f(E,e)&&(c=E[e](e,n),r.attribs=n=c.attribs,void 0!==c.text&&(r.innerText=c.text),e!==c.tagName&&(r.name=e=c.tagName,A[O]=c.tagName)),C&&(c=C(e,n),r.attribs=n=c.attribs,e!==c.tagName&&(r.name=e=c.tagName,A[O]=c.tagName)),(t.allowedTags&&-1===t.allowedTags.indexOf(e)||"recursiveEscape"===t.disallowedTagsMode&&!function(e){for(const t in e)if(f(e,t))return!1;return!0}(I)||null!=t.nestingLimit&&O>=t.nestingLimit)&&(i=!0,I[O]=!0,"discard"===t.disallowedTagsMode&&-1!==w.indexOf(e)&&(D=!0,M=1),I[O]=!0),O++,i){if("discard"===t.disallowedTagsMode)return;y=v,v=""}v+="<"+e,"script"===e&&(t.allowedScriptHostnames||t.allowedScriptDomains)&&(r.innerText=""),(!S||f(S,e)||S["*"])&&d(n,(function(n,i){if(!h.test(i))return void delete r.attribs[i];let u,c=!1;if(!S||f(S,e)&&-1!==S[e].indexOf(i)||S["*"]&&-1!==S["*"].indexOf(i)||f(_,e)&&_[e].test(i)||_["*"]&&_["*"].test(i))c=!0;else if(S&&S[e])for(const t of S[e])if(a(t)&&t.name&&t.name===i){c=!0;let e="";if(!0===t.multiple){const r=n.split(" ");for(const n of r)-1!==t.values.indexOf(n)&&(""===e?e=n:e+=" "+n)}else t.values.indexOf(n)>=0&&(e=n);n=e}if(c){if(-1!==t.allowedSchemesAppliedToAttributes.indexOf(i)&&B(e,n))return void delete r.attribs[i];if("script"===e&&"src"===i){let e=!0;try{const r=new URL(n);if(t.allowedScriptHostnames||t.allowedScriptDomains){const n=(t.allowedScriptHostnames||[]).find((function(e){return e===r.hostname})),i=(t.allowedScriptDomains||[]).find((function(e){return r.hostname===e||r.hostname.endsWith(`.${e}`)}));e=n||i}}catch(d){e=!1}if(!e)return void delete r.attribs[i]}if("iframe"===e&&"src"===i){let e=!0;try{if((n=n.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//")).startsWith("relative:"))throw new Error("relative: exploit attempt");let r="relative://relative-site";for(let e=0;e<100;e++)r+=`/${e}`;const i=new URL(n,r);if(i&&"relative-site"===i.hostname&&"relative:"===i.protocol)e=f(t,"allowIframeRelativeUrls")?t.allowIframeRelativeUrls:!t.allowedIframeHostnames&&!t.allowedIframeDomains;else if(t.allowedIframeHostnames||t.allowedIframeDomains){const n=(t.allowedIframeHostnames||[]).find((function(e){return e===i.hostname})),r=(t.allowedIframeDomains||[]).find((function(e){return i.hostname===e||i.hostname.endsWith(`.${e}`)}));e=n||r}}catch(d){e=!1}if(!e)return void delete r.attribs[i]}if("srcset"===i)try{if(u=s(n),u.forEach((function(e){B("srcset",e.url)&&(e.evil=!0)})),u=p(u,(function(e){return!e.evil})),!u.length)return void delete r.attribs[i];n=p(u,(function(e){return!e.evil})).map((function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")})).join(", "),r.attribs[i]=n}catch(d){return void delete r.attribs[i]}if("class"===i){const t=x[e],a=x["*"],s=T[e],l=k[e],u=[s,T["*"]].concat(l).filter((function(e){return e}));if(!(n=F(n,t&&a?o(t,a):t||a,u)).length)return void delete r.attribs[i]}if("style"===i)try{const a=function(e,t){if(!t)return e;const n=e.nodes[0];let r;r=t[n.selector]&&t["*"]?o(t[n.selector],t["*"]):t[n.selector]||t["*"];r&&(e.nodes[0].nodes=n.nodes.reduce(function(e){return function(t,n){if(f(e,n.prop)){e[n.prop].some((function(e){return e.test(n.value)}))&&t.push(n)}return t}}(r),[]));return e}(l(e+" {"+n+"}"),t.allowedStyles);if(0===(n=function(e){return e.nodes[0].nodes.reduce((function(e,t){return e.push(`${t.prop}:${t.value}${t.important?" !important":""}`),e}),[]).join(";")}(a)).length)return void delete r.attribs[i]}catch(d){return void delete r.attribs[i]}v+=" "+i,n&&n.length&&(v+='="'+j(n,!0)+'"')}else delete r.attribs[i]})),-1!==t.selfClosing.indexOf(e)?v+=" />":(v+=">",!r.innerText||u||t.textFilter||(v+=j(r.innerText),R=!0)),i&&(v=y+j(v),y="")},ontext:function(e){if(D)return;const n=P[P.length-1];let r;if(n&&(r=n.tag,e=void 0!==n.innerText?n.innerText:e),"discard"!==t.disallowedTagsMode||"script"!==r&&"style"!==r){const n=j(e,!1);t.textFilter&&!R?v+=t.textFilter(n,r):R||(v+=n)}else v+=e;if(P.length){P[P.length-1].text+=e}},onclosetag:function(e){if(D){if(M--,M)return;D=!1}const n=P.pop();if(!n)return;D=!!t.enforceHtmlBoundary&&"html"===e,O--;const r=I[O];if(r){if(delete I[O],"discard"===t.disallowedTagsMode)return void n.updateParentNodeText();y=v,v=""}A[O]&&(e=A[O],delete A[O]),t.exclusiveFilter&&t.exclusiveFilter(n)?v=v.substr(0,n.tagPosition):(n.updateParentNodeMediaChildren(),n.updateParentNodeText(),-1===t.selfClosing.indexOf(e)?(v+="</"+e+">",r&&(v=y+j(v),y=""),R=!1):r&&(v=y,y=""))}},t.parser);return N.write(e),N.end(),v;function L(){v="",O=0,P=[],I={},A={},D=!1,M=0}function j(e,n){return"string"!==typeof e&&(e+=""),t.parser.decodeEntities&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;"))),e=e.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;")),e}function B(e,n){const r=(n=(n=n.replace(/[\x00-\x20]+/g,"")).replace(/<!--.*?-->/g,"")).match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!r)return!!n.match(/^[/\\]{2}/)&&!t.allowProtocolRelative;const i=r[1].toLowerCase();return f(t.allowedSchemesByTag,e)?-1===t.allowedSchemesByTag[e].indexOf(i):!t.allowedSchemes||-1===t.allowedSchemes.indexOf(i)}function F(e,t,n){return t?(e=e.split(/\s+/)).filter((function(e){return-1!==t.indexOf(e)||n.some((function(t){return t.test(e)}))})).join(" "):e}}const g={decodeEntities:!0};m.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1},m.simpleTransform=function(e,t,n){return n=void 0===n||n,t=t||{},function(r,i){let a;if(n)for(a in t)i[a]=t[a];else i=t;return{tagName:e,attribs:i}}}},60053:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function S(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,M(_);else{var t=r(c);null!==t&&R(S,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(E),E=-1),h=!0;var a=p;try{for(w(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!P());){var o=f.callback;if("function"===typeof o){f.callback=null,p=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),w(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&R(S,d.startTime-n),l=!1}return l}finally{f=null,p=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,T=!1,k=null,E=-1,C=5,O=-1;function P(){return!(t.unstable_now()-O<C)}function I(){if(null!==k){var e=t.unstable_now();O=e;var n=!0;try{n=k(!0,e)}finally{n?x():(T=!1,k=null)}}else T=!1}if("function"===typeof b)x=function(){b(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=I,x=function(){D.postMessage(null)}}else x=function(){v(I,0)};function M(e){k=e,T||(T=!0,x())}function R(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,M(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(y(E),E=-1):g=!0,R(S,a-o))):(e.sortIndex=s,n(u,e),m||h||(m=!0,M(_))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},63840:(e,t,n)=>{"use strict";e.exports=n(60053)},49945:function(e){var t,n,r,i,a;t=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var i=a.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return r.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=n.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(u.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;u.path=a.normalizePath(d)}else u.path=s.path,o.params||(u.params=s.params,o.query||(u.query=s.query));return null===u.path&&(u.path=r.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(u)},parseURL:function(e){var n=t.exec(e);return n?{scheme:n[1]||"",netLoc:n[2]||"",path:n[3]||"",params:n[4]||"",query:n[5]||"",fragment:n[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(r,"");e.length!==(e=e.replace(i,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=a},53250:(e,t,n)=>{"use strict";var r=n(67294);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,n,t]),o((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},50139:(e,t,n)=>{"use strict";var r=n(67294),i=n(61688);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var p=o(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=p}),[p]),c(p),p}},61688:(e,t,n)=>{"use strict";e.exports=n(53250)},52798:(e,t,n)=>{"use strict";e.exports=n(50139)},48966:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=Ge(n(8469)),a=Ge(n(77536)),o=Ge(n(21359)),s=Ge(n(557)),l=Ge(n(2315)),u=Ge(n(89466)),c=Ge(n(30661)),d=Ge(n(83868)),f=Ge(n(2492)),p=Ge(n(28999)),h=Ge(n(61028)),m=Ge(n(27795)),g=Ge(n(10221)),v=Ge(n(82549)),y=Ge(n(99493)),b=Ge(n(67380)),w=$e(n(19234)),S=$e(n(94583)),_=Ge(n(24986)),x=Ge(n(51513)),T=Ge(n(24595)),k=Ge(n(43928)),E=Ge(n(57245)),C=Ge(n(15566)),O=Ge(n(64094)),P=Ge(n(77146)),I=Ge(n(82941)),A=Ge(n(49019)),D=Ge(n(13590)),M=Ge(n(86826)),R=Ge(n(72828)),N=Ge(n(20937)),L=$e(n(79146)),j=Ge(n(85218)),B=Ge(n(77117)),F=Ge(n(66090)),U=Ge(n(58335)),H=Ge(n(96298)),z=Ge(n(6454)),V=Ge(n(16648)),$=Ge(n(34339)),G=$e(n(88177)),W=Ge(n(42438)),q=Ge(n(90368)),Z=Ge(n(18874)),K=Ge(n(74979)),X=Ge(n(81008)),Y=Ge(n(54069)),Q=Ge(n(20661)),J=Ge(n(93235)),ee=Ge(n(57278)),te=Ge(n(19131)),ne=Ge(n(93315)),re=Ge(n(51464)),ie=Ge(n(27228)),ae=Ge(n(682)),oe=Ge(n(49396)),se=Ge(n(35807)),le=Ge(n(57148)),ue=Ge(n(87612)),ce=Ge(n(29887)),de=Ge(n(53058)),fe=$e(n(28355)),pe=Ge(n(82129)),he=Ge(n(90094)),me=Ge(n(88021)),ge=Ge(n(65061)),ve=Ge(n(94611)),ye=Ge(n(21727)),be=Ge(n(86776)),we=Ge(n(19963)),Se=Ge(n(2782)),_e=Ge(n(65008)),xe=Ge(n(2689)),Te=Ge(n(98983)),ke=Ge(n(72776)),Ee=Ge(n(44554)),Ce=Ge(n(90478)),Oe=$e(n(78140)),Pe=Ge(n(14959)),Ie=Ge(n(29778)),Ae=Ge(n(24790)),De=Ge(n(5152)),Me=Ge(n(94816)),Re=Ge(n(8035)),Ne=Ge(n(34714)),Le=Ge(n(44928)),je=Ge(n(88346)),Be=Ge(n(2900)),Fe=Ge(n(68220)),Ue=Ge(n(82786)),He=Ge(n(17633)),ze=Ge(n(55977));function Ve(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return Ve=function(){return e},e}function $e(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=Ve();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}function Ge(e){return e&&e.__esModule?e:{default:e}}var We={version:"13.7.0",toDate:i.default,toFloat:a.default,toInt:o.default,toBoolean:s.default,equals:l.default,contains:u.default,matches:c.default,isEmail:d.default,isURL:f.default,isMACAddress:p.default,isIP:h.default,isIPRange:m.default,isFQDN:g.default,isBoolean:y.default,isIBAN:G.default,isBIC:W.default,isAlpha:w.default,isAlphaLocales:w.locales,isAlphanumeric:S.default,isAlphanumericLocales:S.locales,isNumeric:_.default,isPassportNumber:x.default,isPort:T.default,isLowercase:k.default,isUppercase:E.default,isAscii:O.default,isFullWidth:P.default,isHalfWidth:I.default,isVariableWidth:A.default,isMultibyte:D.default,isSemVer:M.default,isSurrogatePair:R.default,isInt:N.default,isIMEI:C.default,isFloat:L.default,isFloatLocales:L.locales,isDecimal:j.default,isHexadecimal:B.default,isOctal:F.default,isDivisibleBy:U.default,isHexColor:H.default,isRgbColor:z.default,isHSL:V.default,isISRC:$.default,isMD5:q.default,isHash:Z.default,isJWT:K.default,isJSON:X.default,isEmpty:Y.default,isLength:Q.default,isLocale:b.default,isByteLength:J.default,isUUID:ee.default,isMongoId:te.default,isAfter:ne.default,isBefore:re.default,isIn:ie.default,isCreditCard:ae.default,isIdentityCard:oe.default,isEAN:se.default,isISIN:le.default,isISBN:ue.default,isISSN:ce.default,isMobilePhone:fe.default,isMobilePhoneLocales:fe.locales,isPostalCode:Oe.default,isPostalCodeLocales:Oe.locales,isEthereumAddress:pe.default,isCurrency:he.default,isBtcAddress:me.default,isISO8601:ge.default,isRFC3339:ve.default,isISO31661Alpha2:ye.default,isISO31661Alpha3:be.default,isISO4217:we.default,isBase32:Se.default,isBase58:_e.default,isBase64:xe.default,isDataURI:Te.default,isMagnetURI:ke.default,isMimeType:Ee.default,isLatLong:Ce.default,ltrim:Pe.default,rtrim:Ie.default,trim:Ae.default,escape:De.default,unescape:Me.default,stripLow:Re.default,whitelist:Ne.default,blacklist:Le.default,isWhitelisted:je.default,normalizeEmail:Be.default,toString,isSlug:Fe.default,isStrongPassword:He.default,isTaxID:de.default,isDate:v.default,isLicensePlate:Ue.default,isVAT:ze.default,ibanLocales:G.locales};t.default=We,e.exports=t.default,e.exports.default=t.default},60079:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commaDecimal=t.dotDecimal=t.farsiLocales=t.arabicLocales=t.englishLocales=t.decimal=t.alphanumeric=t.alpha=void 0;var n={"en-US":/^[A-Z]+$/i,"az-AZ":/^[A-VXYZ\xc7\u018f\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"bg-BG":/^[\u0410-\u042f]+$/i,"cs-CZ":/^[A-Z\xc1\u010c\u010e\xc9\u011a\xcd\u0147\xd3\u0158\u0160\u0164\xda\u016e\xdd\u017d]+$/i,"da-DK":/^[A-Z\xc6\xd8\xc5]+$/i,"de-DE":/^[A-Z\xc4\xd6\xdc\xdf]+$/i,"el-GR":/^[\u0391-\u03ce]+$/i,"es-ES":/^[A-Z\xc1\xc9\xcd\xd1\xd3\xda\xdc]+$/i,"fa-IR":/^[\u0627\u0628\u067e\u062a\u062b\u062c\u0686\u062d\u062e\u062f\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u06a9\u06af\u0644\u0645\u0646\u0648\u0647\u06cc]+$/i,"fi-FI":/^[A-Z\xc5\xc4\xd6]+$/i,"fr-FR":/^[A-Z\xc0\xc2\xc6\xc7\xc9\xc8\xca\xcb\xcf\xce\xd4\u0152\xd9\xdb\xdc\u0178]+$/i,"it-IT":/^[A-Z\xc0\xc9\xc8\xcc\xce\xd3\xd2\xd9]+$/i,"nb-NO":/^[A-Z\xc6\xd8\xc5]+$/i,"nl-NL":/^[A-Z\xc1\xc9\xcb\xcf\xd3\xd6\xdc\xda]+$/i,"nn-NO":/^[A-Z\xc6\xd8\xc5]+$/i,"hu-HU":/^[A-Z\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170]+$/i,"pl-PL":/^[A-Z\u0104\u0106\u0118\u015a\u0141\u0143\xd3\u017b\u0179]+$/i,"pt-PT":/^[A-Z\xc3\xc1\xc0\xc2\xc4\xc7\xc9\xca\xcb\xcd\xcf\xd5\xd3\xd4\xd6\xda\xdc]+$/i,"ru-RU":/^[\u0410-\u042f\u0401]+$/i,"sl-SI":/^[A-Z\u010c\u0106\u0110\u0160\u017d]+$/i,"sk-SK":/^[A-Z\xc1\u010c\u010e\xc9\xcd\u0147\xd3\u0160\u0164\xda\xdd\u017d\u0139\u0154\u013d\xc4\xd4]+$/i,"sr-RS@latin":/^[A-Z\u010c\u0106\u017d\u0160\u0110]+$/i,"sr-RS":/^[\u0410-\u042f\u0402\u0408\u0409\u040a\u040b\u040f]+$/i,"sv-SE":/^[A-Z\xc5\xc4\xd6]+$/i,"th-TH":/^[\u0e01-\u0e50\s]+$/i,"tr-TR":/^[A-Z\xc7\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"uk-UA":/^[\u0410-\u0429\u042c\u042e\u042f\u0404I\u0407\u0490\u0456]+$/i,"vi-VN":/^[A-Z\xc0\xc1\u1ea0\u1ea2\xc3\xc2\u1ea6\u1ea4\u1eac\u1ea8\u1eaa\u0102\u1eb0\u1eae\u1eb6\u1eb2\u1eb4\u0110\xc8\xc9\u1eb8\u1eba\u1ebc\xca\u1ec0\u1ebe\u1ec6\u1ec2\u1ec4\xcc\xcd\u1eca\u1ec8\u0128\xd2\xd3\u1ecc\u1ece\xd5\xd4\u1ed2\u1ed0\u1ed8\u1ed4\u1ed6\u01a0\u1edc\u1eda\u1ee2\u1ede\u1ee0\xd9\xda\u1ee4\u1ee6\u0168\u01af\u1eea\u1ee8\u1ef0\u1eec\u1eee\u1ef2\xdd\u1ef4\u1ef6\u1ef8]+$/i,"ku-IQ":/^[\u0626\u0627\u0628\u067e\u062a\u062c\u0686\u062d\u062e\u062f\u0631\u0695\u0632\u0698\u0633\u0634\u0639\u063a\u0641\u06a4\u0642\u06a9\u06af\u0644\u06b5\u0645\u0646\u0648\u06c6\u06be\u06d5\u06cc\u06ce\u064a\u0637\u0624\u062b\u0622\u0625\u0623\u0643\u0636\u0635\u0629\u0638\u0630]+$/i,ar:/^[\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064a\u064b\u064c\u064d\u064e\u064f\u0650\u0651\u0652\u0670]+$/,he:/^[\u05d0-\u05ea]+$/,fa:/^['\u0622\u0627\u0621\u0623\u0624\u0626\u0628\u067e\u062a\u062b\u062c\u0686\u062d\u062e\u062f\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u06a9\u06af\u0644\u0645\u0646\u0648\u0647\u0629\u06cc']+$/i,"hi-IN":/^[\u0900-\u0961]+[\u0972-\u097F]*$/i};t.alpha=n;var r={"en-US":/^[0-9A-Z]+$/i,"az-AZ":/^[0-9A-VXYZ\xc7\u018f\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"bg-BG":/^[0-9\u0410-\u042f]+$/i,"cs-CZ":/^[0-9A-Z\xc1\u010c\u010e\xc9\u011a\xcd\u0147\xd3\u0158\u0160\u0164\xda\u016e\xdd\u017d]+$/i,"da-DK":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"de-DE":/^[0-9A-Z\xc4\xd6\xdc\xdf]+$/i,"el-GR":/^[0-9\u0391-\u03c9]+$/i,"es-ES":/^[0-9A-Z\xc1\xc9\xcd\xd1\xd3\xda\xdc]+$/i,"fi-FI":/^[0-9A-Z\xc5\xc4\xd6]+$/i,"fr-FR":/^[0-9A-Z\xc0\xc2\xc6\xc7\xc9\xc8\xca\xcb\xcf\xce\xd4\u0152\xd9\xdb\xdc\u0178]+$/i,"it-IT":/^[0-9A-Z\xc0\xc9\xc8\xcc\xce\xd3\xd2\xd9]+$/i,"hu-HU":/^[0-9A-Z\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170]+$/i,"nb-NO":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"nl-NL":/^[0-9A-Z\xc1\xc9\xcb\xcf\xd3\xd6\xdc\xda]+$/i,"nn-NO":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"pl-PL":/^[0-9A-Z\u0104\u0106\u0118\u015a\u0141\u0143\xd3\u017b\u0179]+$/i,"pt-PT":/^[0-9A-Z\xc3\xc1\xc0\xc2\xc4\xc7\xc9\xca\xcb\xcd\xcf\xd5\xd3\xd4\xd6\xda\xdc]+$/i,"ru-RU":/^[0-9\u0410-\u042f\u0401]+$/i,"sl-SI":/^[0-9A-Z\u010c\u0106\u0110\u0160\u017d]+$/i,"sk-SK":/^[0-9A-Z\xc1\u010c\u010e\xc9\xcd\u0147\xd3\u0160\u0164\xda\xdd\u017d\u0139\u0154\u013d\xc4\xd4]+$/i,"sr-RS@latin":/^[0-9A-Z\u010c\u0106\u017d\u0160\u0110]+$/i,"sr-RS":/^[0-9\u0410-\u042f\u0402\u0408\u0409\u040a\u040b\u040f]+$/i,"sv-SE":/^[0-9A-Z\xc5\xc4\xd6]+$/i,"th-TH":/^[\u0e01-\u0e59\s]+$/i,"tr-TR":/^[0-9A-Z\xc7\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"uk-UA":/^[0-9\u0410-\u0429\u042c\u042e\u042f\u0404I\u0407\u0490\u0456]+$/i,"ku-IQ":/^[\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u06690-9\u0626\u0627\u0628\u067e\u062a\u062c\u0686\u062d\u062e\u062f\u0631\u0695\u0632\u0698\u0633\u0634\u0639\u063a\u0641\u06a4\u0642\u06a9\u06af\u0644\u06b5\u0645\u0646\u0648\u06c6\u06be\u06d5\u06cc\u06ce\u064a\u0637\u0624\u062b\u0622\u0625\u0623\u0643\u0636\u0635\u0629\u0638\u0630]+$/i,"vi-VN":/^[0-9A-Z\xc0\xc1\u1ea0\u1ea2\xc3\xc2\u1ea6\u1ea4\u1eac\u1ea8\u1eaa\u0102\u1eb0\u1eae\u1eb6\u1eb2\u1eb4\u0110\xc8\xc9\u1eb8\u1eba\u1ebc\xca\u1ec0\u1ebe\u1ec6\u1ec2\u1ec4\xcc\xcd\u1eca\u1ec8\u0128\xd2\xd3\u1ecc\u1ece\xd5\xd4\u1ed2\u1ed0\u1ed8\u1ed4\u1ed6\u01a0\u1edc\u1eda\u1ee2\u1ede\u1ee0\xd9\xda\u1ee4\u1ee6\u0168\u01af\u1eea\u1ee8\u1ef0\u1eec\u1eee\u1ef2\xdd\u1ef4\u1ef6\u1ef8]+$/i,ar:/^[\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u06690-9\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064a\u064b\u064c\u064d\u064e\u064f\u0650\u0651\u0652\u0670]+$/,he:/^[0-9\u05d0-\u05ea]+$/,fa:/^['0-9\u0622\u0627\u0621\u0623\u0624\u0626\u0628\u067e\u062a\u062b\u062c\u0686\u062d\u062e\u062f\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u06a9\u06af\u0644\u0645\u0646\u0648\u0647\u0629\u06cc\u06f1\u06f2\u06f3\u06f4\u06f5\u06f6\u06f7\u06f8\u06f9\u06f0']+$/i,"hi-IN":/^[\u0900-\u0963]+[\u0966-\u097F]*$/i};t.alphanumeric=r;var i={"en-US":".",ar:"\u066b"};t.decimal=i;var a=["AU","GB","HK","IN","NZ","ZA","ZM"];t.englishLocales=a;for(var o,s=0;s<a.length;s++)n[o="en-".concat(a[s])]=n["en-US"],r[o]=r["en-US"],i[o]=i["en-US"];var l=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"];t.arabicLocales=l;for(var u,c=0;c<l.length;c++)n[u="ar-".concat(l[c])]=n.ar,r[u]=r.ar,i[u]=i.ar;var d=["IR","AF"];t.farsiLocales=d;for(var f,p=0;p<d.length;p++)r[f="fa-".concat(d[p])]=r.fa,i[f]=i.ar;var h=["ar-EG","ar-LB","ar-LY"];t.dotDecimal=h;var m=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","es-ES","fr-CA","fr-FR","id-ID","it-IT","ku-IQ","hi-IN","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"];t.commaDecimal=m;for(var g=0;g<h.length;g++)i[h[g]]=i["en-US"];for(var v=0;v<m.length;v++)i[m[v]]=",";n["fr-CA"]=n["fr-FR"],r["fr-CA"]=r["fr-FR"],n["pt-BR"]=n["pt-PT"],r["pt-BR"]=r["pt-PT"],i["pt-BR"]=i["pt-PT"],n["pl-Pl"]=n["pl-PL"],r["pl-Pl"]=r["pl-PL"],i["pl-Pl"]=i["pl-PL"],n["fa-AF"]=n.fa},44928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),e.replace(new RegExp("[".concat(t,"]+"),"g"),"")};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},89466:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if((0,r.default)(e),(n=(0,a.default)(n,s)).ignoreCase)return e.toLowerCase().split((0,i.default)(t).toLowerCase()).length>n.minOccurrences;return e.split((0,i.default)(t)).length>n.minOccurrences};var r=o(n(65571)),i=o(n(31913)),a=o(n(84808));function o(e){return e&&e.__esModule?e:{default:e}}var s={ignoreCase:!1,minOccurrences:1};e.exports=t.default,e.exports.default=t.default},2315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),e===t};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},5152:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},93315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,r.default)(e);var n=(0,i.default)(t),a=(0,i.default)(e);return!!(a&&n&&a>n)};var r=a(n(65571)),i=a(n(8469));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},19234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.default)(e);var r=e,o=n.ignore;if(o)if(o instanceof RegExp)r=r.replace(o,"");else{if("string"!==typeof o)throw new Error("ignore should be instance of a String or RegExp");r=r.replace(new RegExp("[".concat(o.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"")}if(t in a.alpha)return a.alpha[t].test(r);throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r},a=n(60079);var o=Object.keys(a.alpha);t.locales=o},94583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.default)(e);var r=e,o=n.ignore;if(o)if(o instanceof RegExp)r=r.replace(o,"");else{if("string"!==typeof o)throw new Error("ignore should be instance of a String or RegExp");r=r.replace(new RegExp("[".concat(o.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"")}if(t in a.alphanumeric)return a.alphanumeric[t].test(r);throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r},a=n(60079);var o=Object.keys(a.alphanumeric);t.locales=o},64094:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^[\x00-\x7F]+$/;e.exports=t.default,e.exports.default=t.default},42438:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),!a.CountryCodes.has(e.slice(4,6).toUpperCase()))return!1;return o.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r},a=n(21727);var o=/^[A-Za-z]{6}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/;e.exports=t.default,e.exports.default=t.default},2782:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),e.length%8===0&&a.test(e))return!0;return!1};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^[A-Z2-7]+=*$/;e.exports=t.default,e.exports.default=t.default},65008:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),a.test(e))return!0;return!1};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^[A-HJ-NP-Za-km-z1-9]*$/;e.exports=t.default,e.exports.default=t.default},2689:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e),t=(0,i.default)(t,l);var n=e.length;if(t.urlSafe)return s.test(e);if(n%4!==0||o.test(e))return!1;var a=e.indexOf("=");return-1===a||a===n-1||a===n-2&&"="===e[n-1]};var r=a(n(65571)),i=a(n(84808));function a(e){return e&&e.__esModule?e:{default:e}}var o=/[^A-Z0-9+\/=]/i,s=/^[A-Z0-9_\-]*$/i,l={urlSafe:!1};e.exports=t.default,e.exports.default=t.default},51464:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,r.default)(e);var n=(0,i.default)(t),a=(0,i.default)(e);return!!(a&&n&&a<n)};var r=a(n(65571)),i=a(n(8469));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},99493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if((0,i.default)(e),t.loose)return s.includes(e.toLowerCase());return o.includes(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a={loose:!1},o=["true","false","1","0"],s=[].concat(o,["yes","no"]);e.exports=t.default,e.exports.default=t.default},88021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),e.startsWith("bc1"))return a.test(e);return o.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^(bc1)[a-z0-9]{25,39}$/,o=/^(1|3)[A-HJ-NP-Za-km-z1-9]{25,39}$/;e.exports=t.default,e.exports.default=t.default},93235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r;(0,i.default)(e),"object"===a(t)?(n=t.min||0,r=t.max):(n=arguments[1],r=arguments[2]);var o=encodeURI(e).split(/%..|./).length-1;return o>=n&&("undefined"===typeof r||o<=r)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}e.exports=t.default,e.exports.default=t.default},682:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=e.replace(/[- ]+/g,"");if(!a.test(t))return!1;for(var n,r,o,s=0,l=t.length-1;l>=0;l--)n=t.substring(l,l+1),r=parseInt(n,10),s+=o&&(r*=2)>=10?r%10+1:r,o=!o;return!(s%10!==0||!t)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^(?:4[0-9]{12}(?:[0-9]{3,6})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12,15}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|6[27][0-9]{14}|^(81[0-9]{14,17}))$/;e.exports=t.default,e.exports.default=t.default},90094:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),function(e){var t="\\d{".concat(e.digits_after_decimal[0],"}");e.digits_after_decimal.forEach((function(e,n){0!==n&&(t="".concat(t,"|\\d{").concat(e,"}"))}));var n="(".concat(e.symbol.replace(/\W/,(function(e){return"\\".concat(e)})),")").concat(e.require_symbol?"":"?"),r="-?",i="[1-9]\\d{0,2}(\\".concat(e.thousands_separator,"\\d{3})*"),a="(".concat(["0","[1-9]\\d*",i].join("|"),")?"),o="(\\".concat(e.decimal_separator,"(").concat(t,"))").concat(e.require_decimal?"":"?"),s=a+(e.allow_decimal||e.require_decimal?o:"");e.allow_negatives&&!e.parens_for_negatives&&(e.negative_sign_after_digits?s+=r:e.negative_sign_before_digits&&(s=r+s));e.allow_negative_sign_placeholder?s="( (?!\\-))?".concat(s):e.allow_space_after_symbol?s=" ?".concat(s):e.allow_space_after_digits&&(s+="( (?!$))?");e.symbol_after_digits?s+=n:s=n+s;e.allow_negatives&&(e.parens_for_negatives?s="(\\(".concat(s,"\\)|").concat(s,")"):e.negative_sign_before_digits||e.negative_sign_after_digits||(s=r+s));return new RegExp("^(?!-? )(?=.*\\d)".concat(s,"$"))}(t=(0,r.default)(t,o)).test(e)};var r=a(n(84808)),i=a(n(65571));function a(e){return e&&e.__esModule?e:{default:e}}var o={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};e.exports=t.default,e.exports.default=t.default},98983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=e.split(",");if(t.length<2)return!1;var n=t.shift().trim().split(";"),r=n.shift();if("data:"!==r.substr(0,5))return!1;var l=r.substr(5);if(""!==l&&!a.test(l))return!1;for(var u=0;u<n.length;u++)if((u!==n.length-1||"base64"!==n[u].toLowerCase())&&!o.test(n[u]))return!1;for(var c=0;c<t.length;c++)if(!s.test(t[c]))return!1;return!0};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^[a-z]+\/[a-z0-9\-\+]+$/i,o=/^[a-z\-]+=[a-z0-9\-]+$/i,s=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;e.exports=t.default,e.exports.default=t.default},82549:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t="string"===typeof t?(0,i.default)({format:t},s):(0,i.default)(t,s);if("string"===typeof e&&(g=t.format,/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(g))){var n,r=t.delimiters.find((function(e){return-1!==t.format.indexOf(e)})),o=t.strictMode?r:t.delimiters.find((function(t){return-1!==e.indexOf(t)})),l=function(e,t){for(var n=[],r=Math.min(e.length,t.length),i=0;i<r;i++)n.push([e[i],t[i]]);return n}(e.split(o),t.format.toLowerCase().split(r)),u={},c=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}(l);try{for(c.s();!(n=c.n()).done;){var d=(h=n.value,m=2,function(e){if(Array.isArray(e))return e}(h)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(h,m)||a(h,m)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=d[0],p=d[1];if(f.length!==p.length)return!1;u[p.charAt(0)]=f}}catch(v){c.e(v)}finally{c.f()}return new Date("".concat(u.m,"/").concat(u.d,"/").concat(u.y)).getDate()===+u.d}var h,m;var g;if(!t.strictMode)return"[object Date]"===Object.prototype.toString.call(e)&&isFinite(e);return!1};var r,i=(r=n(84808))&&r.__esModule?r:{default:r};function a(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};e.exports=t.default,e.exports.default=t.default},85218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),(t=(0,r.default)(t,l)).locale in o.decimal)return!(0,a.default)(u,e.replace(/ /g,""))&&function(e){return new RegExp("^[-+]?([0-9]+)?(\\".concat(o.decimal[e.locale],"[0-9]{").concat(e.decimal_digits,"})").concat(e.force_decimal?"":"?","$"))}(t).test(e);throw new Error("Invalid locale '".concat(t.locale,"'"))};var r=s(n(84808)),i=s(n(65571)),a=s(n(18343)),o=n(60079);function s(e){return e&&e.__esModule?e:{default:e}}var l={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},u=["","-","+"];e.exports=t.default,e.exports.default=t.default},58335:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),(0,i.default)(e)%parseInt(t,10)===0};var r=a(n(65571)),i=a(n(77536));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},35807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=Number(e.slice(-1));return a.test(e)&&t===(n=e,r=10-n.slice(0,-1).split("").map((function(e,t){return Number(e)*function(e,t){return 8===e||14===e?t%2===0?3:1:t%2===0?1:3}(n.length,t)})).reduce((function(e,t){return e+t}),0)%10,r<10?r:0);var n,r};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^(\d{8}|\d{13}|\d{14})$/;e.exports=t.default,e.exports.default=t.default},83868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),(t=(0,i.default)(t,u)).require_display_name||t.allow_display_name){var n=e.match(c);if(n){var l=n[1];if(e=e.replace(l,"").replace(/(^<|>$)/g,""),l.endsWith(" ")&&(l=l.substr(0,l.length-1)),!function(e){var t=e.replace(/^"(.+)"$/,"$1");if(!t.trim())return!1;if(/[\.";<>]/.test(t)){if(t===e)return!1;if(!(t.split('"').length===t.split('\\"').length))return!1}return!0}(l))return!1}else if(t.require_display_name)return!1}if(!t.ignore_max_length&&e.length>254)return!1;var g=e.split("@"),v=g.pop(),y=v.toLowerCase();if(t.host_blacklist.includes(y))return!1;var b=g.join("@");if(t.domain_specific_validation&&("gmail.com"===y||"googlemail.com"===y)){var w=(b=b.toLowerCase()).split("+")[0];if(!(0,a.default)(w.replace(/\./g,""),{min:6,max:30}))return!1;for(var S=w.split("."),_=0;_<S.length;_++)if(!f.test(S[_]))return!1}if(!1===t.ignore_max_length&&(!(0,a.default)(b,{max:64})||!(0,a.default)(v,{max:254})))return!1;if(!(0,o.default)(v,{require_tld:t.require_tld})){if(!t.allow_ip_domain)return!1;if(!(0,s.default)(v)){if(!v.startsWith("[")||!v.endsWith("]"))return!1;var x=v.substr(1,v.length-2);if(0===x.length||!(0,s.default)(x))return!1}}if('"'===b[0])return b=b.slice(1,b.length-1),t.allow_utf8_local_part?m.test(b):p.test(b);for(var T=t.allow_utf8_local_part?h:d,k=b.split("."),E=0;E<k.length;E++)if(!T.test(k[E]))return!1;if(t.blacklisted_chars&&-1!==b.search(new RegExp("[".concat(t.blacklisted_chars,"]+"),"g")))return!1;return!0};var r=l(n(65571)),i=l(n(84808)),a=l(n(93235)),o=l(n(10221)),s=l(n(61028));function l(e){return e&&e.__esModule?e:{default:e}}var u={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},c=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,f=/^[a-z\d]+$/,p=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,h=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,m=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;e.exports=t.default,e.exports.default=t.default},54069:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),0===((t=(0,i.default)(t,o)).ignore_whitespace?e.trim().length:e.length)};var r=a(n(65571)),i=a(n(84808));function a(e){return e&&e.__esModule?e:{default:e}}var o={ignore_whitespace:!1};e.exports=t.default,e.exports.default=t.default},82129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^(0x)[0-9a-f]{40}$/i;e.exports=t.default,e.exports.default=t.default},10221:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e),(t=(0,i.default)(t,o)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var n=e.split("."),a=n[n.length-1];if(t.require_tld){if(n.length<2)return!1;if(!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(a))return!1;if(/\s/.test(a))return!1}if(!t.allow_numeric_tld&&/^\d+$/.test(a))return!1;return n.every((function(e){return!(e.length>63)&&(!!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)&&(!/[\uff01-\uff5e]/.test(e)&&(!/^-|-$/.test(e)&&!(!t.allow_underscores&&/_/.test(e)))))}))};var r=a(n(65571)),i=a(n(84808));function a(e){return e&&e.__esModule?e:{default:e}}var o={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};e.exports=t.default,e.exports.default=t.default},79146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e),t=t||{};var n=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(t.locale?a.decimal[t.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(""===e||"."===e||"-"===e||"+"===e)return!1;var r=parseFloat(e.replace(",","."));return n.test(e)&&(!t.hasOwnProperty("min")||r>=t.min)&&(!t.hasOwnProperty("max")||r<=t.max)&&(!t.hasOwnProperty("lt")||r<t.lt)&&(!t.hasOwnProperty("gt")||r>t.gt)},t.locales=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r},a=n(60079);var o=Object.keys(a.decimal);t.locales=o},77146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.test(e)},t.fullWidth=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;t.fullWidth=a},16648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=e.replace(/\s+/g," ").replace(/\s?(hsla?\(|\)|,)\s?/gi,"$1");if(-1!==t.indexOf(","))return a.test(t);return o.test(t)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(,(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}(,((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?))?\)$/i,o=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(\s(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s?(\/\s((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s?)?\)$/i;e.exports=t.default,e.exports.default=t.default},82941:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.test(e)},t.halfWidth=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;t.halfWidth=a},18874:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),new RegExp("^[a-fA-F0-9]{".concat(a[t],"}$")).test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};e.exports=t.default,e.exports.default=t.default},96298:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i;e.exports=t.default,e.exports.default=t.default},77117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^(0x|0h)?[0-9A-F]+$/i;e.exports=t.default,e.exports.default=t.default},88177:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),function(e){var t=e.replace(/[\s\-]+/gi,"").toUpperCase(),n=t.slice(0,2).toUpperCase();return n in a&&a[n].test(t)}(e)&&function(e){var t=e.replace(/[^A-Z0-9]+/gi,"").toUpperCase();return 1===(t.slice(4)+t.slice(0,4)).replace(/[A-Z]/g,(function(e){return e.charCodeAt(0)-55})).match(/\d{1,7}/g).reduce((function(e,t){return Number(e+t)%97}),"")}(e)},t.locales=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a={AD:/^(AD[0-9]{2})\d{8}[A-Z0-9]{12}$/,AE:/^(AE[0-9]{2})\d{3}\d{16}$/,AL:/^(AL[0-9]{2})\d{8}[A-Z0-9]{16}$/,AT:/^(AT[0-9]{2})\d{16}$/,AZ:/^(AZ[0-9]{2})[A-Z0-9]{4}\d{20}$/,BA:/^(BA[0-9]{2})\d{16}$/,BE:/^(BE[0-9]{2})\d{12}$/,BG:/^(BG[0-9]{2})[A-Z]{4}\d{6}[A-Z0-9]{8}$/,BH:/^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,BR:/^(BR[0-9]{2})\d{23}[A-Z]{1}[A-Z0-9]{1}$/,BY:/^(BY[0-9]{2})[A-Z0-9]{4}\d{20}$/,CH:/^(CH[0-9]{2})\d{5}[A-Z0-9]{12}$/,CR:/^(CR[0-9]{2})\d{18}$/,CY:/^(CY[0-9]{2})\d{8}[A-Z0-9]{16}$/,CZ:/^(CZ[0-9]{2})\d{20}$/,DE:/^(DE[0-9]{2})\d{18}$/,DK:/^(DK[0-9]{2})\d{14}$/,DO:/^(DO[0-9]{2})[A-Z]{4}\d{20}$/,EE:/^(EE[0-9]{2})\d{16}$/,EG:/^(EG[0-9]{2})\d{25}$/,ES:/^(ES[0-9]{2})\d{20}$/,FI:/^(FI[0-9]{2})\d{14}$/,FO:/^(FO[0-9]{2})\d{14}$/,FR:/^(FR[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,GB:/^(GB[0-9]{2})[A-Z]{4}\d{14}$/,GE:/^(GE[0-9]{2})[A-Z0-9]{2}\d{16}$/,GI:/^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,GL:/^(GL[0-9]{2})\d{14}$/,GR:/^(GR[0-9]{2})\d{7}[A-Z0-9]{16}$/,GT:/^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,HR:/^(HR[0-9]{2})\d{17}$/,HU:/^(HU[0-9]{2})\d{24}$/,IE:/^(IE[0-9]{2})[A-Z0-9]{4}\d{14}$/,IL:/^(IL[0-9]{2})\d{19}$/,IQ:/^(IQ[0-9]{2})[A-Z]{4}\d{15}$/,IR:/^(IR[0-9]{2})0\d{2}0\d{18}$/,IS:/^(IS[0-9]{2})\d{22}$/,IT:/^(IT[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,JO:/^(JO[0-9]{2})[A-Z]{4}\d{22}$/,KW:/^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,KZ:/^(KZ[0-9]{2})\d{3}[A-Z0-9]{13}$/,LB:/^(LB[0-9]{2})\d{4}[A-Z0-9]{20}$/,LC:/^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,LI:/^(LI[0-9]{2})\d{5}[A-Z0-9]{12}$/,LT:/^(LT[0-9]{2})\d{16}$/,LU:/^(LU[0-9]{2})\d{3}[A-Z0-9]{13}$/,LV:/^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,MC:/^(MC[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,MD:/^(MD[0-9]{2})[A-Z0-9]{20}$/,ME:/^(ME[0-9]{2})\d{18}$/,MK:/^(MK[0-9]{2})\d{3}[A-Z0-9]{10}\d{2}$/,MR:/^(MR[0-9]{2})\d{23}$/,MT:/^(MT[0-9]{2})[A-Z]{4}\d{5}[A-Z0-9]{18}$/,MU:/^(MU[0-9]{2})[A-Z]{4}\d{19}[A-Z]{3}$/,MZ:/^(MZ[0-9]{2})\d{21}$/,NL:/^(NL[0-9]{2})[A-Z]{4}\d{10}$/,NO:/^(NO[0-9]{2})\d{11}$/,PK:/^(PK[0-9]{2})[A-Z0-9]{4}\d{16}$/,PL:/^(PL[0-9]{2})\d{24}$/,PS:/^(PS[0-9]{2})[A-Z0-9]{4}\d{21}$/,PT:/^(PT[0-9]{2})\d{21}$/,QA:/^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,RO:/^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,RS:/^(RS[0-9]{2})\d{18}$/,SA:/^(SA[0-9]{2})\d{2}[A-Z0-9]{18}$/,SC:/^(SC[0-9]{2})[A-Z]{4}\d{20}[A-Z]{3}$/,SE:/^(SE[0-9]{2})\d{20}$/,SI:/^(SI[0-9]{2})\d{15}$/,SK:/^(SK[0-9]{2})\d{20}$/,SM:/^(SM[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,SV:/^(SV[0-9]{2})[A-Z0-9]{4}\d{20}$/,TL:/^(TL[0-9]{2})\d{19}$/,TN:/^(TN[0-9]{2})\d{20}$/,TR:/^(TR[0-9]{2})\d{5}[A-Z0-9]{17}$/,UA:/^(UA[0-9]{2})\d{6}[A-Z0-9]{19}$/,VA:/^(VA[0-9]{2})\d{18}$/,VG:/^(VG[0-9]{2})[A-Z0-9]{4}\d{16}$/,XK:/^(XK[0-9]{2})\d{16}$/};var o=Object.keys(a);t.locales=o},15566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var n=a;(t=t||{}).allow_hyphens&&(n=o);if(!n.test(e))return!1;e=e.replace(/-/g,"");for(var r=0,s=2,l=0;l<14;l++){var u=e.substring(14-l-1,14-l),c=parseInt(u,10)*s;r+=c>=10?c%10+1:c,1===s?s+=1:s-=1}if((10-r%10)%10!==parseInt(e.substring(14,15),10))return!1;return!0};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^[0-9]{15}$/,o=/^\d{2}-\d{6}-\d{6}-\d{1}$/;e.exports=t.default,e.exports.default=t.default},61028:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,i.default)(t),!(n=String(n)))return e(t,4)||e(t,6);if("4"===n){if(!s.test(t))return!1;var r=t.split(".").sort((function(e,t){return e-t}));return r[3]<=255}if("6"===n)return!!u.test(t);return!1};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",o="(".concat(a,"[.]){3}").concat(a),s=new RegExp("^".concat(o,"$")),l="(?:[0-9a-fA-F]{1,4})",u=new RegExp("^("+"(?:".concat(l,":){7}(?:").concat(l,"|:)|")+"(?:".concat(l,":){6}(?:").concat(o,"|:").concat(l,"|:)|")+"(?:".concat(l,":){5}(?::").concat(o,"|(:").concat(l,"){1,2}|:)|")+"(?:".concat(l,":){4}(?:(:").concat(l,"){0,1}:").concat(o,"|(:").concat(l,"){1,3}|:)|")+"(?:".concat(l,":){3}(?:(:").concat(l,"){0,2}:").concat(o,"|(:").concat(l,"){1,4}|:)|")+"(?:".concat(l,":){2}(?:(:").concat(l,"){0,3}:").concat(o,"|(:").concat(l,"){1,5}|:)|")+"(?:".concat(l,":){1}(?:(:").concat(l,"){0,4}:").concat(o,"|(:").concat(l,"){1,6}|:)|")+"(?::((?::".concat(l,"){0,5}:").concat(o,"|(?::").concat(l,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");e.exports=t.default,e.exports.default=t.default},27795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,r.default)(e);var n=e.split("/");if(2!==n.length)return!1;if(!o.test(n[1]))return!1;if(n[1].length>1&&n[1].startsWith("0"))return!1;var a=(0,i.default)(n[0],t);if(!a)return!1;var l=null;switch(String(t)){case"4":l=32;break;case"6":l=s;break;default:l=(0,i.default)(n[0],"6")?s:32}return n[1]<=l&&n[1]>=0};var r=a(n(65571)),i=a(n(61028));function a(e){return e&&e.__esModule?e:{default:e}}var o=/^\d{1,3}$/,s=128;e.exports=t.default,e.exports.default=t.default},87612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,i.default)(t),!(n=String(n)))return e(t,10)||e(t,13);var r,l=t.replace(/[\s-]+/g,""),u=0;if("10"===n){if(!a.test(l))return!1;for(r=0;r<9;r++)u+=(r+1)*l.charAt(r);if("X"===l.charAt(9)?u+=100:u+=10*l.charAt(9),u%11===0)return!!l}else if("13"===n){if(!o.test(l))return!1;for(r=0;r<12;r++)u+=s[r%2]*l.charAt(r);if(l.charAt(12)-(10-u%10)%10===0)return!!l}return!1};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^(?:[0-9]{9}X|[0-9]{10})$/,o=/^(?:[0-9]{13})$/,s=[1,3];e.exports=t.default,e.exports.default=t.default},57148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),!a.test(e))return!1;for(var t=!0,n=0,r=e.length-2;r>=0;r--)if(e[r]>="A"&&e[r]<="Z")for(var o=e[r].charCodeAt(0)-55,s=o%10,l=Math.trunc(o/10),u=0,c=[s,l];u<c.length;u++){var d=c[u];n+=t?d>=5?1+2*(d-5):2*d:d,t=!t}else{var f=e[r].charCodeAt(0)-"0".charCodeAt(0);n+=t?f>=5?1+2*(f-5):2*f:f,t=!t}var p=10*Math.trunc((n+9)/10)-n;return+e[e.length-1]===p};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;e.exports=t.default,e.exports.default=t.default},21727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.has(e.toUpperCase())},t.CountryCodes=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]);var o=a;t.CountryCodes=o},86776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.has(e.toUpperCase())};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=new Set(["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"]);e.exports=t.default,e.exports.default=t.default},19963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.has(e.toUpperCase())},t.CurrencyCodes=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=new Set(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UYW","UZS","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]);var o=a;t.CurrencyCodes=o},65061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(e);var n=t.strictSeparator?o.test(e):a.test(e);return n&&t.strict?s(e):n};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,o=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,s=function(e){var t=e.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(t){var n=Number(t[1]),r=Number(t[2]);return n%4===0&&n%100!==0||n%400===0?r<=366:r<=365}var i=e.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),a=i[1],o=i[2],s=i[3],l=o?"0".concat(o).slice(-2):o,u=s?"0".concat(s).slice(-2):s,c=new Date("".concat(a,"-").concat(l||"01","-").concat(u||"01"));return!o||!s||c.getUTCFullYear()===a&&c.getUTCMonth()+1===o&&c.getUTCDate()===s};e.exports=t.default,e.exports.default=t.default},34339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;e.exports=t.default,e.exports.default=t.default},29887:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(e);var n=a;if(n=t.require_hyphen?n.replace("?",""):n,!(n=t.case_sensitive?new RegExp(n):new RegExp(n,"i")).test(e))return!1;for(var r=e.replace("-","").toUpperCase(),o=0,s=0;s<r.length;s++){var l=r[s];o+=("X"===l?10:+l)*(8-s)}return o%11===0};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a="^\\d{4}-?\\d{3}[\\dX]$";e.exports=t.default,e.exports.default=t.default},49396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),t in o)return o[t](e);if("any"===t){for(var n in o){if(o.hasOwnProperty(n))if((0,o[n])(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))};var r=a(n(65571)),i=a(n(20937));function a(e){return e&&e.__esModule?e:{default:e}}var o={PL:function(e){(0,r.default)(e);var t={1:1,2:3,3:7,4:9,5:1,6:3,7:7,8:9,9:1,10:3,11:0};if(null!=e&&11===e.length&&(0,i.default)(e,{allow_leading_zeroes:!0})){var n=e.split("").slice(0,-1).reduce((function(e,n,r){return e+Number(n)*t[r+1]}),0)%10,a=Number(e.charAt(e.length-1));if(0===n&&0===a||a===10-n)return!0}return!1},ES:function(e){(0,r.default)(e);var t={X:0,Y:1,Z:2},n=e.trim().toUpperCase();if(!/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/.test(n))return!1;var i=n.slice(0,-1).replace(/[X,Y,Z]/g,(function(e){return t[e]}));return n.endsWith(["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][i%23])},FI:function(e){if((0,r.default)(e),11!==e.length)return!1;if(!e.match(/^\d{6}[\-A\+]\d{3}[0-9ABCDEFHJKLMNPRSTUVWXY]{1}$/))return!1;return"0123456789ABCDEFHJKLMNPRSTUVWXY"[(1e3*parseInt(e.slice(0,6),10)+parseInt(e.slice(7,10),10))%31]===e.slice(10,11)},IN:function(e){var t=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],n=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],r=e.trim();if(!/^[1-9]\d{3}\s?\d{4}\s?\d{4}$/.test(r))return!1;var i=0;return r.replace(/\s/g,"").split("").map(Number).reverse().forEach((function(e,r){i=t[i][n[r%8][e]]})),0===i},IR:function(e){if(!e.match(/^\d{10}$/))return!1;if(e="0000".concat(e).substr(e.length-6),0===parseInt(e.substr(3,6),10))return!1;for(var t=parseInt(e.substr(9,1),10),n=0,r=0;r<9;r++)n+=parseInt(e.substr(r,1),10)*(10-r);return(n%=11)<2&&t===n||n>=2&&t===11-n},IT:function(e){return 9===e.length&&("CA00000AA"!==e&&e.search(/C[A-Z][0-9]{5}[A-Z]{2}/i)>-1)},NO:function(e){var t=e.trim();if(isNaN(Number(t)))return!1;if(11!==t.length)return!1;if("00000000000"===t)return!1;var n=t.split("").map(Number),r=(11-(3*n[0]+7*n[1]+6*n[2]+1*n[3]+8*n[4]+9*n[5]+4*n[6]+5*n[7]+2*n[8])%11)%11,i=(11-(5*n[0]+4*n[1]+3*n[2]+2*n[3]+7*n[4]+6*n[5]+5*n[6]+4*n[7]+3*n[8]+2*r)%11)%11;return r===n[9]&&i===n[10]},TH:function(e){if(!e.match(/^[1-8]\d{12}$/))return!1;for(var t=0,n=0;n<12;n++)t+=parseInt(e[n],10)*(13-n);return e[12]===((11-t%11)%10).toString()},LK:function(e){return!(10!==e.length||!/^[1-9]\d{8}[vx]$/i.test(e))||!(12!==e.length||!/^[1-9]\d{11}$/i.test(e))},"he-IL":function(e){var t=e.trim();if(!/^\d{9}$/.test(t))return!1;for(var n,r=t,i=0,a=0;a<r.length;a++)i+=(n=Number(r[a])*(a%2+1))>9?n-9:n;return i%10===0},"ar-LY":function(e){var t=e.trim();return!!/^(1|2)\d{11}$/.test(t)},"ar-TN":function(e){var t=e.trim();return!!/^\d{8}$/.test(t)},"zh-CN":function(e){var t,n=["11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91"],r=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],i=["1","0","X","9","8","7","6","5","4","3","2"],a=function(e){return n.includes(e)},o=function(e){var t=parseInt(e.substring(0,4),10),n=parseInt(e.substring(4,6),10),r=parseInt(e.substring(6),10),i=new Date(t,n-1,r);return!(i>new Date)&&(i.getFullYear()===t&&i.getMonth()===n-1&&i.getDate()===r)},s=function(e){return function(e){for(var t=e.substring(0,17),n=0,a=0;a<17;a++)n+=parseInt(t.charAt(a),10)*parseInt(r[a],10);return i[n%11]}(e)===e.charAt(17).toUpperCase()};return!!/^\d{15}|(\d{17}(\d|x|X))$/.test(t=e)&&(15===t.length?function(e){var t=/^[1-9]\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}$/.test(e);if(!t)return!1;var n=e.substring(0,2);if(!(t=a(n)))return!1;var r="19".concat(e.substring(6,12));return!!(t=o(r))}(t):function(e){var t=/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}(\d|x|X)$/.test(e);if(!t)return!1;var n=e.substring(0,2);if(!(t=a(n)))return!1;var r=e.substring(6,14);return!!(t=o(r))&&s(e)}(t))},"zh-TW":function(e){var t={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},n=e.trim().toUpperCase();return!!/^[A-Z][0-9]{9}$/.test(n)&&Array.from(n).reduce((function(e,n,r){if(0===r){var i=t[n];return i%10*9+Math.floor(i/10)}return 9===r?(10-e%10-Number(n))%10===0:e+Number(n)*(9-r)}),0)}};e.exports=t.default,e.exports.default=t.default},27228:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n;if((0,r.default)(e),"[object Array]"===Object.prototype.toString.call(t)){var a=[];for(n in t)({}).hasOwnProperty.call(t,n)&&(a[n]=(0,i.default)(t[n]));return a.indexOf(e)>=0}if("object"===o(t))return t.hasOwnProperty(e);if(t&&"function"===typeof t.indexOf)return t.indexOf(e)>=0;return!1};var r=a(n(65571)),i=a(n(31913));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}e.exports=t.default,e.exports.default=t.default},20937:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var n=(t=t||{}).hasOwnProperty("allow_leading_zeroes")&&!t.allow_leading_zeroes?a:o,r=!t.hasOwnProperty("min")||e>=t.min,s=!t.hasOwnProperty("max")||e<=t.max,l=!t.hasOwnProperty("lt")||e<t.lt,u=!t.hasOwnProperty("gt")||e>t.gt;return n.test(e)&&r&&s&&l&&u};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,o=/^[-+]?[0-9]+$/;e.exports=t.default,e.exports.default=t.default},81008:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);try{t=(0,i.default)(t,s);var n=[];t.allow_primitives&&(n=[null,!1,!0]);var a=JSON.parse(e);return n.includes(a)||!!a&&"object"===o(a)}catch(l){}return!1};var r=a(n(65571)),i=a(n(84808));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var s={allow_primitives:!1};e.exports=t.default,e.exports.default=t.default},74979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(e);var t=e.split("."),n=t.length;if(n>3||n<2)return!1;return t.reduce((function(e,t){return e&&(0,i.default)(t,{urlSafe:!0})}),!0)};var r=a(n(65571)),i=a(n(2689));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},90478:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),t=(0,i.default)(t,c),!e.includes(","))return!1;var n=e.split(",");if(n[0].startsWith("(")&&!n[1].endsWith(")")||n[1].endsWith(")")&&!n[0].startsWith("("))return!1;if(t.checkDMS)return l.test(n[0])&&u.test(n[1]);return o.test(n[0])&&s.test(n[1])};var r=a(n(65571)),i=a(n(84808));function a(e){return e&&e.__esModule?e:{default:e}}var o=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,s=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/,l=/^(([1-8]?\d)\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|90\D+0\D+0)\D+[NSns]?$/i,u=/^\s*([1-7]?\d{1,2}\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|180\D+0\D+0)\D+[EWew]?$/i,c={checkDMS:!1};e.exports=t.default,e.exports.default=t.default},20661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r;(0,i.default)(e),"object"===a(t)?(n=t.min||0,r=t.max):(n=arguments[1]||0,r=arguments[2]);var o=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],s=e.length-o.length;return s>=n&&("undefined"===typeof r||s<=r)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}e.exports=t.default,e.exports.default=t.default},82786:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t in a)return a[t](e);if("any"===t){for(var n in a){if((0,a[n])(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a={"cs-CZ":function(e){return/^(([ABCDEFHKIJKLMNPRSTUVXYZ]|[0-9])-?){5,8}$/.test(e)},"de-DE":function(e){return/^((AW|UL|AK|GA|A\xd6|LF|AZ|AM|AS|ZE|AN|AB|A|KG|KH|BA|EW|BZ|HY|KM|BT|HP|B|BC|BI|BO|FN|TT|\xdcB|BN|AH|BS|FR|HB|ZZ|BB|BK|B\xd6|OC|OK|CW|CE|C|CO|LH|CB|KW|LC|LN|DA|DI|DE|DH|SY|N\xd6|DO|DD|DU|DN|D|EI|EA|EE|FI|EM|EL|EN|PF|ED|EF|ER|AU|ZP|E|ES|NT|EU|FL|FO|FT|FF|F|FS|FD|F\xdc|GE|G|GI|GF|GS|ZR|GG|GP|GR|NY|ZI|G\xd6|GZ|GT|HA|HH|HM|HU|WL|HZ|WR|RN|HK|HD|HN|HS|GK|HE|HF|RZ|HI|HG|HO|HX|IK|IL|IN|J|JL|KL|KA|KS|KF|KE|KI|KT|KO|KN|KR|KC|KU|K|LD|LL|LA|L|OP|LM|LI|LB|LU|L\xd6|HL|LG|MD|GN|MZ|MA|ML|MR|MY|AT|DM|MC|NZ|RM|RG|MM|ME|MB|MI|FG|DL|HC|MW|RL|MK|MG|M\xdc|WS|MH|M|MS|NU|NB|ND|NM|NK|NW|NR|NI|NF|DZ|EB|OZ|TG|TO|N|OA|GM|OB|CA|EH|FW|OF|OL|OE|OG|BH|LR|OS|AA|GD|OH|KY|NP|WK|PB|PA|PE|PI|PS|P|PM|PR|RA|RV|RE|R|H|SB|WN|RS|RD|RT|BM|NE|GV|RP|SU|GL|RO|G\xdc|RH|EG|RW|PN|SK|MQ|RU|SZ|RI|SL|SM|SC|HR|FZ|VS|SW|SN|CR|SE|SI|SO|LP|SG|NH|SP|IZ|ST|BF|TE|HV|OD|SR|S|AC|DW|ZW|TF|TS|TR|T\xdc|UM|PZ|TP|UE|UN|UH|MN|KK|VB|V|AE|PL|RC|VG|GW|PW|VR|VK|KB|WA|WT|BE|WM|WE|AP|MO|WW|FB|WZ|WI|WB|JE|WF|WO|W|W\xdc|BL|Z|GC)[- ]?[A-Z]{1,2}[- ]?\d{1,4}|(AIC|FDB|ABG|SLN|SAW|KLZ|BUL|ESB|NAB|SUL|WST|ABI|AZE|BTF|K\xd6T|DKB|FEU|ROT|ALZ|SM\xdc|WER|AUR|NOR|D\xdcW|BRK|HAB|T\xd6L|WOR|BAD|BAR|BER|BIW|EBS|KEM|M\xdcB|PEG|BGL|BGD|REI|WIL|BKS|BIR|WAT|BOR|BOH|BOT|BRB|BLK|HHM|NEB|NMB|WSF|LEO|HDL|WMS|WZL|B\xdcS|CHA|K\xd6Z|ROD|W\xdcM|CLP|NEC|COC|ZEL|COE|CUX|DAH|LDS|DEG|DEL|RSL|DLG|DGF|LAN|HEI|MED|DON|KIB|ROK|J\xdcL|MON|SLE|EBE|EIC|HIG|WBS|BIT|PR\xdc|LIB|EMD|WIT|ERH|H\xd6S|ERZ|ANA|ASZ|MAB|MEK|STL|SZB|FDS|HCH|HOR|WOL|FRG|GRA|WOS|FRI|FFB|GAP|GER|BRL|CLZ|GTH|NOH|HGW|GRZ|L\xd6B|NOL|WSW|DUD|HM\xdc|OHA|KRU|HAL|HAM|HBS|QLB|HVL|NAU|HAS|EBN|GEO|HOH|HDH|ERK|HER|WAN|HEF|ROF|HBN|ALF|HSK|USI|NAI|REH|SAN|K\xdcN|\xd6HR|HOL|WAR|ARN|BRG|GNT|HOG|WOH|KEH|MAI|PAR|RID|ROL|KLE|GEL|KUS|KYF|ART|SDH|LDK|DIL|MAL|VIB|LER|BNA|GHA|GRM|MTL|WUR|LEV|LIF|STE|WEL|LIP|VAI|LUP|HGN|LBZ|LWL|PCH|STB|DAN|MKK|SL\xdc|MSP|TBB|MGH|MTK|BIN|MSH|EIL|HET|SGH|BID|MYK|MSE|MST|M\xdcR|WRN|MEI|GRH|RIE|MZG|MIL|OBB|BED|FL\xd6|MOL|FRW|SEE|SRB|AIB|MOS|BCH|ILL|SOB|NMS|NEA|SEF|UFF|NEW|VOH|NDH|TDO|NWM|GDB|GVM|WIS|NOM|EIN|GAN|LAU|HEB|OHV|OSL|SFB|ERB|LOS|BSK|KEL|BSB|MEL|WTL|OAL|F\xdcS|MOD|OHZ|OPR|B\xdcR|PAF|PL\xd6|CAS|GLA|REG|VIT|ECK|SIM|GOA|EMS|DIZ|GOH|R\xdcD|SWA|NES|K\xd6N|MET|LRO|B\xdcZ|DBR|ROS|TET|HRO|ROW|BRV|HIP|PAN|GRI|SHK|EIS|SRO|SOK|LBS|SCZ|MER|QFT|SLF|SLS|HOM|SLK|ASL|BBG|SBK|SFT|SHG|MGN|MEG|ZIG|SAD|NEN|OVI|SHA|BLB|SIG|SON|SPN|FOR|GUB|SPB|IGB|WND|STD|STA|SDL|OBG|HST|BOG|SHL|PIR|FTL|SEB|S\xd6M|S\xdcW|TIR|SAB|TUT|ANG|SDT|L\xdcN|LSZ|MHL|VEC|VER|VIE|OVL|ANK|OVP|SBG|UEM|UER|WLG|GMN|NVP|RDG|R\xdcG|DAU|FKB|WAF|WAK|SLZ|WEN|SOG|APD|WUG|GUN|ESW|WIZ|WES|DIN|BRA|B\xdcD|WHV|HWI|GHC|WTM|WOB|WUN|MAK|SEL|OCH|HOT|WDA)[- ]?(([A-Z][- ]?\d{1,4})|([A-Z]{2}[- ]?\d{1,3})))[- ]?(E|H)?$/.test(e)},"de-LI":function(e){return/^FL[- ]?\d{1,5}[UZ]?$/.test(e)},"fi-FI":function(e){return/^(?=.{4,7})(([A-Z]{1,3}|[0-9]{1,3})[\s-]?([A-Z]{1,3}|[0-9]{1,5}))$/.test(e)},"pt-PT":function(e){return/^([A-Z]{2}|[0-9]{2})[ -\xb7]?([A-Z]{2}|[0-9]{2})[ -\xb7]?([A-Z]{2}|[0-9]{2})$/.test(e)},"sq-AL":function(e){return/^[A-Z]{2}[- ]?((\d{3}[- ]?(([A-Z]{2})|T))|(R[- ]?\d{3}))$/.test(e)},"pt-BR":function(e){return/^[A-Z]{3}[ -]?[0-9][A-Z][0-9]{2}|[A-Z]{3}[ -]?[0-9]{4}$/.test(e)}};e.exports=t.default,e.exports.default=t.default},67380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),"en_US_POSIX"===e||"ca_ES_VALENCIA"===e)return!0;return a.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^[A-Za-z]{2,4}([_-]([A-Za-z]{4}|[\d]{3}))?([_-]([A-Za-z]{2}|[\d]{3}))?$/;e.exports=t.default,e.exports.default=t.default},43928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e===e.toLowerCase()};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},28999:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t&&(t.no_colons||t.no_separators))return o.test(e);return a.test(e)||s.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){4}([0-9a-fA-F]{2})$/,o=/^([0-9a-fA-F]){12}$/,s=/^([0-9a-fA-F]{4}\.){2}([0-9a-fA-F]{4})$/;e.exports=t.default,e.exports.default=t.default},90368:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^[a-f0-9]{32}$/;e.exports=t.default,e.exports.default=t.default},72776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.test(e.trim())};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^magnet:\?xt(?:\.1)?=urn:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?($|&)/i;e.exports=t.default,e.exports.default=t.default},44554:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.test(e)||o.test(e)||s.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+]{1,100}$/i,o=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,s=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;e.exports=t.default,e.exports.default=t.default},28355:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if((0,i.default)(e),n&&n.strictMode&&!e.startsWith("+"))return!1;if(Array.isArray(t))return t.some((function(t){if(a.hasOwnProperty(t)&&a[t].test(e))return!0;return!1}));if(t in a)return a[t].test(e);if(!t||"any"===t){for(var r in a){if(a.hasOwnProperty(r))if(a[r].test(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a={"am-AM":/^(\+?374|0)((10|[9|7][0-9])\d{6}$|[2-4]\d{7}$)/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?(9[1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)[1|3])([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|91|9[3-9])\d{7}$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}))/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(5|79)\d{7}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[2-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+244)\d{9}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/};a["en-CA"]=a["en-US"],a["fr-CA"]=a["en-CA"],a["fr-BE"]=a["nl-BE"],a["zh-HK"]=a["en-HK"],a["zh-MO"]=a["en-MO"],a["ga-IE"]=a["en-IE"],a["fr-CH"]=a["de-CH"],a["it-CH"]=a["fr-CH"];var o=Object.keys(a);t.locales=o},19131:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),(0,i.default)(e)&&24===e.length};var r=a(n(65571)),i=a(n(77117));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},13590:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/[^\x00-\x7F]/;e.exports=t.default,e.exports.default=t.default},24986:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t&&t.no_symbols)return o.test(e);return new RegExp("^[+-]?([0-9]*[".concat((t||{}).locale?a.decimal[t.locale]:".","])?[0-9]+$")).test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r},a=n(60079);var o=/^[0-9]+$/;e.exports=t.default,e.exports.default=t.default},66090:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^(0o)?[0-7]+$/i;e.exports=t.default,e.exports.default=t.default},51513:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var n=e.replace(/\s/g,"").toUpperCase();return t.toUpperCase()in a&&a[t].test(n)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a={AM:/^[A-Z]{2}\d{7}$/,AR:/^[A-Z]{3}\d{6}$/,AT:/^[A-Z]\d{7}$/,AU:/^[A-Z]\d{7}$/,BE:/^[A-Z]{2}\d{6}$/,BG:/^\d{9}$/,BR:/^[A-Z]{2}\d{6}$/,BY:/^[A-Z]{2}\d{7}$/,CA:/^[A-Z]{2}\d{6}$/,CH:/^[A-Z]\d{7}$/,CN:/^G\d{8}$|^E(?![IO])[A-Z0-9]\d{7}$/,CY:/^[A-Z](\d{6}|\d{8})$/,CZ:/^\d{8}$/,DE:/^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,DK:/^\d{9}$/,DZ:/^\d{9}$/,EE:/^([A-Z]\d{7}|[A-Z]{2}\d{7})$/,ES:/^[A-Z0-9]{2}([A-Z0-9]?)\d{6}$/,FI:/^[A-Z]{2}\d{7}$/,FR:/^\d{2}[A-Z]{2}\d{5}$/,GB:/^\d{9}$/,GR:/^[A-Z]{2}\d{7}$/,HR:/^\d{9}$/,HU:/^[A-Z]{2}(\d{6}|\d{7})$/,IE:/^[A-Z0-9]{2}\d{7}$/,IN:/^[A-Z]{1}-?\d{7}$/,ID:/^[A-C]\d{7}$/,IR:/^[A-Z]\d{8}$/,IS:/^(A)\d{7}$/,IT:/^[A-Z0-9]{2}\d{7}$/,JP:/^[A-Z]{2}\d{7}$/,KR:/^[MS]\d{8}$/,LT:/^[A-Z0-9]{8}$/,LU:/^[A-Z0-9]{8}$/,LV:/^[A-Z0-9]{2}\d{7}$/,LY:/^[A-Z0-9]{8}$/,MT:/^\d{7}$/,MZ:/^([A-Z]{2}\d{7})|(\d{2}[A-Z]{2}\d{5})$/,MY:/^[AHK]\d{8}$/,NL:/^[A-Z]{2}[A-Z0-9]{6}\d$/,PL:/^[A-Z]{2}\d{7}$/,PT:/^[A-Z]\d{6}$/,RO:/^\d{8,9}$/,RU:/^\d{9}$/,SE:/^\d{8}$/,SL:/^(P)[A-Z]\d{7}$/,SK:/^[0-9A-Z]\d{7}$/,TR:/^[A-Z]\d{8}$/,UA:/^[A-Z]{2}\d{6}$/,US:/^\d{9}$/};e.exports=t.default,e.exports.default=t.default},24595:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e,{min:0,max:65535})};var r,i=(r=n(20937))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},78140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t in l)return l[t].test(e);if("any"===t){for(var n in l){if(l.hasOwnProperty(n))if(l[n].test(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^\d{4}$/,o=/^\d{5}$/,s=/^\d{6}$/,l={AD:/^AD\d{3}$/,AT:a,AU:a,AZ:/^AZ\d{4}$/,BE:a,BG:a,BR:/^\d{5}-\d{3}$/,BY:/2[1-4]{1}\d{4}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:a,CN:/^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\d{4}$/,CZ:/^\d{3}\s?\d{2}$/,DE:o,DK:a,DO:o,DZ:o,EE:o,ES:/^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,FI:o,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HT:/^HT\d{4}$/,HU:a,ID:o,IE:/^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,IL:/^(\d{5}|\d{7})$/,IN:/^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,IR:/\b(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}\b/,IS:/^\d{3}$/,IT:o,JP:/^\d{3}\-\d{4}$/,KE:o,KR:/^(\d{5}|\d{6})$/,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:a,LV:/^LV\-\d{4}$/,LK:o,MX:o,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,MY:o,NL:/^\d{4}\s?[a-z]{2}$/i,NO:a,NP:/^(10|21|22|32|33|34|44|45|56|57)\d{3}$|^(977)$/i,NZ:a,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:s,RU:s,SA:o,SE:/^[1-9]\d{2}\s?\d{2}$/,SG:s,SI:a,SK:/^\d{3}\s?\d{2}$/,TH:o,TN:a,TW:/^\d{3}(\d{2})?$/,UA:o,US:/^\d{5}(-\d{4})?$/,ZA:a,ZM:o},u=Object.keys(l);t.locales=u},94611:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),f.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/([01][0-9]|2[0-3])/,o=/[0-5][0-9]/,s=new RegExp("[-+]".concat(a.source,":").concat(o.source)),l=new RegExp("([zZ]|".concat(s.source,")")),u=new RegExp("".concat(a.source,":").concat(o.source,":").concat(/([0-5][0-9]|60)/.source).concat(/(\.[0-9]+)?/.source)),c=new RegExp("".concat(/[0-9]{4}/.source,"-").concat(/(0[1-9]|1[0-2])/.source,"-").concat(/([12]\d|0[1-9]|3[01])/.source)),d=new RegExp("".concat(u.source).concat(l.source)),f=new RegExp("^".concat(c.source,"[ tT]").concat(d.source,"$"));e.exports=t.default,e.exports.default=t.default},6454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((0,i.default)(e),!t)return a.test(e)||o.test(e);return a.test(e)||o.test(e)||s.test(e)||l.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^rgb\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\)$/,o=/^rgba\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/,s=/^rgb\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\)/,l=/^rgba\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)/;e.exports=t.default,e.exports.default=t.default},86826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),a.test(e)};var r=i(n(65571));function i(e){return e&&e.__esModule?e:{default:e}}var a=(0,i(n(24731)).default)(["^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)","(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))","?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$"],"i");e.exports=t.default,e.exports.default=t.default},68220:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/;e.exports=t.default,e.exports.default=t.default},17633:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,i.default)(e);var n=d(e);if((t=(0,r.default)(t||{},c)).returnScore)return f(n,t);return n.length>=t.minLength&&n.lowercaseCount>=t.minLowercase&&n.uppercaseCount>=t.minUppercase&&n.numberCount>=t.minNumbers&&n.symbolCount>=t.minSymbols};var r=a(n(84808)),i=a(n(65571));function a(e){return e&&e.__esModule?e:{default:e}}var o=/^[A-Z]$/,s=/^[a-z]$/,l=/^[0-9]$/,u=/^[-#!$@%^&*()_+|~=`{}\[\]:";'<>?,.\/ ]$/,c={minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1,returnScore:!1,pointsPerUnique:1,pointsPerRepeat:.5,pointsForContainingLower:10,pointsForContainingUpper:10,pointsForContainingNumber:10,pointsForContainingSymbol:10};function d(e){var t,n,r=(t=e,n={},Array.from(t).forEach((function(e){n[e]?n[e]+=1:n[e]=1})),n),i={length:e.length,uniqueChars:Object.keys(r).length,uppercaseCount:0,lowercaseCount:0,numberCount:0,symbolCount:0};return Object.keys(r).forEach((function(e){o.test(e)?i.uppercaseCount+=r[e]:s.test(e)?i.lowercaseCount+=r[e]:l.test(e)?i.numberCount+=r[e]:u.test(e)&&(i.symbolCount+=r[e])})),i}function f(e,t){var n=0;return n+=e.uniqueChars*t.pointsPerUnique,n+=(e.length-e.uniqueChars)*t.pointsPerRepeat,e.lowercaseCount>0&&(n+=t.pointsForContainingLower),e.uppercaseCount>0&&(n+=t.pointsForContainingUpper),e.numberCount>0&&(n+=t.pointsForContainingNumber),e.symbolCount>0&&(n+=t.pointsForContainingSymbol),n}e.exports=t.default,e.exports.default=t.default},72828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;e.exports=t.default,e.exports.default=t.default},53058:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";(0,i.default)(e);var n=e.slice(0);if(t in p)return t in g&&(n=n.replace(g[t],"")),!!p[t].test(n)&&(!(t in h)||h[t](n));throw new Error("Invalid locale '".concat(t,"'"))};var i=l(n(65571)),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(83672)),o=l(n(82549));function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d={andover:["10","12"],atlanta:["60","67"],austin:["50","53"],brookhaven:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],cincinnati:["30","32","35","36","37","38","61"],fresno:["15","24"],internet:["20","26","27","45","46","47"],kansas:["40","44"],memphis:["94","95"],ogden:["80","90"],philadelphia:["33","39","41","42","43","46","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],sba:["31"]};function f(e){for(var t=!1,n=!1,r=0;r<3;r++)if(!t&&/[AEIOU]/.test(e[r]))t=!0;else if(!n&&t&&"X"===e[r])n=!0;else if(r>0){if(t&&!n&&!/[AEIOU]/.test(e[r]))return!1;if(n&&!/X/.test(e[r]))return!1}return!0}var p={"bg-BG":/^\d{10}$/,"cs-CZ":/^\d{6}\/{0,1}\d{3,4}$/,"de-AT":/^\d{9}$/,"de-DE":/^[1-9]\d{10}$/,"dk-DK":/^\d{6}-{0,1}\d{4}$/,"el-CY":/^[09]\d{7}[A-Z]$/,"el-GR":/^([0-4]|[7-9])\d{8}$/,"en-GB":/^\d{10}$|^(?!GB|NK|TN|ZZ)(?![DFIQUV])[A-Z](?![DFIQUVO])[A-Z]\d{6}[ABCD ]$/i,"en-IE":/^\d{7}[A-W][A-IW]{0,1}$/i,"en-US":/^\d{2}[- ]{0,1}\d{7}$/,"es-ES":/^(\d{0,8}|[XYZKLM]\d{7})[A-HJ-NP-TV-Z]$/i,"et-EE":/^[1-6]\d{6}(00[1-9]|0[1-9][0-9]|[1-6][0-9]{2}|70[0-9]|710)\d$/,"fi-FI":/^\d{6}[-+A]\d{3}[0-9A-FHJ-NPR-Y]$/i,"fr-BE":/^\d{11}$/,"fr-FR":/^[0-3]\d{12}$|^[0-3]\d\s\d{2}(\s\d{3}){3}$/,"fr-LU":/^\d{13}$/,"hr-HR":/^\d{11}$/,"hu-HU":/^8\d{9}$/,"it-IT":/^[A-Z]{6}[L-NP-V0-9]{2}[A-EHLMPRST][L-NP-V0-9]{2}[A-ILMZ][L-NP-V0-9]{3}[A-Z]$/i,"lv-LV":/^\d{6}-{0,1}\d{5}$/,"mt-MT":/^\d{3,7}[APMGLHBZ]$|^([1-8])\1\d{7}$/i,"nl-NL":/^\d{9}$/,"pl-PL":/^\d{10,11}$/,"pt-BR":/(?:^\d{11}$)|(?:^\d{14}$)/,"pt-PT":/^\d{9}$/,"ro-RO":/^\d{13}$/,"sk-SK":/^\d{6}\/{0,1}\d{3,4}$/,"sl-SI":/^[1-9]\d{7}$/,"sv-SE":/^(\d{6}[-+]{0,1}\d{4}|(18|19|20)\d{6}[-+]{0,1}\d{4})$/};p["lb-LU"]=p["fr-LU"],p["lt-LT"]=p["et-EE"],p["nl-BE"]=p["fr-BE"];var h={"bg-BG":function(e){var t=e.slice(0,2),n=parseInt(e.slice(2,4),10);n>40?(n-=40,t="20".concat(t)):n>20?(n-=20,t="18".concat(t)):t="19".concat(t),n<10&&(n="0".concat(n));var r="".concat(t,"/").concat(n,"/").concat(e.slice(4,6));if(!(0,o.default)(r,"YYYY/MM/DD"))return!1;for(var i=e.split("").map((function(e){return parseInt(e,10)})),a=[2,4,8,5,10,9,7,3,6],s=0,l=0;l<a.length;l++)s+=i[l]*a[l];return(s=s%11===10?0:s%11)===i[9]},"cs-CZ":function(e){e=e.replace(/\W/,"");var t=parseInt(e.slice(0,2),10);if(10===e.length)t=t<54?"20".concat(t):"19".concat(t);else{if("000"===e.slice(6))return!1;if(!(t<54))return!1;t="19".concat(t)}3===t.length&&(t=[t.slice(0,2),"0",t.slice(2)].join(""));var n=parseInt(e.slice(2,4),10);if(n>50&&(n-=50),n>20){if(parseInt(t,10)<2004)return!1;n-=20}n<10&&(n="0".concat(n));var r="".concat(t,"/").concat(n,"/").concat(e.slice(4,6));if(!(0,o.default)(r,"YYYY/MM/DD"))return!1;if(10===e.length&&parseInt(e,10)%11!==0){var i=parseInt(e.slice(0,9),10)%11;if(!(parseInt(t,10)<1986&&10===i))return!1;if(0!==parseInt(e.slice(9),10))return!1}return!0},"de-AT":function(e){return a.luhnCheck(e)},"de-DE":function(e){for(var t=e.split("").map((function(e){return parseInt(e,10)})),n=[],r=0;r<t.length-1;r++){n.push("");for(var i=0;i<t.length-1;i++)t[r]===t[i]&&(n[r]+=i)}if(2!==(n=n.filter((function(e){return e.length>1}))).length&&3!==n.length)return!1;if(3===n[0].length){for(var o=n[0].split("").map((function(e){return parseInt(e,10)})),s=0,l=0;l<o.length-1;l++)o[l]+1===o[l+1]&&(s+=1);if(2===s)return!1}return a.iso7064Check(e)},"dk-DK":function(e){e=e.replace(/\W/,"");var t=parseInt(e.slice(4,6),10);switch(e.slice(6,7)){case"0":case"1":case"2":case"3":t="19".concat(t);break;case"4":case"9":t=t<37?"20".concat(t):"19".concat(t);break;default:if(t<37)t="20".concat(t);else{if(!(t>58))return!1;t="18".concat(t)}}3===t.length&&(t=[t.slice(0,2),"0",t.slice(2)].join(""));var n="".concat(t,"/").concat(e.slice(2,4),"/").concat(e.slice(0,2));if(!(0,o.default)(n,"YYYY/MM/DD"))return!1;for(var r=e.split("").map((function(e){return parseInt(e,10)})),i=0,a=4,s=0;s<9;s++)i+=r[s]*a,1===(a-=1)&&(a=7);return 1!==(i%=11)&&(0===i?0===r[9]:r[9]===11-i)},"el-CY":function(e){for(var t=e.slice(0,8).split("").map((function(e){return parseInt(e,10)})),n=0,r=1;r<t.length;r+=2)n+=t[r];for(var i=0;i<t.length;i+=2)t[i]<2?n+=1-t[i]:(n+=2*(t[i]-2)+5,t[i]>4&&(n+=2));return String.fromCharCode(n%26+65)===e.charAt(8)},"el-GR":function(e){for(var t=e.split("").map((function(e){return parseInt(e,10)})),n=0,r=0;r<8;r++)n+=t[r]*Math.pow(2,8-r);return n%11%10===t[8]},"en-IE":function(e){var t=a.reverseMultiplyAndSum(e.split("").slice(0,7).map((function(e){return parseInt(e,10)})),8);return 9===e.length&&"W"!==e[8]&&(t+=9*(e[8].charCodeAt(0)-64)),0===(t%=23)?"W"===e[7].toUpperCase():e[7].toUpperCase()===String.fromCharCode(64+t)},"en-US":function(e){return-1!==function(){var e=[];for(var t in d)d.hasOwnProperty(t)&&e.push.apply(e,u(d[t]));return e}().indexOf(e.substr(0,2))},"es-ES":function(e){var t=e.toUpperCase().split("");if(isNaN(parseInt(t[0],10))&&t.length>1){var n=0;switch(t[0]){case"Y":n=1;break;case"Z":n=2}t.splice(0,1,n)}else for(;t.length<9;)t.unshift(0);t=t.join("");var r=parseInt(t.slice(0,8),10)%23;return t[8]===["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][r]},"et-EE":function(e){var t=e.slice(1,3);switch(e.slice(0,1)){case"1":case"2":t="18".concat(t);break;case"3":case"4":t="19".concat(t);break;default:t="20".concat(t)}var n="".concat(t,"/").concat(e.slice(3,5),"/").concat(e.slice(5,7));if(!(0,o.default)(n,"YYYY/MM/DD"))return!1;for(var r=e.split("").map((function(e){return parseInt(e,10)})),i=0,a=1,s=0;s<10;s++)i+=r[s]*a,10===(a+=1)&&(a=1);if(i%11===10){i=0,a=3;for(var l=0;l<10;l++)i+=r[l]*a,10===(a+=1)&&(a=1);if(i%11===10)return 0===r[10]}return i%11===r[10]},"fi-FI":function(e){var t=e.slice(4,6);switch(e.slice(6,7)){case"+":t="18".concat(t);break;case"-":t="19".concat(t);break;default:t="20".concat(t)}var n="".concat(t,"/").concat(e.slice(2,4),"/").concat(e.slice(0,2));if(!(0,o.default)(n,"YYYY/MM/DD"))return!1;var r=parseInt(e.slice(0,6)+e.slice(7,10),10)%31;return r<10?r===parseInt(e.slice(10),10):["A","B","C","D","E","F","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y"][r-=10]===e.slice(10)},"fr-BE":function(e){if("00"!==e.slice(2,4)||"00"!==e.slice(4,6)){var t="".concat(e.slice(0,2),"/").concat(e.slice(2,4),"/").concat(e.slice(4,6));if(!(0,o.default)(t,"YY/MM/DD"))return!1}var n=97-parseInt(e.slice(0,9),10)%97,r=parseInt(e.slice(9,11),10);return n===r||(n=97-parseInt("2".concat(e.slice(0,9)),10)%97)===r},"fr-FR":function(e){return e=e.replace(/\s/g,""),parseInt(e.slice(0,10),10)%511===parseInt(e.slice(10,13),10)},"fr-LU":function(e){var t="".concat(e.slice(0,4),"/").concat(e.slice(4,6),"/").concat(e.slice(6,8));return!!(0,o.default)(t,"YYYY/MM/DD")&&(!!a.luhnCheck(e.slice(0,12))&&a.verhoeffCheck("".concat(e.slice(0,11)).concat(e[12])))},"hr-HR":function(e){return a.iso7064Check(e)},"hu-HU":function(e){for(var t=e.split("").map((function(e){return parseInt(e,10)})),n=8,r=1;r<9;r++)n+=t[r]*(r+1);return n%11===t[9]},"it-IT":function(e){var t=e.toUpperCase().split("");if(!f(t.slice(0,3)))return!1;if(!f(t.slice(3,6)))return!1;for(var n={L:"0",M:"1",N:"2",P:"3",Q:"4",R:"5",S:"6",T:"7",U:"8",V:"9"},r=0,i=[6,7,9,10,12,13,14];r<i.length;r++){var a=i[r];t[a]in n&&t.splice(a,1,n[t[a]])}var s={A:"01",B:"02",C:"03",D:"04",E:"05",H:"06",L:"07",M:"08",P:"09",R:"10",S:"11",T:"12"}[t[8]],l=parseInt(t[9]+t[10],10);l>40&&(l-=40),l<10&&(l="0".concat(l));var u="".concat(t[6]).concat(t[7],"/").concat(s,"/").concat(l);if(!(0,o.default)(u,"YY/MM/DD"))return!1;for(var c=0,d=1;d<t.length-1;d+=2){var p=parseInt(t[d],10);isNaN(p)&&(p=t[d].charCodeAt(0)-65),c+=p}for(var h={A:1,B:0,C:5,D:7,E:9,F:13,G:15,H:17,I:19,J:21,K:2,L:4,M:18,N:20,O:11,P:3,Q:6,R:8,S:12,T:14,U:16,V:10,W:22,X:25,Y:24,Z:23,0:1,1:0},m=0;m<t.length-1;m+=2){var g=0;if(t[m]in h)g=h[t[m]];else{var v=parseInt(t[m],10);g=2*v+1,v>4&&(g+=2)}c+=g}return String.fromCharCode(65+c%26)===t[15]},"lv-LV":function(e){var t=(e=e.replace(/\W/,"")).slice(0,2);if("32"!==t){if("00"!==e.slice(2,4)){var n=e.slice(4,6);switch(e[6]){case"0":n="18".concat(n);break;case"1":n="19".concat(n);break;default:n="20".concat(n)}var r="".concat(n,"/").concat(e.slice(2,4),"/").concat(t);if(!(0,o.default)(r,"YYYY/MM/DD"))return!1}for(var i=1101,a=[1,6,3,7,9,10,5,8,4,2],s=0;s<e.length-1;s++)i-=parseInt(e[s],10)*a[s];return parseInt(e[10],10)===i%11}return!0},"mt-MT":function(e){if(9!==e.length){for(var t=e.toUpperCase().split("");t.length<8;)t.unshift(0);switch(e[7]){case"A":case"P":if(0===parseInt(t[6],10))return!1;break;default:var n=parseInt(t.join("").slice(0,5),10);if(n>32e3)return!1;if(n===parseInt(t.join("").slice(5,7),10))return!1}}return!0},"nl-NL":function(e){return a.reverseMultiplyAndSum(e.split("").slice(0,8).map((function(e){return parseInt(e,10)})),9)%11===parseInt(e[8],10)},"pl-PL":function(e){if(10===e.length){for(var t=[6,5,7,2,3,4,5,6,7],n=0,r=0;r<t.length;r++)n+=parseInt(e[r],10)*t[r];return 10!==(n%=11)&&n===parseInt(e[9],10)}var i=e.slice(0,2),a=parseInt(e.slice(2,4),10);a>80?(i="18".concat(i),a-=80):a>60?(i="22".concat(i),a-=60):a>40?(i="21".concat(i),a-=40):a>20?(i="20".concat(i),a-=20):i="19".concat(i),a<10&&(a="0".concat(a));var s="".concat(i,"/").concat(a,"/").concat(e.slice(4,6));if(!(0,o.default)(s,"YYYY/MM/DD"))return!1;for(var l=0,u=1,c=0;c<e.length-1;c++)l+=parseInt(e[c],10)*u%10,(u+=2)>10?u=1:5===u&&(u+=2);return(l=10-l%10)===parseInt(e[10],10)},"pt-BR":function(e){if(11===e.length){var t,n;if(t=0,"11111111111"===e||"22222222222"===e||"33333333333"===e||"44444444444"===e||"55555555555"===e||"66666666666"===e||"77777777777"===e||"88888888888"===e||"99999999999"===e||"00000000000"===e)return!1;for(var r=1;r<=9;r++)t+=parseInt(e.substring(r-1,r),10)*(11-r);if(10===(n=10*t%11)&&(n=0),n!==parseInt(e.substring(9,10),10))return!1;t=0;for(var i=1;i<=10;i++)t+=parseInt(e.substring(i-1,i),10)*(12-i);return 10===(n=10*t%11)&&(n=0),n===parseInt(e.substring(10,11),10)}if("00000000000000"===e||"11111111111111"===e||"22222222222222"===e||"33333333333333"===e||"44444444444444"===e||"55555555555555"===e||"66666666666666"===e||"77777777777777"===e||"88888888888888"===e||"99999999999999"===e)return!1;for(var a=e.length-2,o=e.substring(0,a),s=e.substring(a),l=0,u=a-7,c=a;c>=1;c--)l+=o.charAt(a-c)*u,(u-=1)<2&&(u=9);var d=l%11<2?0:11-l%11;if(d!==parseInt(s.charAt(0),10))return!1;a+=1,o=e.substring(0,a),l=0,u=a-7;for(var f=a;f>=1;f--)l+=o.charAt(a-f)*u,(u-=1)<2&&(u=9);return(d=l%11<2?0:11-l%11)===parseInt(s.charAt(1),10)},"pt-PT":function(e){var t=11-a.reverseMultiplyAndSum(e.split("").slice(0,8).map((function(e){return parseInt(e,10)})),9)%11;return t>9?0===parseInt(e[8],10):t===parseInt(e[8],10)},"ro-RO":function(e){if("9000"!==e.slice(0,4)){var t=e.slice(1,3);switch(e[0]){case"1":case"2":t="19".concat(t);break;case"3":case"4":t="18".concat(t);break;case"5":case"6":t="20".concat(t)}var n="".concat(t,"/").concat(e.slice(3,5),"/").concat(e.slice(5,7));if(8===n.length){if(!(0,o.default)(n,"YY/MM/DD"))return!1}else if(!(0,o.default)(n,"YYYY/MM/DD"))return!1;for(var r=e.split("").map((function(e){return parseInt(e,10)})),i=[2,7,9,1,4,6,3,5,8,2,7,9],a=0,s=0;s<i.length;s++)a+=r[s]*i[s];return a%11===10?1===r[12]:r[12]===a%11}return!0},"sk-SK":function(e){if(9===e.length){if("000"===(e=e.replace(/\W/,"")).slice(6))return!1;var t=parseInt(e.slice(0,2),10);if(t>53)return!1;t=t<10?"190".concat(t):"19".concat(t);var n=parseInt(e.slice(2,4),10);n>50&&(n-=50),n<10&&(n="0".concat(n));var r="".concat(t,"/").concat(n,"/").concat(e.slice(4,6));if(!(0,o.default)(r,"YYYY/MM/DD"))return!1}return!0},"sl-SI":function(e){var t=11-a.reverseMultiplyAndSum(e.split("").slice(0,7).map((function(e){return parseInt(e,10)})),8)%11;return 10===t?0===parseInt(e[7],10):t===parseInt(e[7],10)},"sv-SE":function(e){var t=e.slice(0);e.length>11&&(t=t.slice(2));var n="",r=t.slice(2,4),i=parseInt(t.slice(4,6),10);if(e.length>11)n=e.slice(0,4);else if(n=e.slice(0,2),11===e.length&&i<60){var s=(new Date).getFullYear().toString(),l=parseInt(s.slice(0,2),10);if(s=parseInt(s,10),"-"===e[6])n=parseInt("".concat(l).concat(n),10)>s?"".concat(l-1).concat(n):"".concat(l).concat(n);else if(n="".concat(l-1).concat(n),s-parseInt(n,10)<100)return!1}i>60&&(i-=60),i<10&&(i="0".concat(i));var u="".concat(n,"/").concat(r,"/").concat(i);if(8===u.length){if(!(0,o.default)(u,"YY/MM/DD"))return!1}else if(!(0,o.default)(u,"YYYY/MM/DD"))return!1;return a.luhnCheck(e.replace(/\W/,""))}};h["lb-LU"]=h["fr-LU"],h["lt-LT"]=h["et-EE"],h["nl-BE"]=h["fr-BE"];var m=/[-\\\/!@#$%\^&\*\(\)\+\=\[\]]+/g,g={"de-AT":m,"de-DE":/[\/\\]/g,"fr-BE":m};g["nl-BE"]=g["fr-BE"],e.exports=t.default,e.exports.default=t.default},2492:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),!e||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;if((t=(0,o.default)(t,u)).validate_length&&e.length>=2083)return!1;if(!t.allow_fragments&&e.includes("#"))return!1;if(!t.allow_query_components&&(e.includes("?")||e.includes("&")))return!1;var n,s,f,p,h,m,g,v;if(g=e.split("#"),e=g.shift(),g=e.split("?"),e=g.shift(),(g=e.split("://")).length>1){if(n=g.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(n))return!1}else{if(t.require_protocol)return!1;if("//"===e.substr(0,2)){if(!t.allow_protocol_relative_urls)return!1;g[0]=e.substr(2)}}if(""===(e=g.join("://")))return!1;if(g=e.split("/"),""===(e=g.shift())&&!t.require_host)return!0;if((g=e.split("@")).length>1){if(t.disallow_auth)return!1;if(""===g[0])return!1;if((s=g.shift()).indexOf(":")>=0&&s.split(":").length>2)return!1;var y=s.split(":"),b=(x=2,function(e){if(Array.isArray(e))return e}(_=y)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(_,x)||function(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(_,x)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=b[0],S=b[1];if(""===w&&""===S)return!1}var _,x;p=g.join("@"),m=null,v=null;var T=p.match(c);T?(f="",v=T[1],m=T[2]||null):(g=p.split(":"),f=g.shift(),g.length&&(m=g.join(":")));if(null!==m&&m.length>0){if(h=parseInt(m,10),!/^[0-9]+$/.test(m)||h<=0||h>65535)return!1}else if(t.require_port)return!1;if(t.host_whitelist)return d(f,t.host_whitelist);if(!(0,a.default)(f)&&!(0,i.default)(f,t)&&(!v||!(0,a.default)(v,6)))return!1;if(f=f||v,t.host_blacklist&&d(f,t.host_blacklist))return!1;return!0};var r=s(n(65571)),i=s(n(10221)),a=s(n(61028)),o=s(n(84808));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},c=/^\[([^\]]+)\](?::([0-9]+))?$/;function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e===r||(i=r,"[object RegExp]"===Object.prototype.toString.call(i)&&r.test(e)))return!0}var i;return!1}e.exports=t.default,e.exports.default=t.default},57278:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var n=a[[void 0,null].includes(t)?"all":t];return!!n&&n.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a={1:/^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,2:/^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};e.exports=t.default,e.exports.default=t.default},57245:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e===e.toUpperCase()};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},55977:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),(0,i.default)(t),t in a)return a[t].test(e);throw new Error("Invalid country code: '".concat(t,"'"))},t.vatMatchers=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var a={GB:/^GB((\d{3} \d{4} ([0-8][0-9]|9[0-6]))|(\d{9} \d{3})|(((GD[0-4])|(HA[5-9]))[0-9]{2}))$/,IT:/^(IT)?[0-9]{11}$/,NL:/^(NL)?[0-9]{9}B[0-9]{2}$/};t.vatMatchers=a},49019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),a.fullWidth.test(e)&&o.halfWidth.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r},a=n(77146),o=n(82941);e.exports=t.default,e.exports.default=t.default},88346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);for(var n=e.length-1;n>=0;n--)if(-1===t.indexOf(e[n]))return!1;return!0};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},14959:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var n=t?new RegExp("^[".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return e.replace(n,"")};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},30661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){(0,i.default)(e),"[object RegExp]"!==Object.prototype.toString.call(t)&&(t=new RegExp(t,n));return t.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},2900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=(0,i.default)(t,a);var n=e.split("@"),r=n.pop(),d=[n.join("@"),r];if(d[1]=d[1].toLowerCase(),"gmail.com"===d[1]||"googlemail.com"===d[1]){if(t.gmail_remove_subaddress&&(d[0]=d[0].split("+")[0]),t.gmail_remove_dots&&(d[0]=d[0].replace(/\.+/g,c)),!d[0].length)return!1;(t.all_lowercase||t.gmail_lowercase)&&(d[0]=d[0].toLowerCase()),d[1]=t.gmail_convert_googlemaildotcom?"gmail.com":d[1]}else if(o.indexOf(d[1])>=0){if(t.icloud_remove_subaddress&&(d[0]=d[0].split("+")[0]),!d[0].length)return!1;(t.all_lowercase||t.icloud_lowercase)&&(d[0]=d[0].toLowerCase())}else if(s.indexOf(d[1])>=0){if(t.outlookdotcom_remove_subaddress&&(d[0]=d[0].split("+")[0]),!d[0].length)return!1;(t.all_lowercase||t.outlookdotcom_lowercase)&&(d[0]=d[0].toLowerCase())}else if(l.indexOf(d[1])>=0){if(t.yahoo_remove_subaddress){var f=d[0].split("-");d[0]=f.length>1?f.slice(0,-1).join("-"):f[0]}if(!d[0].length)return!1;(t.all_lowercase||t.yahoo_lowercase)&&(d[0]=d[0].toLowerCase())}else u.indexOf(d[1])>=0?((t.all_lowercase||t.yandex_lowercase)&&(d[0]=d[0].toLowerCase()),d[1]="yandex.ru"):t.all_lowercase&&(d[0]=d[0].toLowerCase());return d.join("@")};var r,i=(r=n(84808))&&r.__esModule?r:{default:r};var a={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},o=["icloud.com","me.com"],s=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],l=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],u=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function c(e){return e.length>1?e:""}e.exports=t.default,e.exports.default=t.default},29778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t){var n=new RegExp("[".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g");return e.replace(n,"")}var r=e.length-1;for(;/\s/.test(e.charAt(r));)r-=1;return e.slice(0,r+1)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},8035:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);var n=t?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,i.default)(e,n)};var r=a(n(65571)),i=a(n(44928));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},557:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t)return"1"===e||/^true$/i.test(e);return"0"!==e&&!/^false$/i.test(e)&&""!==e};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},8469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e=Date.parse(e),isNaN(e)?null:new Date(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},77536:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)?parseFloat(e):NaN};var r,i=(r=n(79146))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},21359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),parseInt(e,t||10)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},24790:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)((0,i.default)(e,t),t)};var r=a(n(29778)),i=a(n(14959));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},94816:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e.replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`").replace(/&amp;/g,"&")};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},83672:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iso7064Check=function(e){for(var t=10,n=0;n<e.length-1;n++)t=(parseInt(e[n],10)+t)%10===0?9:(parseInt(e[n],10)+t)%10*2%11;return(t=1===t?0:11-t)===parseInt(e[10],10)},t.luhnCheck=function(e){for(var t=0,n=!1,r=e.length-1;r>=0;r--){if(n){var i=2*parseInt(e[r],10);t+=i>9?i.toString().split("").map((function(e){return parseInt(e,10)})).reduce((function(e,t){return e+t}),0):i}else t+=parseInt(e[r],10);n=!n}return t%10===0},t.reverseMultiplyAndSum=function(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*(t-r);return n},t.verhoeffCheck=function(e){for(var t=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],n=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],r=e.split("").reverse().join(""),i=0,a=0;a<r.length;a++)i=t[i][n[a%8][parseInt(r[a],10)]];return 0===i}},65571:(e,t)=>{"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"===typeof e||e instanceof String)){var t=n(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),new TypeError("Expected a string but received a ".concat(t))}},e.exports=t.default,e.exports.default=t.default},18343:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){return e.some((function(e){return t===e}))};t.default=n,e.exports=t.default,e.exports.default=t.default},84808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var n in t)"undefined"===typeof e[n]&&(e[n]=t[n]);return e},e.exports=t.default,e.exports.default=t.default},24731:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.join("");return new RegExp(n,t)},e.exports=t.default,e.exports.default=t.default},31913:(e,t)=>{"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){"object"===n(e)&&null!==e?e="function"===typeof e.toString?e.toString():"[object Object]":(null===e||"undefined"===typeof e||isNaN(e)&&!e.length)&&(e="");return String(e)},e.exports=t.default,e.exports.default=t.default},34714:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),e.replace(new RegExp("[^".concat(t,"]+"),"g"),"")};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},58525:(e,t,n)=>{"use strict";n.d(t,{Z:()=>sc});var r=n(58908),i=n.n(r),a=n(89144),o=n.n(a);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var l=n(27537),u=n.n(l),c=n(97326),d=n(89611);function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,d.Z)(e,t)}var p=n(75974),h=n.n(p),m=n(9603),g=n.n(m),v=n(13407),y=n.n(v);function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e,t,n){return w=b()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,d.Z)(i,n.prototype),i},w.apply(null,arguments)}var S=n(60136),_=n(49945),x=n.n(_),T="http://example.com";const k=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=i().location&&i().location.href||"");var n="function"===typeof i().URL,r=/^\/\//.test(e),a=!i().location&&!/\/\//i.test(e);if(n?e=new(i().URL)(e,i().location||T):/\/\//i.test(e)||(e=x().buildAbsoluteURL(i().location&&i().location.href||"",e)),n){var o=new URL(t,e);return a?o.href.slice(T.length):r?o.href.slice(o.protocol.length):o.href}return x().buildAbsoluteURL(e,t)};var E=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),a=t.length,o=0;o<a;++o)t[o].apply(this,i)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();function C(e){for(var t,n=(t=e,i().atob?i().atob(t):Buffer.from(t,"base64").toString("binary")),r=new Uint8Array(n.length),a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}var O,P,I,A=function(e){function t(){var t;return(t=e.call(this)||this).buffer="",t}return f(t,e),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(E),D=String.fromCharCode(9),M=function(e){var t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),n},R=function(e){for(var t,n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),r={},i=n.length;i--;)""!==n[i]&&((t=/([^=]*)=(.*)/.exec(n[i]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),r[t[0]]=t[1]);return r},N=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}f(t,e);var n=t.prototype;return n.push=function(e){var t,n,r=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce((function(t,n){var r=n(e);return r===e?t:t.concat([r])}),[e]).forEach((function(e){for(var i=0;i<r.customParsers.length;i++)if(r.customParsers[i].call(r,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void r.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void r.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(e))return n=s(M(t[1]),{type:"tag",tagType:"byterange"}),void r.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var a=R(t[1]);a.URI&&(n.uri=a.URI),a.BYTERANGE&&(n.byterange=M(a.BYTERANGE))}r.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=R(t[1]),n.attributes.RESOLUTION){var o=n.attributes.RESOLUTION.split("x"),l={};o[0]&&(l.width=parseInt(o[0],10)),o[1]&&(l.height=parseInt(o[1],10)),n.attributes.RESOLUTION=l}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}r.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=R(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))r.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))r.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=R(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void r.trigger("data",n);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=R(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if((t=/^#EXT-X-SKIP:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"skip"}).attributes=R(t[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(D)),void r.trigger("data",n);if((t=/^#EXT-X-PART:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"part"}).attributes=R(t[1]),["DURATION"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["INDEPENDENT","GAP"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=M(n.attributes.BYTERANGE)),void r.trigger("data",n);if((t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"server-control"}).attributes=R(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))})),void r.trigger("data",n);if((t=/^#EXT-X-PART-INF:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"part-inf"}).attributes=R(t[1]),["PART-TARGET"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))})),void r.trigger("data",n);if((t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"preload-hint"}).attributes=R(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(e){if(n.attributes.hasOwnProperty(e)){n.attributes[e]=parseInt(n.attributes[e],10);var t="BYTERANGE-LENGTH"===e?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[t]=n.attributes[e],delete n.attributes[e]}})),void r.trigger("data",n);if((t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e))&&t[1])return(n={type:"tag",tagType:"rendition-report"}).attributes=R(t[1]),["LAST-MSN","LAST-PART"].forEach((function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseInt(n.attributes[e],10))})),void r.trigger("data",n);r.trigger("data",{type:"tag",data:e.slice(4)})}}}else r.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uri",uri:e}))},n.addParser=function(e){var t=this,n=e.expression,r=e.customType,i=e.dataParser,a=e.segment;"function"!==typeof i&&(i=function(e){return e}),this.customParsers.push((function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:i(e),customType:r,segment:a}),!0}))},n.addTagMapper=function(e){var t=e.expression,n=e.map;this.tagMappers.push((function(e){return t.test(e)?n(e):e}))},t}(E),L=function(e){var t={};return Object.keys(e).forEach((function(n){var r;t[(r=n,r.toLowerCase().replace(/-(\w)/g,(function(e){return e[1].toUpperCase()})))]=e[n]})),t},j=function(e){var t=e.serverControl,n=e.targetDuration,r=e.partTargetDuration;if(t){var i="#EXT-X-SERVER-CONTROL",a="holdBack",o="partHoldBack",s=n&&3*n,l=r&&2*r;n&&!t.hasOwnProperty(a)&&(t[a]=s,this.trigger("info",{message:i+" defaulting HOLD-BACK to targetDuration * 3 ("+s+")."})),s&&t[a]<s&&(this.trigger("warn",{message:i+" clamping HOLD-BACK ("+t[a]+") to targetDuration * 3 ("+s+")"}),t[a]=s),r&&!t.hasOwnProperty(o)&&(t[o]=3*r,this.trigger("info",{message:i+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+t[o]+")."})),r&&t[o]<l&&(this.trigger("warn",{message:i+" clamping PART-HOLD-BACK ("+t[o]+") to partTargetDuration * 2 ("+l+")."}),t[o]=l)}},B=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new A,t.parseStream=new N,t.lineStream.pipe(t.parseStream);var n,r,i=(0,c.Z)(t),a=[],o={},l=!1,u=function(){},d={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},f=0;t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var p=0,h=0;return t.on("end",(function(){o.uri||!o.parts&&!o.preloadHints||(!o.map&&n&&(o.map=n),!o.key&&r&&(o.key=r),o.timeline||"number"!==typeof f||(o.timeline=f),t.manifest.preloadSegment=o)})),t.parseStream.on("data",(function(e){var t,c;({tag:function(){({version:function(){e.version&&(this.manifest.version=e.version)},"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(o.byterange=t,t.length=e.length,"offset"in e||(e.offset=p)),"offset"in e&&(o.byterange=t,t.offset=e.offset),p=t.offset+t.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(o.duration=e.duration),0===e.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("com.apple.streamingkeydelivery"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:e.attributes});if("com.microsoft.playready"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:e.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:C(e.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},"undefined"!==typeof e.attributes.IV&&(r.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,f=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){n={},e.uri&&(n.uri=e.uri),e.byterange&&(n.byterange=e.byterange),r&&(n.key=r)},"stream-inf":function(){this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||d,e.attributes?(o.attributes||(o.attributes={}),s(o.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||d,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],(c={default:/yes/i.test(e.attributes.DEFAULT)}).default?c.autoselect=!0:c.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(c.language=e.attributes.LANGUAGE),e.attributes.URI&&(c.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(c.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(c.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(c.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=c}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){f+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){"undefined"===typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),o.dateTimeString=e.dateTimeString,o.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):(this.manifest.targetDuration=e.duration,j.call(this,this.manifest))},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){o.cueOut=e.data},"cue-out-cont":function(){o.cueOutCont=e.data},"cue-in":function(){o.cueIn=e.data},skip:function(){this.manifest.skip=L(e.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",e.attributes,["SKIPPED-SEGMENTS"])},part:function(){var t=this;l=!0;var n=this.manifest.segments.length,r=L(e.attributes);o.parts=o.parts||[],o.parts.push(r),r.byterange&&(r.byterange.hasOwnProperty("offset")||(r.byterange.offset=h),h=r.byterange.offset+r.byterange.length);var i=o.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+i+" for segment #"+n,e.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((function(e,n){e.hasOwnProperty("lastPart")||t.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+n+" lacks required attribute(s): LAST-PART"})}))},"server-control":function(){var t=this.manifest.serverControl=L(e.attributes);t.hasOwnProperty("canBlockReload")||(t.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),j.call(this,this.manifest),t.canSkipDateranges&&!t.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var t=this.manifest.segments.length,n=L(e.attributes),r=n.type&&"PART"===n.type;o.preloadHints=o.preloadHints||[],o.preloadHints.push(n),n.byterange&&(n.byterange.hasOwnProperty("offset")||(n.byterange.offset=r?h:0,r&&(h=n.byterange.offset+n.byterange.length)));var i=o.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+i+" for segment #"+t,e.attributes,["TYPE","URI"]),n.type)for(var a=0;a<o.preloadHints.length-1;a++){var s=o.preloadHints[a];s.type&&(s.type===n.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+i+" for segment #"+t+" has the same TYPE "+n.type+" as preload hint #"+a}))}},"rendition-report":function(){var t=L(e.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(t);var n=this.manifest.renditionReports.length-1,r=["LAST-MSN","URI"];l&&r.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+n,e.attributes,r)},"part-inf":function(){this.manifest.partInf=L(e.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",e.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),j.call(this,this.manifest)}}[e.tagType]||u).call(i)},uri:function(){o.uri=e.uri,a.push(o),this.manifest.targetDuration&&!("duration"in o)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),r&&(o.key=r),o.timeline=f,n&&(o.map=n),h=0,o={}},comment:function(){},custom:function(){e.segment?(o.custom=o.custom||{},o.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(i)})),t}f(t,e);var n=t.prototype;return n.warnOnMissingAttributes_=function(e,t,n){var r=[];n.forEach((function(e){t.hasOwnProperty(e)||r.push(e)})),r.length&&this.trigger("warn",{message:e+" lacks required attribute(s): "+r.join(", ")})},n.push=function(e){this.lineStream.push(e)},n.end=function(){this.lineStream.push("\n"),this.trigger("end")},n.addParser=function(e){this.parseStream.addParser(e)},n.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(E),F={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},U=["video","audio","text"],H=["Video","Audio","Text"],z=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):e},V=function(e){void 0===e&&(e="");var t=e.split(","),n=[];return t.forEach((function(e){var t;e=e.trim(),U.forEach((function(r){var i=F[r].exec(e.toLowerCase());if(i&&!(i.length<=1)){t=r;var a=e.substring(0,i[1].length),o=e.replace(a,"");n.push({type:a,details:o,mediaType:r})}})),t||n.push({type:e,details:"",mediaType:"unknown"})})),n},$=function(e){return void 0===e&&(e=""),F.audio.test(e.trim().toLowerCase())},G=function(e){if(e&&"string"===typeof e){var t,n=e.toLowerCase().split(",").map((function(e){return z(e.trim())})),r="video";1===n.length&&$(n[0])?r="audio":1===n.length&&(void 0===(t=n[0])&&(t=""),F.text.test(t.trim().toLowerCase()))&&(r="application");var i="mp4";return n.every((function(e){return F.mp4.test(e)}))?i="mp4":n.every((function(e){return F.webm.test(e)}))?i="webm":n.every((function(e){return F.ogg.test(e)}))&&(i="ogg"),r+"/"+i+';codecs="'+e+'"'}},W=function(e){return void 0===e&&(e=""),i().MediaSource&&i().MediaSource.isTypeSupported&&i().MediaSource.isTypeSupported(G(e))||!1},q=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every((function(e){e=e.trim();for(var t=0;t<H.length;t++){if(F["muxer"+H[t]].test(e))return!0}return!1}))},Z="mp4a.40.2",K=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,X=/^application\/dash\+xml/i,Y=function(e){return K.test(e)?"hls":X.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null},Q=function(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},J=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||Q(e)||e instanceof ArrayBuffer||(e="number"!==typeof e||"number"===typeof e&&e!==e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},ee=i().BigInt||Number,te=[ee("0x1"),ee("0x100"),ee("0x10000"),ee("0x1000000"),ee("0x100000000"),ee("0x10000000000"),ee("0x1000000000000"),ee("0x100000000000000"),ee("0x10000000000000000")],ne=(O=new Uint16Array([65484]),255===(P=new Uint8Array(O.buffer,O.byteOffset,O.byteLength))[0]||P[0],function(e,t){var n=void 0===t?{}:t,r=n.signed,i=void 0!==r&&r,a=n.le,o=void 0!==a&&a;e=J(e);var s=o?"reduce":"reduceRight",l=(e[s]?e[s]:Array.prototype[s]).call(e,(function(t,n,r){var i=o?r:Math.abs(r+1-e.length);return t+ee(n)*te[i]}),ee(0));if(i){var u=te[e.length]/ee(2)-ee(1);(l=ee(l))>u&&(l-=u,l-=u,l-=ee(2))}return Number(l)}),re=function(e,t){var n=(void 0===t?{}:t).le,r=void 0!==n&&n;("bigint"!==typeof e&&"number"!==typeof e||"number"===typeof e&&e!==e)&&(e=0),e=ee(e);for(var i,a=(i=e,Math.ceil(function(e){return e.toString(2).length}(i)/8)),o=new Uint8Array(new ArrayBuffer(a)),s=0;s<a;s++){var l=r?s:Math.abs(s+1-o.length);o[l]=Number(e/te[s]&ee(255)),e<0&&(o[l]=Math.abs(~o[l]),o[l]-=0===s?1:2)}return o},ie=function(e,t){if("string"!==typeof e&&e&&"function"===typeof e.toString&&(e=e.toString()),"string"!==typeof e)return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},ae=function(e,t,n){var r=void 0===n?{}:n,i=r.offset,a=void 0===i?0:i,o=r.mask,s=void 0===o?[]:o;e=J(e);var l=(t=J(t)).every?t.every:Array.prototype.every;return t.length&&e.length-a>=t.length&&l.call(t,(function(t,n){return t===(s[n]?s[n]&e[a+n]:e[a+n])}))},oe=n(3969),se=function(e){return!!e&&"object"===typeof e},le=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(t,n){return"object"!==typeof n||Object.keys(n).forEach((function(r){Array.isArray(t[r])&&Array.isArray(n[r])?t[r]=t[r].concat(n[r]):se(t[r])&&se(n[r])?t[r]=e(t[r],n[r]):t[r]=n[r]})),t}),{})},ue=function(e){return Object.keys(e).map((function(t){return e[t]}))},ce=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},de=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},fe=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},pe="INVALID_NUMBER_OF_PERIOD",he="DASH_EMPTY_MANIFEST",me="DASH_INVALID_XML",ge="NO_BASE_URL",ve="SEGMENT_TIME_UNSPECIFIED",ye="UNSUPPORTED_UTC_TIMING_SCHEME",be=function(e){var t=e.baseUrl,n=void 0===t?"":t,r=e.source,a=void 0===r?"":r,o=e.range,s=void 0===o?"":o,l=e.indexRange,u=void 0===l?"":l,c={uri:a,resolvedUri:k(n||"",a)};if(s||u){var d,f=(s||u).split("-"),p=i().BigInt?i().BigInt(f[0]):parseInt(f[0],10),h=i().BigInt?i().BigInt(f[1]):parseInt(f[1],10);p<Number.MAX_SAFE_INTEGER&&"bigint"===typeof p&&(p=Number(p)),h<Number.MAX_SAFE_INTEGER&&"bigint"===typeof h&&(h=Number(h)),"bigint"===typeof(d="bigint"===typeof h||"bigint"===typeof p?i().BigInt(h)-i().BigInt(p)+i().BigInt(1):h-p+1)&&d<Number.MAX_SAFE_INTEGER&&(d=Number(d)),c.byterange={length:d,offset:p}}return c},we=function(e){return e&&"number"!==typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e},Se={static:function(e){var t=e.duration,n=e.timescale,r=void 0===n?1:n,i=e.sourceDuration,a=e.periodDuration,o=we(e.endNumber),s=t/r;return"number"===typeof o?{start:0,end:o}:"number"===typeof a?{start:0,end:a/s}:{start:0,end:i/s}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,r=e.availabilityStartTime,i=e.timescale,a=void 0===i?1:i,o=e.duration,s=e.periodStart,l=void 0===s?0:s,u=e.minimumUpdatePeriod,c=void 0===u?0:u,d=e.timeShiftBufferDepth,f=void 0===d?1/0:d,p=we(e.endNumber),h=(t+n)/1e3,m=r+l,g=h+c-m,v=Math.ceil(g*a/o),y=Math.floor((h-m-f)*a/o),b=Math.floor((h-m)*a/o);return{start:Math.max(0,y),end:"number"===typeof p?p:Math.min(v,b)}}},_e=function(e){var t=e.type,n=e.duration,r=e.timescale,i=void 0===r?1:r,a=e.periodDuration,o=e.sourceDuration,s=Se[t](e),l=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}(s.start,s.end).map(function(e){return function(t){var n=e.duration,r=e.timescale,i=void 0===r?1:r,a=e.periodStart,o=e.startNumber;return{number:(void 0===o?1:o)+t,duration:n/i,timeline:a,time:t*n}}}(e));if("static"===t){var u=l.length-1,c="number"===typeof a?a:o;l[u].duration=c-n/i*u}return l},xe=function(e){var t=e.baseUrl,n=e.initialization,r=void 0===n?{}:n,i=e.sourceDuration,a=e.indexRange,o=void 0===a?"":a,s=e.periodStart,l=e.presentationTime,u=e.number,c=void 0===u?0:u,d=e.duration;if(!t)throw new Error(ge);var f=be({baseUrl:t,source:r.sourceURL,range:r.range}),p=be({baseUrl:t,source:t,indexRange:o});if(p.map=f,d){var h=_e(e);h.length&&(p.duration=h[0].duration,p.timeline=h[0].timeline)}else i&&(p.duration=i,p.timeline=s);return p.presentationTime=l||s,p.number=c,[p]},Te=function(e,t,n){var r,a=e.sidx.map?e.sidx.map:null,o=e.sidx.duration,s=e.timeline||0,l=e.sidx.byterange,u=l.offset+l.length,c=t.timescale,d=t.references.filter((function(e){return 1!==e.referenceType})),f=[],p=e.endList?"static":"dynamic",h=e.sidx.timeline,m=h,g=e.mediaSequence||0;r="bigint"===typeof t.firstOffset?i().BigInt(u)+t.firstOffset:u+t.firstOffset;for(var v=0;v<d.length;v++){var y=t.references[v],b=y.referencedSize,w=y.subsegmentDuration,S=void 0;S="bigint"===typeof r?r+i().BigInt(b)-i().BigInt(1):r+b-1;var _=xe({baseUrl:n,timescale:c,timeline:s,periodStart:h,presentationTime:m,number:g,duration:w,sourceDuration:o,indexRange:r+"-"+S,type:p})[0];a&&(_.map=a),f.push(_),r+="bigint"===typeof r?i().BigInt(b):b,m+=w/c,g++}return e.segments=f,e},ke=["AUDIO","SUBTITLES"],Ee=function(e){return(t=e,n=function(e){return e.timeline},ue(t.reduce((function(e,t){return t.forEach((function(t){e[n(t)]=t})),e}),{}))).sort((function(e,t){return e.timeline>t.timeline?1:-1}));var t,n},Ce=function(e){var t,n,r=[];return t=e,n=function(e,t,n,i){r=r.concat(e.playlists||[])},ke.forEach((function(e){for(var r in t.mediaGroups[e])for(var i in t.mediaGroups[e][r]){var a=t.mediaGroups[e][r][i];n(a,e,r,i)}})),r},Oe=function(e){var t=e.playlist,n=e.mediaSequence;t.mediaSequence=n,t.segments.forEach((function(e,n){e.number=t.mediaSequence+n}))},Pe=function(e){var t=e.oldManifest,n=e.newManifest,r=t.playlists.concat(Ce(t)),i=n.playlists.concat(Ce(n));return n.timelineStarts=Ee([t.timelineStarts,n.timelineStarts]),function(e){var t=e.oldPlaylists,n=e.newPlaylists,r=e.timelineStarts;n.forEach((function(e){e.discontinuitySequence=fe(r,(function(t){return t.timeline===e.timeline}));var n=function(e,t){for(var n=0;n<e.length;n++)if(e[n].attributes.NAME===t)return e[n];return null}(t,e.attributes.NAME);if(n&&!e.sidx){var i=e.segments[0],a=fe(n.segments,(function(e){return Math.abs(e.presentationTime-i.presentationTime)<.016666666666666666}));if(-1===a)return Oe({playlist:e,mediaSequence:n.mediaSequence+n.segments.length}),e.segments[0].discontinuity=!0,e.discontinuityStarts.unshift(0),void((!n.segments.length&&e.timeline>n.timeline||n.segments.length&&e.timeline>n.segments[n.segments.length-1].timeline)&&e.discontinuitySequence--);n.segments[a].discontinuity&&!i.discontinuity&&(i.discontinuity=!0,e.discontinuityStarts.unshift(0),e.discontinuitySequence--),Oe({playlist:e,mediaSequence:n.segments[a].number})}}))}({oldPlaylists:r,newPlaylists:i,timelineStarts:n.timelineStarts}),n},Ie=function(e){return e&&e.uri+"-"+(t=e.byterange,n="bigint"===typeof t.offset||"bigint"===typeof t.length?i().BigInt(t.offset)+i().BigInt(t.length)-i().BigInt(1):t.offset+t.length-1,t.offset+"-"+n);var t,n},Ae=function(e){return ue(e.reduce((function(e,t){var n=t.attributes.id+(t.attributes.lang||"");if(e[n]){var r;if(t.segments)t.segments[0]&&(t.segments[0].discontinuity=!0),(r=e[n].segments).push.apply(r,t.segments);t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)}else e[n]=t,e[n].attributes.timelineStarts=[];return e[n].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e}),{})).map((function(e){var t,n;return e.discontinuityStarts=(t=e.segments||[],n="discontinuity",t.reduce((function(e,t,r){return t[n]&&e.push(r),e}),[])),e}))},De=function(e,t){var n=Ie(e.sidx),r=n&&t[n]&&t[n].sidx;return r&&Te(e,r,e.sidx.resolvedUri),e},Me=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var n in e)e[n]=De(e[n],t);return e},Re=function(e){var t,n=e.attributes,r=e.segments,i=e.sidx,a=e.discontinuityStarts,o={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===n.type,timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuityStarts:a,timelineStarts:n.timelineStarts,segments:r};return n.contentProtection&&(o.contentProtection=n.contentProtection),i&&(o.sidx=i),o},Ne=function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType},Le=function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType},je=function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType},Be=function(e){return e?Object.keys(e).reduce((function(t,n){var r=e[n];return t.concat(r.playlists)}),[]):[]},Fe=function(e){var t,n=e.dashPlaylists,r=e.locations,i=e.sidxMapping,a=void 0===i?{}:i,o=e.previousManifest;if(!n.length)return{};var s=n[0].attributes,l=s.sourceDuration,u=s.type,c=s.suggestedPresentationDelay,d=s.minimumUpdatePeriod,f=Ae(n.filter(Ne)).map(Re),p=Ae(n.filter(Le)),h=Ae(n.filter(je)),m=n.map((function(e){return e.attributes.captionServices})).filter(Boolean),g={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(t={AUDIO:{},VIDEO:{}},t["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:l,playlists:Me(f,a)};d>=0&&(g.minimumUpdatePeriod=1e3*d),r&&(g.locations=r),"dynamic"===u&&(g.suggestedPresentationDelay=c);var v,y,b=0===g.playlists.length,w=p.length?function(e,t,n){var r;void 0===t&&(t={}),void 0===n&&(n=!1);var i=e.reduce((function(e,i){var a=i.attributes.role&&i.attributes.role.value||"",o=i.attributes.lang||"",s=i.attributes.label||"main";if(o&&!i.attributes.label){var l=a?" ("+a+")":"";s=""+i.attributes.lang+l}e[s]||(e[s]={language:o,autoselect:!0,default:"main"===a,playlists:[],uri:""});var u=De(function(e,t){var n,r=e.attributes,i=e.segments,a=e.sidx,o=e.mediaSequence,s=e.discontinuitySequence,l=e.discontinuityStarts,u={attributes:(n={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},n["PROGRAM-ID"]=1,n),uri:"",endList:"static"===r.type,timeline:r.periodStart,resolvedUri:"",targetDuration:r.duration,discontinuitySequence:s,discontinuityStarts:l,timelineStarts:r.timelineStarts,mediaSequence:o,segments:i};return r.contentProtection&&(u.contentProtection=r.contentProtection),a&&(u.sidx=a),t&&(u.attributes.AUDIO="audio",u.attributes.SUBTITLES="subs"),u}(i,n),t);return e[s].playlists.push(u),"undefined"===typeof r&&"main"===a&&((r=i).default=!0),e}),{});return r||(i[Object.keys(i)[0]].default=!0),i}(p,a,b):null,S=h.length?function(e,t){return void 0===t&&(t={}),e.reduce((function(e,n){var r=n.attributes.lang||"text";return e[r]||(e[r]={language:r,default:!1,autoselect:!1,playlists:[],uri:""}),e[r].playlists.push(De(function(e){var t,n=e.attributes,r=e.segments,i=e.mediaSequence,a=e.discontinuityStarts,o=e.discontinuitySequence;"undefined"===typeof r&&(r=[{uri:n.baseUrl,timeline:n.periodStart,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var s=((t={NAME:n.id,BANDWIDTH:n.bandwidth})["PROGRAM-ID"]=1,t);return n.codecs&&(s.CODECS=n.codecs),{attributes:s,uri:"",endList:"static"===n.type,timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,timelineStarts:n.timelineStarts,discontinuityStarts:a,discontinuitySequence:o,mediaSequence:i,segments:r}}(n),t)),e}),{})}(h,a):null,_=f.concat(Be(w),Be(S)),x=_.map((function(e){return e.timelineStarts}));return g.timelineStarts=Ee(x),v=_,y=g.timelineStarts,v.forEach((function(e){e.mediaSequence=0,e.discontinuitySequence=fe(y,(function(t){return t.timeline===e.timeline})),e.segments&&e.segments.forEach((function(e,t){e.number=t}))})),w&&(g.mediaGroups.AUDIO.audio=w),S&&(g.mediaGroups.SUBTITLES.subs=S),m.length&&(g.mediaGroups["CLOSED-CAPTIONS"].cc=m.reduce((function(e,t){return t?(t.forEach((function(t){var n=t.channel,r=t.language;e[r]={autoselect:!1,default:!1,instreamId:n,language:r},t.hasOwnProperty("aspectRatio")&&(e[r].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[r].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[r]["3D"]=t["3D"])})),e):e}),{})),o?Pe({oldManifest:o,newManifest:g}):g},Ue=function(e,t,n){var r=e.NOW,i=e.clientOffset,a=e.availabilityStartTime,o=e.timescale,s=void 0===o?1:o,l=e.periodStart,u=void 0===l?0:l,c=e.minimumUpdatePeriod,d=(r+i)/1e3+(void 0===c?0:c)-(a+u);return Math.ceil((d*s-t)/n)},He=function(e,t){for(var n=e.type,r=e.minimumUpdatePeriod,i=void 0===r?0:r,a=e.media,o=void 0===a?"":a,s=e.sourceDuration,l=e.timescale,u=void 0===l?1:l,c=e.startNumber,d=void 0===c?1:c,f=e.periodStart,p=[],h=-1,m=0;m<t.length;m++){var g=t[m],v=g.d,y=g.r||0,b=g.t||0;h<0&&(h=b),b&&b>h&&(h=b);var w=void 0;if(y<0){var S=m+1;w=S===t.length?"dynamic"===n&&i>0&&o.indexOf("$Number$")>0?Ue(e,h,v):(s*u-h)/v:(t[S].t-h)/v}else w=y+1;for(var _=d+p.length+w,x=d+p.length;x<_;)p.push({number:x,duration:v/u,time:h,timeline:f}),h+=v,x++}return p},ze=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Ve=function(e,t){return e.replace(ze,function(e){return function(t,n,r,i){if("$$"===t)return"$";if("undefined"===typeof e[n])return t;var a=""+e[n];return"RepresentationID"===n?a:(i=r?parseInt(i,10):1,a.length>=i?a:""+new Array(i-a.length+1).join("0")+a)}}(t))},$e=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,i=void 0===r?{sourceURL:"",range:""}:r,a=be({baseUrl:e.baseUrl,source:Ve(i.sourceURL,n),range:i.range}),o=function(e,t){return e.duration||t?e.duration?_e(e):He(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]}(e,t);return o.map((function(t){n.Number=t.number,n.Time=t.time;var r=Ve(e.media||"",n),i=e.timescale||1,o=e.presentationTimeOffset||0,s=e.periodStart+(t.time-o)/i;return{uri:r,timeline:t.timeline,duration:t.duration,resolvedUri:k(e.baseUrl||"",r),map:a,number:t.number,presentationTime:s}}))},Ge=function(e,t){var n=e.duration,r=e.segmentUrls,i=void 0===r?[]:r,a=e.periodStart;if(!n&&!t||n&&t)throw new Error(ve);var o,s=i.map((function(t){return function(e,t){var n=e.baseUrl,r=e.initialization,i=void 0===r?{}:r,a=be({baseUrl:n,source:i.sourceURL,range:i.range}),o=be({baseUrl:n,source:t.media,range:t.mediaRange});return o.map=a,o}(e,t)}));return n&&(o=_e(e)),t&&(o=He(e,t)),o.map((function(t,n){if(s[n]){var r=s[n],i=e.timescale||1,o=e.presentationTimeOffset||0;return r.timeline=t.timeline,r.duration=t.duration,r.number=t.number,r.presentationTime=a+(t.time-o)/i,r}})).filter((function(e){return e}))},We=function(e){var t,n,r=e.attributes,i=e.segmentInfo;i.template?(n=$e,t=le(r,i.template)):i.base?(n=xe,t=le(r,i.base)):i.list&&(n=Ge,t=le(r,i.list));var a={attributes:r};if(!n)return a;var o=n(t,i.segmentTimeline);if(t.duration){var s=t,l=s.duration,u=s.timescale,c=void 0===u?1:u;t.duration=l/c}else o.length?t.duration=o.reduce((function(e,t){return Math.max(e,Math.ceil(t.duration))}),0):t.duration=0;return a.attributes=t,a.segments=o,i.base&&t.indexRange&&(a.sidx=o[0],a.segments=[]),a},qe=function(e,t){return de(e.childNodes).filter((function(e){return e.tagName===t}))},Ze=function(e){return e.textContent.trim()},Ke=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var n=t.slice(1),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5];return 31536e3*parseFloat(r||0)+2592e3*parseFloat(i||0)+86400*parseFloat(a||0)+3600*parseFloat(o||0)+60*parseFloat(s||0)+parseFloat(l||0)},Xe={mediaPresentationDuration:function(e){return Ke(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return Ke(e)},suggestedPresentationDelay:function(e){return Ke(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return Ke(e)},start:function(e){return Ke(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?Ke(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},Ye=function(e){return e&&e.attributes?de(e.attributes).reduce((function(e,t){var n=Xe[t.name]||Xe.DEFAULT;return e[t.name]=n(t.value),e}),{}):{}},Qe={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Je=function(e,t){return t.length?ce(e.map((function(e){return t.map((function(t){return k(e,Ze(t))}))}))):e},et=function(e){var t=qe(e,"SegmentTemplate")[0],n=qe(e,"SegmentList")[0],r=n&&qe(n,"SegmentURL").map((function(e){return le({tag:"SegmentURL"},Ye(e))})),i=qe(e,"SegmentBase")[0],a=n||t,o=a&&qe(a,"SegmentTimeline")[0],s=n||i||t,l=s&&qe(s,"Initialization")[0],u=t&&Ye(t);u&&l?u.initialization=l&&Ye(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});var c={template:u,segmentTimeline:o&&qe(o,"S").map((function(e){return Ye(e)})),list:n&&le(Ye(n),{segmentUrls:r,initialization:Ye(l)}),base:i&&le(Ye(i),{initialization:Ye(l)})};return Object.keys(c).forEach((function(e){c[e]||delete c[e]})),c},tt=function(e,t,n){return function(r){var i,a=Ye(r),o=Je(t,qe(r,"BaseURL")),s=qe(r,"Role")[0],l={role:Ye(s)},u=le(e,a,l),c=qe(r,"Accessibility")[0],d="urn:scte:dash:cc:cea-608:2015"===(i=Ye(c)).schemeIdUri?("string"!==typeof i.value?[]:i.value.split(";")).map((function(e){var t,n;if(n=e,/^CC\d=/.test(e)){var r=e.split("=");t=r[0],n=r[1]}else/^CC\d$/.test(e)&&(t=e);return{channel:t,language:n}})):"urn:scte:dash:cc:cea-708:2015"===i.schemeIdUri?("string"!==typeof i.value?[]:i.value.split(";")).map((function(e){var t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){var n=e.split("="),r=n[0],i=n[1],a=void 0===i?"":i;t.channel=r,t.language=e,a.split(",").forEach((function(e){var n=e.split(":"),r=n[0],i=n[1];"lang"===r?t.language=i:"er"===r?t.easyReader=Number(i):"war"===r?t.aspectRatio=Number(i):"3D"===r&&(t["3D"]=Number(i))}))}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t})):void 0;d&&(u=le(u,{captionServices:d}));var f=qe(r,"Label")[0];if(f&&f.childNodes.length){var p=f.childNodes[0].nodeValue.trim();u=le(u,{label:p})}var h=qe(r,"ContentProtection").reduce((function(e,t){var n=Ye(t);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());var r=Qe[n.schemeIdUri];if(r){e[r]={attributes:n};var i=qe(t,"cenc:pssh")[0];if(i){var a=Ze(i);e[r].pssh=a&&C(a)}}return e}),{});Object.keys(h).length&&(u=le(u,{contentProtection:h}));var m=et(r),g=qe(r,"Representation"),v=le(n,m);return ce(g.map(function(e,t,n){return function(r){var i=qe(r,"BaseURL"),a=Je(t,i),o=le(e,Ye(r)),s=et(r);return a.map((function(e){return{segmentInfo:le(n,s),attributes:le(o,{baseUrl:e})}}))}}(u,o,v)))}},nt=function(e,t){return function(n,r){var i=Je(t,qe(n.node,"BaseURL")),a=le(e,{periodStart:n.attributes.start});"number"===typeof n.attributes.duration&&(a.periodDuration=n.attributes.duration);var o=qe(n.node,"AdaptationSet"),s=et(n.node);return ce(o.map(tt(a,i,s)))}},rt=function(e){if(""===e)throw new Error(he);var t,n,r=new oe.DOMParser;try{n=(t=r.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(i){}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(me);return n},it=function(e,t){void 0===t&&(t={});var n=function(e,t){void 0===t&&(t={});var n=t,r=n.manifestUri,i=void 0===r?"":r,a=n.NOW,o=void 0===a?Date.now():a,s=n.clientOffset,l=void 0===s?0:s,u=qe(e,"Period");if(!u.length)throw new Error(pe);var c=qe(e,"Location"),d=Ye(e),f=Je([i],qe(e,"BaseURL"));d.type=d.type||"static",d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=o,d.clientOffset=l,c.length&&(d.locations=c.map(Ze));var p=[];return u.forEach((function(e,t){var n=Ye(e),r=p[t-1];n.start=function(e){var t=e.attributes,n=e.priorPeriodAttributes,r=e.mpdType;return"number"===typeof t.start?t.start:n&&"number"===typeof n.start&&"number"===typeof n.duration?n.start+n.duration:n||"static"!==r?null:0}({attributes:n,priorPeriodAttributes:r?r.attributes:null,mpdType:d.type}),p.push({node:e,attributes:n})})),{locations:d.locations,representationInfo:ce(p.map(nt(d,f)))}}(rt(e),t),r=n.representationInfo.map(We);return Fe({dashPlaylists:r,locations:n.locations,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest})},at=function(e){return function(e){var t=qe(e,"UTCTiming")[0];if(!t)return null;var n=Ye(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;default:throw new Error(ye)}return n}(rt(e))},ot=n(84221),st=n.n(ot),lt=J([73,68,51]),ut=function e(t,n){return void 0===n&&(n=0),(t=J(t)).length-n<10||!ae(t,lt,{offset:n})?n:(n+=function(e,t){void 0===t&&(t=0);var n=(e=J(e))[t+5],r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&n)>>4?r+20:r+10}(t,n),e(t,n))},ct=(new Uint8Array([79,112,117,115,72,101,97,100]),function(e){return"string"===typeof e?ie(e):e}),dt=function(e){e=J(e);for(var t=[],n=0;e.length>n;){var r=e[n],i=0,a=0,o=e[++a];for(a++;128&o;)i=(127&o)<<7,o=e[a],a++;i+=127&o;for(var s=0;s<I.length;s++){var l=I[s],u=l.id,c=l.parser;if(r===u){t.push(c(e.subarray(a,a+i)));break}}n+=i+a}return t};I=[{id:3,parser:function(e){var t={tag:3,id:e[0]<<8|e[1],flags:e[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&t.flags&&(t.dependsOnEsId=e[t.size]<<8|e[t.size+1],t.size+=2),64&t.flags){var n=e[t.size];t.url=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,J(e));try{return decodeURIComponent(escape(t))}catch(n){}return t}(e.subarray(t.size+1,t.size+1+n)),t.size+=n}return 32&t.flags&&(t.ocrEsId=e[t.size]<<8|e[t.size+1],t.size+=2),t.descriptors=dt(e.subarray(t.size))||[],t}},{id:4,parser:function(e){return{tag:4,oti:e[0],streamType:e[1],bufferSize:e[2]<<16|e[3]<<8|e[4],maxBitrate:e[5]<<24|e[6]<<16|e[7]<<8|e[8],avgBitrate:e[9]<<24|e[10]<<16|e[11]<<8|e[12],descriptors:dt(e.subarray(13))}}},{id:5,parser:function(e){return{tag:5,bytes:e}}},{id:6,parser:function(e){return{tag:6,bytes:e}}}];var ft=function e(t,n,r){void 0===r&&(r=!1),n=function(e){return Array.isArray(e)?e.map((function(e){return ct(e)})):[ct(e)]}(n),t=J(t);var i=[];if(!n.length)return i;for(var a=0;a<t.length;){var o=(t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3])>>>0,s=t.subarray(a+4,a+8);if(0===o)break;var l=a+o;if(l>t.length){if(r)break;l=t.length}var u=t.subarray(a+8,l);ae(s,n[0])&&(1===n.length?i.push(u):i.push.apply(i,e(u,n.slice(1),r))),a=l}return i},pt={EBML:J([26,69,223,163]),DocType:J([66,130]),Segment:J([24,83,128,103]),SegmentInfo:J([21,73,169,102]),Tracks:J([22,84,174,107]),Track:J([174]),TrackNumber:J([215]),DefaultDuration:J([35,227,131]),TrackEntry:J([174]),TrackType:J([131]),FlagDefault:J([136]),CodecID:J([134]),CodecPrivate:J([99,162]),VideoTrack:J([224]),AudioTrack:J([225]),Cluster:J([31,67,182,117]),Timestamp:J([231]),TimestampScale:J([42,215,177]),BlockGroup:J([160]),BlockDuration:J([155]),Block:J([161]),SimpleBlock:J([163])},ht=[128,64,32,16,8,4,2,1],mt=function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!1);var i=function(e){for(var t=1,n=0;n<ht.length&&!(e&ht[n]);n++)t++;return t}(e[t]),a=e.subarray(t,t+i);return n&&((a=Array.prototype.slice.call(e,t,t+i))[0]^=ht[i-1]),{length:i,value:ne(a,{signed:r}),bytes:a}},gt=function e(t){return"string"===typeof t?t.match(/.{1,2}/g).map((function(t){return e(t)})):"number"===typeof t?re(t):t},vt=function e(t,n,r){if(r>=n.length)return n.length;var i=mt(n,r,!1);if(ae(t.bytes,i.bytes))return r;var a=mt(n,r+i.length);return e(t,n,r+a.length+a.value+i.length)},yt=function e(t,n){n=function(e){return Array.isArray(e)?e.map((function(e){return gt(e)})):[gt(e)]}(n),t=J(t);var r=[];if(!n.length)return r;for(var i=0;i<t.length;){var a=mt(t,i,!1),o=mt(t,i+a.length),s=i+a.length+o.length;127===o.value&&(o.value=vt(a,t,s),o.value!==t.length&&(o.value-=s));var l=s+o.value>t.length?t.length:s+o.value,u=t.subarray(s,l);ae(n[0],a.bytes)&&(1===n.length?r.push(u):r=r.concat(e(u,n.slice(1)))),i+=a.length+o.length+u.length}return r},bt=J([0,0,0,1]),wt=J([0,0,1]),St=J([0,0,3]),_t=function(e){for(var t=[],n=1;n<e.length-2;)ae(e.subarray(n,n+3),St)&&(t.push(n+2),n++),n++;if(0===t.length)return e;var r=e.length-t.length,i=new Uint8Array(r),a=0;for(n=0;n<r;a++,n++)a===t[0]&&(a++,t.shift()),i[n]=e[a];return i},xt=function(e,t,n,r){void 0===r&&(r=1/0),e=J(e),n=[].concat(n);for(var i,a=0,o=0;a<e.length&&(o<r||i);){var s=void 0;if(ae(e.subarray(a),bt)?s=4:ae(e.subarray(a),wt)&&(s=3),s){if(o++,i)return _t(e.subarray(i,a));var l=void 0;"h264"===t?l=31&e[a+s]:"h265"===t&&(l=e[a+s]>>1&63),-1!==n.indexOf(l)&&(i=a+s),a+=s+("h264"===t?1:2)}else a++}return e.subarray(0,0)},Tt={webm:J([119,101,98,109]),matroska:J([109,97,116,114,111,115,107,97]),flac:J([102,76,97,67]),ogg:J([79,103,103,83]),ac3:J([11,119]),riff:J([82,73,70,70]),avi:J([65,86,73]),wav:J([87,65,86,69]),"3gp":J([102,116,121,112,51,103]),mp4:J([102,116,121,112]),fmp4:J([115,116,121,112]),mov:J([102,116,121,112,113,116]),moov:J([109,111,111,118]),moof:J([109,111,111,102])},kt={aac:function(e){var t=ut(e);return ae(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=ut(e);return ae(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=yt(e,[pt.EBML,pt.DocType])[0];return ae(t,Tt.webm)},mkv:function(e){var t=yt(e,[pt.EBML,pt.DocType])[0];return ae(t,Tt.matroska)},mp4:function(e){return!kt["3gp"](e)&&!kt.mov(e)&&(!(!ae(e,Tt.mp4,{offset:4})&&!ae(e,Tt.fmp4,{offset:4}))||(!(!ae(e,Tt.moof,{offset:4})&&!ae(e,Tt.moov,{offset:4}))||void 0))},mov:function(e){return ae(e,Tt.mov,{offset:4})},"3gp":function(e){return ae(e,Tt["3gp"],{offset:4})},ac3:function(e){var t=ut(e);return ae(e,Tt.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=ut(e);return ae(e,Tt.flac,{offset:t})},ogg:function(e){return ae(e,Tt.ogg)},avi:function(e){return ae(e,Tt.riff)&&ae(e,Tt.avi,{offset:8})},wav:function(e){return ae(e,Tt.riff)&&ae(e,Tt.wav,{offset:8})},h264:function(e){return function(e,t,n){return xt(e,"h264",t,n)}(e,7,3).length},h265:function(e){return function(e,t,n){return xt(e,"h265",t,n)}(e,[32,33],3).length}},Et=Object.keys(kt).filter((function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e})).concat(["ts","h264","h265"]);Et.forEach((function(e){var t=kt[e];kt[e]=function(e){return t(J(e))}}));for(var Ct,Ot=kt,Pt=function(e){e=J(e);for(var t=0;t<Et.length;t++){var n=Et[t];if(Ot[n](e))return n}return""},It=n(51489),At="7.20.1",Dt={},Mt=function(e,t){return Dt[e]=Dt[e]||[],t&&(Dt[e]=Dt[e].concat(t)),Dt[e]},Rt=function(e,t){var n=Mt(e).indexOf(t);return!(n<=-1)&&(Dt[e]=Dt[e].slice(),Dt[e].splice(n,1),!0)},Nt={prefixed:!0},Lt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],jt=Lt[0],Bt=0;Bt<Lt.length;Bt++)if(Lt[Bt][1]in o()){Ct=Lt[Bt];break}if(Ct){for(var Ft=0;Ft<Ct.length;Ft++)Nt[jt[Ft]]=Ct[Ft];Nt.prefixed=Ct[0]!==jt[0]}var Ut=[];var Ht=function e(t){var n,r="info",a=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n("log",r,t)};return n=function(e,t){return function(n,r,a){var o=t.levels[r],s=new RegExp("^("+o+")$");if("log"!==n&&a.unshift(n.toUpperCase()+":"),a.unshift(e+":"),Ut){Ut.push([].concat(a));var l=Ut.length-1e3;Ut.splice(0,l>0?l:0)}if(i().console){var u=i().console[n];u||"debug"!==n||(u=i().console.info||i().console.log),u&&o&&s.test(n)&&u[Array.isArray(a)?"apply":"call"](i().console,a)}}}(t,a),a.createLogger=function(n){return e(t+": "+n)},a.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},a.level=function(e){if("string"===typeof e){if(!a.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');r=e}return r},(a.history=function(){return Ut?[].concat(Ut):[]}).filter=function(e){return(Ut||[]).filter((function(t){return new RegExp(".*"+e+".*").test(t[0])}))},a.history.clear=function(){Ut&&(Ut.length=0)},a.history.disable=function(){null!==Ut&&(Ut.length=0,Ut=null)},a.history.enable=function(){null===Ut&&(Ut=[])},a.error=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("error",r,t)},a.warn=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("warn",r,t)},a.debug=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("debug",r,t)},a}("VIDEOJS"),zt=Ht.createLogger,Vt=Object.prototype.toString,$t=function(e){return qt(e)?Object.keys(e):[]};function Gt(e,t){$t(e).forEach((function(n){return t(e[n],n)}))}function Wt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign?s.apply(void 0,[e].concat(n)):(n.forEach((function(t){t&&Gt(t,(function(t,n){e[n]=t}))})),e)}function qt(e){return!!e&&"object"===typeof e}function Zt(e){return qt(e)&&"[object Object]"===Vt.call(e)&&e.constructor===Object}function Kt(e,t){if(!e||!t)return"";if("function"===typeof i().getComputedStyle){var n;try{n=i().getComputedStyle(e)}catch(r){return""}return n?n.getPropertyValue(t)||n[t]:""}return""}var Xt,Yt=i().navigator&&i().navigator.userAgent||"",Qt=/AppleWebKit\/([\d.]+)/i.exec(Yt),Jt=Qt?parseFloat(Qt.pop()):null,en=/iPod/i.test(Yt),tn=(Xt=Yt.match(/OS (\d+)_/i))&&Xt[1]?Xt[1]:null,nn=/Android/i.test(Yt),rn=function(){var e=Yt.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),an=nn&&rn<5&&Jt<537,on=/Firefox/i.test(Yt),sn=/Edg/i.test(Yt),ln=!sn&&(/Chrome/i.test(Yt)||/CriOS/i.test(Yt)),un=function(){var e=Yt.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),cn=function(){var e=/MSIE\s(\d+)\.\d/.exec(Yt),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(Yt)&&/rv:11.0/.test(Yt)&&(t=11),t}(),dn=/Safari/i.test(Yt)&&!ln&&!nn&&!sn,fn=/Windows/i.test(Yt),pn=Boolean(Sn()&&("ontouchstart"in i()||i().navigator.maxTouchPoints||i().DocumentTouch&&i().document instanceof i().DocumentTouch)),hn=/iPad/i.test(Yt)||dn&&pn&&!/iPhone/i.test(Yt),mn=/iPhone/i.test(Yt)&&!hn,gn=mn||hn||en,vn=(dn||gn)&&!ln,yn=Object.freeze({__proto__:null,IS_IPOD:en,IOS_VERSION:tn,IS_ANDROID:nn,ANDROID_VERSION:rn,IS_NATIVE_ANDROID:an,IS_FIREFOX:on,IS_EDGE:sn,IS_CHROME:ln,CHROME_VERSION:un,IE_VERSION:cn,IS_SAFARI:dn,IS_WINDOWS:fn,TOUCH_ENABLED:pn,IS_IPAD:hn,IS_IPHONE:mn,IS_IOS:gn,IS_ANY_SAFARI:vn});function bn(e){return"string"===typeof e&&Boolean(e.trim())}function wn(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Sn(){return o()===i().document}function _n(e){return qt(e)&&1===e.nodeType}function xn(){try{return i().parent!==i().self}catch(e){return!0}}function Tn(e){return function(t,n){if(!bn(t))return o()[e](null);bn(n)&&(n=o().querySelector(n));var r=_n(n)?n:o();return r[e]&&r[e](t)}}function kn(e,t,n,r){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={});var i=o().createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(Ht.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+n+"."),i.setAttribute(e,n)):"textContent"===e?En(i,n):i[e]===n&&"tabIndex"!==e||(i[e]=n)})),Object.getOwnPropertyNames(n).forEach((function(e){i.setAttribute(e,n[e])})),r&&Gn(i,r),i}function En(e,t){return"undefined"===typeof e.textContent?e.innerText=t:e.textContent=t,e}function Cn(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function On(e,t){return wn(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function Pn(e,t){return e.classList?e.classList.add(t):On(e,t)||(e.className=(e.className+" "+t).trim()),e}function In(e,t){return e?(e.classList?e.classList.remove(t):(wn(t),e.className=e.className.split(/\s+/).filter((function(e){return e!==t})).join(" ")),e):(Ht.warn("removeClass was called with an element that doesn't exist"),null)}function An(e,t,n){var r=On(e,t);if("function"===typeof n&&(n=n(e,t)),"boolean"!==typeof n&&(n=!r),n!==r)return n?Pn(e,t):In(e,t),e}function Dn(e,t){Object.getOwnPropertyNames(t).forEach((function(n){var r=t[n];null===r||"undefined"===typeof r||!1===r?e.removeAttribute(n):e.setAttribute(n,!0===r?"":r)}))}function Mn(e){var t={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,i=r.length-1;i>=0;i--){var a=r[i].name,o=r[i].value;"boolean"!==typeof e[a]&&-1===n.indexOf(","+a+",")||(o=null!==o),t[a]=o}return t}function Rn(e,t){return e.getAttribute(t)}function Nn(e,t,n){e.setAttribute(t,n)}function Ln(e,t){e.removeAttribute(t)}function jn(){o().body.focus(),o().onselectstart=function(){return!1}}function Bn(){o().onselectstart=function(){return!0}}function Fn(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat(Kt(e,"height"))),n.width||(n.width=parseFloat(Kt(e,"width"))),n}}function Un(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=e.offsetWidth,n=e.offsetHeight,r=0,i=0;e.offsetParent&&e!==o()[Nt.fullscreenElement];)r+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{left:r,top:i,width:t,height:n}}function Hn(e,t){var n={x:0,y:0};if(gn)for(var r=e;r&&"html"!==r.nodeName.toLowerCase();){var i=Kt(r,"transform");if(/^matrix/.test(i)){var a=i.slice(7,-1).split(/,\s/).map(Number);n.x+=a[4],n.y+=a[5]}else if(/^matrix3d/.test(i)){var o=i.slice(9,-1).split(/,\s/).map(Number);n.x+=o[12],n.y+=o[13]}r=r.parentNode}var s={},l=Un(t.target),u=Un(e),c=u.width,d=u.height,f=t.offsetY-(u.top-l.top),p=t.offsetX-(u.left-l.left);return t.changedTouches&&(p=t.changedTouches[0].pageX-u.left,f=t.changedTouches[0].pageY+u.top,gn&&(p-=n.x,f-=n.y)),s.y=1-Math.max(0,Math.min(1,f/d)),s.x=Math.max(0,Math.min(1,p/c)),s}function zn(e){return qt(e)&&3===e.nodeType}function Vn(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function $n(e){return"function"===typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return"function"===typeof e&&(e=e()),_n(e)||zn(e)?e:"string"===typeof e&&/\S/.test(e)?o().createTextNode(e):void 0})).filter((function(e){return e}))}function Gn(e,t){return $n(t).forEach((function(t){return e.appendChild(t)})),e}function Wn(e,t){return Gn(Vn(e),t)}function qn(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons))}var Zn,Kn=Tn("querySelector"),Xn=Tn("querySelectorAll"),Yn=Object.freeze({__proto__:null,isReal:Sn,isEl:_n,isInFrame:xn,createEl:kn,textContent:En,prependTo:Cn,hasClass:On,addClass:Pn,removeClass:In,toggleClass:An,setAttributes:Dn,getAttributes:Mn,getAttribute:Rn,setAttribute:Nn,removeAttribute:Ln,blockTextSelection:jn,unblockTextSelection:Bn,getBoundingClientRect:Fn,findPosition:Un,getPointerPosition:Hn,isTextNode:zn,emptyEl:Vn,normalizeContent:$n,appendContent:Gn,insertContent:Wn,isSingleLeftClick:qn,$:Kn,$$:Xn}),Qn=!1,Jn=function(){if(!1!==Zn.options.autoSetup){var e=Array.prototype.slice.call(o().getElementsByTagName("video")),t=Array.prototype.slice.call(o().getElementsByTagName("audio")),n=Array.prototype.slice.call(o().getElementsByTagName("video-js")),r=e.concat(t,n);if(r&&r.length>0)for(var i=0,a=r.length;i<a;i++){var s=r[i];if(!s||!s.getAttribute){er(1);break}void 0===s.player&&null!==s.getAttribute("data-setup")&&Zn(s)}else Qn||er(1)}};function er(e,t){Sn()&&(t&&(Zn=t),i().setTimeout(Jn,e))}function tr(){Qn=!0,i().removeEventListener("load",tr)}Sn()&&("complete"===o().readyState?tr():i().addEventListener("load",tr));var nr,rr=function(e){var t=o().createElement("style");return t.className=e,t},ir=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},ar=3;function or(){return ar++}i().WeakMap||(nr=function(){function e(){this.vdata="vdata"+Math.floor(i().performance&&i().performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var n=e[this.vdata]||or();return e[this.vdata]||(e[this.vdata]=n),this.data[n]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];Ht("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var sr,lr=i().WeakMap?new WeakMap:new nr;function ur(e,t){if(lr.has(e)){var n=lr.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&lr.delete(e)}}function cr(e,t,n,r){n.forEach((function(n){e(t,n,r)}))}function dr(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){var r=e||i().event;for(var a in e={},r)"layerX"!==a&&"layerY"!==a&&"keyLocation"!==a&&"webkitMovementX"!==a&&"webkitMovementY"!==a&&"path"!==a&&("returnValue"===a&&r.preventDefault||(e[a]=r[a]));if(e.target||(e.target=e.srcElement||o()),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var s=o().documentElement,l=o().body;e.pageX=e.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var fr=["touchstart","touchmove"];function pr(e,t,n){if(Array.isArray(t))return cr(pr,e,t,n);lr.has(e)||lr.set(e,{});var r=lr.get(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=or()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=dr(t);var i=r.handlers[t.type];if(i)for(var a=i.slice(0),o=0,s=a.length;o<s&&!t.isImmediatePropagationStopped();o++)try{a[o].call(e,t,n)}catch(l){Ht.error(l)}}}),1===r.handlers[t].length)if(e.addEventListener){var a=!1;(function(){if("boolean"!==typeof sr){sr=!1;try{var e=Object.defineProperty({},"passive",{get:function(){sr=!0}});i().addEventListener("test",null,e),i().removeEventListener("test",null,e)}catch(t){}}return sr})()&&fr.indexOf(t)>-1&&(a={passive:!0}),e.addEventListener(t,r.dispatcher,a)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function hr(e,t,n){if(lr.has(e)){var r=lr.get(e);if(r.handlers){if(Array.isArray(t))return cr(hr,e,t,n);var i=function(e,t){r.handlers[t]=[],ur(e,t)};if(void 0!==t){var a=r.handlers[t];if(a)if(n){if(n.guid)for(var o=0;o<a.length;o++)a[o].guid===n.guid&&a.splice(o--,1);ur(e,t)}else i(e,t)}else for(var s in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},s)&&i(e,s)}}}function mr(e,t,n){var r=lr.has(e)?lr.get(e):{},i=e.parentNode||e.ownerDocument;if("string"===typeof t?t={type:t,target:e}:t.target||(t.target=e),t=dr(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&!0===t.bubbles)mr.call(null,i,t,n);else if(!i&&!t.defaultPrevented&&t.target&&t.target[t.type]){lr.has(t.target)||lr.set(t.target,{});var a=lr.get(t.target);t.target[t.type]&&(a.disabled=!0,"function"===typeof t.target[t.type]&&t.target[t.type](),a.disabled=!1)}return!t.defaultPrevented}function gr(e,t,n){if(Array.isArray(t))return cr(gr,e,t,n);var r=function r(){hr(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||or(),pr(e,t,r)}function vr(e,t,n){var r=function r(){hr(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||or(),pr(e,t,r)}var yr,br=Object.freeze({__proto__:null,fixEvent:dr,on:pr,off:hr,trigger:mr,one:gr,any:vr}),wr=30,Sr=function(e,t,n){t.guid||(t.guid=or());var r=t.bind(e);return r.guid=n?n+"_"+t.guid:t.guid,r},_r=function(e,t){var n=i().performance.now();return function(){var r=i().performance.now();r-n>=t&&(e.apply(void 0,arguments),n=r)}},xr=function(){};xr.prototype.allowedEvents_={},xr.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},pr(this,e,t),this.addEventListener=n},xr.prototype.addEventListener=xr.prototype.on,xr.prototype.off=function(e,t){hr(this,e,t)},xr.prototype.removeEventListener=xr.prototype.off,xr.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},gr(this,e,t),this.addEventListener=n},xr.prototype.any=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},vr(this,e,t),this.addEventListener=n},xr.prototype.trigger=function(e){var t=e.type||e;"string"===typeof e&&(e={type:t}),e=dr(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),mr(this,e)},xr.prototype.dispatchEvent=xr.prototype.trigger,xr.prototype.queueTrigger=function(e){var t=this;yr||(yr=new Map);var n=e.type||e,r=yr.get(this);r||(r=new Map,yr.set(this,r));var a=r.get(n);r.delete(n),i().clearTimeout(a);var o=i().setTimeout((function(){0===r.size&&(r=null,yr.delete(t)),t.trigger(e)}),0);r.set(n,o)};var Tr=function(e){return"function"===typeof e.name?e.name():"string"===typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},kr=function(e){return e instanceof xr||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"===typeof e[t]}))},Er=function(e){return"string"===typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Cr=function(e,t,n){if(!e||!e.nodeName&&!kr(e))throw new Error("Invalid target for "+Tr(t)+"#"+n+"; must be a DOM node or evented object.")},Or=function(e,t,n){if(!Er(e))throw new Error("Invalid event type for "+Tr(t)+"#"+n+"; must be a non-empty string or array.")},Pr=function(e,t,n){if("function"!==typeof e)throw new Error("Invalid listener for "+Tr(t)+"#"+n+"; must be a function.")},Ir=function(e,t,n){var r,i,a,o=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return o?(r=e.eventBusEl_,t.length>=3&&t.shift(),i=t[0],a=t[1]):(r=t[0],i=t[1],a=t[2]),Cr(r,e,n),Or(i,e,n),Pr(a,e,n),{isTargetingSelf:o,target:r,type:i,listener:a=Sr(e,a)}},Ar=function(e,t,n,r){Cr(e,e,t),e.nodeName?br[t](e,n,r):e[t](n,r)},Dr={on:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ir(this,n,"on"),a=i.isTargetingSelf,o=i.target,s=i.type,l=i.listener;if(Ar(o,"on",s,l),!a){var u=function(){return e.off(o,s,l)};u.guid=l.guid;var c=function(){return e.off("dispose",u)};c.guid=l.guid,Ar(this,"on","dispose",u),Ar(o,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ir(this,n,"one"),a=i.isTargetingSelf,o=i.target,s=i.type,l=i.listener;if(a)Ar(o,"one",s,l);else{var u=function t(){e.off(o,s,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];l.apply(null,r)};u.guid=l.guid,Ar(o,"one",s,u)}},any:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ir(this,n,"any"),a=i.isTargetingSelf,o=i.target,s=i.type,l=i.listener;if(a)Ar(o,"any",s,l);else{var u=function t(){e.off(o,s,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];l.apply(null,r)};u.guid=l.guid,Ar(o,"any",s,u)}},off:function(e,t,n){if(!e||Er(e))hr(this.eventBusEl_,e,t);else{var r=e,i=t;Cr(r,this,"off"),Or(i,this,"off"),Pr(n,this,"off"),n=Sr(this,n),this.off("dispose",n),r.nodeName?(hr(r,i,n),hr(r,"dispose",n)):kr(r)&&(r.off(i,n),r.off("dispose",n))}},trigger:function(e,t){Cr(this.eventBusEl_,this,"trigger");var n=e&&"string"!==typeof e?e.type:e;if(!Er(n)){var r="Invalid event type for "+Tr(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!e)throw new Error(r);(this.log||Ht).error(r)}return mr(this.eventBusEl_,e,t)}};function Mr(e,t){void 0===t&&(t={});var n=t.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=kn("span",{className:"vjs-event-bus"});return Wt(e,Dr),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(e){e()})),e.on("dispose",(function(){e.off(),[e,e.el_,e.eventBusEl_].forEach((function(e){e&&lr.has(e)&&lr.delete(e)})),i().setTimeout((function(){e.eventBusEl_=null}),0)})),e}var Rr={state:{},setState:function(e){var t,n=this;return"function"===typeof e&&(e=e()),Gt(e,(function(e,r){n.state[r]!==e&&((t=t||{})[r]={from:n.state[r],to:e}),n.state[r]=e})),t&&kr(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function Nr(e,t){return Wt(e,Rr),e.state=Wt({},e.state,t),"function"===typeof e.handleStateChanged&&kr(e)&&e.on("statechanged",e.handleStateChanged),e}var Lr=function(e){return"string"!==typeof e?e:e.replace(/./,(function(e){return e.toLowerCase()}))},jr=function(e){return"string"!==typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))};function Br(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&Gt(t,(function(t,n){Zt(t)?(Zt(e[n])||(e[n]={}),e[n]=Br(e[n],t)):e[n]=t}))})),e}var Fr=function(){function e(){this.map_={}}var t=e.prototype;return t.has=function(e){return e in this.map_},t.delete=function(e){var t=this.has(e);return delete this.map_[e],t},t.set=function(e,t){return this.map_[e]=t,this},t.forEach=function(e,t){for(var n in this.map_)e.call(t,this.map_[n],n,this)},e}(),Ur=i().Map?i().Map:Fr,Hr=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var n in this.set_)e.call(t,n,n,this)},e}(),zr=i().Set?i().Set:Hr,Vr=function(){function e(e,t,n){var r=this;if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Br({},this.options_),t=this.options_=Br(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var i=e&&e.id&&e.id()||"no_player";this.id_=i+"_component_"+or()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach((function(e){return r.addClass(e)})),!1!==t.evented&&(Mr(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Nr(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new zr,this.setIntervalIds_=new zr,this.rafIds_=new zr,this.namedRafs_=new Ur,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(e){if(void 0===e&&(e={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(e){return e?(this.options_=Br(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,n){return kn(e,t,n)},t.localize=function(e,t,n){void 0===n&&(n=e);var r=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),a=i&&i[r],o=r&&r.split("-")[0],s=i&&i[o],l=n;return a&&a[e]?l=a[e]:s&&s[e]&&(l=s[e]),t&&(l=l.replace(/\{(\d+)\}/g,(function(e,n){var r=t[n-1],i=r;return"undefined"===typeof r&&(i=e),i}))),l},t.handleLanguagechange=function(){},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return this.childNameIndex_[e]},t.getDescendant=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t=t.reduce((function(e,t){return e.concat(t)}),[]);for(var r=this,i=0;i<t.length;i++)if(!(r=r.getChild(t[i]))||!r.getChild)return;return r},t.addChild=function(t,n,r){var i,a;if(void 0===n&&(n={}),void 0===r&&(r=this.children_.length),"string"===typeof t){a=jr(t);var o=n.componentClass||a;n.name=a;var s=e.getComponent(o);if(!s)throw new Error("Component "+o+" does not exist");if("function"!==typeof s)return null;i=new s(this.player_||this,n)}else i=t;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(r,0,i),i.parentComponent_=this,"function"===typeof i.id&&(this.childIndex_[i.id()]=i),(a=a||i.name&&jr(i.name()))&&(this.childNameIndex_[a]=i,this.childNameIndex_[Lr(a)]=i),"function"===typeof i.el&&i.el()){var l=null;this.children_[r+1]&&(this.children_[r+1].el_?l=this.children_[r+1].el_:_n(this.children_[r+1])&&(l=this.children_[r+1])),this.contentEl().insertBefore(i.el(),l)}return i},t.removeChild=function(e){if("string"===typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[jr(e.name())]=null,this.childNameIndex_[Lr(e.name())]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,n=this.options_.children;if(n){var r,i=this.options_,a=e.getComponent("Tech");(r=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(e){return!r.some((function(t){return"string"===typeof t?e===t:e===t.name}))}))).map((function(e){var r,i;return"string"===typeof e?i=n[r=e]||t.options_[r]||{}:(r=e.name,i=e),{name:r,opts:i}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||jr(t.name));return n&&!a.isTech(n)})).forEach((function(e){var n=e.name,r=e.opts;if(void 0!==i[n]&&(r=i[n]),!1!==r){!0===r&&(r={}),r.playerOptions=t.options_.playerOptions;var a=t.addChild(n,r);a&&(t[n]=a)}}))}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)},t.$=function(e,t){return Kn(e,t||this.contentEl())},t.$$=function(e,t){return Xn(e,t||this.contentEl())},t.hasClass=function(e){return On(this.el_,e)},t.addClass=function(e){Pn(this.el_,e)},t.removeClass=function(e){In(this.el_,e)},t.toggleClass=function(e,t){An(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return Rn(this.el_,e)},t.setAttribute=function(e,t){Nn(this.el_,e,t)},t.removeAttribute=function(e){Ln(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t===t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+jr(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=Kt(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var n="offset"+jr(e);t=this.el_[n]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(u().isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,n=null;this.on("touchstart",(function(r){1===r.touches.length&&(n={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},t=i().performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(n){var r=t.touches[0].pageX-n.pageX,i=t.touches[0].pageY-n.pageY;Math.sqrt(r*r+i*i)>10&&(e=!1)}}));var r=function(){e=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",(function(r){(n=null,!0===e)&&(i().performance.now()-t<200&&(r.preventDefault(),this.trigger("tap")))}))},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=Sr(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.setTimeout=function(e,t){var n,r=this;return e=Sr(this,e),this.clearTimersOnDispose_(),n=i().setTimeout((function(){r.setTimeoutIds_.has(n)&&r.setTimeoutIds_.delete(n),e()}),t),this.setTimeoutIds_.add(n),n},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),i().clearTimeout(e)),e},t.setInterval=function(e,t){e=Sr(this,e),this.clearTimersOnDispose_();var n=i().setInterval(e,t);return this.setIntervalIds_.add(n),n},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),i().clearInterval(e)),e},t.requestAnimationFrame=function(e){var t,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=Sr(this,e),t=i().requestAnimationFrame((function(){n.rafIds_.has(t)&&n.rafIds_.delete(t),e()})),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},t.requestNamedAnimationFrame=function(e,t){var n=this;if(!this.namedRafs_.has(e)){this.clearTimersOnDispose_(),t=Sr(this,t);var r=this.requestAnimationFrame((function(){t(),n.namedRafs_.has(e)&&n.namedRafs_.delete(e)}));return this.namedRafs_.set(e,r),e}},t.cancelNamedAnimationFrame=function(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))},t.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),i().cancelAnimationFrame(e)),e):this.clearTimeout(e)},t.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(t){var n=t[0],r=t[1];e[n].forEach((function(t,n){return e[r](n)}))})),e.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,n){if("string"!==typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var r,i=e.getComponent("Tech"),a=i&&i.isTech(n),o=e===n||e.prototype.isPrototypeOf(n.prototype);if(a||!o)throw r=a?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+r+".");t=jr(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var l=s.players,u=Object.keys(l);if(l&&u.length>0&&u.map((function(e){return l[e]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[Lr(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();function $r(e,t,n,r){return function(e,t,n){if("number"!==typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,r,n.length-1),n[r][t]}function Gr(e){var t;return t=void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:$r.bind(null,"start",0,e),end:$r.bind(null,"end",1,e)},i().Symbol&&i().Symbol.iterator&&(t[i().Symbol.iterator]=function(){return(e||[]).values()}),t}function Wr(e,t){return Array.isArray(e)?Gr(e):void 0===e||void 0===t?Gr():Gr([[e,t]])}function qr(e,t){var n,r,i=0;if(!t)return 0;e&&e.length||(e=Wr(0,0));for(var a=0;a<e.length;a++)n=e.start(a),(r=e.end(a))>t&&(r=t),i+=r-n;return i/t}function Zr(e){if(e instanceof Zr)return e;"number"===typeof e?this.code=e:"string"===typeof e?this.message=e:qt(e)&&("number"===typeof e.code&&(this.code=e.code),Wt(this,e)),this.message||(this.message=Zr.defaultMessages[this.code]||"")}Vr.prototype.supportsRaf_="function"===typeof i().requestAnimationFrame&&"function"===typeof i().cancelAnimationFrame,Vr.registerComponent("Component",Vr),Zr.prototype.code=0,Zr.prototype.message="",Zr.prototype.status=null,Zr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Zr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Kr=0;Kr<Zr.errorTypes.length;Kr++)Zr[Zr.errorTypes[Kr]]=Kr,Zr.prototype[Zr.errorTypes[Kr]]=Kr;function Xr(e){return void 0!==e&&null!==e&&"function"===typeof e.then}function Yr(e){Xr(e)&&e.then(null,(function(e){}))}var Qr=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,n,r){return e[n]&&(t[n]=e[n]),t}),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})},Jr=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,(function(e){return e.track}));return Array.prototype.map.call(t,(function(e){var t=Qr(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===n.indexOf(e)})).map(Qr))},ei=function(e,t){return e.forEach((function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((function(e){return n.addCue(e)}))})),t.textTracks()},ti=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleKeyDown_=function(e){return r.handleKeyDown(e)},r.close_=function(e){return r.close(e)},r.opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=kn("div",{className:"vjs-modal-dialog-content"},{role:"document"}),r.descEl_=kn("p",{className:"vjs-modal-dialog-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),En(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}f(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+e.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},n.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(e){return"boolean"===typeof e&&this[e?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(e){if("boolean"===typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close_)}!t&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),Wn(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t);var i=this.getChild("closeButton");i&&n.appendChild(i.el_)},n.empty=function(){this.trigger("beforemodalempty"),Vn(this.contentEl()),this.trigger("modalempty")},n.content=function(e){return"undefined"!==typeof e&&(this.content_=e),this.content_},n.conditionalFocus_=function(){var e=o().activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(e){if(e.stopPropagation(),u().isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(u().isEventKey(e,"Tab")){for(var t,n=this.focusableEls_(),r=this.el_.querySelector(":focus"),i=0;i<n.length;i++)if(r===n[i]){t=i;break}o().activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||t!==n.length-1||(n[0].focus(),e.preventDefault())}},n.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof i().HTMLAnchorElement||e instanceof i().HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof i().HTMLInputElement||e instanceof i().HTMLSelectElement||e instanceof i().HTMLTextAreaElement||e instanceof i().HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof i().HTMLIFrameElement||e instanceof i().HTMLObjectElement||e instanceof i().HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},t}(Vr);ti.prototype.options_={pauseOnOpen:!0,temporary:!0},Vr.registerComponent("ModalDialog",ti);var ni=function(e){function t(t){var n;void 0===t&&(t=[]),(n=e.call(this)||this).tracks_=[],Object.defineProperty((0,c.Z)(n),"length",{get:function(){return this.tracks_.length}});for(var r=0;r<t.length;r++)n.addTrack(t[r]);return n}f(t,e);var n=t.prototype;return n.addTrack=function(e){var t=this,n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get:function(){return this.tracks_[n]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){t.trigger({track:e,type:"labelchange",target:t})},kr(e)&&e.addEventListener("labelchange",e.labelchange_)},n.removeTrack=function(e){for(var t,n=0,r=this.length;n<r;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},n.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(xr);for(var ri in ni.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},ni.prototype.allowedEvents_)ni.prototype["on"+ri]=null;var ii=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},ai=function(e){function t(t){var n;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].enabled){ii(t,t[r]);break}return(n=e.call(this,t)||this).changing_=!1,n}f(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.enabled&&ii(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){n.changing_||(n.changing_=!0,ii(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(ni),oi=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},si=function(e){function t(t){var n;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].selected){oi(t,t[r]);break}return(n=e.call(this,t)||this).changing_=!1,Object.defineProperty((0,c.Z)(n),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}f(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.selected&&oi(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){n.changing_||(n.changing_=!0,oi(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(ni),li=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(ni),ui=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},t.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"===typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"===typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),ci=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},t.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}(),di={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},fi={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},pi={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},hi={disabled:"disabled",hidden:"hidden",showing:"showing"},mi=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this)||this;var r={id:t.id||"vjs_track_"+or(),kind:t.kind||"",language:t.language||""},i=t.label||"",a=function(e){Object.defineProperty((0,c.Z)(n),e,{get:function(){return r[e]},set:function(){}})};for(var o in r)a(o);return Object.defineProperty((0,c.Z)(n),"label",{get:function(){return i},set:function(e){e!==i&&(i=e,this.trigger("labelchange"))}}),n}return f(t,e),t}(xr),gi=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=o().createElement("a");n.href=e;for(var r={},a=0;a<t.length;a++)r[t[a]]=n[t[a]];return"http:"===r.protocol&&(r.host=r.host.replace(/:80$/,"")),"https:"===r.protocol&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=i().location.protocol),r.host||(r.host=i().location.host),r},vi=function(e){if(!e.match(/^https?:\/\//)){var t=o().createElement("a");t.href=e,e=t.href}return e},yi=function(e){if("string"===typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},bi=function(e,t){void 0===t&&(t=i().location);var n=gi(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},wi=Object.freeze({__proto__:null,parseUrl:gi,getAbsoluteURL:vi,getFileExtension:yi,isCrossOrigin:bi}),Si=function(e,t){var n=new(i().WebVTT.Parser)(i(),i().vttjs,i().WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(i().console&&i().console.groupCollapsed&&i().console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach((function(e){return Ht.error(e)})),i().console&&i().console.groupEnd&&i().console.groupEnd()),n.flush()},_i=function(e,t){var n={uri:e},r=bi(e);r&&(n.cors=r);var a="use-credentials"===t.tech_.crossOrigin();a&&(n.withCredentials=a),g()(n,Sr(this,(function(e,n,r){if(e)return Ht.error(e,n);t.loaded_=!0,"function"!==typeof i().WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(function(e){if("vttjserror"!==e.type)return Si(r,t);Ht.error("vttjs failed to load, stopping trying to process "+t.src)})):Si(r,t)})))},xi=function(e){function t(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var r=Br(t,{kind:pi[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=hi[r.mode]||"disabled",a=r.default;"metadata"!==r.kind&&"chapters"!==r.kind||(i="hidden"),(n=e.call(this,r)||this).tech_=r.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var o=new ci(n.cues_),s=new ci(n.activeCues_),l=!1;n.timeupdateHandler=Sr((0,c.Z)(n),(function(){this.tech_.isDisposed()||(this.tech_.isReady_?(this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1),this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)):this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}));return n.tech_.one("dispose",(function(){n.stopTracking()})),"disabled"!==i&&n.startTracking(),Object.defineProperties((0,c.Z)(n),{default:{get:function(){return a},set:function(){}},mode:{get:function(){return i},set:function(e){hi[e]&&i!==e&&(i=e,this.preload_||"disabled"===i||0!==this.cues.length||_i(this.src,this),this.stopTracking(),"disabled"!==i&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?o:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];(i.startTime<=e&&i.endTime>=e||i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e)&&t.push(i)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var a=0;a<t.length;a++)-1===this.activeCues_.indexOf(t[a])&&(l=!0);return this.activeCues_=t,s.setCues_(this.activeCues_),s},set:function(){}}}),r.src?(n.src=r.src,n.preload_||(n.loaded_=!0),(n.preload_||"subtitles"!==r.kind&&"captions"!==r.kind)&&_i(n.src,(0,c.Z)(n))):n.loaded_=!0,n}f(t,e);var n=t.prototype;return n.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)},n.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0)},n.addCue=function(e){var t=e;if(i().vttjs&&!(e instanceof i().vttjs.VTTCue)){for(var n in t=new(i().vttjs.VTTCue)(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var r=this.tech_.textTracks(),a=0;a<r.length;a++)r[a]!==this&&r[a].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},n.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(mi);xi.prototype.allowedEvents_={cuechange:"cuechange"};var Ti=function(e){function t(t){var n;void 0===t&&(t={});var r=Br(t,{kind:fi[t.kind]||""});n=e.call(this,r)||this;var i=!1;return Object.defineProperty((0,c.Z)(n),"enabled",{get:function(){return i},set:function(e){"boolean"===typeof e&&e!==i&&(i=e,this.trigger("enabledchange"))}}),r.enabled&&(n.enabled=r.enabled),n.loaded_=!0,n}return f(t,e),t}(mi),ki=function(e){function t(t){var n;void 0===t&&(t={});var r=Br(t,{kind:di[t.kind]||""});n=e.call(this,r)||this;var i=!1;return Object.defineProperty((0,c.Z)(n),"selected",{get:function(){return i},set:function(e){"boolean"===typeof e&&e!==i&&(i=e,this.trigger("selectedchange"))}}),r.selected&&(n.selected=r.selected),n}return f(t,e),t}(mi),Ei=function(e){function t(t){var n,r;void 0===t&&(t={}),n=e.call(this)||this;var i=new xi(t);return n.kind=i.kind,n.src=i.src,n.srclang=i.language,n.label=i.label,n.default=i.default,Object.defineProperties((0,c.Z)(n),{readyState:{get:function(){return r}},track:{get:function(){return i}}}),r=0,i.addEventListener("loadeddata",(function(){r=2,n.trigger({type:"load",target:(0,c.Z)(n)})})),n}return f(t,e),t}(xr);Ei.prototype.allowedEvents_={load:"load"},Ei.NONE=0,Ei.LOADING=1,Ei.LOADED=2,Ei.ERROR=3;var Ci={audio:{ListClass:ai,TrackClass:Ti,capitalName:"Audio"},video:{ListClass:si,TrackClass:ki,capitalName:"Video"},text:{ListClass:li,TrackClass:xi,capitalName:"Text"}};Object.keys(Ci).forEach((function(e){Ci[e].getterName=e+"Tracks",Ci[e].privateName=e+"Tracks_"}));var Oi={remoteText:{ListClass:li,TrackClass:xi,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:ui,TrackClass:Ei,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Pi=s({},Ci,Oi);Oi.names=Object.keys(Oi),Ci.names=Object.keys(Ci),Pi.names=[].concat(Oi.names).concat(Ci.names);var Ii=function(e){function t(t,n){var r;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,(r=e.call(this,null,t,n)||this).onDurationChange_=function(e){return r.onDurationChange(e)},r.trackProgress_=function(e){return r.trackProgress(e)},r.trackCurrentTime_=function(e){return r.trackCurrentTime(e)},r.stopTrackingCurrentTime_=function(e){return r.stopTrackingCurrentTime(e)},r.disposeSourceHandler_=function(e){return r.disposeSourceHandler(e)},r.queuedHanders_=new Set,r.hasStarted_=!1,r.on("playing",(function(){this.hasStarted_=!0})),r.on("loadstart",(function(){this.hasStarted_=!1})),Pi.names.forEach((function(e){var n=Pi[e];t&&t[n.getterName]&&(r[n.privateName]=t[n.getterName])})),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(r["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.preloadTextTracks=!1!==t.preloadTextTracks,r.autoRemoteTextTracks_=new Pi.text.ListClass,r.initTrackListeners(),t.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}f(t,e);var n=t.prototype;return n.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",(function(){return t.setTimeout((function(){return t.triggerSourceset(e)}),1)})),this.trigger({src:e,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},n.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Sr(this,(function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)},n.onDurationChange=function(e){this.duration_=this.duration()},n.buffered=function(){return Wr(0,0)},n.bufferedPercent=function(){return qr(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(Ci.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},n.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach((function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack(i)}}))},n.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(e){return void 0!==e&&(this.error_=new Zr(e),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?Wr(0,0):Wr()},n.play=function(){},n.setScrubbing=function(){},n.scrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var e=this;Ci.names.forEach((function(t){var n=Ci[t],r=function(){e.trigger(t+"trackchange")},i=e[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),e.on("dispose",(function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)}))}))},n.addWebVttScript_=function(){var e=this;if(!i().WebVTT)if(o().body.contains(this.el())){if(!this.options_["vtt.js"]&&Zt(y())&&Object.keys(y()).length>0)return void this.trigger("vttjsloaded");var t=o().createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),i().WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),r=function(e){return t.addTrack(e.track)},i=function(e){return t.removeTrack(e.track)};n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();var a=function(){return e.trigger("texttrackchange")},o=function(){a();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",a),"showing"===n.mode&&n.addEventListener("cuechange",a)}};o(),t.addEventListener("change",o),t.addEventListener("addtrack",o),t.addEventListener("removetrack",o),this.on("dispose",(function(){n.off("addtrack",r),n.off("removetrack",i),t.removeEventListener("change",o),t.removeEventListener("addtrack",o),t.removeEventListener("removetrack",o);for(var e=0;e<t.length;e++){t[e].removeEventListener("cuechange",a)}}))},n.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,r,i){void 0===i&&(i={});var a=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var o=new Pi.text.TrackClass(i);return a.addTrack(o),o}(this,e,t,n)},n.createRemoteTextTrack=function(e){var t=Br(e,{tech:this});return new Oi.remoteTextEl.TrackClass(t)},n.addRemoteTextTrack=function(e,t){var n=this;void 0===e&&(e={});var r=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(Ht.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==t&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(r.track)})),r},n.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var e=this.options_.Promise||i().Promise;if(e)return e.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.requestVideoFrameCallback=function(e){var t=this,n=or();return this.paused()?(this.queuedHanders_.add(n),this.one("playing",(function(){t.queuedHanders_.has(n)&&(t.queuedHanders_.delete(n),e())}))):this.requestNamedAnimationFrame(n,e),n},n.cancelVideoFrameCallback=function(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=jr(e),t.techs_[e]=n,t.techs_[Lr(e)]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return t.techs_&&t.techs_[e]?t.techs_[e]:(e=jr(e),i()&&i().videojs&&i().videojs[e]?(Ht.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),i().videojs[e]):void 0)},t}(Vr);Pi.names.forEach((function(e){var t=Pi[e];Ii.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),Ii.prototype.featuresVolumeControl=!0,Ii.prototype.featuresMuteControl=!0,Ii.prototype.featuresFullscreenResize=!1,Ii.prototype.featuresPlaybackRate=!1,Ii.prototype.featuresProgressEvents=!1,Ii.prototype.featuresSourceset=!1,Ii.prototype.featuresTimeupdateEvents=!1,Ii.prototype.featuresNativeTextTracks=!1,Ii.prototype.featuresVideoFrameCallback=!1,Ii.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n,r=e.sourceHandlers||[],i=0;i<r.length;i++)if(n=r[i].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=0;i<r.length;i++)if(r[i].canHandleSource(t,n))return r[i];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""};["seekable","seeking","duration"].forEach((function(e){var t=this[e];"function"===typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:Ht.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Vr.registerComponent("Tech",Ii),Ii.registerTech("Tech",Ii),Ii.defaultTechOrder_=[];var Ai={},Di={},Mi={};function Ri(e,t,n){e.setTimeout((function(){return Ui(t,Ai[t.type],n,e)}),1)}function Ni(e,t,n,r){void 0===r&&(r=null);var i="call"+jr(n),a=e.reduce(Fi(i),r),o=a===Mi,s=o?null:t[n](a);return function(e,t,n,r){for(var i=e.length-1;i>=0;i--){var a=e[i];a[t]&&a[t](r,n)}}(e,n,s,o),s}var Li={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},ji={setCurrentTime:1,setMuted:1,setVolume:1},Bi={play:1,pause:1};function Fi(e){return function(t,n){return t===Mi?Mi:n[e]?n[e](t):t}}function Ui(e,t,n,r,i,a){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===a&&(a=!1);var o=t,s=o[0],l=o.slice(1);if("string"===typeof s)Ui(e,Ai[s],n,r,i,a);else if(s){var u=function(e,t){var n=Di[e.id()],r=null;if(void 0===n||null===n)return r=t(e),Di[e.id()]=[[t,r]],r;for(var i=0;i<n.length;i++){var a=n[i],o=a[0],s=a[1];o===t&&(r=s)}return null===r&&(r=t(e),n.push([t,r])),r}(r,s);if(!u.setSource)return i.push(u),Ui(e,l,n,r,i,a);u.setSource(Wt({},e),(function(t,o){if(t)return Ui(e,l,n,r,i,a);i.push(u),Ui(o,e.type===o.type?l:Ai[o.type],n,r,i,a)}))}else l.length?Ui(e,l,n,r,i,a):a?n(e,i):Ui(e,Ai["*"],n,r,i,!0)}var Hi={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},zi=function(e){void 0===e&&(e="");var t=yi(e);return Hi[t.toLowerCase()]||""},Vi=function e(t){if(Array.isArray(t)){var n=[];t.forEach((function(t){t=e(t),Array.isArray(t)?n=n.concat(t):qt(t)&&n.push(t)})),t=n}else t="string"===typeof t&&t.trim()?[$i({src:t})]:qt(t)&&"string"===typeof t.src&&t.src&&t.src.trim()?[$i(t)]:[];return t};function $i(e){if(!e.type){var t=zi(e.src);t&&(e.type=t)}return e}var Gi=function(e){function t(t,n,r){var i,a=Br({createEl:!1},n);if(i=e.call(this,t,a,r)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var o=0,s=n.playerOptions.techOrder;o<s.length;o++){var l=jr(s[o]),u=Ii.getTech(l);if(l||(u=Vr.getComponent(l)),u&&u.isSupported()){t.loadTech_(l);break}}return i}return f(t,e),t}(Vr);Vr.registerComponent("MediaLoader",Gi);var Wi=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).options_.controlText&&r.controlText(r.options_.controlText),r.handleMouseOver_=function(e){return r.handleMouseOver(e)},r.handleMouseOut_=function(e){return r.handleMouseOut(e)},r.handleClick_=function(e){return r.handleClick(e)},r.handleKeyDown_=function(e){return r.handleKeyDown(e)},r.emitTapEvents(),r.enable(),r}f(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={}),t=Wt({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&Ht.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=Wt({role:"button"},n),this.tabIndex_=t.tabIndex;var r=kn(e,t,n);return r.appendChild(kn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r},n.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},n.createControlTextEl=function(e){return this.controlTextEl_=kn("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},n.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,En(this.controlTextEl_,n),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!==typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!==typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},n.handleLanguagechange=function(){this.controlText(this.controlText_)},n.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(t){u().isEventKey(t,"Space")||u().isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(Vr);Vr.registerComponent("ClickableComponent",Wi);var qi=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update(),r.update_=function(e){return r.update(e)},t.on("posterchange",r.update_),r}f(t,e);var n=t.prototype;return n.dispose=function(){this.player().off("posterchange",this.update_),e.prototype.dispose.call(this)},n.createEl=function(){return kn("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},n.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},n.handleClick=function(e){if(this.player_.controls()){var t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(cn||sn)&&t||this.player_.tech(!0).focus(),this.player_.paused()?Yr(this.player_.play()):this.player_.pause()}},t}(Wi);Vr.registerComponent("PosterImage",qi);var Zi={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Ki(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function Xi(e,t,n){try{e.style[t]=n}catch(r){return}}var Yi=function(e){function t(t,n,r){var a;a=e.call(this,t,n,r)||this;var o=function(e){return a.updateDisplay(e)};return t.on("loadstart",(function(e){return a.toggleDisplay(e)})),t.on("texttrackchange",o),t.on("loadedmetadata",(function(e){return a.preselectTrack(e)})),t.ready(Sr((0,c.Z)(a),(function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",o),t.on("playerresize",o),i().addEventListener("orientationchange",o),t.on("dispose",(function(){return i().removeEventListener("orientationchange",o)}));for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()}}))),a}f(t,e);var n=t.prototype;return n.preselectTrack=function(){for(var e,t,n,r={captions:1,subtitles:1},i=this.player_.textTracks(),a=this.player_.cache_.selectedLanguage,o=0;o<i.length;o++){var s=i[o];a&&a.enabled&&a.language&&a.language===s.language&&s.kind in r?s.kind===a.kind?n=s:n||(n=s):a&&!a.enabled?(n=null,e=null,t=null):s.default&&("descriptions"!==s.kind||e?s.kind in r&&!t&&(t=s):e=s)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"===typeof i().WebVTT&&i().WebVTT.processCues(i(),[],this.el_)},n.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var n=[],r=0;r<e.length;++r){var i=e[r];"showing"===i.mode&&n.push(i)}this.updateForTrack(n)}else{for(var a=null,o=null,s=e.length;s--;){var l=e[s];"showing"===l.mode&&("descriptions"===l.kind?a=l:o=l)}o?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(o)):a&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(a))}},n.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),n=e.activeCues,r=n.length;r--;){var a=n[r];if(a){var o=a.displayState;if(t.color&&(o.firstChild.style.color=t.color),t.textOpacity&&Xi(o.firstChild,"color",Ki(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(o.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&Xi(o.firstChild,"backgroundColor",Ki(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?Xi(o,"backgroundColor",Ki(t.windowColor,t.windowOpacity)):o.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===t.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),t.fontPercent&&1!==t.fontPercent){var s=i().parseFloat(o.style.fontSize);o.style.fontSize=s*t.fontPercent+"px",o.style.height="auto",o.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=Zi[t.fontFamily])}}},n.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"===typeof i().WebVTT&&!e.every((function(e){return!e.activeCues}))){for(var t=[],n=0;n<e.length;++n)for(var r=e[n],a=0;a<r.activeCues.length;++a)t.push(r.activeCues[a]);i().WebVTT.processCues(i(),t,this.el_);for(var o=0;o<e.length;++o){for(var s=e[o],l=0;l<s.activeCues.length;++l){var u=s.activeCues[l].displayState;Pn(u,"vjs-text-track-cue"),Pn(u,"vjs-text-track-cue-"+(s.language?s.language:o)),s.language&&Nn(u,"lang",s.language)}this.player_.textTrackSettings&&this.updateDisplayState(s)}}},t}(Vr);Vr.registerComponent("TextTrackDisplay",Yi);var Qi=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),r=kn("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),i=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i},t}(Vr);Vr.registerComponent("LoadingSpinner",Qi);var Ji=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r=kn("button",t=Wt({className:this.buildCSSClass()},t),n=Wt({type:"button"},n));return r.appendChild(kn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r},n.addChild=function(e,t){void 0===t&&(t={});var n=this.constructor.name;return Ht.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Vr.prototype.addChild.call(this,e,t)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){u().isEventKey(t,"Space")||u().isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(Wi);Vr.registerComponent("Button",Ji);var ea=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).mouseused_=!1,r.on("mousedown",(function(e){return r.handleMouseDown(e)})),r}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return Yr(t),void(!this.player_.tech(!0)||(cn||sn)&&n||this.player_.tech(!0).focus())}var r=this.player_.getChild("controlBar"),i=r&&r.getChild("playToggle");if(i){var a=function(){return i.focus()};Xr(t)?t.then(a,(function(){})):this.setTimeout(a,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(e){this.mouseused_=!0},t}(Ji);ea.prototype.controlText_="Play Video",Vr.registerComponent("BigPlayButton",ea);var ta=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).controlText(n&&n.controlText||r.localize("Close")),r}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){u().isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(Ji);Vr.registerComponent("CloseButton",ta);var na=function(e){function t(t,n){var r;return void 0===n&&(n={}),r=e.call(this,t,n)||this,n.replay=void 0===n.replay||n.replay,r.on(t,"play",(function(e){return r.handlePlay(e)})),r.on(t,"pause",(function(e){return r.handlePause(e)})),n.replay&&r.on(t,"ended",(function(e){return r.handleEnded(e)})),r}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.player_.paused()?Yr(this.player_.play()):this.player_.pause()},n.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},n.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(e){var t=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",(function(e){return t.handleSeeked(e)}))},t}(Ji);na.prototype.controlText_="Play",Vr.registerComponent("PlayToggle",na);var ra=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),a=Math.floor(t/60%60),o=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),(i=i>0||o>0?i+":":"")+(r=((i||a>=10)&&r<10?"0"+r:r)+":")+(n=n<10?"0"+n:n)},ia=ra;function aa(e,t){return void 0===t&&(t=e),ia(e,t)}var oa=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,["timeupdate","ended"],(function(e){return r.updateContent(e)})),r.updateTextNode_(),r}f(t,e);var n=t.prototype;return n.createEl=function(){var t=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"}),r=kn("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xa0"},{role:"presentation"});return n.appendChild(r),this.contentEl_=kn("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},n.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},n.updateTextNode_=function(e){var t=this;void 0===e&&(e=0),e=aa(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(t.contentEl_){var e=t.textNode_;e&&t.contentEl_.firstChild!==e&&(e=null,Ht.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),t.textNode_=o().createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_))}})))},n.updateContent=function(e){},t}(Vr);oa.prototype.labelText_="Time",oa.prototype.controlText_="Time",Vr.registerComponent("TimeDisplay",oa);var sa=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},t}(oa);sa.prototype.labelText_="Current Time",sa.prototype.controlText_="Current Time",Vr.registerComponent("CurrentTimeDisplay",sa);var la=function(e){function t(t,n){var r,i=function(e){return r.updateContent(e)};return(r=e.call(this,t,n)||this).on(t,"durationchange",i),r.on(t,"loadstart",i),r.on(t,"loadedmetadata",i),r}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},t}(oa);la.prototype.labelText_="Duration",la.prototype.controlText_="Duration",Vr.registerComponent("DurationDisplay",la);var ua=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=e.prototype.createEl.call(this,"div"),r=e.prototype.createEl.call(this,"span",{textContent:"/"});return n.appendChild(r),t.appendChild(n),t},t}(Vr);Vr.registerComponent("TimeDivider",ua);var ca=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"durationchange",(function(e){return r.updateContent(e)})),r}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=e.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&t.insertBefore(kn("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(e){var t;"number"===typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},t}(oa);ca.prototype.labelText_="Remaining Time",ca.prototype.controlText_="Remaining Time",Vr.registerComponent("RemainingTimeDisplay",ca);var da=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateShowing(),r.on(r.player(),"durationchange",(function(e){return r.updateShowing(e)})),r}f(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=kn("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(kn("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xa0"})),this.contentEl_.appendChild(o().createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(Vr);Vr.registerComponent("LiveDisplay",da);var fa=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateLiveEdgeStatus(),r.player_.liveTracker&&(r.updateLiveEdgeStatusHandler_=function(e){return r.updateLiveEdgeStatus(e)},r.on(r.player_.liveTracker,"liveedgechange",r.updateLiveEdgeStatusHandler_)),r}f(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=kn("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,e.prototype.dispose.call(this)},t}(Ji);fa.prototype.controlText_="Seek to live, currently playing live",Vr.registerComponent("SeekToLive",fa);var pa=function(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))},ha=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleMouseDown_=function(e){return r.handleMouseDown(e)},r.handleMouseUp_=function(e){return r.handleMouseUp(e)},r.handleKeyDown_=function(e){return r.handleKeyDown(e)},r.handleClick_=function(e){return r.handleClick(e)},r.handleMouseMove_=function(e){return r.handleMouseMove(e)},r.update_=function(e){return r.update(e)},r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}f(t,e);var n=t.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),n.className=n.className+" vjs-slider",n=Wt({tabIndex:0},n),r=Wt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},n.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||ln||e.preventDefault(),jn(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)},n.handleMouseMove=function(e){},n.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;Bn(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()},n.update=function(){var e=this;if(this.el_&&this.bar){var t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",(function(){var n=e.vertical()?"height":"width";e.bar.el().style[n]=(100*t).toFixed(2)+"%"}))),t}},n.getProgress=function(){return Number(pa(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(e){var t=Hn(this.el_,e);return this.vertical()?t.y:t.x},n.handleKeyDown=function(t){u().isEventKey(t,"Left")||u().isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):u().isEventKey(t,"Right")||u().isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){e.stopPropagation(),e.preventDefault()},n.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(Vr);Vr.registerComponent("Slider",ha);var ma=function(e,t){return pa(e/t*100,0,100).toFixed(2)+"%"},ga=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).partEls_=[],r.on(t,"progress",(function(e){return r.update(e)})),r}f(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),n=kn("span",{className:"vjs-control-text"}),r=kn("span",{textContent:this.localize("Loaded")}),i=o().createTextNode(": ");return this.percentageEl_=kn("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(n),n.appendChild(r),n.appendChild(i),n.appendChild(this.percentageEl_),t},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,e.prototype.dispose.call(this)},n.update=function(e){var t=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var e=t.player_.liveTracker,n=t.player_.buffered(),r=e&&e.isLive()?e.seekableEnd():t.player_.duration(),i=t.player_.bufferedEnd(),a=t.partEls_,o=ma(i,r);t.percent_!==o&&(t.el_.style.width=o,En(t.percentageEl_,o),t.percent_=o);for(var s=0;s<n.length;s++){var l=n.start(s),u=n.end(s),c=a[s];c||(c=t.el_.appendChild(kn()),a[s]=c),c.dataset.start===l&&c.dataset.end===u||(c.dataset.start=l,c.dataset.end=u,c.style.left=ma(l,i),c.style.width=ma(u-l,i))}for(var d=a.length;d>n.length;d--)t.el_.removeChild(a[d-1]);a.length=n.length}))},t}(Vr);Vr.registerComponent("LoadProgressBar",ga);var va=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=_r(Sr((0,c.Z)(r),r.update),wr),r}f(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n){var r=Un(this.el_),i=Fn(this.player_.el()),a=e.width*t;if(i&&r){var o=e.left-i.left+a,s=e.width-a+(i.right-e.right),l=r.width/2;o<l?l+=l-o:s<l&&(l=s),l<0?l=0:l>r.width&&(l=r.width),l=Math.round(l),this.el_.style.right="-"+l+"px",this.write(n)}},n.write=function(e){En(this.el_,e)},n.updateTime=function(e,t,n,r){var i=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var a,o=i.player_.duration();if(i.player_.liveTracker&&i.player_.liveTracker.isLive()){var s=i.player_.liveTracker.liveWindow(),l=s-t*s;a=(l<1?"":"-")+aa(l,s)}else a=aa(n,o);i.update(e,t,a),r&&r()}))},t}(Vr);Vr.registerComponent("TimeTooltip",va);var ya=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=_r(Sr((0,c.Z)(r),r.update),wr),r}f(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(e,t){var n=this.getChild("timeTooltip");if(n){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,r)}},t}(Vr);ya.prototype.options_={children:[]},gn||nn||ya.prototype.options_.children.push("timeTooltip"),Vr.registerComponent("PlayProgressBar",ya);var ba=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=_r(Sr((0,c.Z)(r),r.update),wr),r}f(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t){var n=this,r=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,r,(function(){n.el_.style.left=e.width*t+"px"}))},t}(Vr);ba.prototype.options_={children:["timeTooltip"]},Vr.registerComponent("MouseTimeDisplay",ba);var wa=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).setEventHandlers_(),r}f(t,e);var n=t.prototype;return n.setEventHandlers_=function(){var e=this;this.update_=Sr(this,this.update),this.update=_r(this.update_,wr),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(t){return e.enableInterval_(t)},this.disableIntervalHandler_=function(t){return e.disableInterval_(t)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in o()&&"visibilityState"in o()&&this.on(o(),"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(e){"hidden"===o().visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,wr))},n.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(t){var n=this;if("hidden"!==o().visibilityState){var r=e.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var e=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),t=n.player_.liveTracker,i=n.player_.duration();t&&t.isLive()&&(i=n.player_.liveTracker.liveCurrentTime()),n.percent_!==r&&(n.el_.setAttribute("aria-valuenow",(100*r).toFixed(2)),n.percent_=r),n.currentTime_===e&&n.duration_===i||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[aa(e,i),aa(i,i)],"{1} of {2}")),n.currentTime_=e,n.duration_=i),n.bar&&n.bar.update(Fn(n.el()),n.getProgress())})),r}},n.userSeek_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},n.handleMouseDown=function(t){qn(t)&&(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(e,t){if(void 0===t&&(t=!1),qn(e)){var n;t||this.player_.scrubbing()||this.player_.scrubbing(!0);var r=this.calculateDistance(e),i=this.player_.liveTracker;if(i&&i.isLive()){if(r>=.99)return void i.seekToLiveEdge();var a=i.seekableStart(),o=i.liveCurrentTime();if((n=a+r*i.liveWindow())>=o&&(n=o),n<=a&&(n=a+.1),n===1/0)return}else(n=r*this.player_.duration())===this.player_.duration()&&(n-=.1);this.userSeek_(n)}},n.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},n.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},n.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Yr(this.player_.play()):this.update_()},n.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},n.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},n.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(t){var n=this.player_.liveTracker;if(u().isEventKey(t,"Space")||u().isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(u().isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(u().isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(u()(t))){t.preventDefault(),t.stopPropagation();var r=10*(u().codes[u()(t)]-u().codes[0])/100;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*r):this.userSeek_(this.player_.duration()*r)}else u().isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):u().isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):e.prototype.handleKeyDown.call(this,t)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in o()&&"visibilityState"in o()&&this.off(o(),"visibilitychange",this.toggleVisibility_),e.prototype.dispose.call(this)},t}(ha);wa.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},gn||nn||wa.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Vr.registerComponent("SeekBar",wa);var Sa=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleMouseMove=_r(Sr((0,c.Z)(r),r.handleMouseMove),wr),r.throttledHandleMouseSeek=_r(Sr((0,c.Z)(r),r.handleMouseSeek),wr),r.handleMouseUpHandler_=function(e){return r.handleMouseUp(e)},r.handleMouseDownHandler_=function(e){return r.handleMouseDown(e)},r.enable(),r}f(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("playProgressBar"),r=t.getChild("mouseTimeDisplay");if(n||r){var i=t.el(),a=Un(i),o=Hn(i,e).x;o=pa(o,0,1),r&&r.update(a,o),n&&n.update(a,t.getProgress())}}},n.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},n.enabled=function(){return this.enabled_},n.disable=function(){if(this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Yr(this.player_.play())}},n.enable=function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},n.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(e){var t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},t}(Vr);Sa.prototype.options_={children:["seekBar"]},Vr.registerComponent("ProgressControl",Sa);var _a=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,["enterpictureinpicture","leavepictureinpicture"],(function(e){return r.handlePictureInPictureChange(e)})),r.on(t,["disablepictureinpicturechanged","loadedmetadata"],(function(e){return r.handlePictureInPictureEnabledChange(e)})),r.on(t,["loadedmetadata","audioonlymodechange","audiopostermodechange"],(function(){"audio"===t.currentType().substring(0,5)||t.audioPosterMode()||t.audioOnlyMode()?(t.isInPictureInPicture()&&t.exitPictureInPicture(),r.hide()):r.show()})),r.disable(),r}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){o().pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},n.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(Ji);_a.prototype.controlText_="Picture-in-Picture",Vr.registerComponent("PictureInPictureToggle",_a);var xa=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"fullscreenchange",(function(e){return r.handleFullscreenChange(e)})),!1===o()[t.fsApi_.fullscreenEnabled]&&r.disable(),r}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(Ji);xa.prototype.controlText_="Fullscreen",Vr.registerComponent("FullscreenToggle",xa);var Ta=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return t.appendChild(e.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),t},t}(Vr);Vr.registerComponent("VolumeLevel",Ta);var ka=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=_r(Sr((0,c.Z)(r),r.update),wr),r}f(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n,r){if(!n){var i=Fn(this.el_),a=Fn(this.player_.el()),o=e.width*t;if(!a||!i)return;var s=e.left-a.left+o,l=e.width-o+(a.right-e.right),u=i.width/2;s<u?u+=u-s:l<u&&(u=l),u<0?u=0:u>i.width&&(u=i.width),this.el_.style.right="-"+u+"px"}this.write(r+"%")},n.write=function(e){En(this.el_,e)},n.updateVolume=function(e,t,n,r,i){var a=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(function(){a.update(e,t,n,r.toFixed(0)),i&&i()}))},t}(Vr);Vr.registerComponent("VolumeLevelTooltip",ka);var Ea=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=_r(Sr((0,c.Z)(r),r.update),wr),r}f(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t,n){var r=this,i=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,n,i,(function(){n?r.el_.style.bottom=e.height*t+"px":r.el_.style.left=e.width*t+"px"}))},t}(Vr);Ea.prototype.options_={children:["volumeLevelTooltip"]},Vr.registerComponent("MouseVolumeLevelDisplay",Ea);var Ca=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on("slideractive",(function(e){return r.updateLastVolume_(e)})),r.on(t,"volumechange",(function(e){return r.updateARIAAttributes(e)})),t.ready((function(){return r.updateARIAAttributes()})),r}f(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){qn(t)&&e.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(e){var t=this.getChild("mouseVolumeLevelDisplay");if(t){var n=this.el(),r=Fn(n),i=this.vertical(),a=Hn(n,e);a=i?a.y:a.x,a=pa(a,0,1),t.update(r,a,i)}qn(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))},t}(ha);Ca.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},gn||nn||Ca.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),Ca.prototype.playerEvent="volumechange",Vr.registerComponent("VolumeBar",Ca);var Oa=function(e){function t(t,n){var r;return void 0===n&&(n={}),n.vertical=n.vertical||!1,("undefined"===typeof n.volumeBar||Zt(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),r=e.call(this,t,n)||this,function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}((0,c.Z)(r),t),r.throttledHandleMouseMove=_r(Sr((0,c.Z)(r),r.handleMouseMove),wr),r.handleMouseUpHandler_=function(e){return r.handleMouseUp(e)},r.on("mousedown",(function(e){return r.handleMouseDown(e)})),r.on("touchstart",(function(e){return r.handleMouseDown(e)})),r.on("mousemove",(function(e){return r.handleMouseMove(e)})),r.on(r.volumeBar,["focus","slideractive"],(function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")})),r.on(r.volumeBar,["blur","sliderinactive"],(function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")})),r}f(t,e);var n=t.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},n.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(Vr);Oa.prototype.options_={children:["volumeBar"]},Vr.registerComponent("VolumeControl",Oa);var Pa=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}((0,c.Z)(r),t),r.on(t,["loadstart","volumechange"],(function(e){return r.update(e)})),r}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var r=n<.1?.1:n;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(e){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var e=this.player_.volume(),t=3;gn&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)In(this.el_,"vjs-vol-"+n);Pn(this.el_,"vjs-vol-"+t)},n.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(Ji);Pa.prototype.controlText_="Mute",Vr.registerComponent("MuteToggle",Pa);var Ia=function(e){function t(t,n){var r;return void 0===n&&(n={}),"undefined"!==typeof n.inline?n.inline=n.inline:n.inline=!0,("undefined"===typeof n.volumeControl||Zt(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(r=e.call(this,t,n)||this).handleKeyPressHandler_=function(e){return r.handleKeyPress(e)},r.on(t,["loadstart"],(function(e){return r.volumePanelState_(e)})),r.on(r.muteToggle,"keyup",(function(e){return r.handleKeyPress(e)})),r.on(r.volumeControl,"keyup",(function(e){return r.handleVolumeControlKeyUp(e)})),r.on("keydown",(function(e){return r.handleKeyPress(e)})),r.on("mouseover",(function(e){return r.handleMouseOver(e)})),r.on("mouseout",(function(e){return r.handleMouseOut(e)})),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}f(t,e);var n=t.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},n.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(e){u().isEventKey(e,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(e){this.addClass("vjs-hover"),pr(o(),"keyup",this.handleKeyPressHandler_)},n.handleMouseOut=function(e){this.removeClass("vjs-hover"),hr(o(),"keyup",this.handleKeyPressHandler_)},n.handleKeyPress=function(e){u().isEventKey(e,"Esc")&&this.handleMouseOut()},t}(Vr);Ia.prototype.options_={children:["muteToggle","volumeControl"]},Vr.registerComponent("VolumePanel",Ia);var Aa=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,n&&(r.menuButton_=n.menuButton),r.focusedChild_=-1,r.on("keydown",(function(e){return r.handleKeyDown(e)})),r.boundHandleBlur_=function(e){return r.handleBlur(e)},r.boundHandleTapClick_=function(e){return r.handleTapClick(e)},r}f(t,e);var n=t.prototype;return n.addEventListenerForItem=function(e){e instanceof Vr&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(e){e instanceof Vr&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(t){"string"===typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},n.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},n.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=kn(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),pr(n,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),n},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},n.handleBlur=function(e){var t=e.relatedTarget||o().activeElement;if(!this.children().some((function(e){return e.el()===t}))){var n=this.menuButton_;n&&n.buttonPressed_&&t!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var n=t.filter((function(t){return t.el()===e.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(e){u().isEventKey(e,"Left")||u().isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(u().isEventKey(e,"Right")||u().isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},n.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},n.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},n.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(Vr);Vr.registerComponent("Menu",Aa);var Da=function(e){function t(t,n){var r;void 0===n&&(n={}),(r=e.call(this,t,n)||this).menuButton_=new Ji(t,n),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var i=Ji.prototype.buildCSSClass();r.menuButton_.el_.className=r.buildCSSClass()+" "+i,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0;var a=function(e){return r.handleClick(e)};return r.handleMenuKeyUp_=function(e){return r.handleMenuKeyUp(e)},r.on(r.menuButton_,"tap",a),r.on(r.menuButton_,"click",a),r.on(r.menuButton_,"keydown",(function(e){return r.handleKeyDown(e)})),r.on(r.menuButton_,"mouseenter",(function(){r.addClass("vjs-hover"),r.menu.show(),pr(o(),"keyup",r.handleMenuKeyUp_)})),r.on("mouseleave",(function(e){return r.handleMouseLeave(e)})),r.on("keydown",(function(e){return r.handleSubmenuKeyDown(e)})),r}f(t,e);var n=t.prototype;return n.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},n.createMenu=function(){var e=new Aa(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=kn("li",{className:"vjs-menu-title",textContent:jr(this.options_.title),tabIndex:-1}),n=new Vr(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e},n.createItems=function(){},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Ji.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},n.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},n.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},n.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(e){this.removeClass("vjs-hover"),hr(o(),"keyup",this.handleMenuKeyUp_)},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(e){u().isEventKey(e,"Esc")||u().isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),u().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(u().isEventKey(e,"Up")||u().isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(e){(u().isEventKey(e,"Esc")||u().isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},n.handleSubmenuKeyDown=function(e){(u().isEventKey(e,"Esc")||u().isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),u().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),gn&&xn())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(Vr);Vr.registerComponent("MenuButton",Da);var Ma=function(e){function t(t,n){var r,i=n.tracks;if((r=e.call(this,t,n)||this).items.length<=1&&r.hide(),!i)return(0,c.Z)(r);var a=Sr((0,c.Z)(r),r.update);return i.addEventListener("removetrack",a),i.addEventListener("addtrack",a),i.addEventListener("labelchange",a),r.player_.on("ready",a),r.player_.on("dispose",(function(){i.removeEventListener("removetrack",a),i.removeEventListener("addtrack",a),i.removeEventListener("labelchange",a)})),r}return f(t,e),t}(Da);Vr.registerComponent("TrackButton",Ma);var Ra=["Tab","Esc","Up","Down","Right","Left"],Na=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).selectable=n.selectable,r.isSelected_=n.selected||!1,r.multiSelectable=n.multiSelectable,r.selected(r.isSelected_),r.selectable?r.multiSelectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitemradio"):r.el_.setAttribute("role","menuitem"),r}f(t,e);var n=t.prototype;return n.createEl=function(t,n,r){this.nonIconControl=!0;var i=e.prototype.createEl.call(this,"li",Wt({className:"vjs-menu-item",tabIndex:-1},n),r);return i.replaceChild(kn("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),i.querySelector(".vjs-icon-placeholder")),i},n.handleKeyDown=function(t){Ra.some((function(e){return u().isEventKey(t,e)}))||e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){this.selected(!0)},n.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(Wi);Vr.registerComponent("MenuItem",Na);var La=function(e){function t(t,n){var r,a=n.track,s=t.textTracks();n.label=a.label||a.language||"Unknown",n.selected="showing"===a.mode,(r=e.call(this,t,n)||this).track=a,r.kinds=(n.kinds||[n.kind||r.track.kind]).filter(Boolean);var l,u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleTracksChange.apply((0,c.Z)(r),t)},d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleSelectedLanguageChange.apply((0,c.Z)(r),t)};(t.on(["loadstart","texttrackchange"],u),s.addEventListener("change",u),s.addEventListener("selectedlanguagechange",d),r.on("dispose",(function(){t.off(["loadstart","texttrackchange"],u),s.removeEventListener("change",u),s.removeEventListener("selectedlanguagechange",d)})),void 0===s.onchange)&&r.on(["tap","click"],(function(){if("object"!==typeof i().Event)try{l=new(i().Event)("change")}catch(e){}l||(l=o().createEvent("Event")).initEvent("change",!0,!0),s.dispatchEvent(l)}));return r.handleTracksChange(),r}f(t,e);var n=t.prototype;return n.handleClick=function(t){var n=this.track,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var i=0;i<r.length;i++){var a=r[i];-1!==this.kinds.indexOf(a.kind)&&(a===n?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled"))}},n.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},n.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(Na);Vr.registerComponent("TextTrackMenuItem",La);var ja=function(e){function t(t,n){return n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,e.call(this,t,n)||this}f(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var a=t[r];if(this.options_.kinds.indexOf(a.kind)>-1&&"showing"===a.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var a=t[r];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&"showing"===a.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(La);Vr.registerComponent("OffTextTrackMenuItem",ja);var Ba=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.textTracks(),e.call(this,t,n)||this}return f(t,e),t.prototype.createItems=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t=La),this.label_&&(n=this.label_+" off"),e.push(new ja(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<r.length;i++){var a=r[i];if(this.kinds_.indexOf(a.kind)>-1){var o=new t(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass("vjs-"+a.kind+"-menu-item"),e.push(o)}}return e},t}(Ma);Vr.registerComponent("TextTrackButton",Ba);var Fa=function(e){function t(t,n){var r,i=n.track,a=n.cue,o=t.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=a.text,n.selected=a.startTime<=o&&o<a.endTime,(r=e.call(this,t,n)||this).track=i,r.cue=a,r}return f(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},t}(Na);Vr.registerComponent("ChaptersTrackMenuItem",Fa);var Ua=function(e){function t(t,n,r){var i;return(i=e.call(this,t,n,r)||this).selectCurrentItem_=function(){i.items.forEach((function(e){e.selected(i.track_.activeCues[0]===e.cue)}))},i}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){if(!t||!t.track||"chapters"===t.track.kind){var n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),e.prototype.update.call(this)):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&e.prototype.update.call(this)}},n.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},n.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(jr(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],a=new Fa(this.player_,{track:this.track_,cue:i});e.push(a)}return e},t}(Ba);Ua.prototype.kind_="chapters",Ua.prototype.controlText_="Chapters",Vr.registerComponent("ChaptersButton",Ua);var Ha=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=t.textTracks(),o=Sr((0,c.Z)(i),i.handleTracksChange);return a.addEventListener("change",o),i.on("dispose",(function(){a.removeEventListener("change",o)})),i}f(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,r=0,i=t.length;r<i;r++){var a=t[r];if(a.kind!==this.kind_&&"showing"===a.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Ba);Ha.prototype.kind_="descriptions",Ha.prototype.controlText_="Descriptions",Vr.registerComponent("DescriptionsButton",Ha);var za=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Ba);za.prototype.kind_="subtitles",za.prototype.controlText_="Subtitles",Vr.registerComponent("SubtitlesButton",za);var Va=function(e){function t(t,n){var r;return n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(r=e.call(this,t,n)||this).addClass("vjs-texttrack-settings"),r.controlText(", opens "+n.kind+" settings dialog"),r}return f(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(La);Vr.registerComponent("CaptionSettingsMenuItem",Va);var $a=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Va(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(Ba);$a.prototype.kind_="captions",$a.prototype.controlText_="Captions",Vr.registerComponent("CaptionsButton",$a);var Ga=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.createEl=function(t,n,r){var i=e.prototype.createEl.call(this,t,n,r),a=i.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(a.appendChild(kn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),a.appendChild(kn("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),i},t}(La);Vr.registerComponent("SubsCapsMenuItem",Ga);var Wa=function(e){function t(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,t,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(jr(r.label_)),r}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Va(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,Ga)},t}(Ba);Wa.prototype.kinds_=["captions","subtitles"],Wa.prototype.controlText_="Subtitles",Vr.registerComponent("SubsCapsButton",Wa);var qa=function(e){function t(t,n){var r,i=n.track,a=t.audioTracks();n.label=i.label||i.language||"Unknown",n.selected=i.enabled,(r=e.call(this,t,n)||this).track=i,r.addClass("vjs-"+i.kind+"-menu-item");var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleTracksChange.apply((0,c.Z)(r),t)};return a.addEventListener("change",o),r.on("dispose",(function(){a.removeEventListener("change",o)})),r}f(t,e);var n=t.prototype;return n.createEl=function(t,n,r){var i=e.prototype.createEl.call(this,t,n,r),a=i.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(a.appendChild(kn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),a.appendChild(kn("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i},n.handleClick=function(t){if(e.prototype.handleClick.call(this,t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var n=this.player_.audioTracks(),r=0;r<n.length;r++){var i=n[r];i!==this.track&&(i.enabled=i===this.track)}},n.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(Na);Vr.registerComponent("AudioTrackMenuItem",qa);var Za=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.audioTracks(),e.call(this,t,n)||this}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var r=t[n];e.push(new qa(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e},t}(Ma);Za.prototype.controlText_="Audio Track",Vr.registerComponent("AudioTrackButton",Za);var Ka=function(e){function t(t,n){var r,i=n.rate,a=parseFloat(i,10);return n.label=i,n.selected=a===t.playbackRate(),n.selectable=!0,n.multiSelectable=!1,(r=e.call(this,t,n)||this).label=i,r.rate=a,r.on(t,"ratechange",(function(e){return r.update(e)})),r}f(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(Na);Ka.prototype.contentElType="button",Vr.registerComponent("PlaybackRateMenuItem",Ka);var Xa=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).menuButton_.el_.setAttribute("aria-describedby",r.labelElId_),r.updateVisibility(),r.updateLabel(),r.on(t,"loadstart",(function(e){return r.updateVisibility(e)})),r.on(t,"ratechange",(function(e){return r.updateLabel(e)})),r.on(t,"playbackrateschange",(function(e){return r.handlePlaybackRateschange(e)})),r}f(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=kn("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){for(var e=this.playbackRates(),t=[],n=e.length-1;n>=0;n--)t.push(new Ka(this.player(),{rate:e[n]+"x"}));return t},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){var t=this.player().playbackRate(),n=this.playbackRates(),r=(n.indexOf(t)+1)%n.length;this.player().playbackRate(n[r])},n.handlePlaybackRateschange=function(e){this.update()},n.playbackRates=function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},t}(Da);Xa.prototype.controlText_="Playback Rate",Vr.registerComponent("PlaybackRateMenuButton",Xa);var Ya=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(t,n,r){return void 0===t&&(t="div"),void 0===n&&(n={}),void 0===r&&(r={}),n.className||(n.className=this.buildCSSClass()),e.prototype.createEl.call(this,t,n,r)},t}(Vr);Vr.registerComponent("Spacer",Ya);var Qa=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xa0"})},t}(Ya);Vr.registerComponent("CustomControlSpacer",Qa);var Ja=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(Vr);Ja.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in o()&&Ja.prototype.options_.children.splice(Ja.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Vr.registerComponent("ControlBar",Ja);var eo=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"error",(function(e){return r.open(e)})),r}f(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},n.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(ti);eo.prototype.options_=s({},ti.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Vr.registerComponent("ErrorDisplay",eo);var to="vjs-text-track-settings",no=["#000","Black"],ro=["#00F","Blue"],io=["#0FF","Cyan"],ao=["#0F0","Green"],oo=["#F0F","Magenta"],so=["#F00","Red"],lo=["#FFF","White"],uo=["#FF0","Yellow"],co=["1","Opaque"],fo=["0.5","Semi-Transparent"],po=["0","Transparent"],ho={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[no,lo,so,ao,ro,uo,oo,io]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[co,fo,po]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[lo,no,so,ao,ro,uo,oo,io]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[co,fo]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[po,fo,co]}};function mo(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}ho.windowColor.options=ho.backgroundColor.options;var go=function(e){function t(t,n){var r;return n.temporary=!1,(r=e.call(this,t,n)||this).updateDisplay=r.updateDisplay.bind((0,c.Z)(r)),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=kn("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===n.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",(function(){r.saveSettings(),r.close()})),r.on(r.$(".vjs-default-button"),"click",(function(){r.setDefaults(),r.updateDisplay()})),Gt(ho,(function(e){r.on(r.$(e.selector),"change",r.updateDisplay)})),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}f(t,e);var n=t.prototype;return n.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.createElSelect_=function(e,t,n){var r=this;void 0===t&&(t=""),void 0===n&&(n="label");var i=ho[e],a=i.id.replace("%s",this.id_),o=[t,a].join(" ").trim();return["<"+n+' id="'+a+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(i.label),"</"+n+">",'<select aria-labelledby="'+o+'">'].concat(i.options.map((function(e){var t=a+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+o+" "+t+'">',r.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")},n.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return kn("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return kn("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var e=this.localize("restore all settings to the default values");return kn("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var e,t,n,r=this;return t=function(e,t,n){var i,a,o=(i=r.$(t.selector),a=t.parser,mo(i.options[i.options.selectedIndex].value,a));return void 0!==o&&(e[n]=o),e},void 0===(n={})&&(n=0),$t(e=ho).reduce((function(n,r){return t(n,e[r],r)}),n)},n.setValues=function(e){var t=this;Gt(ho,(function(n,r){!function(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(mo(e.options[r].value,n)===t){e.selectedIndex=r;break}}(t.$(n.selector),e[r],n.parser)}))},n.setDefaults=function(){var e=this;Gt(ho,(function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n}))},n.restoreSettings=function(){var e;try{e=JSON.parse(i().localStorage.getItem(to))}catch(t){Ht.warn(t)}e&&this.setValues(e)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?i().localStorage.setItem(to,JSON.stringify(e)):i().localStorage.removeItem(to)}catch(t){Ht.warn(t)}}},n.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},t}(ti);Vr.registerComponent("TextTrackSettings",go);var vo=function(e){function t(t,n){var r,a=n.ResizeObserver||i().ResizeObserver;null===n.ResizeObserver&&(a=!1);var o=Br({createEl:!a,reportTouchActivity:!1},n);return(r=e.call(this,t,o)||this).ResizeObserver=n.ResizeObserver||i().ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=function(e,t,n,r){var a;void 0===r&&(r=i());var o=function(){var i=this,o=arguments,s=function(){a=null,s=null,n||e.apply(i,o)};!a&&n&&e.apply(i,o),r.clearTimeout(a),a=r.setTimeout(s,t)};return o.cancel=function(){r.clearTimeout(a),a=null},o}((function(){r.resizeHandler()}),100,!1,(0,c.Z)(r)),a?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(t.el())):(r.loadListener_=function(){if(r.el_&&r.el_.contentWindow){var e=r.debouncedHandler_,t=r.unloadListener_=function(){hr(this,"resize",e),hr(this,"unload",t),t=null};pr(r.el_.contentWindow,"unload",t),pr(r.el_.contentWindow,"resize",e)}},r.one("load",r.loadListener_)),r}f(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(Vr);Vr.registerComponent("ResizeManager",vo);var yo={trackingThreshold:20,liveTolerance:15},bo=function(e){function t(t,n){var r,i=Br(yo,n,{createEl:!1});return(r=e.call(this,t,i)||this).handleVisibilityChange_=function(e){return r.handleVisibilityChange(e)},r.trackLiveHandler_=function(){return r.trackLive_()},r.handlePlay_=function(e){return r.handlePlay(e)},r.handleFirstTimeupdate_=function(e){return r.handleFirstTimeupdate(e)},r.handleSeeked_=function(e){return r.handleSeeked(e)},r.seekToLiveEdge_=function(e){return r.seekToLiveEdge(e)},r.reset_(),r.on(r.player_,"durationchange",(function(e){return r.handleDurationchange(e)})),r.on(r.player_,"canplay",(function(){return r.toggleTracking()})),cn&&"hidden"in o()&&"visibilityState"in o()&&r.on(o(),"visibilitychange",r.handleVisibilityChange_),r}f(t,e);var n=t.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(o().hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var t=Number(i().performance.now().toFixed(4)),n=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+n;var r=this.liveCurrentTime(),a=this.player_.currentTime(),o=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-a)>this.options_.liveTolerance;this.timeupdateSeen_&&r!==1/0||(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.toggleTracking()},n.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,wr),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},n.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},n.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},n.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0},n.seekableStart=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0},n.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"===typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(o(),"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),e.prototype.dispose.call(this)},t}(Vr);Vr.registerComponent("LiveTracker",bo);var wo,So=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),r=[],i="";if(!n.length)return!1;for(var a=0;a<n.length;a++){var o=n[a].src;o&&-1===r.indexOf(o)&&r.push(o)}return!!r.length&&(1===r.length&&(i=r[0]),e.triggerSourceset(i),!0)},_o=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=o().createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=o().createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",i().Element.prototype.appendChild.call(this,n),this.innerHTML}}),xo=function(e,t){for(var n={},r=0;r<e.length&&!((n=Object.getOwnPropertyDescriptor(e[r],t))&&n.set&&n.get);r++);return n.enumerable=!0,n.configurable=!0,n},To=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},r=function(e){return xo([e.el(),i().HTMLMediaElement.prototype,i().Element.prototype,_o],"innerHTML")}(e),a=function(n){return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=n.apply(t,i);return So(e),o}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){t[e]&&(n[e]=t[e],t[e]=a(n[e]))})),Object.defineProperty(t,"innerHTML",Br(r,{set:a(r.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach((function(e){t[e]=n[e]})),Object.defineProperty(t,"innerHTML",r)},e.one("sourceset",t.resetSourceWatch_)}},ko=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?vi(i().Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return i().Element.prototype.setAttribute.call(this,"src",e),e}}),Eo=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=function(e){return xo([e.el(),i().HTMLMediaElement.prototype,ko],"src")}(e),r=t.setAttribute,a=t.load;Object.defineProperty(t,"src",Br(n,{set:function(r){var i=n.set.call(t,r);return e.triggerSourceset(t.src),i}})),t.setAttribute=function(n,i){var a=r.call(t,n,i);return/src/i.test(n)&&e.triggerSourceset(t.src),a},t.load=function(){var n=a.call(t);return So(e)||(e.triggerSourceset(""),To(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):So(e)||To(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=a,t.setAttribute=r,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},Co=function(e,t,n,r){void 0===r&&(r=!0);var i=function(n){return Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0})},a={configurable:!0,enumerable:!0,get:function(){var e=n();return i(e),e}};return r&&(a.set=i),Object.defineProperty(e,t,a)},Oo=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i=t.source,a=!1;if(i&&(r.el_.currentSrc!==i.src||t.tag&&3===t.tag.initNetworkState_)?r.setSource(i):r.handleLateInit_(r.el_),t.enableSourceset&&r.setupSourcesetHandling_(),r.isScrubbing_=!1,r.el_.hasChildNodes()){for(var o=r.el_.childNodes,s=o.length,l=[];s--;){var u=o[s];"track"===u.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(u),r.remoteTextTracks().addTrack(u.track),r.textTracks().addTrack(u.track),a||r.el_.hasAttribute("crossorigin")||!bi(u.src)||(a=!0)):l.push(u))}for(var c=0;c<l.length;c++)r.el_.removeChild(l[c])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&a&&Ht.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),r.restoreMetadataTracksInIOSNativePlayer_(),(pn||mn||an)&&!0===t.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.featuresVideoFrameCallback=r.featuresVideoFrameCallback&&"VIDEO"===r.el_.tagName,r.triggerReady(),r}f(t,e);var n=t.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){Eo(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var r=t[n];"metadata"===r.kind&&e.push({track:r,storedMode:r.mode})}};n(),t.addEventListener("change",n),this.on("dispose",(function(){return t.removeEventListener("change",n)}));var r=function n(){for(var r=0;r<e.length;r++){var i=e[r];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",n),t.removeEventListener("change",r),t.addEventListener("change",r)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",r)}))},n.overrideNative_=function(e,t){var n=this;if(t===this["featuresNative"+e+"Tracks"]){var r=e.toLowerCase();this[r+"TracksListeners_"]&&Object.keys(this[r+"TracksListeners_"]).forEach((function(e){n.el()[r+"Tracks"].removeEventListener(e,n[r+"TracksListeners_"][e])})),this["featuresNative"+e+"Tracks"]=!t,this[r+"TracksListeners_"]=null,this.proxyNativeTracksForType_(r)}},n.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},n.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},n.proxyNativeTracksForType_=function(e){var t=this,n=Ci[e],r=this.el()[n.getterName],i=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&r&&r.addEventListener){var a={change:function(n){var r={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(r),"text"===e&&t[Oi.remoteText.getterName]().trigger(r)},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},o=function(){for(var e=[],t=0;t<i.length;t++){for(var n=!1,a=0;a<r.length;a++)if(r[a]===i[t]){n=!0;break}n||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=a,Object.keys(a).forEach((function(e){var n=a[e];r.addEventListener(e,n),t.on("dispose",(function(t){return r.removeEventListener(e,n)}))})),this.on("loadstart",o),this.on("dispose",(function(e){return t.off("loadstart",o)}))}},n.proxyNativeTracks_=function(){var e=this;Ci.names.forEach((function(t){e.proxyNativeTracksForType_(t)}))},n.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=o().createElement("video");var r=Br({},this.options_.tag&&Mn(this.options_.tag));pn&&!0===this.options_.nativeControlsForTouch||delete r.controls,Dn(e,Wt(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}"undefined"!==typeof this.options_.preload&&Nn(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var i=["loop","muted","playsinline","autoplay"],a=0;a<i.length;a++){var s=i[a],l=this.options_[s];"undefined"!==typeof l&&(l?Nn(e,s,s):Ln(e,s),e[s]=l)}return e},n.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")}))}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready((function(){i.forEach((function(e){this.trigger(e)}),this)}))}},n.setScrubbing=function(e){this.isScrubbing_=e},n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&vn?this.el_.fastSeek(e):this.el_.currentTime=e}catch(t){Ht(t,"Video is not ready. (Video.js)")}},n.duration=function(){var e=this;if(this.el_.duration===1/0&&nn&&ln&&0===this.el_.currentTime){return this.on("timeupdate",(function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))})),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)}))}},n.supportsFullScreen=function(){if("function"===typeof this.el_.webkitEnterFullScreen){var e=i().navigator&&i().navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},n.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Yr(this.el_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}}),0);else try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},n.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.requestVideoFrameCallback=function(t){return this.featuresVideoFrameCallback?this.el_.requestVideoFrameCallback(t):e.prototype.requestVideoFrameCallback.call(this,t)},n.cancelVideoFrameCallback=function(t){this.featuresVideoFrameCallback?this.el_.cancelVideoFrameCallback(t):e.prototype.cancelVideoFrameCallback.call(this,t)},n.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},n.reset=function(){t.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(e){this.el_.controls=!!e},n.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=o().createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},n.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},n.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},n.getVideoPlaybackQuality=function(){if("function"===typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return"undefined"!==typeof this.el().webkitDroppedFrameCount&&"undefined"!==typeof this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),i().performance&&"function"===typeof i().performance.now?e.creationTime=i().performance.now():i().performance&&i().performance.timing&&"number"===typeof i().performance.timing.navigationStart&&(e.creationTime=i().Date.now()-i().performance.timing.navigationStart),e},t}(Ii);Co(Oo,"TEST_VID",(function(){if(Sn()){var e=o().createElement("video"),t=o().createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}})),Oo.isSupported=function(){try{Oo.TEST_VID.volume=.5}catch(e){return!1}return!(!Oo.TEST_VID||!Oo.TEST_VID.canPlayType)},Oo.canPlayType=function(e){return Oo.TEST_VID.canPlayType(e)},Oo.canPlaySource=function(e,t){return Oo.canPlayType(e.type)},Oo.canControlVolume=function(){try{var e=Oo.TEST_VID.volume;Oo.TEST_VID.volume=e/2+.1;var t=e!==Oo.TEST_VID.volume;return t&&gn?(i().setTimeout((function(){Oo&&Oo.prototype&&(Oo.prototype.featuresVolumeControl=e!==Oo.TEST_VID.volume)})),!1):t}catch(n){return!1}},Oo.canMuteVolume=function(){try{var e=Oo.TEST_VID.muted;return Oo.TEST_VID.muted=!e,Oo.TEST_VID.muted?Nn(Oo.TEST_VID,"muted","muted"):Ln(Oo.TEST_VID,"muted"),e!==Oo.TEST_VID.muted}catch(t){return!1}},Oo.canControlPlaybackRate=function(){if(nn&&ln&&un<58)return!1;try{var e=Oo.TEST_VID.playbackRate;return Oo.TEST_VID.playbackRate=e/2+.1,e!==Oo.TEST_VID.playbackRate}catch(t){return!1}},Oo.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(o().createElement("video"),"src",{get:e,set:e}),Object.defineProperty(o().createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(o().createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(o().createElement("audio"),"innerHTML",{get:e,set:e})}catch(t){return!1}return!0},Oo.supportsNativeTextTracks=function(){return vn||gn&&ln},Oo.supportsNativeVideoTracks=function(){return!(!Oo.TEST_VID||!Oo.TEST_VID.videoTracks)},Oo.supportsNativeAudioTracks=function(){return!(!Oo.TEST_VID||!Oo.TEST_VID.audioTracks)},Oo.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(e){var t=e[0],n=e[1];Co(Oo.prototype,t,(function(){return Oo[n]()}),!0)})),Oo.prototype.featuresVolumeControl=Oo.canControlVolume(),Oo.prototype.movingMediaElementInDOM=!gn,Oo.prototype.featuresFullscreenResize=!0,Oo.prototype.featuresProgressEvents=!0,Oo.prototype.featuresTimeupdateEvents=!0,Oo.prototype.featuresVideoFrameCallback=!(!Oo.TEST_VID||!Oo.TEST_VID.requestVideoFrameCallback),Oo.patchCanPlayType=function(){rn>=4&&!on&&!ln&&(wo=Oo.TEST_VID&&Oo.TEST_VID.constructor.prototype.canPlayType,Oo.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":wo.call(this,e)})},Oo.unpatchCanPlayType=function(){var e=Oo.TEST_VID.constructor.prototype.canPlayType;return wo&&(Oo.TEST_VID.constructor.prototype.canPlayType=wo),e},Oo.patchCanPlayType(),Oo.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"===typeof e.load&&function(){try{e.load()}catch(t){}}()}},Oo.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"===typeof e.load&&function(){try{e.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){Oo.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){Oo.prototype["set"+jr(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){Oo.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(e){Oo.prototype["set"+jr(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){Oo.prototype[e]=function(){return this.el_[e]()}})),Ii.withSourceHandlers(Oo),Oo.nativeSourceHandler={},Oo.nativeSourceHandler.canPlayType=function(e){try{return Oo.TEST_VID.canPlayType(e)}catch(t){return""}},Oo.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Oo.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=yi(e.src);return Oo.nativeSourceHandler.canPlayType("video/"+n)}return""},Oo.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},Oo.nativeSourceHandler.dispose=function(){},Oo.registerSourceHandler(Oo.nativeSourceHandler),Ii.registerTech("Html5",Oo);var Po=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Io={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Ao=["tiny","xsmall","small","medium","large","xlarge","huge"],Do={};Ao.forEach((function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;Do[e]="vjs-layout-"+t}));var Mo={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Ro=function(e){function t(n,r,i){var a;if(n.id=n.id||r.id||"vjs_video_"+or(),(r=Wt(t.getTagSettings(n),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"===typeof n.closest){var s=n.closest("[lang]");s&&s.getAttribute&&(r.language=s.getAttribute("lang"))}else for(var l=n;l&&1===l.nodeType;){if(Mn(l).hasOwnProperty("lang")){r.language=l.getAttribute("lang");break}l=l.parentNode}if((a=e.call(this,null,r,i)||this).boundDocumentFullscreenChange_=function(e){return a.documentFullscreenChange_(e)},a.boundFullWindowOnEscKey_=function(e){return a.fullWindowOnEscKey(e)},a.boundUpdateStyleEl_=function(e){return a.updateStyleEl_(e)},a.boundApplyInitTime_=function(e){return a.applyInitTime_(e)},a.boundUpdateCurrentBreakpoint_=function(e){return a.updateCurrentBreakpoint_(e)},a.boundHandleTechClick_=function(e){return a.handleTechClick_(e)},a.boundHandleTechDoubleClick_=function(e){return a.handleTechDoubleClick_(e)},a.boundHandleTechTouchStart_=function(e){return a.handleTechTouchStart_(e)},a.boundHandleTechTouchMove_=function(e){return a.handleTechTouchMove_(e)},a.boundHandleTechTouchEnd_=function(e){return a.handleTechTouchEnd_(e)},a.boundHandleTechTap_=function(e){return a.handleTechTap_(e)},a.isFullscreen_=!1,a.log=zt(a.id_),a.fsApi_=Nt,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,a.debugEnabled_=!1,a.audioOnlyMode_=!1,a.audioPosterMode_=!1,a.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=n,a.tagAttributes=n&&Mn(n),a.language(a.options_.language),r.languages){var u={};Object.getOwnPropertyNames(r.languages).forEach((function(e){u[e.toLowerCase()]=r.languages[e]})),a.languages_=u}else a.languages_=t.prototype.options_.languages;a.resetCache_(),a.poster_=r.poster||"",a.controls_=!!r.controls,n.controls=!1,n.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],n.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach((function(e){if("function"!==typeof a[e])throw new Error('plugin "'+e+'" does not exist')})),a.scrubbing_=!1,a.el_=a.createEl(),Mr((0,c.Z)(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(pr(o(),a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on(["playerreset","resize"],a.boundUpdateStyleEl_);var d=Br(a.options_);r.plugins&&Object.keys(r.plugins).forEach((function(e){a[e](r.plugins[e])})),r.debug&&a.debug(!0),a.options_.playerOptions=d,a.middleware_=[],a.playbackRates(r.playbackRates),a.initChildren(),a.isAudio("audio"===n.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),pn&&a.addClass("vjs-touch-enabled"),gn||a.addClass("vjs-workinghover"),t.players[a.id_]=(0,c.Z)(a);var f=At.split(".")[0];return a.addClass("vjs-v"+f),a.userActive(!0),a.reportUserActivity(),a.one("play",(function(e){return a.listenForUserActivity_(e)})),a.on("stageclick",(function(e){return a.handleStageClick_(e)})),a.on("keydown",(function(e){return a.handleKeyDown(e)})),a.on("languagechange",(function(e){return a.handleLanguagechange(e)})),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a.on("ready",(function(){a.audioPosterMode(a.options_.audioPosterMode),a.audioOnlyMode(a.options_.audioOnlyMode)})),a}f(t,e);var n=t.prototype;return n.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),hr(o(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),hr(o(),"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Di[this.id()]=null,Pi.names.forEach((function(e){var t=Pi[e],r=n[t.getterName]();r&&r.off&&r.off()})),e.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},n.createEl=function(){var t,n=this.tag,r=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),a="video-js"===this.tag.tagName.toLowerCase();r?t=this.el_=n.parentNode:a||(t=this.el_=e.prototype.createEl.call(this,"div"));var s=Mn(n);if(a){for(t=this.el_=n,n=this.tag=o().createElement("video");t.children.length;)n.appendChild(t.firstChild);On(t,"video-js")||Pn(t,"video-js"),t.appendChild(n),r=this.playerElIngest_=t,Object.keys(t).forEach((function(e){try{n[e]=t[e]}catch(r){}}))}if(n.setAttribute("tabindex","-1"),s.tabindex="-1",(cn||ln&&fn)&&(n.setAttribute("role","application"),s.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach((function(e){a&&"class"===e||t.setAttribute(e,s[e]),a&&n.setAttribute(e,s[e])})),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),!0!==i().VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=rr("vjs-styles-dimensions");var l=Kn(".vjs-styles-defaults"),u=Kn("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var c=n.getElementsByTagName("a"),d=0;d<c.length;d++){var f=c.item(d);Pn(f,"vjs-hidden"),f.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!r&&n.parentNode.insertBefore(t,n),Cn(n,t),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=t,t},n.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):Ht.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},n.width=function(e){return this.dimension("width",e)},n.height=function(e){return this.dimension("height",e)},n.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t||"auto"===t)return this[n]=void 0,void this.updateStyleEl_();var r=parseFloat(t);isNaN(r)?Ht.error('Improper value "'+t+'" supplied for for '+e):(this[n]=r,this.updateStyleEl_())},n.fluid=function(e){var t,n,r=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,kr(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),n=function(){r.on(["playerreset","resize"],r.boundUpdateStyleEl_)},kr(t=this)?n():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==i().VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),a=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/a:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*a,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),ir(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: "+100*a+"%;\n      }\n    ")}else{var o="number"===typeof this.width_?this.width_:this.options_.width,s="number"===typeof this.height_?this.height_:this.options_.height,l=this.tech_&&this.tech_.el();l&&(o>=0&&(l.width=o),s>=0&&(l.height=s))}},n.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var r=jr(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==r&&this.tag&&(Ii.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var a=this.autoplay();("string"===typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(a=!1);var o={source:t,autoplay:a,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Pi.names.forEach((function(e){var t=Pi[e];o[t.getterName]=n[t.privateName]})),Wt(o,this.options_[r]),Wt(o,this.options_[i]),Wt(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var s=Ii.getTech(e);if(!s)throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'");this.tech_=new s(o),this.tech_.ready(Sr(this,this.handleTechReady_),!0),ei(this.textTracksJson_||[],this.tech_),Po.forEach((function(e){n.on(n.tech_,e,(function(t){return n["handleTech"+jr(e)+"_"](t)}))})),Object.keys(Io).forEach((function(e){n.on(n.tech_,e,(function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Io[e]+"_"].bind(n),event:t}):n["handleTech"+Io[e]+"_"](t)}))})),this.on(this.tech_,"loadstart",(function(e){return n.handleTechLoadStart_(e)})),this.on(this.tech_,"sourceset",(function(e){return n.handleTechSourceset_(e)})),this.on(this.tech_,"waiting",(function(e){return n.handleTechWaiting_(e)})),this.on(this.tech_,"ended",(function(e){return n.handleTechEnded_(e)})),this.on(this.tech_,"seeking",(function(e){return n.handleTechSeeking_(e)})),this.on(this.tech_,"play",(function(e){return n.handleTechPlay_(e)})),this.on(this.tech_,"firstplay",(function(e){return n.handleTechFirstPlay_(e)})),this.on(this.tech_,"pause",(function(e){return n.handleTechPause_(e)})),this.on(this.tech_,"durationchange",(function(e){return n.handleTechDurationChange_(e)})),this.on(this.tech_,"fullscreenchange",(function(e,t){return n.handleTechFullscreenChange_(e,t)})),this.on(this.tech_,"fullscreenerror",(function(e,t){return n.handleTechFullscreenError_(e,t)})),this.on(this.tech_,"enterpictureinpicture",(function(e){return n.handleTechEnterPictureInPicture_(e)})),this.on(this.tech_,"leavepictureinpicture",(function(e){return n.handleTechLeavePictureInPicture_(e)})),this.on(this.tech_,"error",(function(e){return n.handleTechError_(e)})),this.on(this.tech_,"posterchange",(function(e){return n.handleTechPosterChange_(e)})),this.on(this.tech_,"textdata",(function(e){return n.handleTechTextData_(e)})),this.on(this.tech_,"ratechange",(function(e){return n.handleTechRateChange_(e)})),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||Cn(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var e=this;Pi.names.forEach((function(t){var n=Pi[t];e[n.privateName]=e[n.getterName]()})),this.textTracksJson_=Jr(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(e){return void 0===e&&Ht.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},n.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"===typeof e){var n,r=function(){var e=t.muted();t.muted(!0);var n=function(){t.muted(e)};t.playTerminatedQueue_.push(n);var r=t.play();if(Xr(r))return r.catch((function(e){throw n(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(e||""))}))};if("any"!==e||this.muted()?n="muted"!==e||this.muted()?this.play():r():Xr(n=this.play())&&(n=n.catch(r)),Xr(n))return n.then((function(){t.trigger({type:"autoplay-success",autoplay:e})})).catch((function(){t.trigger({type:"autoplay-failure",autoplay:e})}))}},n.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,n="";"string"!==typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter((function(e){return e.src===t}));if(n.length)return n[0].type;for(var r=e.$$("source"),i=0;i<r.length;i++){var a=r[i];if(a.type&&a.src&&a.src===t)return a.type}return zi(t)}(this,t)),this.cache_.source=Br({},e,{src:t,type:n});for(var r=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),i=[],a=this.$$("source"),o=[],s=0;s<a.length;s++){var l=Mn(a[s]);i.push(l),l.src&&l.src===t&&o.push(l.src)}o.length&&!r.length?this.cache_.sources=i:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},n.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},r=this.currentSource().src,i=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==r)&&(n=function(){}),n(i),e.src||this.tech_.any(["sourceset","loadstart"],(function(e){if("sourceset"!==e.type){var n=t.techGet("currentSrc");t.lastSource_.tech=n,t.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},n.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(e){return e.callback(e.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",(function n(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",n))}))},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(Ht.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"===typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?Yr(this.play()):this.pause()))},n.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(t){return t.contains(e.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"===typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(e){var t=e.target.player;if(!t||t===this){var n=this.el(),r=o()[this.fsApi_.fullscreenElement]===n;!r&&n.matches?r=n.matches(":"+this.fsApi_.fullscreen):!r&&n.msMatchesSelector&&(r=n.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}},n.handleTechFullscreenChange_=function(e,t){var n=this;t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",(function(){n.removeClass("vjs-ios-native-fs")}))),this.isFullscreen(t.isFullscreen))},n.handleTechFullscreenError_=function(e,t){this.trigger("fullscreenerror",t)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var e=this.tech_.error();this.error(e)},n.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},n.techCall_=function(e,t){this.ready((function(){if(e in ji)return function(e,t,n,r){return t[n](e.reduce(Fi(n),r))}(this.middleware_,this.tech_,e,t);if(e in Bi)return Ni(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(n){throw Ht(n),n}}),!0)},n.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Li)return function(e,t,n){return e.reduceRight(Fi(n),t[n]())}(this.middleware_,this.tech_,e);if(e in Bi)return Ni(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw Ht("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw Ht("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw Ht(t),t}}},n.play=function(){var e=this,t=this.options_.Promise||i().Promise;return t?new t((function(t){e.play_(t)})):this.play_()},n.play_=function(e){var t=this;void 0===e&&(e=Yr),this.playCallbacks_.push(e);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!vn&&!gn||this.load());var r=this.techGet_("play");null===r?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)},n.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))},n.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||Wr(0,0)},n.scrubbing=function(e){if("undefined"===typeof e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(e){return"undefined"!==typeof e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=Wr(0,0)),e},n.bufferedPercent=function(){return qr(this.buffered(),this.duration())},n.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},n.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},n.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},n.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(e){if(void 0!==e){var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},n.requestFullscreen=function(e){var t=this.options_.Promise||i().Promise;if(t){var n=this;return new t((function(t,r){function i(){n.off("fullscreenerror",o),n.off("fullscreenchange",a)}function a(){i(),t()}function o(e,t){i(),r(t)}n.one("fullscreenchange",a),n.one("fullscreenerror",o);var s=n.requestFullscreenHelper_(e);s&&(s.then(i,i),s.then(t,r))}))}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(e){var t,n=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){var r=this.el_[this.fsApi_.requestFullscreen](t);return r&&r.then((function(){return n.isFullscreen(!0)}),(function(){return n.isFullscreen(!1)})),r}this.tech_.supportsFullScreen()&&!0===!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var e=this.options_.Promise||i().Promise;if(e){var t=this;return new e((function(e,n){function r(){t.off("fullscreenerror",a),t.off("fullscreenchange",i)}function i(){r(),e()}function a(e,t){r(),n(t)}t.one("fullscreenchange",i),t.one("fullscreenerror",a);var o=t.exitFullscreenHelper_();o&&(o.then(r,r),o.then(e,n))}))}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=o()[this.fsApi_.exitFullscreen]();return t&&Yr(t.then((function(){return e.isFullscreen(!1)}))),t}this.tech_.supportsFullScreen()&&!0===!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=o().documentElement.style.overflow,pr(o(),"keydown",this.boundFullWindowOnEscKey_),o().documentElement.style.overflow="hidden",Pn(o().body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(e){u().isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,hr(o(),"keydown",this.boundFullWindowOnEscKey_),o().documentElement.style.overflow=this.docOrigOverflow,In(o().body,"vjs-full-window"),this.trigger("exitFullWindow")},n.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},n.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in o()&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in o())return o().exitPictureInPicture()},n.handleKeyDown=function(e){var t=this.options_.userActions;if(t&&t.hotkeys){(function(e){var t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;if("input"===t)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type);return-1!==["textarea"].indexOf(t)})(this.el_.ownerDocument.activeElement)||("function"===typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}},n.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},n=t.fullscreenKey,r=void 0===n?function(e){return u().isEventKey(e,"f")}:n,i=t.muteKey,a=void 0===i?function(e){return u().isEventKey(e,"m")}:i,s=t.playPauseKey,l=void 0===s?function(e){return u().isEventKey(e,"k")||u().isEventKey(e,"Space")}:s;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();var c=Vr.getComponent("FullscreenToggle");!1!==o()[this.fsApi_.fullscreenEnabled]&&c.prototype.handleClick.call(this,e)}else if(a.call(this,e)){e.preventDefault(),e.stopPropagation(),Vr.getComponent("MuteToggle").prototype.handleClick.call(this,e)}else if(l.call(this,e)){e.preventDefault(),e.stopPropagation(),Vr.getComponent("PlayToggle").prototype.handleClick.call(this,e)}},n.canPlayType=function(e){for(var t,n=0,r=this.options_.techOrder;n<r.length;n++){var i=r[n],a=Ii.getTech(i);if(a||(a=Vr.getComponent(i)),a){if(a.isSupported()&&(t=a.canPlayType(e)))return t}else Ht.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(e){var t,n,r=this,i=this.options_.techOrder.map((function(e){return[e,Ii.getTech(e)]})).filter((function(e){var t=e[0],n=e[1];return n?n.isSupported():(Ht.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),a=function(e,t,n){var r;return e.some((function(e){return t.some((function(t){if(r=n(e,t))return!0}))})),r},o=function(e,t){var n=e[0];if(e[1].canPlaySource(t,r.options_[n.toLowerCase()]))return{source:t,tech:n}};return t=this.options_.sourceOrder?a(e,i,(n=o,function(e,t){return n(t,e)})):a(i,e,o),t||!1},n.handleSrc_=function(e,t){var n=this;if("undefined"===typeof e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var r=Vi(e);if(r.length){if(this.changingSrc_=!0,t||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),Ri(this,r[0],(function(e,i){var a,o;if(n.middleware_=i,t||(n.cache_.sources=r),n.updateSourceCaches_(e),n.src_(e))return r.length>1?n.handleSrc_(r.slice(1)):(n.changingSrc_=!1,n.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0),void n.triggerReady());a=i,o=n.tech_,a.forEach((function(e){return e.setTech&&e.setTech(o)}))})),this.options_.retryOnError&&r.length>1){var i=function(){n.error(null),n.handleSrc_(r.slice(1),!0)},a=function(){n.off("error",i)};this.one("error",i),this.one("playing",a),this.resetRetryOnError_=function(){n.off("error",i),n.off("playing",a)}}}else this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0)},n.src=function(e){return this.handleSrc_(e,!1)},n.src_=function(e){var t,n,r=this,i=this.selectSource([e]);return!i||(t=i.tech,n=this.techName_,jr(t)!==jr(n)?(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready((function(){r.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){var e=this,t=this.options_.Promise||i().Promise;this.paused()||!t?this.doReset_():Yr(this.play().then((function(){return e.doReset_()})))},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),kr(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar||{},t=e.durationDisplay,n=e.remainingTimeDisplay;t&&t.updateContent(),n&&n.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},n.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"===typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"===typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t="undefined"===typeof t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},n.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},n.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},n.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(e){var t=this;if(void 0===e)return this.error_||null;if(Mt("beforeerror").forEach((function(n){var r=n(t,e);qt(r)&&!Array.isArray(r)||"string"===typeof r||"number"===typeof r||null===r?e=r:t.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppressNotSupportedError&&e&&4===e.code){var n=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),void this.one("loadstart",(function(){this.off(["click","touchstart"],n)}))}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Zr(e),this.addClass("vjs-error"),Ht.error("(CODE:"+this.error_.code+" "+Zr.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),Mt("error").forEach((function(e){return e(t,t.error_)}))},n.reportUserActivity=function(e){this.userActivity_=!0},n.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var e,t,n,r=Sr(this,this.reportUserActivity),i=function(t){r(),this.clearInterval(e)};this.on("mousedown",(function(){r(),this.clearInterval(e),e=this.setInterval(r,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())})),this.on("mouseup",i),this.on("mouseleave",i);var a,o=this.getChild("controlBar");!o||gn||nn||(o.on("mouseenter",(function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0})),o.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",r),this.on("keyup",r),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(a);var e=this.options_.inactivityTimeout;e<=0||(a=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}}),250)},n.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},n.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},n.enableAudioOnlyUI_=function(){var e=this;this.addClass("vjs-audio-only-mode");var t=this.children(),n=this.getChild("ControlBar"),r=n&&n.currentHeight();t.forEach((function(t){t!==n&&t.el_&&!t.hasClass("vjs-hidden")&&(t.hide(),e.audioOnlyCache_.hiddenChildren.push(t))})),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(r),this.trigger("audioonlymodechange")},n.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach((function(e){return e.show()})),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},n.audioOnlyMode=function(e){var t=this;if("boolean"!==typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=e;var n=this.options_.Promise||i().Promise;if(n){if(e){var r=[];return this.isInPictureInPicture()&&r.push(this.exitPictureInPicture()),this.isFullscreen()&&r.push(this.exitFullscreen()),this.audioPosterMode()&&r.push(this.audioPosterMode(!1)),n.all(r).then((function(){return t.enableAudioOnlyUI_()}))}return n.resolve().then((function(){return t.disableAudioOnlyUI_()}))}e?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},n.enablePosterModeUI_=function(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.disablePosterModeUI_=function(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},n.audioPosterMode=function(e){var t=this;if("boolean"!==typeof e||e===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=e;var n=this.options_.Promise||i().Promise;return n?e?this.audioOnlyMode()?this.audioOnlyMode(!1).then((function(){t.enablePosterModeUI_()})):n.resolve().then((function(){t.enablePosterModeUI_()})):n.resolve().then((function(){t.disablePosterModeUI_()})):e?(this.audioOnlyMode()&&this.audioOnlyMode(!1),void this.enablePosterModeUI_()):void this.disablePosterModeUI_()},n.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},n.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},n.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),kr(this)&&this.trigger("languagechange"))},n.languages=function(){return Br(t.prototype.options_.languages,this.languages_)},n.toJSON=function(){var e=Br(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];(r=Br(r)).player=void 0,e.tracks[n]=r}return e},n.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var r=new ti(this,t);return this.addChild(r),r.on("dispose",(function(){n.removeChild(r)})),r.open(),r},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<Ao.length;n++){var r=Ao[n];if(t<=this.breakpoints_[r]){if(e===r)return;e&&this.removeClass(Do[e]),this.addClass(Do[r]),this.breakpoint_=r;break}}},n.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},n.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=Wt({},Mo,e),this.updateCurrentBreakpoint_()),Wt(this.breakpoints_)},n.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return Do[this.breakpoint_]||""},n.loadMedia=function(e,t){var n=this;if(e&&"object"===typeof e){this.reset(),this.cache_.media=Br(e);var r=this.cache_.media,i=r.artwork,a=r.poster,o=r.src,s=r.textTracks;!i&&a&&(this.cache_.media.artwork=[{src:a,type:zi(a)}]),o&&this.src(o),a&&this.poster(a),Array.isArray(s)&&s.forEach((function(e){return n.addRemoteTextTrack(e,!1)})),this.ready(t)}},n.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}}))};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:zi(t.poster)}]),t}return Br(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=Mn(e),r=n["data-setup"];if(On(e,"vjs-fill")&&(n.fill=!0),On(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var i=h()(r||"{}"),a=i[0],o=i[1];a&&Ht.error(a),Wt(n,o)}if(Wt(t,n),e.hasChildNodes())for(var s=e.childNodes,l=0,u=s.length;l<u;l++){var c=s[l],d=c.nodeName.toLowerCase();"source"===d?t.sources.push(Mn(c)):"track"===d&&t.tracks.push(Mn(c))}return t},n.flexNotSupported_=function(){var e=o().createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},n.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},n.playbackRates=function(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every((function(e){return"number"===typeof e}))&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))},t}(Vr);Pi.names.forEach((function(e){var t=Pi[e];Ro.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),Ro.prototype.crossorigin=Ro.prototype.crossOrigin,Ro.players={};var No=i().navigator;Ro.prototype.options_={techOrder:Ii.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:No&&(No.languages&&No.languages[0]||No.userLanguage||No.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(e){Ro.prototype[e]=function(){return this.techGet_(e)}})),Po.forEach((function(e){Ro.prototype["handleTech"+jr(e)+"_"]=function(){return this.trigger(e)}})),Vr.registerComponent("Player",Ro);var Lo="plugin",jo={},Bo=function(e){return jo.hasOwnProperty(e)},Fo=function(e){return Bo(e)?jo[e]:void 0},Uo=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},Ho=function(e,t,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},zo=function(e,t){return t.prototype.name=e,function(){Ho(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=w(t,[this].concat(r));return this[e]=function(){return a},Ho(this,a.getEventHash()),a}},Vo=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),Mr(this),delete this.trigger,Nr(this,this.constructor.defaultState),Uo(t,this.name),this.dispose=this.dispose.bind(this),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),mr(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=zo(e,jo[e])},e.isBasic=function(t){var n="string"===typeof t?Fo(t):t;return"function"===typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!==typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(Bo(t))Ht.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(Ro.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!==typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof n+".");return jo[t]=n,t!==Lo&&(e.isBasic(n)?Ro.prototype[t]=function(e,t){var n=function(){Ho(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return Uo(this,e),Ho(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(t,n):Ro.prototype[t]=zo(t,n)),n},e.deregisterPlugin=function(e){if(e===Lo)throw new Error("Cannot de-register base plugin.");Bo(e)&&(delete jo[e],delete Ro.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(jo)),e.forEach((function(e){var n=Fo(e);n&&((t=t||{})[e]=n)})),t},e.getPluginVersion=function(e){var t=Fo(e);return t&&t.VERSION||""},e}();Vo.getPlugin=Fo,Vo.BASE_PLUGIN_NAME=Lo,Vo.registerPlugin(Lo,Vo),Ro.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},Ro.prototype.hasPlugin=function(e){return!!Bo(e)};var $o=function(e){return 0===e.indexOf("#")?e.slice(1):e};function Go(e,t,n){var r=Go.getPlayer(e);if(r)return t&&Ht.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&r.ready(n),r;var i="string"===typeof e?Kn("#"+$o(e)):e;if(!_n(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");i.ownerDocument.defaultView&&i.ownerDocument.body.contains(i)||Ht.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(i.parentNode&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),Mt("beforesetup").forEach((function(e){var n=e(i,Br(t));qt(n)&&!Array.isArray(n)?t=Br(t,n):Ht.error("please return an object in beforesetup hooks")}));var a=Vr.getComponent("Player");return r=new a(i,t,n),Mt("setup").forEach((function(e){return e(r)})),r}if(Go.hooks_=Dt,Go.hooks=Mt,Go.hook=function(e,t){Mt(e,t)},Go.hookOnce=function(e,t){Mt(e,[].concat(t).map((function(t){return function n(){return Rt(e,n),t.apply(void 0,arguments)}})))},Go.removeHook=Rt,!0!==i().VIDEOJS_NO_DYNAMIC_STYLE&&Sn()){var Wo=Kn(".vjs-styles-defaults");if(!Wo){Wo=rr("vjs-styles-defaults");var qo=Kn("head");qo&&qo.insertBefore(Wo,qo.firstChild),ir(Wo,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}er(1,Go),Go.VERSION=At,Go.options=Ro.prototype.options_,Go.getPlayers=function(){return Ro.players},Go.getPlayer=function(e){var t,n=Ro.players;if("string"===typeof e){var r=$o(e),i=n[r];if(i)return i;t=Kn("#"+r)}else t=e;if(_n(t)){var a=t,o=a.player,s=a.playerId;if(o||n[s])return o||n[s]}},Go.getAllPlayers=function(){return Object.keys(Ro.players).map((function(e){return Ro.players[e]})).filter(Boolean)},Go.players=Ro.players,Go.getComponent=Vr.getComponent,Go.registerComponent=function(e,t){Ii.isTech(t)&&Ht.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Vr.registerComponent.call(Vr,e,t)},Go.getTech=Ii.getTech,Go.registerTech=Ii.registerTech,Go.use=function(e,t){Ai[e]=Ai[e]||[],Ai[e].push(t)},Object.defineProperty(Go,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Go.middleware,"TERMINATOR",{value:Mi,writeable:!1,enumerable:!0}),Go.browser=yn,Go.TOUCH_ENABLED=pn,Go.extend=function(e,t){void 0===t&&(t={});var n=function(){e.apply(this,arguments)},r={};for(var i in"object"===typeof t?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"===typeof t&&(n=t),(0,S.Z)(n,e),e&&(n.super_=e),r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n},Go.mergeOptions=Br,Go.bind=Sr,Go.registerPlugin=Vo.registerPlugin,Go.deregisterPlugin=Vo.deregisterPlugin,Go.plugin=function(e,t){return Ht.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Vo.registerPlugin(e,t)},Go.getPlugins=Vo.getPlugins,Go.getPlugin=Vo.getPlugin,Go.getPluginVersion=Vo.getPluginVersion,Go.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),Go.options.languages=Br(Go.options.languages,((n={})[e]=t,n)),Go.options.languages[e]},Go.log=Ht,Go.createLogger=zt,Go.createTimeRange=Go.createTimeRanges=Wr,Go.formatTime=aa,Go.setFormatTime=function(e){ia=e},Go.resetFormatTime=function(){ia=ra},Go.parseUrl=gi,Go.isCrossOrigin=bi,Go.EventTarget=xr,Go.on=pr,Go.one=gr,Go.off=hr,Go.trigger=mr,Go.xhr=g(),Go.TextTrack=xi,Go.AudioTrack=Ti,Go.VideoTrack=ki,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(e){Go[e]=function(){return Ht.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Yn[e].apply(null,arguments)}})),Go.computedStyle=Kt,Go.dom=Yn,Go.url=wi,Go.defineLazyProperty=Co,Go.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var Zo=k,Ko=function(e,t,n){return e&&n&&n.responseURL&&t!==n.responseURL?n.responseURL:t},Xo=function(e){return Go.log.debug?Go.log.debug.bind(Go,"VHS:",e+" >"):function(){}},Yo=1/30,Qo=.1,Jo=function(e,t){var n,r=[];if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&r.push([e.start(n),e.end(n)]);return Go.createTimeRanges(r)},es=function(e,t){return Jo(e,(function(e,n){return e-Qo<=t&&n+Qo>=t}))},ts=function(e,t){return Jo(e,(function(e){return e-Yo>=t}))},ns=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},rs=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},is=function(e){if(e&&e.length&&e.end)return e.end(e.length-1)},as=function(e,t){var n=0;if(!e||!e.length)return n;for(var r=0;r<e.length;r++){var i=e.start(r),a=e.end(r);t>a||(n+=t>i&&t<=a?a-t:a-i)}return n},os=Go.createTimeRange,ss=function(e,t){if(!t.preload)return t.duration;var n=0;return(t.parts||[]).forEach((function(e){n+=e.duration})),(t.preloadHints||[]).forEach((function(t){"PART"===t.type&&(n+=e.partTargetDuration)})),n},ls=function(e){return(e.segments||[]).reduce((function(e,t,n){return t.parts?t.parts.forEach((function(r,i){e.push({duration:r.duration,segmentIndex:n,partIndex:i,part:r,segment:t})})):e.push({duration:t.duration,segmentIndex:n,partIndex:null,segment:t,part:null}),e}),[])},us=function(e){var t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},cs=function(e){var t=e.preloadSegment;if(t){var n=t.parts,r=(t.preloadHints||[]).reduce((function(e,t){return e+("PART"===t.type?1:0)}),0);return r+=n&&n.length?n.length:0}},ds=function(e,t){if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var n=us(t).length>0;return n&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:n&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},fs=function(e,t,n){if("undefined"===typeof t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;var r=function(e,t){var n=0,r=t-e.mediaSequence,i=e.segments[r];if(i){if("undefined"!==typeof i.start)return{result:i.start,precise:!0};if("undefined"!==typeof i.end)return{result:i.end-i.duration,precise:!0}}for(;r--;){if("undefined"!==typeof(i=e.segments[r]).end)return{result:n+i.end,precise:!0};if(n+=ss(e,i),"undefined"!==typeof i.start)return{result:n+i.start,precise:!0}}return{result:n,precise:!1}}(e,t);if(r.precise)return r.result;var i=function(e,t){for(var n,r=0,i=t-e.mediaSequence;i<e.segments.length;i++){if("undefined"!==typeof(n=e.segments[i]).start)return{result:n.start-r,precise:!0};if(r+=ss(e,n),"undefined"!==typeof n.end)return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}}(e,t);return i.precise?i.result:r.result+n},ps=function(e,t,n){if(!e)return 0;if("number"!==typeof n&&(n=0),"undefined"===typeof t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return i()[1/0]}return fs(e,t,n)},hs=function(e){var t=e.defaultDuration,n=e.durationList,r=e.startIndex,i=e.endIndex,a=0;if(r>i){var o=[i,r];r=o[0],i=o[1]}if(r<0){for(var s=r;s<Math.min(0,i);s++)a+=t;r=0}for(var l=r;l<i;l++)a+=n[l].duration;return a},ms=function(e,t,n,r){if(!e||!e.segments)return null;if(e.endList)return ps(e);if(null===t)return null;t=t||0;var i=fs(e,e.mediaSequence+e.segments.length,t);return n&&(i-=r="number"===typeof r?r:ds(null,e)),Math.max(0,i)},gs=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},vs=function(e){return e.excludeUntil&&e.excludeUntil===1/0},ys=function(e){var t=gs(e);return!e.disabled&&!t},bs=function(e,t){return t.attributes&&t.attributes[e]},ws=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((function(e){return!!ys(e)&&(e.attributes.BANDWIDTH||0)<n})).length},Ss=function(e,t){return!(!e&&!t||!e&&t||e&&!t)&&(e===t||(!(!e.id||!t.id||e.id!==t.id)||(!(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)||!(!e.uri||!t.uri||e.uri!==t.uri))))},_s=function(e,t){var n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},r=!1;for(var i in n){for(var a in n[i])if(r=t(n[i][a]))break;if(r)break}return!!r},xs=function(e){if(!e||!e.playlists||!e.playlists.length)return _s(e,(function(e){return e.playlists&&e.playlists.length||e.uri}));for(var t=function(t){var n=e.playlists[t],r=n.attributes&&n.attributes.CODECS;return r&&r.split(",").every((function(e){return $(e)}))||_s(e,(function(e){return Ss(n,e)}))?"continue":{v:!1}},n=0;n<e.playlists.length;n++){var r=t(n);if("continue"!==r&&"object"===typeof r)return r.v}return!0},Ts={liveEdgeDelay:ds,duration:ps,seekable:function(e,t,n){var r=t||0,i=ms(e,t,!0,n);return null===i?os():os(r,i)},getMediaInfoForTime:function(e){for(var t=e.playlist,n=e.currentTime,r=e.startingSegmentIndex,i=e.startingPartIndex,a=e.startTime,o=e.experimentalExactManifestTimings,s=n-a,l=ls(t),u=0,c=0;c<l.length;c++){var d=l[c];if(r===d.segmentIndex&&("number"!==typeof i||"number"!==typeof d.partIndex||i===d.partIndex)){u=c;break}}if(s<0){if(u>0)for(var f=u-1;f>=0;f--){var p=l[f];if(s+=p.duration,o){if(s<0)continue}else if(s+Yo<=0)continue;return{partIndex:p.partIndex,segmentIndex:p.segmentIndex,startTime:a-hs({defaultDuration:t.targetDuration,durationList:l,startIndex:u,endIndex:f})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:n}}if(u<0){for(var h=u;h<0;h++)if((s-=t.targetDuration)<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:n};u=0}for(var m=u;m<l.length;m++){var g=l[m];if(s-=g.duration,o){if(s>0)continue}else if(s-Yo>=0)continue;return{partIndex:g.partIndex,segmentIndex:g.segmentIndex,startTime:a+hs({defaultDuration:t.targetDuration,durationList:l,startIndex:u,endIndex:m})}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:n}},isEnabled:ys,isDisabled:function(e){return e.disabled},isBlacklisted:gs,isIncompatible:vs,playlistEnd:ms,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:bs,estimateSegmentRequestTime:function(e,t,n,r){return void 0===r&&(r=0),bs("BANDWIDTH",n)?(e*n.attributes.BANDWIDTH-8*r)/t:NaN},isLowestEnabledRendition:ws,isAudioOnly:xs,playlistMatch:Ss,segmentDurationWithParts:ss},ks=Go.log,Es=function(e,t){return e+"-"+t},Cs=function(e,t){e.mediaGroups&&["AUDIO","SUBTITLES"].forEach((function(n){if(e.mediaGroups[n])for(var r in e.mediaGroups[n])for(var i in e.mediaGroups[n][r]){var a=e.mediaGroups[n][r][i];t(a,n,r,i)}}))},Os=function(e){var t=e.playlist,n=e.uri,r=e.id;t.id=r,t.playlistErrors_=0,n&&(t.uri=n),t.attributes=t.attributes||{}},Ps=function(e,t){e.uri=t;for(var n=0;n<e.playlists.length;n++)if(!e.playlists[n].uri){var r="placeholder-uri-"+n;e.playlists[n].uri=r}var i=xs(e);Cs(e,(function(t,n,r,a){var o="placeholder-uri-"+n+"-"+r+"-"+a;if(!t.playlists||!t.playlists.length){if(i&&"AUDIO"===n&&!t.uri)for(var l=0;l<e.playlists.length;l++){var u=e.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===r)return}t.playlists=[s({},t)]}t.playlists.forEach((function(t,n){var r=Es(n,o);t.uri?t.resolvedUri=t.resolvedUri||Zo(e.uri,t.uri):(t.uri=0===n?o:r,t.resolvedUri=t.uri),t.id=t.id||r,t.attributes=t.attributes||{},e.playlists[t.id]=t,e.playlists[t.uri]=t}))})),function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];Os({playlist:n,id:Es(t,n.uri)}),n.resolvedUri=Zo(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||ks.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(e),function(e){Cs(e,(function(t){t.uri&&(t.resolvedUri=Zo(e.uri,t.uri))}))}(e)},Is=Go.mergeOptions,As=Go.EventTarget,Ds=function(e,t){if(!e)return t;var n=Is(e,t);if(e.preloadHints&&!t.preloadHints&&delete n.preloadHints,e.parts&&!t.parts)delete n.parts;else if(e.parts&&t.parts)for(var r=0;r<t.parts.length;r++)e.parts&&e.parts[r]&&(n.parts[r]=Is(e.parts[r],t.parts[r]));return!e.skipped&&t.skipped&&(n.skipped=!1),e.preload&&!t.preload&&(n.preload=!1),n},Ms=function(e,t){!e.resolvedUri&&e.uri&&(e.resolvedUri=Zo(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Zo(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Zo(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Zo(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach((function(e){e.resolvedUri||(e.resolvedUri=Zo(t,e.uri))})),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach((function(e){e.resolvedUri||(e.resolvedUri=Zo(t,e.uri))}))},Rs=function(e){var t=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints)for(var r=0;r<n.preloadHints.length;r++)if("MAP"===n.preloadHints[r].type)return t;n.duration=e.targetDuration,n.preload=!0,t.push(n)}return t},Ns=function(e,t){return e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment},Ls=function(e,t,n){void 0===n&&(n=Ns);var r=Is(e,{}),i=r.playlists[t.id];if(!i)return null;if(n(i,t))return null;t.segments=Rs(t);var a=Is(i,t);if(a.preloadSegment&&!t.preloadSegment&&delete a.preloadSegment,i.segments){if(t.skip){t.segments=t.segments||[];for(var o=0;o<t.skip.skippedSegments;o++)t.segments.unshift({skipped:!0})}a.segments=function(e,t,n){var r=e.slice(),i=t.slice();n=n||0;for(var a,o=[],s=0;s<i.length;s++){var l=r[s+n],u=i[s];l?(a=l.map||a,o.push(Ds(l,u))):(a&&!u.map&&(u.map=a),o.push(u))}return o}(i.segments,t.segments,t.mediaSequence-i.mediaSequence)}a.segments.forEach((function(e){Ms(e,a.resolvedUri)}));for(var s=0;s<r.playlists.length;s++)r.playlists[s].id===t.id&&(r.playlists[s]=a);return r.playlists[t.id]=a,r.playlists[t.uri]=a,Cs(e,(function(e,n,r,i){if(e.playlists)for(var o=0;o<e.playlists.length;o++)t.id===e.playlists[o].id&&(e.playlists[o]=a)})),r},js=function(e,t){var n=e.segments||[],r=n[n.length-1],i=r&&r.parts&&r.parts[r.parts.length-1],a=i&&i.duration||r&&r.duration;return t&&a?1e3*a:500*(e.partTargetDuration||e.targetDuration||10)},Bs=function(e){function t(t,n,r){var i;if(void 0===r&&(r={}),i=e.call(this)||this,!t)throw new Error("A non-empty playlist URL or object is required");i.logger_=Xo("PlaylistLoader");var a=r,o=a.withCredentials,s=void 0!==o&&o,l=a.handleManifestRedirects,u=void 0!==l&&l;i.src=t,i.vhs_=n,i.withCredentials=s,i.handleManifestRedirects=u;var d=n.options_;return i.customTagParsers=d&&d.customTagParsers||[],i.customTagMappers=d&&d.customTagMappers||[],i.experimentalLLHLS=d&&d.experimentalLLHLS||!1,Go.browser.IE_VERSION&&(i.experimentalLLHLS=!1),i.state="HAVE_NOTHING",i.handleMediaupdatetimeout_=i.handleMediaupdatetimeout_.bind((0,c.Z)(i)),i.on("mediaupdatetimeout",i.handleMediaupdatetimeout_),i}f(t,e);var n=t.prototype;return n.handleMediaupdatetimeout_=function(){var e=this;if("HAVE_METADATA"===this.state){var t=this.media(),n=Zo(this.master.uri,t.uri);this.experimentalLLHLS&&(n=function(e,t){if(t.endList||!t.serverControl)return e;var n={};if(t.serverControl.canBlockReload){var r=t.preloadSegment,a=t.mediaSequence+t.segments.length;if(r){var o=r.parts||[],s=cs(t)-1;s>-1&&s!==o.length-1&&(n._HLS_part=s),(s>-1||o.length)&&a--}n._HLS_msn=a}if(t.serverControl&&t.serverControl.canSkipUntil&&(n._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){var l=new(i().URL)(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach((function(e){n.hasOwnProperty(e)&&l.searchParams.set(e,n[e])})),e=l.toString()}return e}(n,t)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials},(function(t,n){if(e.request)return t?e.playlistRequestError(e.request,e.media(),"HAVE_METADATA"):void e.haveMetadata({playlistString:e.request.responseText,url:e.media().uri,id:e.media().id})}))}},n.playlistRequestError=function(e,t,n){var r=t.uri,i=t.id;this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[i],status:e.status,message:"HLS playlist request error at URL: "+r+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")},n.parseManifest_=function(e){var t=this,n=e.url;return function(e){var t=e.onwarn,n=e.oninfo,r=e.manifestString,i=e.customTagParsers,a=void 0===i?[]:i,o=e.customTagMappers,s=void 0===o?[]:o,l=e.experimentalLLHLS,u=new B;t&&u.on("warn",t),n&&u.on("info",n),a.forEach((function(e){return u.addParser(e)})),s.forEach((function(e){return u.addTagMapper(e)})),u.push(r),u.end();var c=u.manifest;if(l||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(e){c.hasOwnProperty(e)&&delete c[e]})),c.segments&&c.segments.forEach((function(e){["parts","preloadHints"].forEach((function(t){e.hasOwnProperty(t)&&delete e[t]}))}))),!c.targetDuration){var d=10;c.segments&&c.segments.length&&(d=c.segments.reduce((function(e,t){return Math.max(e,t.duration)}),0)),t&&t("manifest has no targetDuration defaulting to "+d),c.targetDuration=d}var f=us(c);if(f.length&&!c.partTargetDuration){var p=f.reduce((function(e,t){return Math.max(e,t.duration)}),0);t&&(t("manifest has no partTargetDuration defaulting to "+p),ks.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),c.partTargetDuration=p}return c}({onwarn:function(e){var r=e.message;return t.logger_("m3u8-parser warn for "+n+": "+r)},oninfo:function(e){var r=e.message;return t.logger_("m3u8-parser info for "+n+": "+r)},manifestString:e.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},n.haveMetadata=function(e){var t=e.playlistString,n=e.playlistObject,r=e.url,i=e.id;this.request=null,this.state="HAVE_METADATA";var a=n||this.parseManifest_({url:r,manifestString:t});a.lastRequest=Date.now(),Os({playlist:a,uri:r,id:i});var o=Ls(this.master,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,o?(this.master=o,this.media_=this.master.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(js(this.media(),!!o)),this.trigger("loadedplaylist")},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),i().clearTimeout(this.mediaUpdateTimeout),i().clearTimeout(this.finalRenditionTimeout),this.off()},n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.media=function(e,t){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"===typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(i().clearTimeout(this.finalRenditionTimeout),t){var r=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=i().setTimeout(this.media.bind(this,e,!1),r)}else{var a=this.state,o=!this.media_||e.id!==this.media_.id,s=this.master.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(o&&(this.trigger("mediachanging"),"HAVE_MASTER"===a?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(js(e,!0)),o){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(t,r){if(n.request){if(e.lastRequest=Date.now(),e.resolvedUri=Ko(n.handleManifestRedirects,e.resolvedUri,r),t)return n.playlistRequestError(n.request,e,a);n.haveMetadata({playlistString:r.responseText,url:e.uri,id:e.id}),"HAVE_MASTER"===a?n.trigger("loadedmetadata"):n.trigger("mediachange")}}))}}},n.pause=function(){this.mediaUpdateTimeout&&(i().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},n.load=function(e){var t=this;this.mediaUpdateTimeout&&(i().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var n=this.media();if(e){var r=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=i().setTimeout((function(){t.mediaUpdateTimeout=null,t.load()}),r)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},n.updateMediaUpdateTimeout_=function(e){var t=this;this.mediaUpdateTimeout&&(i().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=i().setTimeout((function(){t.mediaUpdateTimeout=null,t.trigger("mediaupdatetimeout"),t.updateMediaUpdateTimeout_(e)}),e))},n.start=function(){var e=this;if(this.started=!0,"object"===typeof this.src)return this.src.uri||(this.src.uri=i().location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){e.setupInitialPlaylist(e.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=Ko(e.handleManifestRedirects,e.src,n);var r=e.parseManifest_({manifestString:n.responseText,url:e.src});e.setupInitialPlaylist(r)}}))},n.srcUri=function(){return"string"===typeof this.src?this.src:this.src.uri},n.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,Ps(this.master,this.srcUri()),e.playlists.forEach((function(e){e.segments=Rs(e),e.segments.forEach((function(t){Ms(t,e.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var t=this.srcUri()||i().location.href;this.master=function(e,t){var n=Es(0,t),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:i().location.href,resolvedUri:i().location.href,playlists:[{uri:t,id:n,resolvedUri:t,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[t]=r.playlists[0],r}(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},t}(As),Fs=Go.xhr,Us=Go.mergeOptions,Hs=function(e,t,n,r){var i="arraybuffer"===e.responseType?e.response:e.responseText;!t&&i&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=i.byteLength||i.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===n.statusCode||206===n.statusCode||0===n.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(i||e.responseText)))),r(t,e)},zs=function(){var e=function e(t,n){t=Us({timeout:45e3},t);var r=e.beforeRequest||Go.Vhs.xhr.beforeRequest;if(r&&"function"===typeof r){var i=r(t);i&&(t=i)}var a=(!0===Go.Vhs.xhr.original?Fs:Go.Vhs.xhr)(t,(function(e,t){return Hs(a,e,t,n)})),o=a.abort;return a.abort=function(){return a.aborted=!0,o.apply(a,arguments)},a.uri=t.uri,a.requestTime=Date.now(),a};return e.original=!0,e},Vs=function(e){var t,n={};return e.byterange&&(n.Range="bytes="+(t=e.byterange).offset+"-"+("bigint"===typeof t.offset||"bigint"===typeof t.length?i().BigInt(t.offset)+i().BigInt(t.length)-i().BigInt(1):t.offset+t.length-1)),n},$s=function(e,t){return e.start(t)+"-"+e.end(t)},Gs=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},Ws=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},qs=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];Q(r)?t[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[n]=r})),t},Zs=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},Ks=function(e){return e.resolvedUri},Xs=function(e){for(var t=Array.prototype.slice.call(e),n=16,r="",i=0;i<t.length/n;i++)r+=t.slice(i*n,i*n+n).map(Gs).join("")+" "+t.slice(i*n,i*n+n).map(Ws).join("")+"\n";return r},Ys=Object.freeze({__proto__:null,createTransferableMessage:qs,initSegmentId:Zs,segmentKeyId:Ks,hexDump:Xs,tagDump:function(e){var t=e.bytes;return Xs(t)},textRanges:function(e){var t,n="";for(t=0;t<e.length;t++)n+=$s(e,t)+" ";return n}}),Qs=function(e){var t=e.playlist,n=e.time,r=void 0===n?void 0:n,i=e.callback;if(!i)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===r)return i({message:"getProgramTime: playlist and time must be provided"});var a=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var n,r=0,i=0;i<t.segments.length&&!(e<=(r=(n=t.segments[i]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:r+n.duration));i++);var a=t.segments[t.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>r){if(e>r+.25*a.duration)return null;n=a}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:r-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(r,t);if(!a)return i({message:"valid programTime was not found"});if("estimate"===a.type)return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:a.estimatedStart});var o={mediaSeconds:r},s=function(e,t){if(!t.dateTimeObject)return null;var n=t.videoTimingInfo.transmuxerPrependedSeconds,r=e-(t.videoTimingInfo.transmuxedPresentationStart+n);return new Date(t.dateTimeObject.getTime()+1e3*r)}(r,a.segment);return s&&(o.programDateTime=s.toISOString()),i(null,o)},Js=function e(t){var n=t.programTime,r=t.playlist,i=t.retryCount,a=void 0===i?2:i,o=t.seekTo,s=t.pauseAfterSeek,l=void 0===s||s,u=t.tech,c=t.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if("undefined"===typeof n||!r||!o)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!r.endList&&!u.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}(r))return c({message:"programDateTime tags must be provided in the manifest "+r.resolvedUri});var d=function(e,t){var n;try{n=new Date(e)}catch(u){return null}if(!t||!t.segments||0===t.segments.length)return null;var r=t.segments[0];if(n<r.dateTimeObject)return null;for(var i=0;i<t.segments.length-1&&(r=t.segments[i],!(n<t.segments[i+1].dateTimeObject));i++);var a,o=t.segments[t.segments.length-1],s=o.dateTimeObject,l=o.videoTimingInfo?(a=o.videoTimingInfo).transmuxedPresentationEnd-a.transmuxedPresentationStart-a.transmuxerPrependedSeconds:o.duration+.25*o.duration;return n>new Date(s.getTime()+1e3*l)?null:(n>s&&(r=o),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:Ts.duration(t,t.mediaSequence+t.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})}(n,r);if(!d)return c({message:n+" was not found in the stream"});var f=d.segment,p=function(e,t){var n,r;try{n=new Date(e),r=new Date(t)}catch(a){}var i=n.getTime();return(r.getTime()-i)/1e3}(f.dateTimeObject,n);if("estimate"===d.type)return 0===a?c({message:n+" is not buffered yet. Try again"}):(o(d.estimatedStart+p),void u.one("seeked",(function(){e({programTime:n,playlist:r,retryCount:a-1,seekTo:o,pauseAfterSeek:l,tech:u,callback:c})})));var h=f.start+p;u.one("seeked",(function(){return c(null,u.currentTime())})),l&&u.pause(),o(h)},el=function(e,t){if(4===e.readyState)return t()},tl=function(e,t,n){var r,i=[],a=!1,o=function(e,t,r,i){return t.abort(),a=!0,n(e,t,r,i)},s=function(e,t){if(!a){if(e)return o(e,t,"",i);var n=t.responseText.substring(i&&i.byteLength||0,t.responseText.length);if(i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter((function(e){return e&&(e.byteLength||e.length)&&"string"!==typeof e})),t.length<=1)return J(t[0]);var r=t.reduce((function(e,t,n){return e+(t.byteLength||t.length)}),0),i=new Uint8Array(r),a=0;return t.forEach((function(e){e=J(e),i.set(e,a),a+=e.byteLength})),i}(i,ie(n,!0)),r=r||ut(i),i.length<10||r&&i.length<r+2)return el(t,(function(){return o(e,t,"",i)}));var s=Pt(i);return"ts"===s&&i.length<188||!s&&i.length<376?el(t,(function(){return o(e,t,"",i)})):o(null,t,s,i)}},l={uri:e,beforeSend:function(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",(function(t){return t.total,t.loaded,Hs(e,null,{statusCode:e.status},s)}))}},u=t(l,(function(e,t){return Hs(u,e,t,s)}));return u},nl=Go.EventTarget,rl=Go.mergeOptions,il=function(e,t){if(!Ns(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(var n=0;n<e.segments.length;n++){var r=e.segments[n],i=t.segments[n];if(r.uri!==i.uri)return!1;if(r.byterange||i.byterange){var a=r.byterange,o=i.byterange;if(a&&!o||!a&&o)return!1;if(a.offset!==o.offset||a.length!==o.length)return!1}}return!0},al=function(e,t){return(Boolean(!e.map&&!t.map)||Boolean(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length},ol=function(e,t){var n={};for(var r in e){var i=e[r].sidx;if(i){var a=Ie(i);if(!t[a])break;var o=t[a].sidxInfo;al(o,i)&&(n[a]=t[a])}}return n},sl=function(e){function t(t,n,r,i){var a;void 0===r&&(r={}),(a=e.call(this)||this).masterPlaylistLoader_=i||(0,c.Z)(a),i||(a.isMaster_=!0);var o=r,s=o.withCredentials,l=void 0!==s&&s,u=o.handleManifestRedirects,d=void 0!==u&&u;if(a.vhs_=n,a.withCredentials=l,a.handleManifestRedirects=d,!t)throw new Error("A non-empty playlist URL or object is required");return a.on("minimumUpdatePeriod",(function(){a.refreshXml_()})),a.on("mediaupdatetimeout",(function(){a.refreshMedia_(a.media().id)})),a.state="HAVE_NOTHING",a.loadedPlaylists_={},a.logger_=Xo("DashPlaylistLoader"),a.isMaster_?(a.masterPlaylistLoader_.srcUrl=t,a.masterPlaylistLoader_.sidxMapping_={}):a.childPlaylist_=t,a}f(t,e);var n=t.prototype;return n.requestErrored_=function(e,t,n){return!this.request||(this.request=null,e?(this.error="object"!==typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2}:e,n&&(this.state=n),this.trigger("error"),!0):void 0)},n.addSidxSegments_=function(e,t,n){var r=this,a=e.sidx&&Ie(e.sidx);if(e.sidx&&a&&!this.masterPlaylistLoader_.sidxMapping_[a]){var o=Ko(this.handleManifestRedirects,e.sidx.resolvedUri),s=function(i,o){if(!r.requestErrored_(i,o,t)){var s,l=r.masterPlaylistLoader_.sidxMapping_;try{s=st()(J(o.response).subarray(8))}catch(u){return void r.requestErrored_(u,o,t)}return l[a]={sidxInfo:e.sidx,sidx:s},Te(e,s,e.sidx.resolvedUri),n(!0)}};this.request=tl(o,this.vhs_.xhr,(function(t,n,i,a){if(t)return s(t,n);if(!i||"mp4"!==i)return s({status:n.status,message:"Unsupported "+(i||"unknown")+" container type for sidx segment at URL: "+o,response:"",playlist:e,internal:!0,blacklistDuration:1/0,code:2},n);var l=e.sidx.byterange,u=l.offset,c=l.length;if(a.length>=c+u)return s(t,{response:a.subarray(u,u+c),status:n.status,uri:n.uri});r.request=r.vhs_.xhr({uri:o,responseType:"arraybuffer",headers:Vs({byterange:e.sidx.byterange})},s)}))}else this.mediaRequest_=i().setTimeout((function(){return n(!1)}),0)},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},i().clearTimeout(this.minimumUpdatePeriodTimeout_),i().clearTimeout(this.mediaRequest_),i().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},n.hasPendingRequest=function(){return this.request||this.mediaRequest_},n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.media=function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"===typeof e){if(!this.masterPlaylistLoader_.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.masterPlaylistLoader_.master.playlists[e]}var r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));r&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,(function(r){t.haveMetadata({startingState:n,playlist:e})})))},n.haveMetadata=function(e){var t=e.startingState,n=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")},n.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),i().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(i().clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},n.load=function(e){var t=this;i().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=i().setTimeout((function(){return t.load()}),r)}else this.started?n&&!n.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},n.start=function(){var e=this;this.started=!0,this.isMaster_?this.requestMaster_((function(t,n){e.haveMaster_(),e.hasPendingRequest()||e.media_||e.media(e.masterPlaylistLoader_.master.playlists[0])})):this.mediaRequest_=i().setTimeout((function(){return e.haveMaster_()}),0)},n.requestMaster_=function(e){var t=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(function(n,r){if(!t.requestErrored_(n,r)){var i=r.responseText!==t.masterPlaylistLoader_.masterXml_;return t.masterPlaylistLoader_.masterXml_=r.responseText,r.responseHeaders&&r.responseHeaders.date?t.masterLoaded_=Date.parse(r.responseHeaders.date):t.masterLoaded_=Date.now(),t.masterPlaylistLoader_.srcUrl=Ko(t.handleManifestRedirects,t.masterPlaylistLoader_.srcUrl,r),i?(t.handleMaster_(),void t.syncClientServerClock_((function(){return e(r,i)}))):e(r,i)}"HAVE_NOTHING"===t.state&&(t.started=!1)}))},n.syncClientServerClock_=function(e){var t=this,n=at(this.masterPlaylistLoader_.masterXml_);return null===n?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===n.method?(this.masterPlaylistLoader_.clientOffset_=n.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:Zo(this.masterPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(function(r,i){if(t.request){if(r)return t.masterPlaylistLoader_.clientOffset_=t.masterLoaded_-Date.now(),e();var a;a="HEAD"===n.method?i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):t.masterLoaded_:Date.parse(i.responseText),t.masterPlaylistLoader_.clientOffset_=a-Date.now(),e()}})))},n.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},n.handleMaster_=function(){this.mediaRequest_=null;var e,t,n,r,i,a,o,s=this.masterPlaylistLoader_.master,l=(e={masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:s},t=e.masterXml,n=e.srcUrl,r=e.clientOffset,i=e.sidxMapping,a=e.previousManifest,o=it(t,{manifestUri:n,clientOffset:r,sidxMapping:i,previousManifest:a}),Ps(o,n),o);s&&(l=function(e,t,n){for(var r=!0,i=rl(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts}),a=0;a<t.playlists.length;a++){var o=t.playlists[a];if(o.sidx){var s=Ie(o.sidx);n&&n[s]&&n[s].sidx&&Te(o,n[s].sidx,o.sidx.resolvedUri)}var l=Ls(i,o,il);l&&(i=l,r=!1)}return Cs(t,(function(e,t,n,a){if(e.playlists&&e.playlists.length){var o=e.playlists[0].id,s=Ls(i,e.playlists[0],il);s&&((i=s).mediaGroups[t][n][a].playlists[0]=i.playlists[o],r=!1)}})),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(r=!1),r?null:i}(s,l,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=l||s;var u=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return u&&u!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=u),(!s||l&&l.minimumUpdatePeriod!==s.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(l)},n.updateMinimumUpdatePeriodTimeout_=function(){var e=this.masterPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(i().clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);var t=e.master&&e.master.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!==typeof t||t<=0?t<0&&this.logger_("found invalid minimumUpdatePeriod of "+t+", not setting a timeout"):this.createMUPTimeout_(t)},n.createMUPTimeout_=function(e){var t=this.masterPlaylistLoader_;t.minimumUpdatePeriodTimeout_=i().setTimeout((function(){t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)}),e)},n.refreshXml_=function(){var e=this;this.requestMaster_((function(t,n){var r,i,a;n&&(e.media_&&(e.media_=e.masterPlaylistLoader_.master.playlists[e.media_.id]),e.masterPlaylistLoader_.sidxMapping_=(r=e.masterPlaylistLoader_.master,i=e.masterPlaylistLoader_.sidxMapping_,a=ol(r.playlists,i),Cs(r,(function(e,t,n,r){if(e.playlists&&e.playlists.length){var o=e.playlists;a=rl(a,ol(o,i))}})),a),e.addSidxSegments_(e.media(),e.state,(function(t){e.refreshMedia_(e.media().id)})))}))},n.refreshMedia_=function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var n=this.masterPlaylistLoader_.master.playlists,r=!this.media_||this.media_!==n[e];if(r?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){!function e(){t.media().endList||(t.mediaUpdateTimeout=i().setTimeout((function(){t.trigger("mediaupdatetimeout"),e()}),js(t.media(),Boolean(r))))}()}this.trigger("loadedplaylist")},t}(nl),ll={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},ul=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},cl=function(e){return function(){var t=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(n){var t=new BlobBuilder;return t.append(e),URL.createObjectURL(t.getBlob())}}(e),n=ul(new Worker(t));n.objURL=t;var r=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(t),r.call(this)},n}},dl=function(e){return"var browserWorkerPolyFill = "+ul.toString()+";\nbrowserWorkerPolyFill(self);\n"+e},fl=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},pl=dl(fl((function(){var e=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,i,a;if(n=e[t])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(a=[],r=arguments.length,r=1;r<arguments.length;++r)a.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,a)}},this.dispose=function(){e={}}}};e.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var t,r,i,a,o,s,l,u,c,d,f,p,h,m,g,v,y,b,w,S,_,x,T,k,E,C,O,P,I,A,D,M,R,N,L,j,B,F,U,H,z=e,V=Math.pow(2,32),$={getUint64:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.getBigUint64?(t=n.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:n.getUint32(0)*V+n.getUint32(4)},MAX_UINT32:V},G=$.MAX_UINT32;!function(){var e;if(x={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!==typeof Uint8Array){for(e in x)x.hasOwnProperty(e)&&(x[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);T=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),E=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),k=new Uint8Array([0,0,0,1]),C=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),O=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),P={video:C,audio:O},D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0]),M=new Uint8Array([0,0,0,0,0,0,0,0]),R=M,N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),L=M,I=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function(e){var t,n,r=[],i=0;for(t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)i+=r[t].byteLength;for(n=new Uint8Array(i+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,i=8;t<r.length;t++)n.set(r[t],i),i+=r[t].byteLength;return n},r=function(){return t(x.dinf,t(x.dref,D))},i=function(e){return t(x.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},g=function(e){return t(x.hdlr,P[e])},m=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(n[12]=e.samplerate>>>24&255,n[13]=e.samplerate>>>16&255,n[14]=e.samplerate>>>8&255,n[15]=255&e.samplerate),t(x.mdhd,n)},h=function(e){return t(x.mdia,m(e),g(e.type),s(e))},o=function(e){return t(x.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},s=function(e){return t(x.minf,"video"===e.type?t(x.vmhd,I):t(x.smhd,A),r(),y(e))},l=function(e,n){for(var r=[],i=n.length;i--;)r[i]=w(n[i]);return t.apply(null,[x.moof,o(e)].concat(r))},u=function(e){for(var n=e.length,r=[];n--;)r[n]=f(e[n]);return t.apply(null,[x.moov,d(4294967295)].concat(r).concat(c(e)))},c=function(e){for(var n=e.length,r=[];n--;)r[n]=S(e[n]);return t.apply(null,[x.mvex].concat(r))},d=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(x.mvhd,n)},v=function(e){var n,r,i=e.samples||[],a=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,a[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t(x.sdtp,a)},y=function(e){return t(x.stbl,b(e),t(x.stts,L),t(x.stsc,R),t(x.stsz,N),t(x.stco,M))},b=function(e){return t(x.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?j(e):B(e))},j=function(e){var n,r,i=e.sps||[],a=e.pps||[],o=[],s=[];for(n=0;n<i.length;n++)o.push((65280&i[n].byteLength)>>>8),o.push(255&i[n].byteLength),o=o.concat(Array.prototype.slice.call(i[n]));for(n=0;n<a.length;n++)s.push((65280&a[n].byteLength)>>>8),s.push(255&a[n].byteLength),s=s.concat(Array.prototype.slice.call(a[n]));if(r=[x.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(x.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length],o,[a.length],s))),t(x.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],u=e.sarRatio[1];r.push(t(x.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u])))}return t.apply(null,r)},B=function(e){return t(x.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),i(e))},p=function(e){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(x.tkhd,n)},w=function(e){var n,r,i,a,o,s;return n=t(x.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(e.baseMediaDecodeTime/G),s=Math.floor(e.baseMediaDecodeTime%G),r=t(x.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===e.type?(i=_(e,92),t(x.traf,n,r,i)):(a=v(e),i=_(e,a.length+92),t(x.traf,n,r,i,a))},f=function(e){return e.duration=e.duration||4294967295,t(x.trak,p(e),h(e))},S=function(e){var n=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(n[n.length-1]=0),t(x.trex,n)},H=function(e,t){var n=0,r=0,i=0,a=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(r=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(a=8)),[0,0,n|r|i|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},U=function(e,n){var r,i,a,o,s,l;for(n+=20+16*(o=e.samples||[]).length,a=H(o,n),(i=new Uint8Array(a.length+16*o.length)).set(a),r=a.length,l=0;l<o.length;l++)s=o[l],i[r++]=(4278190080&s.duration)>>>24,i[r++]=(16711680&s.duration)>>>16,i[r++]=(65280&s.duration)>>>8,i[r++]=255&s.duration,i[r++]=(4278190080&s.size)>>>24,i[r++]=(16711680&s.size)>>>16,i[r++]=(65280&s.size)>>>8,i[r++]=255&s.size,i[r++]=s.flags.isLeading<<2|s.flags.dependsOn,i[r++]=s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,i[r++]=61440&s.flags.degradationPriority,i[r++]=15&s.flags.degradationPriority,i[r++]=(4278190080&s.compositionTimeOffset)>>>24,i[r++]=(16711680&s.compositionTimeOffset)>>>16,i[r++]=(65280&s.compositionTimeOffset)>>>8,i[r++]=255&s.compositionTimeOffset;return t(x.trun,i)},F=function(e,n){var r,i,a,o,s,l;for(n+=20+8*(o=e.samples||[]).length,a=H(o,n),(r=new Uint8Array(a.length+8*o.length)).set(a),i=a.length,l=0;l<o.length;l++)s=o[l],r[i++]=(4278190080&s.duration)>>>24,r[i++]=(16711680&s.duration)>>>16,r[i++]=(65280&s.duration)>>>8,r[i++]=255&s.duration,r[i++]=(4278190080&s.size)>>>24,r[i++]=(16711680&s.size)>>>16,r[i++]=(65280&s.size)>>>8,r[i++]=255&s.size;return t(x.trun,r)},_=function(e,t){return"audio"===e.type?F(e,t):U(e,t)};a=function(){return t(x.ftyp,T,k,T,E)};var W,q,Z,K,X,Y,Q,J,ee=function(e){return t(x.mdat,e)},te=l,ne=function(e){var t,n=a(),r=u(e);return(t=new Uint8Array(n.byteLength+r.byteLength)).set(n),t.set(r,n.byteLength),t},re=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},ie=function(e){var t,n,r=[],i=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,r.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.byteLength+=r.byteLength,i.nalCount+=r.length,i.duration+=r.duration,i.push(r)),(r=[n]).byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.length,i.duration+=r.duration,i.push(r),i},ae=function(e){var t,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),(r=[n]).nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},oe=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},se=function(e,t){var n,r,i,a,o,s=t||0,l=[];for(n=0;n<e.length;n++)for(a=e[n],r=0;r<a.length;r++)o=a[r],s+=(i=re(o,s)).size,l.push(i);return l},le=function(e){var t,n,r,i,a,o,s=0,l=e.byteLength,u=e.nalCount,c=new Uint8Array(l+4*u),d=new DataView(c.buffer);for(t=0;t<e.length;t++)for(i=e[t],n=0;n<i.length;n++)for(a=i[n],r=0;r<a.length;r++)o=a[r],d.setUint32(s,o.data.byteLength),s+=4,c.set(o.data,s),s+=o.data.byteLength;return c},ue=[33,16,5,32,164,27],ce=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],de=function(e){for(var t=[];e--;)t.push(0);return t},fe=function(){if(!W){var e={96e3:[ue,[227,64],de(154),[56]],88200:[ue,[231],de(170),[56]],64e3:[ue,[248,192],de(240),[56]],48e3:[ue,[255,192],de(268),[55,148,128],de(54),[112]],44100:[ue,[255,192],de(268),[55,163,128],de(84),[112]],32e3:[ue,[255,192],de(268),[55,234],de(226),[112]],24e3:[ue,[255,192],de(268),[55,255,128],de(268),[111,112],de(126),[224]],16e3:[ue,[255,192],de(268),[55,255,128],de(268),[111,255],de(269),[223,108],de(195),[1,192]],12e3:[ce,de(268),[3,127,248],de(268),[6,255,240],de(268),[13,255,224],de(268),[27,253,128],de(259),[56]],11025:[ce,de(268),[3,127,248],de(268),[6,255,240],de(268),[13,255,224],de(268),[27,255,192],de(268),[55,175,128],de(108),[112]],8e3:[ce,de(268),[3,121,16],de(47),[7]]};t=e,W=Object.keys(t).reduce((function(e,n){return e[n]=new Uint8Array(t[n].reduce((function(e,t){return e.concat(t)}),[])),e}),{})}var t;return W},pe=9e4;Y=function(e,t){return q(X(e,t))},Q=function(e,t){return Z(K(e),t)},J=function(e,t,n){return K(n?e:e-t)};var he=pe,me=q=function(e){return e*pe},ge=(Z=function(e,t){return e*t},K=function(e){return e/pe}),ve=(X=function(e,t){return e/t},Y),ye=Q,be=J,we=function(e,t,n,r){var i,a,o,s,l,u=0,c=0,d=0;if(t.length&&(i=ve(e.baseMediaDecodeTime,e.samplerate),a=Math.ceil(he/(e.samplerate/1024)),n&&r&&(u=i-Math.max(n,r),d=(c=Math.floor(u/a))*a),!(c<1||d>he/2))){for((o=fe()[e.samplerate])||(o=t[0].data),s=0;s<c;s++)l=t[0],t.splice(0,0,{data:o,dts:l.dts-a,pts:l.pts-a});return e.baseMediaDecodeTime-=Math.floor(ye(d,e.samplerate)),d}},Se=function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},_e=function(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],r.push({size:n.data.byteLength,duration:1024});return r},xe=function(e){var t,n,r=0,i=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],i.set(n.data,r),r+=n.data.byteLength;return i},Te=he,ke=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},Ee=function(e,t){var n,r=e.minSegmentDts;return t||(r-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=r,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/Te,n=Math.floor(n)),n},Ce=function(e,t){"number"===typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"===typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},Oe=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},r=0,i=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)i+=255,t++;if(i+=e[t++],!n.payload&&4===r){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){n.payloadType=r,n.payloadSize=i,n.payload=e.subarray(t,t+i);break}n.payload=void 0}t+=i,r=0,i=0}return n},Pe=function(e){return 181!==e.payload[0]||49!==(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},Ie=function(e,t){var n,r,i,a,o=[];if(!(64&t[0]))return o;for(r=31&t[0],n=0;n<r;n++)a={type:3&t[(i=3*n)+2],pts:e},4&t[i+2]&&(a.ccData=t[i+3]<<8|t[i+4],o.push(a));return o},Ae=function(e){for(var t,n,r=e.byteLength,i=[],a=1;a<r-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===i[0]&&(o++,i.shift()),n[a]=e[o];return n},De=4,Me=function e(t){t=t||{},e.prototype.init.call(this),this.parse708captions_="boolean"!==typeof t.parse708captions||t.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Ve(0,0),new Ve(0,1),new Ve(1,0),new Ve(1,1)],this.parse708captions_&&(this.cc708Stream_=new Be({captionServices:t.captionServices})),this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};(Me.prototype=new z).push=function(e){var t,n,r;if("sei_rbsp"===e.nalUnitType&&(t=Oe(e.escapedRBSP)).payload&&t.payloadType===De&&(n=Pe(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=Ie(e.pts,n),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},Me.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},Me.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},Me.prototype.flush=function(){return this.flushStream("flush")},Me.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Me.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},Me.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},Me.prototype.setsChannel1Active=function(e){return 4096===(30720&e.ccData)},Me.prototype.setsChannel2Active=function(e){return 6144===(30720&e.ccData)},Me.prototype.setsTextOrXDSActive=function(e){return 256===(28928&e.ccData)||4138===(30974&e.ccData)||6186===(30974&e.ccData)},Me.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var Re={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Ne=function(e){return 32<=e&&e<=127||160<=e&&e<=255},Le=function(e){this.windowNum=e,this.reset()};Le.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Le.prototype.getText=function(){return this.rows.join("\n")},Le.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Le.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"===typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Le.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},Le.prototype.addText=function(e){this.rows[this.rowIdx]+=e},Le.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var je=function(e,t,n){this.serviceNum=e,this.text="",this.currentWindow=new Le(-1),this.windows=[],this.stream=n,"string"===typeof t&&this.createTextDecoder(t)};je.prototype.init=function(e,t){this.startPts=e;for(var n=0;n<8;n++)this.windows[n]=new Le(n),"function"===typeof t&&(this.windows[n].beforeRowOverflow=t)},je.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},je.prototype.createTextDecoder=function(e){if("undefined"===typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(e)}catch(t){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+e+" encoding. "+t})}};var Be=function e(t){t=t||{},e.prototype.init.call(this);var n,r=this,i=t.captionServices||{},a={};Object.keys(i).forEach((function(e){n=i[e],/^SERVICE/.test(e)&&(a[e]=n.encoding)})),this.serviceEncodings=a,this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(r.new708Packet(),r.add708Bytes(e)):(null===r.current708Packet&&r.new708Packet(),r.add708Bytes(e))}};Be.prototype=new z,Be.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Be.prototype.add708Bytes=function(e){var t=e.ccData,n=t>>>8,r=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(n),this.current708Packet.data.push(r)},Be.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,n=null,r=null,i=0,a=t[i++];for(e.seq=a>>6,e.sizeCode=63&a;i<t.length;i++)r=31&(a=t[i++]),7===(n=a>>5)&&r>0&&(n=a=t[i++]),this.pushServiceBlock(n,i,r),r>0&&(i+=r-1)},Be.prototype.pushServiceBlock=function(e,t,n){var r,i=t,a=this.current708Packet.data,o=this.services[e];for(o||(o=this.initService(e,i));i<t+n&&i<a.length;i++)r=a[i],Ne(r)?i=this.handleText(i,o):24===r?i=this.multiByteCharacter(i,o):16===r?i=this.extendedCommands(i,o):128<=r&&r<=135?i=this.setCurrentWindow(i,o):152<=r&&r<=159?i=this.defineWindow(i,o):136===r?i=this.clearWindows(i,o):140===r?i=this.deleteWindows(i,o):137===r?i=this.displayWindows(i,o):138===r?i=this.hideWindows(i,o):139===r?i=this.toggleWindows(i,o):151===r?i=this.setWindowAttributes(i,o):144===r?i=this.setPenAttributes(i,o):145===r?i=this.setPenColor(i,o):146===r?i=this.setPenLocation(i,o):143===r?o=this.reset(i,o):8===r?o.currentWindow.backspace():12===r?o.currentWindow.clearText():13===r?o.currentWindow.pendingNewLine=!0:14===r?o.currentWindow.clearText():141===r&&i++},Be.prototype.extendedCommands=function(e,t){var n=this.current708Packet.data[++e];return Ne(n)&&(e=this.handleText(e,t,{isExtended:!0})),e},Be.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},Be.prototype.initService=function(e,t){var n,r,i=this;return(n="SERVICE"+e)in this.serviceEncodings&&(r=this.serviceEncodings[n]),this.services[e]=new je(e,r,i),this.services[e].init(this.getPts(t),(function(t){i.flushDisplayed(t,i.services[e])})),this.services[e]},Be.prototype.handleText=function(e,t,n){var r,i,a,o,s=n&&n.isExtended,l=n&&n.isMultiByte,u=this.current708Packet.data,c=s?4096:0,d=u[e],f=u[e+1],p=t.currentWindow;return t.textDecoder_&&!s?(l?(i=[d,f],e++):i=[d],r=t.textDecoder_.decode(new Uint8Array(i))):(o=Re[a=c|d]||a,r=4096&a&&a===o?"":String.fromCharCode(o)),p.pendingNewLine&&!p.isEmpty()&&p.newLine(this.getPts(e)),p.pendingNewLine=!1,p.addText(r),e},Be.prototype.multiByteCharacter=function(e,t){var n=this.current708Packet.data,r=n[e+1],i=n[e+2];return Ne(r)&&Ne(i)&&(e=this.handleText(++e,t,{isMultiByte:!0})),e},Be.prototype.setCurrentWindow=function(e,t){var n=7&this.current708Packet.data[e];return t.setCurrentWindow(n),e},Be.prototype.defineWindow=function(e,t){var n=this.current708Packet.data,r=n[e],i=7&r;t.setCurrentWindow(i);var a=t.currentWindow;return r=n[++e],a.visible=(32&r)>>5,a.rowLock=(16&r)>>4,a.columnLock=(8&r)>>3,a.priority=7&r,r=n[++e],a.relativePositioning=(128&r)>>7,a.anchorVertical=127&r,r=n[++e],a.anchorHorizontal=r,r=n[++e],a.anchorPoint=(240&r)>>4,a.rowCount=15&r,r=n[++e],a.columnCount=63&r,r=n[++e],a.windowStyle=(56&r)>>3,a.penStyle=7&r,a.virtualRowCount=a.rowCount+1,e},Be.prototype.setWindowAttributes=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.winAttr;return r=n[++e],i.fillOpacity=(192&r)>>6,i.fillRed=(48&r)>>4,i.fillGreen=(12&r)>>2,i.fillBlue=3&r,r=n[++e],i.borderType=(192&r)>>6,i.borderRed=(48&r)>>4,i.borderGreen=(12&r)>>2,i.borderBlue=3&r,r=n[++e],i.borderType+=(128&r)>>5,i.wordWrap=(64&r)>>6,i.printDirection=(48&r)>>4,i.scrollDirection=(12&r)>>2,i.justify=3&r,r=n[++e],i.effectSpeed=(240&r)>>4,i.effectDirection=(12&r)>>2,i.displayEffect=3&r,e},Be.prototype.flushDisplayed=function(e,t){for(var n=[],r=0;r<8;r++)t.windows[r].visible&&!t.windows[r].isEmpty()&&n.push(t.windows[r].getText());t.endPts=e,t.text=n.join("\n\n"),this.pushCaption(t),t.startPts=e},Be.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},Be.prototype.displayWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&(t.windows[i].visible=1);return e},Be.prototype.hideWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&(t.windows[i].visible=0);return e},Be.prototype.toggleWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&(t.windows[i].visible^=1);return e},Be.prototype.clearWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&t.windows[i].clearText();return e},Be.prototype.deleteWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&t.windows[i].reset();return e},Be.prototype.setPenAttributes=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.penAttr;return r=n[++e],i.textTag=(240&r)>>4,i.offset=(12&r)>>2,i.penSize=3&r,r=n[++e],i.italics=(128&r)>>7,i.underline=(64&r)>>6,i.edgeType=(56&r)>>3,i.fontStyle=7&r,e},Be.prototype.setPenColor=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.penColor;return r=n[++e],i.fgOpacity=(192&r)>>6,i.fgRed=(48&r)>>4,i.fgGreen=(12&r)>>2,i.fgBlue=3&r,r=n[++e],i.bgOpacity=(192&r)>>6,i.bgRed=(48&r)>>4,i.bgGreen=(12&r)>>2,i.bgBlue=3&r,r=n[++e],i.edgeRed=(48&r)>>4,i.edgeGreen=(12&r)>>2,i.edgeBlue=3&r,e},Be.prototype.setPenLocation=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,r=n[++e],i.row=15&r,r=n[++e],i.column=63&r,e},Be.prototype.reset=function(e,t){var n=this.getPts(e);return this.flushDisplayed(n,t),this.initService(t.serviceNum,e)};var Fe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ue=function(e){return null===e?"":(e=Fe[e]||e,String.fromCharCode(e))},He=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],ze=function(){for(var e=[],t=15;t--;)e.push("");return e},Ve=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,r,i,a;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096===(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=ze();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ze();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=ze()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(r,i))a=Ue((r=(3&r)<<8)|i),this[this.mode_](e.pts,a),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),a=Ue((r=(3&r)<<8)|i),this[this.mode_](e.pts,a),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14===(14&i)&&this.addFormatting(e.pts,["i"]),1===(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var o=He.indexOf(7968&t);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(e.pts,o)),o!==this.row_&&(this.clearFormatting(e.pts),this.row_=o),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16===(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14===(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===i&&(i=null),a=Ue(r),a+=Ue(i),this[this.mode_](e.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};Ve.prototype=new z,Ve.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e,t){try{return e.trim()}catch(n){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+t+"."}),""}}),this).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Ve.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ze(),this.nonDisplayed_=ze(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ve.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ve.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Ve.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Ve.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Ve.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Ve.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Ve.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Ve.prototype.isNormalChar=function(e){return e>=32&&e<=127},Ve.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=ze(),this.displayed_=ze()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Ve.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},Ve.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},Ve.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},Ve.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},Ve.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Ve.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n};var $e={CaptionStream:Me,Cea608Stream:Ve,Cea708Stream:Be},Ge={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},We="shared",qe=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},Ze=function e(t){var n,r;e.prototype.init.call(this),this.type_=t||We,this.push=function(e){this.type_!==We&&e.type!==this.type_||(void 0===r&&(r=e.dts),e.dts=qe(e.dts,r),e.pts=qe(e.pts,r),n=e.dts,this.trigger("data",e))},this.flush=function(){r=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){r=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ze.prototype=new z;var Ke,Xe=Ze,Ye=qe,Qe=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},Je=function(e,t,n){return decodeURIComponent(Qe(e,t,n))},et=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},tt={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Je(e.data,1,t),e.value=Je(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Je(e.data,1,t),e.url=Je(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,n;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(n=e.data,unescape(Qe(n,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};Ke=function(e){var t,n={descriptor:e&&e.descriptor},r=0,i=[],a=0;if(Ke.prototype.init.call(this),this.dispatchType=Ge.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,o,s,l;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(a=0,i.length=0),0===i.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(i.push(e),a+=e.data.byteLength,1===i.length&&(r=et(e.data.subarray(6,10)),r+=10),!(a<r)){for(t={data:new Uint8Array(r),frames:[],pts:i[0].pts,dts:i[0].dts},l=0;l<r;)t.data.set(i[0].data.subarray(0,r-l),l),l+=i[0].data.byteLength,a-=i[0].data.byteLength,i.shift();n=10,64&t.data[5]&&(n+=4,n+=et(t.data.subarray(10,14)),r-=et(t.data.subarray(16,20)));do{if((o=et(t.data.subarray(n+4,n+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});if((s={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+o+10)}).key=s.id,tt[s.id]&&(tt[s.id](s),"com.apple.streaming.transportStreamTimestamp"===s.owner)){var u=s.data,c=(1&u[3])<<30|u[4]<<22|u[5]<<14|u[6]<<6|u[7]>>>2;c*=4,c+=3&u[7],s.timeStamp=c,void 0===t.pts&&void 0===t.dts&&(t.pts=s.timeStamp,t.dts=s.timeStamp),this.trigger("timestamp",s)}t.frames.push(s),n+=10,n+=o}while(n<r);this.trigger("data",t)}}},Ke.prototype=new z;var nt,rt,it,at=Ke,ot=Xe,st=188;(nt=function(){var e=new Uint8Array(st),t=0;nt.prototype.init.call(this),this.push=function(n){var r,i=0,a=st;for(t?((r=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),r.set(n,t),t=0):r=n;a<r.byteLength;)71!==r[i]||71!==r[a]?(i++,a++):(this.trigger("data",r.subarray(i,a)),i+=st,a+=st);i<r.byteLength&&(e.set(r.subarray(i),0),t=r.byteLength-i)},this.flush=function(){t===st&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new z,rt=function(){var e,t,n,r;rt.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,r){var i=0;r.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===r.type?t(e.subarray(i),r):n(e.subarray(i),r)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],r.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=r.pmtPid},n=function(e,t){var n,i;if(1&e[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<n;){var a=e[i],o=(31&e[i+1])<<8|e[i+2];a===Ge.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=o:a===Ge.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=o:a===Ge.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][o]=a),i+=5+((15&e[i+3])<<8|e[i+4])}t.programMapTable=r.programMapTable}},this.push=function(t){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===n.pid)n.type="pat",e(t.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(r),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,r,n]):this.processPes_(t,r,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=Ge.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Ge.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},rt.prototype=new z,rt.STREAM_TYPES={h264:27,adts:15},it=function(){var e,t=this,n=!1,r={data:[],size:0},i={data:[],size:0},a={data:[],size:0},o=function(e,n,r){var i,a,o=new Uint8Array(e.size),s={type:n},l=0,u=0;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,l=0;l<e.data.length;l++)a=e.data[l],o.set(a.data,u),u+=a.data.byteLength;var c,d,f,p;d=s,p=(c=o)[0]<<16|c[1]<<8|c[2],d.data=new Uint8Array,1===p&&(d.packetLength=6+(c[4]<<8|c[5]),d.dataAlignmentIndicator=0!==(4&c[6]),192&(f=c[7])&&(d.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,d.pts*=4,d.pts+=(6&c[13])>>>1,d.dts=d.pts,64&f&&(d.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,d.dts*=4,d.dts+=(6&c[18])>>>1)),d.data=c.subarray(9+c[8])),i="video"===n||s.packetLength<=e.size,(r||i)&&(e.size=0,e.data.length=0),i&&t.trigger("data",s)}};it.prototype.init.call(this),this.push=function(s){({pat:function(){},pes:function(){var e,t;switch(s.streamType){case Ge.H264_STREAM_TYPE:e=r,t="video";break;case Ge.ADTS_STREAM_TYPE:e=i,t="audio";break;case Ge.METADATA_STREAM_TYPE:e=a,t="timed-metadata";break;default:return}s.payloadUnitStartIndicator&&o(e,t,!0),e.data.push(s),e.size+=s.data.byteLength},pmt:function(){var r={type:"metadata",tracks:[]};null!==(e=s.programMapTable).video&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),n=!0,t.trigger("data",r)}})[s.type]()},this.reset=function(){r.size=0,r.data.length=0,i.size=0,i.data.length=0,this.trigger("reset")},this.flushStreams_=function(){o(r,"video"),o(i,"audio"),o(a,"timed-metadata")},this.flush=function(){if(!n&&e){var r={type:"metadata",tracks:[]};null!==e.video&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&r.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",r)}n=!1,this.flushStreams_(),this.trigger("done")}},it.prototype=new z;var lt={PAT_PID:0,MP2T_PACKET_LENGTH:st,TransportPacketStream:nt,TransportParseStream:rt,ElementaryStream:it,TimestampRolloverStream:ot,CaptionStream:$e.CaptionStream,Cea608Stream:$e.Cea608Stream,Cea708Stream:$e.Cea708Stream,MetadataStream:at};for(var ut in Ge)Ge.hasOwnProperty(ut)&&(lt[ut]=Ge[ut]);var ct,dt=lt,ft=he,pt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ct=function(e){var t,n=0;ct.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:"adts skiping bytes "+e+" to "+t+" in frame "+n+" outside syncword"})},this.push=function(r){var i,a,o,s,l,u=0;if(e||(n=0),"audio"===r.type){var c;for(t&&t.length?(o=t,(t=new Uint8Array(o.byteLength+r.data.byteLength)).set(o),t.set(r.data,o.byteLength)):t=r.data;u+7<t.length;)if(255===t[u]&&240===(246&t[u+1])){if("number"===typeof c&&(this.skipWarn_(c,u),c=null),a=2*(1&~t[u+1]),i=(3&t[u+3])<<11|t[u+4]<<3|(224&t[u+5])>>5,l=(s=1024*(1+(3&t[u+6])))*ft/pt[(60&t[u+2])>>>2],t.byteLength-u<i)break;this.trigger("data",{pts:r.pts+n*l,dts:r.dts+n*l,sampleCount:s,audioobjecttype:1+(t[u+2]>>>6&3),channelcount:(1&t[u+2])<<2|(192&t[u+3])>>>6,samplerate:pt[(60&t[u+2])>>>2],samplingfrequencyindex:(60&t[u+2])>>>2,samplesize:16,data:t.subarray(u+7+a,u+i)}),n++,u+=i}else"number"!==typeof c&&(c=u),u++;"number"===typeof c&&(this.skipWarn_(c,u),c=null),t=t.subarray(u)}},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}},ct.prototype=new z;var ht,mt,gt,vt=ct,yt=function(e){var t=e.byteLength,n=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var i=e.byteLength-t,a=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");a.set(e.subarray(i,i+o)),n=new DataView(a.buffer).getUint32(0),r=8*o,t-=o},this.skipBits=function(e){var i;r>e?(n<<=e,r-=e):(e-=r,e-=8*(i=Math.floor(e/8)),t-=i,this.loadWord(),n<<=e,r-=e)},this.readBits=function(e){var i=Math.min(r,e),a=n>>>32-i;return(r-=i)>0?n<<=i:t>0&&this.loadWord(),(i=e-i)>0?a<<i|this.readBits(i):a},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(0!==(n&2147483648>>>e))return n<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};mt=function(){var e,t,n=0;mt.prototype.init.call(this),this.push=function(r){var i;t?((i=new Uint8Array(t.byteLength+r.data.byteLength)).set(t),i.set(r.data,t.byteLength),t=i):t=r.data;for(var a=t.byteLength;n<a-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<a;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<a);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},mt.prototype=new z,gt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ht=function(){var e,t,n,r,i,a,o,s=new mt;ht.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,r=e.dts,s.push(e))},s.on("data",(function(o){var s={trackId:t,pts:n,dts:r,data:o,nalUnitTypeCode:31&o[0]};switch(s.nalUnitTypeCode){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=i(o.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=i(o.subarray(1)),s.config=a(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",s)})),s.on("done",(function(){e.trigger("done")})),s.on("partialdone",(function(){e.trigger("partialdone")})),s.on("reset",(function(){e.trigger("reset")})),s.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){s.flush()},this.partialFlush=function(){s.partialFlush()},this.reset=function(){s.reset()},this.endTimeline=function(){s.endTimeline()},o=function(e,t){var n,r=8,i=8;for(n=0;n<e;n++)0!==i&&(i=(r+t.readExpGolomb()+256)%256),r=0===i?r:i},i=function(e){for(var t,n,r=e.byteLength,i=[],a=1;a<r-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===i[0]&&(o++,i.shift()),n[a]=e[o];return n},a=function(e){var t,n,r,i,a,s,l,u,c,d,f,p,h=0,m=0,g=0,v=0,y=[1,1];if(n=(t=new yt(e)).readUnsignedByte(),i=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),gt[n]&&(3===(a=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(f=3!==a?8:12,p=0;p<f;p++)t.readBoolean()&&o(p<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),p=0;p<l;p++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),0===(d=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(h=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:y=[1,1];break;case 2:y=[12,11];break;case 3:y=[10,11];break;case 4:y=[16,11];break;case 5:y=[40,33];break;case 6:y=[24,11];break;case 7:y=[20,11];break;case 8:y=[32,11];break;case 9:y=[80,33];break;case 10:y=[18,11];break;case 11:y=[15,11];break;case 12:y=[64,33];break;case 13:y=[160,99];break;case 14:y=[4,3];break;case 15:y=[3,2];break;case 16:y=[2,1];break;case 255:y=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}y&&(y[0],y[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:i,width:16*(u+1)-2*h-2*m,height:(2-d)*(c+1)*16-2*g-2*v,sarRatio:y}}},ht.prototype=new z;var bt,wt={H264Stream:ht,NalByteStream:mt},St=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],_t=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return n=n>=0?n:0,(16&e[t+5])>>4?n+20:n+10},xt=function e(t,n){return t.length-n<10||t[n]!=="I".charCodeAt(0)||t[n+1]!=="D".charCodeAt(0)||t[n+2]!=="3".charCodeAt(0)?n:e(t,n+=_t(t,n))},Tt=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},kt={isLikelyAacData:function(e){var t=xt(e,0);return e.length>=t+2&&255===(255&e[t])&&240===(240&e[t+1])&&16===(22&e[t+1])},parseId3TagSize:_t,parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240===(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240===(246&e[t+1]))return St[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,r;t=10,64&e[5]&&(t+=4,t+=Tt(e.subarray(10,14)));do{if((n=Tt(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){r=e.subarray(t+10,t+n+10);for(var i=0;i<r.byteLength;i++)if(0===r[i]){var a=unescape(function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i}(r,0,i));if("com.apple.streaming.transportStreamTimestamp"===a){var o=r.subarray(i+1),s=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return s*=4,s+=3&o[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null}};(bt=function(){var e=new Uint8Array,t=0;bt.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var r,i,a,o,s=0,l=0;for(e.length?(o=e.length,(e=new Uint8Array(n.byteLength+o)).set(e.subarray(0,o)),e.set(n,o)):e=n;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255!==(255&e[l])||240!==(240&e[l+1]))l++;else{if(e.length-l<7)break;if(l+(s=kt.parseAdtsSize(e,l))>e.length)break;a={type:"audio",data:e.subarray(l,l+s),pts:t,dts:t},this.trigger("data",a),l+=s}else{if(e.length-l<10)break;if(l+(s=kt.parseId3TagSize(e,l))>e.length)break;i={type:"timed-metadata",data:e.subarray(l,l+s)},this.trigger("data",i),l+=s}r=e.length-l,e=r>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new z;var Et,Ct,Ot,Pt,It=bt,At=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Dt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Mt=wt.H264Stream,Rt=kt.isLikelyAacData,Nt=he,Lt=function(e,t){t.stream=e,this.trigger("log",t)},jt=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];"headOfPipeline"!==i&&t[i].on&&t[i].on("log",Lt.bind(e,i))}},Bt=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},Ft=function(e,t,n,r,i,a){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(r-t),pts:e+(i-n)},prependedContentDuration:a,baseMediaDecodeTime:e}};Ct=function(e,t){var n,r=[],i=0,a=0,o=1/0;n=(t=t||{}).firstSequenceNumber||0,Ct.prototype.init.call(this),this.push=function(t){Ce(e,t),e&&At.forEach((function(n){e[n]=t[n]})),r.push(t)},this.setEarliestDts=function(e){i=e},this.setVideoBaseMediaDecodeTime=function(e){o=e},this.setAudioAppendStart=function(e){a=e},this.flush=function(){var s,l,u,c,d,f,p;0!==r.length?(s=Se(r,e,i),e.baseMediaDecodeTime=Ee(e,t.keepOriginalTimestamps),p=we(e,s,a,o),e.samples=_e(s),u=ee(xe(s)),r=[],l=te(n,[e]),c=new Uint8Array(l.byteLength+u.byteLength),n++,c.set(l),c.set(u,l.byteLength),ke(e),d=Math.ceil(1024*Nt/e.samplerate),s.length&&(f=s.length*d,this.trigger("segmentTimingInfo",Ft(ve(e.baseMediaDecodeTime,e.samplerate),s[0].dts,s[0].pts,s[0].dts+f,s[0].pts+f,p||0)),this.trigger("timingInfo",{start:s[0].pts,end:s[0].pts+f})),this.trigger("data",{track:e,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){ke(e),r=[],this.trigger("reset")}},Ct.prototype=new z,Et=function(e,t){var n,r,i,a=[],o=[];n=(t=t||{}).firstSequenceNumber||0,Et.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){Ce(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.config,e.sps=[t.data],Dt.forEach((function(t){e[t]=r[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.data,e.pps=[t.data]),a.push(t)},this.flush=function(){for(var r,i,s,l,u,c,d,f,p=0;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(r=ie(a),(s=ae(r))[0][0].keyFrame||((i=this.getGopForFusion_(a[0],e))?(p=i.duration,s.unshift(i),s.byteLength+=i.byteLength,s.nalCount+=i.nalCount,s.pts=i.pts,s.dts=i.dts,s.duration+=i.duration):s=oe(s)),o.length){var h;if(!(h=t.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");ke(e),s=h}Ce(e,s),e.samples=se(s),u=ee(le(s)),e.baseMediaDecodeTime=Ee(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),d=s[0],f=s[s.length-1],this.trigger("segmentTimingInfo",Ft(e.baseMediaDecodeTime,d.dts,d.pts,f.dts+f.duration,f.pts+f.duration,p)),this.trigger("timingInfo",{start:s[0].pts,end:s[s.length-1].pts+s[s.length-1].duration}),this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=te(n,[e]),c=new Uint8Array(l.byteLength+u.byteLength),n++,c.set(l),c.set(u,l.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),a=[],this.gopCache_.length=0,o.length=0,this.trigger("reset")},this.resetStream_=function(){ke(e),r=void 0,i=void 0},this.getGopForFusion_=function(t){var n,r,i,a,o,s=1/0;for(o=0;o<this.gopCache_.length;o++)i=(a=this.gopCache_[o]).gop,e.pps&&Bt(e.pps[0],a.pps[0])&&e.sps&&Bt(e.sps[0],a.sps[0])&&(i.dts<e.timelineStartInfo.dts||(n=t.dts-i.dts-i.duration)>=-1e4&&n<=45e3&&(!r||s>n)&&(r=a,s=n));return r?r.gop:null},this.alignGopsAtStart_=function(e){var t,n,r,i,a,s,l,u;for(a=e.byteLength,s=e.nalCount,l=e.duration,t=n=0;t<o.length&&n<e.length&&(r=o[t],i=e[n],r.pts!==i.pts);)i.pts>r.pts?t++:(n++,a-=i.byteLength,s-=i.nalCount,l-=i.duration);return 0===n?e:n===e.length?null:((u=e.slice(n)).byteLength=a,u.duration=l,u.nalCount=s,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,n,r,i,a,s,l;for(t=o.length-1,n=e.length-1,a=null,s=!1;t>=0&&n>=0;){if(r=o[t],i=e[n],r.pts===i.pts){s=!0;break}r.pts>i.pts?t--:(t===o.length-1&&(a=n),n--)}if(!s&&null===a)return null;if(0===(l=s?n:a))return e;var u=e.slice(l),c=u.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return u.byteLength=c.byteLength,u.duration=c.duration,u.nalCount=c.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){o=e}},Et.prototype=new z,Pt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,"undefined"!==typeof(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"===typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Pt.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}},Pt.prototype=new z,Pt.prototype.flush=function(e){var t,n,r,i,a=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,Dt.forEach((function(e){o.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,At.forEach((function(e){o.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,r=ne(this.pendingTracks),o.initSegment=new Uint8Array(r.byteLength),o.initSegment.set(r),o.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)o.data.set(this.pendingBoxes[i],a),a+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(t=this.pendingCaptions[i]).startTime=be(t.startPts,s,this.keepOriginalTimestamps),t.endTime=be(t.endPts,s,this.keepOriginalTimestamps),o.captionStreams[t.stream]=!0,o.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)(n=this.pendingMetadata[i]).cueTime=be(n.pts,s,this.keepOriginalTimestamps),o.metadata.push(n);for(o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),i=0;i<o.captions.length;i++)t=o.captions[i],this.trigger("caption",t);for(i=0;i<o.metadata.length;i++)n=o.metadata[i],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Pt.prototype.setRemux=function(e){this.remuxTracks=e},Ot=function(e){var t,n,r=this,i=!0;Ot.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="aac",i.metadataStream=new dt.MetadataStream,i.aacStream=new It,i.audioTimestampRolloverStream=new dt.TimestampRolloverStream("audio"),i.timedMetadataTimestampRolloverStream=new dt.TimestampRolloverStream("timed-metadata"),i.adtsStream=new vt,i.coalesceStream=new Pt(e,i.metadataStream),i.headOfPipeline=i.aacStream,i.aacStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream),i.aacStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream),i.metadataStream.on("timestamp",(function(e){i.aacStream.setTimestamp(e.timeStamp)})),i.aacStream.on("data",(function(a){"timed-metadata"!==a.type&&"audio"!==a.type||i.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new Ct(n,e),i.audioSegmentStream.on("log",r.getLogTrigger_("audioSegmentStream")),i.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream),r.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t}))})),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("done",this.trigger.bind(this,"done")),jt(this,i)},this.setupTsPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="ts",i.metadataStream=new dt.MetadataStream,i.packetStream=new dt.TransportPacketStream,i.parseStream=new dt.TransportParseStream,i.elementaryStream=new dt.ElementaryStream,i.timestampRolloverStream=new dt.TimestampRolloverStream,i.adtsStream=new vt,i.h264Stream=new Mt,i.captionStream=new dt.CaptionStream(e),i.coalesceStream=new Pt(e,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream),i.timestampRolloverStream.pipe(i.h264Stream),i.timestampRolloverStream.pipe(i.adtsStream),i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",(function(a){var o;if("metadata"===a.type){for(o=a.tracks.length;o--;)t||"video"!==a.tracks[o].type?n||"audio"!==a.tracks[o].type||((n=a.tracks[o]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(t=a.tracks[o]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime;t&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new Et(t,e),i.videoSegmentStream.on("log",r.getLogTrigger_("videoSegmentStream")),i.videoSegmentStream.on("timelineStartInfo",(function(t){n&&!e.keepOriginalTimestamps&&(n.timelineStartInfo=t,i.audioSegmentStream.setEarliestDts(t.dts-r.baseMediaDecodeTime))})),i.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo")),i.videoSegmentStream.on("segmentTimingInfo",r.trigger.bind(r,"videoSegmentTimingInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),i.videoSegmentStream.on("timingInfo",r.trigger.bind(r,"videoTimingInfo")),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),n&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new Ct(n,e),i.audioSegmentStream.on("log",r.getLogTrigger_("audioSegmentStream")),i.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),i.audioSegmentStream.on("segmentTimingInfo",r.trigger.bind(r,"audioSegmentTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),r.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}})),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("id3Frame",(function(e){e.dispatchType=i.metadataStream.dispatchType,r.trigger("id3Frame",e)})),i.coalesceStream.on("caption",this.trigger.bind(this,"caption")),i.coalesceStream.on("done",this.trigger.bind(this,"done")),jt(this,i)},this.setBaseMediaDecodeTime=function(r){var i=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=r),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,ke(n),i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),t&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,ke(t),i.captionStream.reset()),i.timestampRolloverStream&&i.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(e){var t=this;return function(n){n.stream=e,t.trigger("log",n)}},this.push=function(e){if(i){var t=Rt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Ot.prototype=new z;var Ut,Ht,zt,Vt={Transmuxer:Ot,VideoSegmentStream:Et,AudioSegmentStream:Ct,AUDIO_PROPERTIES:At,VIDEO_PROPERTIES:Dt,generateSegmentTimingInfo:Ft},$t=function(e){return e>>>0},Gt=function(e){return("00"+e.toString(16)).slice(-2)},Wt=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},qt=$t,Zt=function e(t,n){var r,i,a,o,s,l=[];if(!n.length)return null;for(r=0;r<t.byteLength;)i=qt(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]),a=Wt(t.subarray(r+4,r+8)),o=i>1?r+i:t.byteLength,a===n[0]&&(1===n.length?l.push(t.subarray(r+8,o)):(s=e(t.subarray(r+8,o),n.slice(1))).length&&(l=l.concat(s))),r=o;return l},Kt=$t,Xt=$.getUint64,Yt=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=Xt(e.subarray(4)):t.baseMediaDecodeTime=Kt(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t},Qt=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},Jt=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=1&n.flags[2],a=4&n.flags[2],o=1&n.flags[1],s=2&n.flags[1],l=4&n.flags[1],u=8&n.flags[1],c=r.getUint32(4),d=8;for(i&&(n.dataOffset=r.getInt32(d),d+=4),a&&c&&(t={flags:Qt(e.subarray(d,d+4))},d+=4,o&&(t.duration=r.getUint32(d),d+=4),s&&(t.size=r.getUint32(d),d+=4),u&&(1===n.version?t.compositionTimeOffset=r.getInt32(d):t.compositionTimeOffset=r.getUint32(d),d+=4),n.samples.push(t),c--);c--;)t={},o&&(t.duration=r.getUint32(d),d+=4),s&&(t.size=r.getUint32(d),d+=4),l&&(t.flags=Qt(e.subarray(d,d+4)),d+=4),u&&(1===n.version?t.compositionTimeOffset=r.getInt32(d):t.compositionTimeOffset=r.getUint32(d),d+=4),n.samples.push(t);return n},en=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},i=1&r.flags[2],a=2&r.flags[2],o=8&r.flags[2],s=16&r.flags[2],l=32&r.flags[2],u=65536&r.flags[0],c=131072&r.flags[0];return t=8,i&&(t+=4,r.baseDataOffset=n.getUint32(12),t+=4),a&&(r.sampleDescriptionIndex=n.getUint32(t),t+=4),o&&(r.defaultSampleDuration=n.getUint32(t),t+=4),s&&(r.defaultSampleSize=n.getUint32(t),t+=4),l&&(r.defaultSampleFlags=n.getUint32(t)),u&&(r.durationIsEmpty=!0),!i&&c&&(r.baseDataOffsetIsMoof=!0),r},tn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},nn="undefined"!==typeof window?window:"undefined"!==typeof tn?tn:"undefined"!==typeof self?self:{},rn=Ae,an=$e.CaptionStream,on=function(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(n<i.size)return i;n-=i.size}return null},sn=function(e,t){var n=Zt(e,["moof","traf"]),r=Zt(e,["mdat"]),i={},a=[];return r.forEach((function(e,t){var r=n[t];a.push({mdat:e,traf:r})})),a.forEach((function(e){var n,r,a=e.mdat,o=e.traf,s=Zt(o,["tfhd"]),l=en(s[0]),u=l.trackId,c=Zt(o,["tfdt"]),d=c.length>0?Yt(c[0]).baseMediaDecodeTime:0,f=Zt(o,["trun"]);t===u&&f.length>0&&(n=function(e,t,n){var r=t,i=n.defaultSampleDuration||0,a=n.defaultSampleSize||0,o=n.trackId,s=[];return e.forEach((function(e){var t=Jt(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=a),e.trackId=o,e.dts=r,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"===typeof r?(e.pts=r+nn.BigInt(e.compositionTimeOffset),r+=nn.BigInt(e.duration)):(e.pts=r+e.compositionTimeOffset,r+=e.duration)})),s=s.concat(t)})),s}(f,d,l),r=function(e,t,n){var r,i,a,o,s=new DataView(e.buffer,e.byteOffset,e.byteLength),l={logs:[],seiNals:[]};for(i=0;i+4<e.length;i+=a)if(a=s.getUint32(i),i+=4,!(a<=0))switch(31&e[i]){case 6:var u=e.subarray(i+1,i+1+a),c=on(i,t);if(r={nalUnitType:"sei_rbsp",size:a,data:u,escapedRBSP:rn(u),trackId:n},c)r.pts=c.pts,r.dts=c.dts,o=c;else{if(!o){l.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+i+" for trackId "+n+". See mux.js#223."});break}r.pts=o.pts,r.dts=o.dts}l.seiNals.push(r)}return l}(a,n,u),i[u]||(i[u]={seiNals:[],logs:[]}),i[u].seiNals=i[u].seiNals.concat(r.seiNals),i[u].logs=i[u].logs.concat(r.logs))})),i},ln=function(){var e,t,n,r,i,a,o=!1;this.isInitialized=function(){return o},this.init=function(t){e=new an,o=!0,a=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/r,e.endTime=e.endPts/r,i.captions.push(e),i.captionStreams[e.stream]=!0})),e.on("log",(function(e){i.logs.push(e)}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"===typeof t&&0===Object.keys(t).length)&&(n!==e[0]||r!==t[n])},this.parse=function(e,a,o){var s;if(!this.isInitialized())return null;if(!a||!o)return null;if(this.isNewInit(a,o))n=a[0],r=o[n];else if(null===n||!r)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,a,o)}return s=function(e,t,n){if(null===t)return null;var r=sn(e,t)[t]||{};return{seiNals:r.seiNals,logs:r.logs,timescale:n}}(e,n,r),s&&s.logs&&(i.logs=i.logs.concat(s.logs)),null!==s&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),i):i.logs.length?{logs:i.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;a?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){i.captions=[],i.captionStreams={},i.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,r=null,i?this.clearParsedCaptions():i={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},un=$t,cn=Gt,dn=$.getUint64;Ut=function(e,t){var n=Zt(t,["moof","traf"]).reduce((function(t,n){var r,i,a=Zt(n,["tfhd"])[0],o=un(a[4]<<24|a[5]<<16|a[6]<<8|a[7]),s=e[o]||9e4,l=Zt(n,["tfdt"])[0],u=new DataView(l.buffer,l.byteOffset,l.byteLength);return"bigint"===typeof(r=1===l[0]?dn(l.subarray(4,12)):u.getUint32(4))?i=r/nn.BigInt(s):"number"!==typeof r||isNaN(r)||(i=r/s),i<Number.MAX_SAFE_INTEGER&&(i=Number(i)),i<t&&(t=i),t}),1/0);return"bigint"===typeof n||isFinite(n)?n:0},zt=function(e){var t=0===e[0]?12:20;return un(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},Ht=function(e){var t=Zt(e,["moov","trak"]),n=[];return t.forEach((function(e){var t,r,i={},a=Zt(e,["tkhd"])[0];a&&(r=(t=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0),i.id=0===r?t.getUint32(12):t.getUint32(20));var o=Zt(e,["mdia","hdlr"])[0];if(o){var s=Wt(o.subarray(8,12));i.type="vide"===s?"video":"soun"===s?"audio":s}var l=Zt(e,["mdia","minf","stbl","stsd"])[0];if(l){var u=l.subarray(8);i.codec=Wt(u.subarray(4,8));var c,d=Zt(u,[i.codec])[0];d&&(/^[asm]vc[1-9]$/i.test(i.codec)?(c=d.subarray(78),"avcC"===Wt(c.subarray(4,8))&&c.length>11?(i.codec+=".",i.codec+=cn(c[9]),i.codec+=cn(c[10]),i.codec+=cn(c[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)?(c=d.subarray(28),"esds"===Wt(c.subarray(4,8))&&c.length>20&&0!==c[19]?(i.codec+="."+cn(c[19]),i.codec+="."+cn(c[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2"):i.codec=i.codec.toLowerCase())}var f=Zt(e,["mdia","mdhd"])[0];f&&(i.timescale=zt(f)),n.push(i)})),n};var fn=Ut,pn=Ht,hn=function(e){var t=31&e[1];return t<<=8,t|=e[2]},mn=function(e){return!!(64&e[1])},gn=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},vn=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},yn={parseType:function(e,t){var n=hn(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=mn(e),n=4+gn(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=mn(e),r=4+gn(e);if(n&&(r+=e[r]+1),1&e[r+5]){var i;i=3+((15&e[r+1])<<8|e[r+2])-4;for(var a=12+((15&e[r+10])<<8|e[r+11]);a<i;){var o=r+a;t[(31&e[o+1])<<8|e[o+2]]=e[o],a+=5+((15&e[o+3])<<8|e[o+4])}return t}},parsePayloadUnitStartIndicator:mn,parsePesType:function(e,t){switch(t[hn(e)]){case Ge.H264_STREAM_TYPE:return"video";case Ge.ADTS_STREAM_TYPE:return"audio";case Ge.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!mn(e))return null;var t=4+gn(e);if(t>=e.byteLength)return null;var n,r=null;return 192&(n=e[t+7])&&((r={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,r.pts*=4,r.pts+=(6&e[t+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,r.dts*=4,r.dts+=(6&e[t+18])>>>1)),r},videoPacketContainsKeyFrame:function(e){for(var t=4+gn(e),n=e.subarray(t),r=0,i=0,a=!1;i<n.byteLength-3;i++)if(1===n[i+2]){r=i+5;break}for(;r<n.byteLength;)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}i+3!==r-2&&"slice_layer_without_partitioning_rbsp_idr"===vn(31&n[i+3])&&(a=!0);do{r++}while(1!==n[r]&&r<n.length);i=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}"slice_layer_without_partitioning_rbsp_idr"===vn(31&n[i+3])&&(a=!0),i=r-2,r+=3;break;default:r+=3}return n=n.subarray(i),r-=i,i=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===vn(31&n[i+3])&&(a=!0),a}},bn=Ye,wn={};wn.ts=yn,wn.aac=kt;var Sn=he,_n=188,xn=71,Tn=function(e,t,n){for(var r,i,a,o,s=0,l=_n,u=!1;l<=e.byteLength;)if(e[s]!==xn||e[l]!==xn&&l!==e.byteLength)s++,l++;else{if(r=e.subarray(s,l),"pes"===wn.ts.parseType(r,t.pid))i=wn.ts.parsePesType(r,t.table),a=wn.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(o=wn.ts.parsePesTime(r))&&(o.type="audio",n.audio.push(o),u=!0);if(u)break;s+=_n,l+=_n}for(s=(l=e.byteLength)-_n,u=!1;s>=0;)if(e[s]!==xn||e[l]!==xn&&l!==e.byteLength)s--,l--;else{if(r=e.subarray(s,l),"pes"===wn.ts.parseType(r,t.pid))i=wn.ts.parsePesType(r,t.table),a=wn.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(o=wn.ts.parsePesTime(r))&&(o.type="audio",n.audio.push(o),u=!0);if(u)break;s-=_n,l-=_n}},kn=function(e,t,n){for(var r,i,a,o,s,l,u,c=0,d=_n,f=!1,p={data:[],size:0};d<e.byteLength;)if(e[c]!==xn||e[d]!==xn)c++,d++;else{if(r=e.subarray(c,d),"pes"===wn.ts.parseType(r,t.pid))if(i=wn.ts.parsePesType(r,t.table),a=wn.ts.parsePayloadUnitStartIndicator(r),"video"===i&&(a&&!f&&(o=wn.ts.parsePesTime(r))&&(o.type="video",n.video.push(o),f=!0),!n.firstKeyFrame)){if(a&&0!==p.size){for(s=new Uint8Array(p.size),l=0;p.data.length;)u=p.data.shift(),s.set(u,l),l+=u.byteLength;if(wn.ts.videoPacketContainsKeyFrame(s)){var h=wn.ts.parsePesTime(s);h?(n.firstKeyFrame=h,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}p.size=0}p.data.push(r),p.size+=r.byteLength}if(f&&n.firstKeyFrame)break;c+=_n,d+=_n}for(c=(d=e.byteLength)-_n,f=!1;c>=0;)if(e[c]!==xn||e[d]!==xn)c--,d--;else{if(r=e.subarray(c,d),"pes"===wn.ts.parseType(r,t.pid))i=wn.ts.parsePesType(r,t.table),a=wn.ts.parsePayloadUnitStartIndicator(r),"video"===i&&a&&(o=wn.ts.parsePesTime(r))&&(o.type="video",n.video.push(o),f=!0);if(f)break;c-=_n,d-=_n}},En=function(e){var t={pid:null,table:null},n={};for(var r in function(e,t){for(var n,r=0,i=_n;i<e.byteLength;)if(e[r]!==xn||e[i]!==xn)r++,i++;else{switch(n=e.subarray(r,i),wn.ts.parseType(n,t.pid)){case"pat":t.pid=wn.ts.parsePat(n);break;case"pmt":var a=wn.ts.parsePmt(n);t.table=t.table||{},Object.keys(a).forEach((function(e){t.table[e]=a[e]}))}r+=_n,i+=_n}}(e,t),t.table){if(t.table.hasOwnProperty(r))switch(t.table[r]){case Ge.H264_STREAM_TYPE:n.video=[],kn(e,t,n),0===n.video.length&&delete n.video;break;case Ge.ADTS_STREAM_TYPE:n.audio=[],Tn(e,t,n),0===n.audio.length&&delete n.audio}}return n},Cn=function(e,t){var n;return n=wn.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,r=0,i=null,a=null,o=0,s=0;e.length-s>=3;){switch(wn.aac.parseType(e,s)){case"timed-metadata":if(e.length-s<10){n=!0;break}if((o=wn.aac.parseId3TagSize(e,s))>e.length){n=!0;break}null===a&&(t=e.subarray(s,s+o),a=wn.aac.parseAacTimestamp(t)),s+=o;break;case"audio":if(e.length-s<7){n=!0;break}if((o=wn.aac.parseAdtsSize(e,s))>e.length){n=!0;break}null===i&&(t=e.subarray(s,s+o),i=wn.aac.parseSampleRate(t)),r++,s+=o;break;default:s++}if(n)return null}if(null===i||null===a)return null;var l=Sn/i;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*r*l,pts:a+1024*r*l}]}}(e):En(e),n&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;("undefined"===typeof n||isNaN(n))&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=bn(e.dts,n),e.pts=bn(e.pts,n),e.dtsTime=e.dts/Sn,e.ptsTime=e.pts/Sn}))}if(e.video&&e.video.length){var r=t;if(("undefined"===typeof r||isNaN(r))&&(r=e.video[0].dts),e.video.forEach((function(e){e.dts=bn(e.dts,r),e.pts=bn(e.pts,r),e.dtsTime=e.dts/Sn,e.ptsTime=e.pts/Sn})),e.firstKeyFrame){var i=e.firstKeyFrame;i.dts=bn(i.dts,r),i.pts=bn(i.pts,r),i.dtsTime=i.dts/Sn,i.ptsTime=i.pts/Sn}}}(n,t),n):null},On=function(){function e(e,t){this.options=t||{},this.self=e,this.init()}var t=e.prototype;return t.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Vt.Transmuxer(this.options),function(e,t){t.on("data",(function(t){var n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var r=t.data;t.data=r.buffer,e.postMessage({action:"data",segment:t,byteOffset:r.byteOffset,byteLength:r.byteLength},[t.data])})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})})),t.on("videoSegmentTimingInfo",(function(t){var n={start:{decode:ge(t.start.dts),presentation:ge(t.start.pts)},end:{decode:ge(t.end.dts),presentation:ge(t.end.pts)},baseMediaDecodeTime:ge(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=ge(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:n})})),t.on("audioSegmentTimingInfo",(function(t){var n={start:{decode:ge(t.start.dts),presentation:ge(t.start.pts)},end:{decode:ge(t.end.dts),presentation:ge(t.end.pts)},baseMediaDecodeTime:ge(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=ge(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:n})})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ge(t.start),end:ge(t.end)}})})),t.on("videoTimingInfo",(function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ge(t.start),end:ge(t.end)}})})),t.on("log",(function(t){e.postMessage({action:"log",log:t})}))}(this.self,this.transmuxer)},t.pushMp4Captions=function(e){this.captionParser||(this.captionParser=new ln,this.captionParser.init());var t=new Uint8Array(e.data,e.byteOffset,e.byteLength),n=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:n&&n.captions||[],logs:n&&n.logs||[],data:t.buffer},[t.buffer])},t.probeMp4StartTime=function(e){var t=e.timescales,n=e.data,r=fn(t,n);this.self.postMessage({action:"probeMp4StartTime",startTime:r,data:n},[n.buffer])},t.probeMp4Tracks=function(e){var t=e.data,n=pn(t);this.self.postMessage({action:"probeMp4Tracks",tracks:n,data:t},[t.buffer])},t.probeTs=function(e){var t=e.data,n=e.baseStartTime,r="number"!==typeof n||isNaN(n)?void 0:n*he,i=Cn(t,r),a=null;i&&((a={hasVideo:i.video&&2===i.video.length||!1,hasAudio:i.audio&&2===i.audio.length||!1}).hasVideo&&(a.videoStart=i.video[0].ptsTime),a.hasAudio&&(a.audioStart=i.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:a,data:t},[t.buffer])},t.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},t.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},t.push=function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)},t.reset=function(){this.transmuxer.reset()},t.setTimestampOffset=function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(me(t)))},t.setAudioAppendStart=function(e){this.transmuxer.setAudioAppendStart(Math.ceil(me(e.appendStart)))},t.setRemux=function(e){this.transmuxer.setRemux(e.remux)},t.flush=function(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},t.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},t.alignGopsWith=function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())},e}();self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new On(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new On(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}))),hl=cl(pl),ml=function(e){var t=e.transmuxer,n=e.bytes,r=e.audioAppendStart,i=e.gopsToAlignWith,a=e.remux,o=e.onData,s=e.onTrackInfo,l=e.onAudioTimingInfo,u=e.onVideoTimingInfo,c=e.onVideoSegmentTimingInfo,d=e.onAudioSegmentTimingInfo,f=e.onId3,p=e.onCaptions,h=e.onDone,m=e.onEndedTimeline,g=e.onTransmuxerLog,v=e.isEndOfTimeline,y={buffer:[]},b=v;if(t.onmessage=function(n){t.currentTransmux===e&&("data"===n.data.action&&function(e,t,n){var r=e.data.segment,i=r.type,a=r.initSegment,o=r.captions,s=r.captionStreams,l=r.metadata,u=r.videoFrameDtsTime,c=r.videoFramePtsTime;t.buffer.push({captions:o,captionStreams:s,metadata:l});var d=e.data.segment.boxes||{data:e.data.segment.data},f={type:i,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(a.data,a.byteOffset,a.byteLength)};"undefined"!==typeof u&&(f.videoFrameDtsTime=u),"undefined"!==typeof c&&(f.videoFramePtsTime=c),n(f)}(n,y,o),"trackinfo"===n.data.action&&s(n.data.trackInfo),"gopInfo"===n.data.action&&function(e,t){t.gopInfo=e.data.gopInfo}(n,y),"audioTimingInfo"===n.data.action&&l(n.data.audioTimingInfo),"videoTimingInfo"===n.data.action&&u(n.data.videoTimingInfo),"videoSegmentTimingInfo"===n.data.action&&c(n.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===n.data.action&&d(n.data.audioSegmentTimingInfo),"id3Frame"===n.data.action&&f([n.data.id3Frame],n.data.id3Frame.dispatchType),"caption"===n.data.action&&p(n.data.caption),"endedtimeline"===n.data.action&&(b=!1,m()),"log"===n.data.action&&g(n.data.log),"transmuxed"===n.data.type&&(b||(t.onmessage=null,function(e){var t=e.transmuxedData,n=e.callback;t.buffer=[],n(t)}({transmuxedData:y,callback:h}),gl(t))))},r&&t.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(i)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),"undefined"!==typeof a&&t.postMessage({action:"setRemux",remux:a}),n.byteLength){var w=n instanceof ArrayBuffer?n:n.buffer,S=n instanceof ArrayBuffer?0:n.byteOffset;t.postMessage({action:"push",data:w,byteOffset:S,byteLength:n.byteLength},[w])}v&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},gl=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"===typeof e.currentTransmux?e.currentTransmux():ml(e.currentTransmux))},vl=function(e,t){e.postMessage({action:t}),gl(e)},yl=function(e,t){if(!t.currentTransmux)return t.currentTransmux=e,void vl(t,e);t.transmuxQueue.push(vl.bind(null,t,e))},bl=function(e){if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void ml(e);e.transmuxer.transmuxQueue.push(e)},wl=function(e){yl("reset",e)},Sl=function(e){var t=new hl;t.currentTransmux=null,t.transmuxQueue=[];var n=t.terminate;return t.terminate=function(){return t.currentTransmux=null,t.transmuxQueue.length=0,n.call(t)},t.postMessage({action:"init",options:e}),t},_l=function(e){var t=e.transmuxer,n=e.endAction||e.action,r=e.callback,i=s({},e,{endAction:null,transmuxer:null,callback:null});if(t.addEventListener("message",(function i(a){a.data.action===n&&(t.removeEventListener("message",i),a.data.data&&(a.data.data=new Uint8Array(a.data.data,e.byteOffset||0,e.byteLength||a.data.data.byteLength),e.data&&(e.data=a.data.data)),r(a.data))})),e.data){var a=e.data instanceof ArrayBuffer;i.byteOffset=a?0:e.data.byteOffset,i.byteLength=e.data.byteLength;var o=[a?e.data:e.data.buffer];t.postMessage(i,o)}else t.postMessage(i)},xl=2,Tl=-101,kl=-102,El=function(e){e.forEach((function(e){e.abort()}))},Cl=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:Tl,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:kl,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:xl,xhr:t}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:xl,xhr:t}:null},Ol=function(e,t,n){return function(r,i){var a=i.response,o=Cl(r,i);if(o)return n(o,e);if(16!==a.byteLength)return n({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:xl,xhr:i},e);for(var s=new DataView(a),l=new Uint32Array([s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12)]),u=0;u<t.length;u++)t[u].bytes=l;return n(null,e)}},Pl=function(e,t){var n=Pt(e.map.bytes);if("mp4"!==n){var r=e.map.resolvedUri||e.map.uri;return t({internal:!0,message:"Found unsupported "+(n||"unknown")+" container for initialization segment at URL: "+r,code:xl})}_l({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(n){var r=n.tracks,i=n.data;return e.map.bytes=i,r.forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,"number"===typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),t(null)}})},Il=function(e){var t=e.segment,n=e.finishProcessingFn,r=e.responseType;return function(e,i){var a=Cl(e,i);if(a)return n(a,t);var o="arraybuffer"!==r&&i.responseText?function(e){for(var t=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer}(i.responseText.substring(t.lastReachedChar||0)):i.response;return t.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(i),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),n(null,t)}},Al=function(e){var t=e.segment,n=e.bytes,r=e.trackInfoFn,i=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,s=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,f=e.doneFn,p=e.onTransmuxerLog,h=t.map&&t.map.tracks||{},m=Boolean(h.audio&&h.video),g=i.bind(null,t,"audio","start"),v=i.bind(null,t,"audio","end"),y=i.bind(null,t,"video","start"),b=i.bind(null,t,"video","end");_l({action:"probeTs",transmuxer:t.transmuxer,data:n,baseStartTime:t.baseStartTime,callback:function(e){t.bytes=n=e.data;var i=e.result;i&&(r(t,{hasAudio:i.hasAudio,hasVideo:i.hasVideo,isMuxed:m}),r=null,i.hasAudio&&!m&&g(i.audioStart),i.hasVideo&&y(i.videoStart),g=null,y=null),bl({bytes:n,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:m,onData:function(e){e.type="combined"===e.type?"video":e.type,d(t,e)},onTrackInfo:function(e){r&&(m&&(e.isMuxed=!0),r(t,e))},onAudioTimingInfo:function(e){g&&"undefined"!==typeof e.start&&(g(e.start),g=null),v&&"undefined"!==typeof e.end&&v(e.end)},onVideoTimingInfo:function(e){y&&"undefined"!==typeof e.start&&(y(e.start),y=null),b&&"undefined"!==typeof e.end&&b(e.end)},onVideoSegmentTimingInfo:function(e){a(e)},onAudioSegmentTimingInfo:function(e){o(e)},onId3:function(e,n){s(t,e,n)},onCaptions:function(e){l(t,[e])},isEndOfTimeline:u,onEndedTimeline:function(){c()},onTransmuxerLog:p,onDone:function(e){f&&(e.type="combined"===e.type?"video":e.type,f(null,t,e))}})}})},Dl=function(e){var t=e.segment,n=e.bytes,r=e.trackInfoFn,i=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,s=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,f=e.doneFn,p=e.onTransmuxerLog,h=new Uint8Array(n);if(function(e){return ft(e,["moof"]).length>0}(h)){t.isFmp4=!0;var m=t.map.tracks,g={isFmp4:!0,hasVideo:!!m.video,hasAudio:!!m.audio};m.audio&&m.audio.codec&&"enca"!==m.audio.codec&&(g.audioCodec=m.audio.codec),m.video&&m.video.codec&&"encv"!==m.video.codec&&(g.videoCodec=m.video.codec),m.video&&m.audio&&(g.isMuxed=!0),r(t,g);var v=function(e){d(t,{data:h,type:g.hasAudio&&!g.isMuxed?"audio":"video"}),e&&e.length&&l(t,e),f(null,t,{})};_l({action:"probeMp4StartTime",timescales:t.map.timescales,data:h,transmuxer:t.transmuxer,callback:function(e){var r=e.data,a=e.startTime;n=r.buffer,t.bytes=h=r,g.hasAudio&&!g.isMuxed&&i(t,"audio","start",a),g.hasVideo&&i(t,"video","start",a),m.video&&r.byteLength&&t.transmuxer?_l({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:h,timescales:t.map.timescales,trackIds:[m.video.id],callback:function(e){n=e.data.buffer,t.bytes=h=e.data,e.logs.forEach((function(e){p(Go.mergeOptions(e,{stream:"mp4CaptionParser"}))})),v(e.captions)}}):v()}})}else if(t.transmuxer){if("undefined"===typeof t.container&&(t.container=Pt(h)),"ts"!==t.container&&"aac"!==t.container)return r(t,{hasAudio:!1,hasVideo:!1}),void f(null,t,{});Al({segment:t,bytes:n,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:f,onTransmuxerLog:p})}else f(null,t,{})},Ml=function(e,t){var n,r=e.id,i=e.key,a=e.encryptedBytes,o=e.decryptionWorker;o.addEventListener("message",(function e(n){if(n.data.source===r){o.removeEventListener("message",e);var i=n.data.decrypted;t(new Uint8Array(i.bytes,i.byteOffset,i.byteLength))}})),n=i.bytes.slice?i.bytes.slice():new Uint32Array(Array.prototype.slice.call(i.bytes)),o.postMessage(qs({source:r,encrypted:a,key:n,iv:i.iv}),[a.buffer,n.buffer])},Rl=function(e){var t=e.activeXhrs,n=e.decryptionWorker,r=e.trackInfoFn,i=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,s=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,f=e.doneFn,p=e.onTransmuxerLog,h=0,m=!1;return function(e,g){if(!m){if(e)return m=!0,El(t),f(e,g);if((h+=1)===t.length){var v=function(){if(g.encryptedBytes)return function(e){var t=e.decryptionWorker,n=e.segment,r=e.trackInfoFn,i=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,s=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,f=e.doneFn,p=e.onTransmuxerLog;Ml({id:n.requestId,key:n.key,encryptedBytes:n.encryptedBytes,decryptionWorker:t},(function(e){n.bytes=e,Dl({segment:n,bytes:n.bytes,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:f,onTransmuxerLog:p})}))}({decryptionWorker:n,segment:g,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:f,onTransmuxerLog:p});Dl({segment:g,bytes:g.bytes,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:f,onTransmuxerLog:p})};if(g.endOfAllRequests=Date.now(),g.map&&g.map.encryptedBytes&&!g.map.bytes)return Ml({decryptionWorker:n,id:g.requestId+"-init",encryptedBytes:g.map.encryptedBytes,key:g.map.key},(function(e){g.map.bytes=e,Pl(g,(function(e){if(e)return El(t),f(e,g);v()}))}));v()}}}},Nl=function(e){var t=e.segment,n=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(e){if(!e.target.aborted)return t.stats=Go.mergeOptions(t.stats,function(e){var t=e.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n}(e)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),n(e,t)}},Ll=function(e){var t=e.xhr,n=e.xhrOptions,r=e.decryptionWorker,i=e.segment,a=e.abortFn,o=e.progressFn,s=e.trackInfoFn,l=e.timingInfoFn,u=e.videoSegmentTimingInfoFn,c=e.audioSegmentTimingInfoFn,d=e.id3Fn,f=e.captionsFn,p=e.isEndOfTimeline,h=e.endedTimelineFn,m=e.dataFn,g=e.doneFn,v=e.onTransmuxerLog,y=[],b=Rl({activeXhrs:y,decryptionWorker:r,trackInfoFn:s,timingInfoFn:l,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:f,isEndOfTimeline:p,endedTimelineFn:h,dataFn:m,doneFn:g,onTransmuxerLog:v});if(i.key&&!i.key.bytes){var w=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&w.push(i.map.key);var S=t(Go.mergeOptions(n,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),Ol(i,w,b));y.push(S)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){var _=t(Go.mergeOptions(n,{uri:i.map.key.resolvedUri,responseType:"arraybuffer"}),Ol(i,[i.map.key],b));y.push(_)}var x=Go.mergeOptions(n,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:Vs(i.map)}),T=function(e){var t=e.segment,n=e.finishProcessingFn;return function(e,r){var i=Cl(e,r);if(i)return n(i,t);var a=new Uint8Array(r.response);if(t.map.key)return t.map.encryptedBytes=a,n(null,t);t.map.bytes=a,Pl(t,(function(e){if(e)return e.xhr=r,e.status=r.status,n(e,t);n(null,t)}))}}({segment:i,finishProcessingFn:b}),k=t(x,T);y.push(k)}var E=Go.mergeOptions(n,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:Vs(i)}),C=t(E,Il({segment:i,finishProcessingFn:b,responseType:E.responseType}));C.addEventListener("progress",Nl({segment:i,progressFn:o,trackInfoFn:s,timingInfoFn:l,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:f,isEndOfTimeline:p,endedTimelineFn:h,dataFn:m})),y.push(C);var O={};return y.forEach((function(e){e.addEventListener("loadend",function(e){var t=e.loadendState,n=e.abortFn;return function(e){e.target.aborted&&n&&!t.calledAbortFn&&(n(),t.calledAbortFn=!0)}}({loadendState:O,abortFn:a}))})),function(){return El(y)}},jl=Xo("CodecUtils"),Bl=function(e,t){var n=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},Fl=function(e){var t={};return e.forEach((function(e){var n=e.mediaType,r=e.type,i=e.details;t[n]=t[n]||[],t[n].push(z(""+r+i))})),Object.keys(t).forEach((function(e){if(t[e].length>1)return jl("multiple "+e+" codecs found as attributes: "+t[e].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(t[e]=null);t[e]=t[e][0]})),t},Ul=function(e){var t=0;return e.audio&&t++,e.video&&t++,t},Hl=function(e,t){var n=t.attributes||{},r=Fl(function(e){var t=e.attributes||{};if(t.CODECS)return V(t.CODECS)}(t)||[]);if(Bl(e,t)&&!r.audio&&!function(e,t){if(!Bl(e,t))return!0;var n=t.attributes||{},r=e.mediaGroups.AUDIO[n.AUDIO];for(var i in r)if(!r[i].uri&&!r[i].playlists)return!0;return!1}(e,t)){var i=Fl(function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var r in n){var i=n[r];if(i.default&&i.playlists)return V(i.playlists[0].attributes.CODECS)}return null}(e,n.AUDIO)||[]);i.audio&&(r.audio=i.audio)}return r},zl=Xo("PlaylistSelector"),Vl=function(e){if(e&&e.playlist){var t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})}},$l=function(e,t){if(!e)return"";var n=i().getComputedStyle(e);return n?n[t]:""},Gl=function(e,t){var n=e.slice();e.sort((function(e,r){var i=t(e,r);return 0===i?n.indexOf(e)-n.indexOf(r):i}))},Wl=function(e,t){var n,r;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||i().Number.MAX_VALUE,t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),n-(r=r||i().Number.MAX_VALUE)},ql=function(e,t,n,r,a,o){if(e){var s={bandwidth:t,width:n,height:r,limitRenditionByPlayerDimensions:a},l=e.playlists;Ts.isAudioOnly(e)&&(l=o.getAudioTrackPlaylists_(),s.audioOnly=!0);var u=l.map((function(e){var t=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes&&e.attributes.BANDWIDTH||i().Number.MAX_VALUE,width:t,height:n,playlist:e}}));Gl(u,(function(e,t){return e.bandwidth-t.bandwidth}));var c=(u=u.filter((function(e){return!Ts.isIncompatible(e.playlist)}))).filter((function(e){return Ts.isEnabled(e.playlist)}));c.length||(c=u.filter((function(e){return!Ts.isDisabled(e.playlist)})));var d=c.filter((function(e){return e.bandwidth*ll.BANDWIDTH_VARIANCE<t})),f=d[d.length-1],p=d.filter((function(e){return e.bandwidth===f.bandwidth}))[0];if(!1===a){var h=p||c[0]||u[0];if(h&&h.playlist){var m="sortedPlaylistReps";return p&&(m="bandwidthBestRep"),c[0]&&(m="enabledPlaylistReps"),zl("choosing "+Vl(h)+" using "+m+" with options",s),h.playlist}return zl("could not choose a playlist with options",s),null}var g=d.filter((function(e){return e.width&&e.height}));Gl(g,(function(e,t){return e.width-t.width}));var v=g.filter((function(e){return e.width===n&&e.height===r}));f=v[v.length-1];var y,b,w,S,_=v.filter((function(e){return e.bandwidth===f.bandwidth}))[0];if(_||(b=(y=g.filter((function(e){return e.width>n||e.height>r}))).filter((function(e){return e.width===y[0].width&&e.height===y[0].height})),f=b[b.length-1],w=b.filter((function(e){return e.bandwidth===f.bandwidth}))[0]),o.experimentalLeastPixelDiffSelector){var x=g.map((function(e){return e.pixelDiff=Math.abs(e.width-n)+Math.abs(e.height-r),e}));Gl(x,(function(e,t){return e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff})),S=x[0]}var T=S||w||_||p||c[0]||u[0];if(T&&T.playlist){var k="sortedPlaylistReps";return S?k="leastPixelDiffRep":w?k="resolutionPlusOneRep":_?k="resolutionBestRep":p?k="bandwidthBestRep":c[0]&&(k="enabledPlaylistReps"),zl("choosing "+Vl(T)+" using "+k+" with options",s),T.playlist}return zl("could not choose a playlist with options",s),null}},Zl=function(){var e=this.useDevicePixelRatio&&i().devicePixelRatio||1;return ql(this.playlists.master,this.systemBandwidth,parseInt($l(this.tech_.el(),"width"),10)*e,parseInt($l(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},Kl=function(e){var t=e.inbandTextTracks,n=e.metadataArray,r=e.timestampOffset,a=e.videoDuration;if(n){var o=i().WebKitDataCue||i().VTTCue,s=t.metadataTrack_;if(s&&(n.forEach((function(e){var t=e.cueTime+r;!("number"!==typeof t||i().isNaN(t)||t<0)&&t<1/0&&e.frames.forEach((function(e){var n=new o(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return Go.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Go.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Go.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(n),s.addCue(n)}))})),s.cues&&s.cues.length)){for(var l=s.cues,u=[],c=0;c<l.length;c++)l[c]&&u.push(l[c]);var d=u.reduce((function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e}),{}),f=Object.keys(d).sort((function(e,t){return Number(e)-Number(t)}));f.forEach((function(e,t){var n=d[e],r=Number(f[t+1])||a;n.forEach((function(e){e.endTime=r}))}))}}},Xl=function(e,t,n){var r,i;if(n&&n.cues)for(r=n.cues.length;r--;)(i=n.cues[r]).startTime>=e&&i.endTime<=t&&n.removeCue(i)},Yl=function(e){return"number"===typeof e&&isFinite(e)},Ql=1/60,Jl=function(e){var t=e.startOfSegment,n=e.duration,r=e.segment,i=e.part,a=e.playlist,o=a.mediaSequence,s=a.id,l=a.segments,u=void 0===l?[]:l,c=e.mediaIndex,d=e.partIndex,f=e.timeline,p=u.length-1,h="mediaIndex/partIndex increment";e.getMediaInfoForTime?h="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(h+=" with independent "+e.independent);var m="number"===typeof d,g=e.segment.uri?"segment":"pre-segment",v=m?cs({preloadSegment:r})-1:0;return g+" ["+(o+c)+"/"+(o+p)+"]"+(m?" part ["+d+"/"+v+"]":"")+" segment start/end ["+r.start+" => "+r.end+"]"+(m?" part start/end ["+i.start+" => "+i.end+"]":"")+" startOfSegment ["+t+"] duration ["+n+"] timeline ["+f+"] selected by ["+h+"] playlist ["+s+"]"},eu=function(e){return e+"TimingInfo"},tu=function(e){var t=e.timelineChangeController,n=e.currentTimeline,r=e.segmentTimeline,i=e.loaderType,a=e.audioDisabled;if(n===r)return!1;if("audio"===i){var o=t.lastTimelineChange({type:"main"});return!o||o.to!==r}if("main"===i&&a){var s=t.pendingTimelineChange({type:"audio"});return!s||s.to!==r}return!1},nu=function(e){var t=e.segmentDuration,n=e.maxDuration;return!!t&&Math.round(t)>n+Yo},ru=function(e,t){if("hls"!==t)return null;var n,r,a=(n={audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo},r=0,["video","audio"].forEach((function(e){var t=n[e+"TimingInfo"];if(t){var a,o=t.start,s=t.end;"bigint"===typeof o||"bigint"===typeof s?a=i().BigInt(s)-i().BigInt(o):"number"===typeof o&&"number"===typeof s&&(a=s-o),"undefined"!==typeof a&&a>r&&(r=a)}})),"bigint"===typeof r&&r<Number.MAX_SAFE_INTEGER&&(r=Number(r)),r);if(!a)return null;var o=e.playlist.targetDuration,s=nu({segmentDuration:a,maxDuration:2*o}),l=nu({segmentDuration:a,maxDuration:o}),u="Segment with index "+e.mediaIndex+" from playlist "+e.playlist.id+" has a duration of "+a+" when the reported duration is "+e.duration+" and the target duration is "+o+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return s||l?{severity:s?"warn":"info",message:u}:null},iu=function(e){function t(t,n){var r;if(r=e.call(this)||this,!t)throw new TypeError("Initialization settings are required");if("function"!==typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return r.bandwidth=t.bandwidth,r.throughput={rate:0,count:0},r.roundTrip=NaN,r.resetStats_(),r.mediaIndex=null,r.partIndex=null,r.hasPlayed_=t.hasPlayed,r.currentTime_=t.currentTime,r.seekable_=t.seekable,r.seeking_=t.seeking,r.duration_=t.duration,r.mediaSource_=t.mediaSource,r.vhs_=t.vhs,r.loaderType_=t.loaderType,r.currentMediaInfo_=void 0,r.startingMediaInfo_=void 0,r.segmentMetadataTrack_=t.segmentMetadataTrack,r.goalBufferLength_=t.goalBufferLength,r.sourceType_=t.sourceType,r.sourceUpdater_=t.sourceUpdater,r.inbandTextTracks_=t.inbandTextTracks,r.state_="INIT",r.timelineChangeController_=t.timelineChangeController,r.shouldSaveSegmentTimingInfo_=!0,r.parse708captions_=t.parse708captions,r.useDtsForTimestampOffset_=t.useDtsForTimestampOffset,r.captionServices_=t.captionServices,r.experimentalExactManifestTimings=t.experimentalExactManifestTimings,r.checkBufferTimeout_=null,r.error_=void 0,r.currentTimeline_=-1,r.pendingSegment_=null,r.xhrOptions_=null,r.pendingSegments_=[],r.audioDisabled_=!1,r.isPendingTimestampOffset_=!1,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=Go.browser.IE_VERSION>=11,r.appendInitSegment_={audio:!0,video:!0},r.playlistOfLastInitSegment_={audio:null,video:null},r.callQueue_=[],r.loadQueue_=[],r.metadataQueue_={id3:[],caption:[]},r.waitingOnRemove_=!1,r.quotaExceededErrorRetryTimeout_=null,r.activeInitSegmentId_=null,r.initSegments_={},r.cacheEncryptionKeys_=t.cacheEncryptionKeys,r.keyCache_={},r.decrypter_=t.decrypter,r.syncController_=t.syncController,r.syncPoint_={segmentIndex:0,time:0},r.transmuxer_=r.createTransmuxer_(),r.triggerSyncInfoUpdate_=function(){return r.trigger("syncinfoupdate")},r.syncController_.on("syncinfoupdate",r.triggerSyncInfoUpdate_),r.mediaSource_.addEventListener("sourceopen",(function(){r.isEndOfStream_()||(r.ended_=!1)})),r.fetchAtBuffer_=!1,r.logger_=Xo("SegmentLoader["+r.loaderType_+"]"),Object.defineProperty((0,c.Z)(r),"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e,this.trigger("statechange"))}}),r.sourceUpdater_.on("ready",(function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),"main"===r.loaderType_&&r.timelineChangeController_.on("pendingtimelinechange",(function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),"audio"===r.loaderType_&&r.timelineChangeController_.on("timelinechange",(function(){r.hasEnoughInfoToLoad_()&&r.processLoadQueue_(),r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),r}f(t,e);var n=t.prototype;return n.createTransmuxer_=function(){return Sl({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},n.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},n.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&i().clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},n.setAudio=function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},n.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},n.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,i().clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},n.checkForAbort_=function(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)},n.error=function(e){return"undefined"!==typeof e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_},n.endOfStream=function(){this.ended_=!0,this.transmuxer_&&wl(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},n.buffered_=function(){var e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Go.createTimeRanges();if("main"===this.loaderType_){var t=e.hasAudio,n=e.hasVideo,r=e.isMuxed;if(n&&t&&!this.audioDisabled_&&!r)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},n.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=Zs(e),r=this.initSegments_[n];return t&&!r&&e.bytes&&(this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),r||e},n.segmentKey=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=Ks(e),r=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!r&&e.bytes&&(this.keyCache_[n]=r={resolvedUri:e.resolvedUri,bytes:e.bytes});var i={resolvedUri:(r||e).resolvedUri};return r&&(i.bytes=r.bytes),i},n.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},n.load=function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.playlist=function(e,t){if(void 0===t&&(t={}),e){var n=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));var i=null;if(n&&(n.id?i=n.id:n.uri&&(i=n.uri)),this.logger_("playlist update ["+i+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri)return null!==this.mediaIndex&&(e.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var a=e.mediaSequence-n.mediaSequence;if(this.logger_("live window shift ["+a+"]"),null!==this.mediaIndex)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){var s=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=s}}r&&(r.mediaIndex-=a,r.mediaIndex<0?(r.mediaIndex=null,r.partIndex=null):(r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex]),r.partIndex>=0&&r.segment.parts&&(r.part=r.segment.parts[r.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}},n.pause=function(){this.checkBufferTimeout_&&(i().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},n.paused=function(){return null===this.checkBufferTimeout_},n.resetEverything=function(e){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},n.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},n.resyncLoader=function(){this.transmuxer_&&wl(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},n.remove=function(e,t,n,r){if(void 0===n&&(n=function(){}),void 0===r&&(r=!1),t===1/0&&(t=this.duration_()),t<=e)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var i=1,a=function(){0===--i&&n()};for(var o in!r&&this.audioDisabled_||(i++,this.sourceUpdater_.removeAudio(e,t,a)),(r||"main"===this.loaderType_)&&(this.gopBuffer_=function(e,t,n,r){for(var i=Math.ceil((t-r)*It.ONE_SECOND_IN_TS),a=Math.ceil((n-r)*It.ONE_SECOND_IN_TS),o=e.slice(),s=e.length;s--&&!(e[s].pts<=a););if(-1===s)return o;for(var l=s+1;l--&&!(e[l].pts<=i););return l=Math.max(l,0),o.splice(l,s-l+1),o}(this.gopBuffer_,e,t,this.timeMapping_),i++,this.sourceUpdater_.removeVideo(e,t,a)),this.inbandTextTracks_)Xl(e,t,this.inbandTextTracks_[o]);Xl(e,t,this.segmentMetadataTrack_),a()}else this.logger_("skipping remove because no source updater or starting media info")},n.monitorBuffer_=function(){this.checkBufferTimeout_&&i().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=i().setTimeout(this.monitorBufferTick_.bind(this),1)},n.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&i().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=i().setTimeout(this.monitorBufferTick_.bind(this),500)},n.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var e=this.chooseNextRequest_();e&&("number"===typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}},n.isEndOfStream_=function(e,t,n){if(void 0===e&&(e=this.mediaIndex),void 0===t&&(t=this.playlist_),void 0===n&&(n=this.partIndex),!t||!this.mediaSource_)return!1;var r="number"===typeof e&&t.segments[e],i=e+1===t.segments.length,a=!r||!r.parts||n+1===r.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&i&&a},n.chooseNextRequest_=function(){var e=this.buffered_(),t=is(e)||0,n=as(e,this.currentTime_()),r=!this.hasPlayed_()&&n>=1,i=n>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||r||i)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(o.isSyncRequest)o.mediaIndex=function(e,t,n){t=t||[];for(var r=[],i=0,a=0;a<t.length;a++){var o=t[a];if(e===o.timeline&&(r.push(a),(i+=o.duration)>n))return a}return 0===r.length?0:r[r.length-1]}(this.currentTimeline_,a,t);else if(null!==this.mediaIndex){var s=a[this.mediaIndex],l="number"===typeof this.partIndex?this.partIndex:-1;o.startOfSegment=s.end?s.end:t,s.parts&&s.parts[l+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=l+1):o.mediaIndex=this.mediaIndex+1}else{var u=Ts.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),c=u.segmentIndex,d=u.startTime,f=u.partIndex;o.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+t:"currentTime "+this.currentTime_(),o.mediaIndex=c,o.startOfSegment=d,o.partIndex=f}var p=a[o.mediaIndex],h=p&&"number"===typeof o.partIndex&&p.parts&&p.parts[o.partIndex];if(!p||"number"===typeof o.partIndex&&!h)return null;if("number"!==typeof o.partIndex&&p.parts&&(o.partIndex=0,h=p.parts[0]),!n&&h&&!h.independent)if(0===o.partIndex){var m=a[o.mediaIndex-1],g=m.parts&&m.parts.length&&m.parts[m.parts.length-1];g&&g.independent&&(o.mediaIndex-=1,o.partIndex=m.parts.length-1,o.independent="previous segment")}else p.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");var v=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return o.mediaIndex>=a.length-1&&v&&!this.seeking_()?null:this.generateSegmentInfo_(o)},n.generateSegmentInfo_=function(e){var t=e.independent,n=e.playlist,r=e.mediaIndex,i=e.startOfSegment,a=e.isSyncRequest,o=e.partIndex,s=e.forceTimestampOffset,l=e.getMediaInfoForTime,u=n.segments[r],c="number"===typeof o&&u.parts[o],d={requestId:"segment-loader-"+Math.random(),uri:c&&c.resolvedUri||u.resolvedUri,mediaIndex:r,partIndex:c?o:null,isSyncRequest:a,startOfSegment:i,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:u.timeline,duration:c&&c.duration||u.duration,segment:u,part:c,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:t},f="undefined"!==typeof s?s:this.isPendingTimestampOffset_;d.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:u.timeline,currentTimeline:this.currentTimeline_,startOfSegment:i,buffered:this.buffered_(),overrideCheck:f});var p=is(this.sourceUpdater_.audioBuffered());return"number"===typeof p&&(d.audioAppendStart=p-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(d.gopsToAlignWith=function(e,t,n){if("undefined"===typeof t||null===t||!e.length)return[];var r,i=Math.ceil((t-n+3)*It.ONE_SECOND_IN_TS);for(r=0;r<e.length&&!(e[r].pts>i);r++);return e.slice(r)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),d},n.timestampOffsetForSegment_=function(e){return n=(t=e).segmentTimeline,r=t.currentTimeline,i=t.startOfSegment,a=t.buffered,t.overrideCheck||n!==r?n<r?i:a.length?a.end(a.length-1):i:null;var t,n,r,i,a},n.earlyAbortWhenNeeded_=function(e){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)){var t=this.currentTime_(),n=e.bandwidth,r=this.pendingSegment_.duration,i=Ts.estimateSegmentRequestTime(r,n,this.playlist_,e.bytesReceived),a=function(e,t,n){return void 0===n&&(n=1),((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(!(i<=a)){var o=function(e){var t=e.master,n=e.currentTime,r=e.bandwidth,i=e.duration,a=e.segmentDuration,o=e.timeUntilRebuffer,s=e.currentTimeline,l=e.syncController,u=t.playlists.filter((function(e){return!Ts.isIncompatible(e)})),c=u.filter(Ts.isEnabled);c.length||(c=u.filter((function(e){return!Ts.isDisabled(e)})));var d=c.filter(Ts.hasAttribute.bind(null,"BANDWIDTH")).map((function(e){var t=l.getSyncPoint(e,i,s,n)?1:2;return{playlist:e,rebufferingImpact:Ts.estimateSegmentRequestTime(a,r,e)*t-o}})),f=d.filter((function(e){return e.rebufferingImpact<=0}));return Gl(f,(function(e,t){return Wl(t.playlist,e.playlist)})),f.length?f[0]:(Gl(d,(function(e,t){return e.rebufferingImpact-t.rebufferingImpact})),d[0]||null)}({master:this.vhs_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(o){var s=i-a-o.rebufferingImpact,l=.5;a<=Yo&&(l=1),!o.playlist||o.playlist.uri===this.playlist_.uri||s<l||(this.bandwidth=o.playlist.attributes.BANDWIDTH*ll.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},n.handleAbort_=function(e){this.logger_("Aborting "+Jl(e)),this.mediaRequestsAborted+=1},n.handleProgress_=function(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")},n.handleTrackInfo_=function(e,t){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;var n=Object.keys(e).sort(),r=Object.keys(t).sort();if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++){var a=n[i];if(a!==r[i])return!1;if(e[a]!==t[a])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},n.handleTimingInfo_=function(e,t,n,r){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){var i=this.pendingSegment_,a=eu(t);i[a]=i[a]||{},i[a][n]=r,this.logger_("timinginfo: "+t+" - "+n+" - "+r),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},n.handleCaptions_=function(e,t){var n=this;if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(0!==t.length)if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),a={};t.forEach((function(e){a[e.stream]=a[e.stream]||{startTime:1/0,captions:[],endTime:0};var t=a[e.stream];t.startTime=Math.min(t.startTime,e.startTime+r),t.endTime=Math.max(t.endTime,e.endTime+r),t.captions.push(e)})),Object.keys(a).forEach((function(e){var t=a[e],o=t.startTime,s=t.endTime,l=t.captions,u=n.inbandTextTracks_;n.logger_("adding cues from "+o+" -> "+s+" for "+e),function(e,t,n){if(!e[n]){t.trigger({type:"usage",name:"vhs-608"}),t.trigger({type:"usage",name:"hls-608"});var r=n;/^cc708_/.test(n)&&(r="SERVICE"+n.split("_")[1]);var i=t.textTracks().getTrackById(r);if(i)e[n]=i;else{var a=n,o=n,s=!1,l=(t.options_.vhs&&t.options_.vhs.captionServices||{})[r];l&&(a=l.label,o=l.language,s=l.default),e[n]=t.addRemoteTextTrack({kind:"captions",id:r,default:s,label:a,language:o},!1).track}}}(u,n.vhs_.tech_,e),Xl(o,s,u[e]),function(e){var t=e.inbandTextTracks,n=e.captionArray,r=e.timestampOffset;if(n){var a=i().WebKitDataCue||i().VTTCue;n.forEach((function(e){var n=e.stream;t[n].addCue(new a(e.startTime+r,e.endTime+r,e.text))}))}}({captionArray:l,inbandTextTracks:u,timestampOffset:r})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));else this.logger_("SegmentLoader received no captions from a caption event")},n.handleId3_=function(e,t,n){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function(e,t,n){e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=t)}(this.inbandTextTracks_,n,this.vhs_.tech_),Kl({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:r,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,n))},n.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach((function(e){return e()})),this.metadataQueue_.caption.forEach((function(e){return e()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},n.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach((function(e){return e()}))},n.processLoadQueue_=function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach((function(e){return e()}))},n.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var e=this.pendingSegment_;return!!e&&(!this.getCurrentMediaInfo_()||!tu({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.getCurrentMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),e&&e.trackInfo||this.currentMediaInfo_},n.getMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),this.getCurrentMediaInfo_(e)||this.startingMediaInfo_},n.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;var n=t.hasAudio,r=t.hasVideo,i=t.isMuxed;return!(r&&!e.videoTimingInfo)&&(!(n&&!this.audioDisabled_&&!i&&!e.audioTimingInfo)&&!tu({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.handleData_=function(e,t){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[eu(t.type)].start;else{var r,i=this.getCurrentMediaInfo_(),a="main"===this.loaderType_&&i&&i.hasVideo;a&&(r=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:a,firstVideoFrameTimeForData:r,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,t.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:"main"===this.loaderType_});var o=this.chooseNextRequest_();if(o.mediaIndex!==n.mediaIndex||o.partIndex!==n.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,t)}}else this.callQueue_.push(this.handleData_.bind(this,e,t))},n.updateAppendInitSegmentStatus=function(e,t){"main"!==this.loaderType_||"number"!==typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)},n.getInitSegmentAndUpdateState_=function(e){var t=e.type,n=e.initSegment,r=e.map,i=e.playlist;if(r){var a=Zs(r);if(this.activeInitSegmentId_===a)return null;n=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=a}return n&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=i,this.appendInitSegment_[t]=!1,this.activeInitSegmentId_=null,n):null},n.handleQuotaExceededError_=function(e,t){var n=this,r=e.segmentInfo,a=e.type,o=e.bytes,s=this.sourceUpdater_.audioBuffered(),l=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+rs(s).join(", ")),l.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+rs(l).join(", "));var u=s.length?s.start(0):0,c=s.length?s.end(s.length-1):0,d=l.length?l.start(0):0,f=l.length?l.end(l.length-1):0;if(c-u<=1&&f-d<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+o.byteLength+", audio buffer: "+rs(s).join(", ")+", video buffer: "+rs(l).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:r,type:a,bytes:o}));var p=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+p),this.remove(0,p,(function(){n.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),n.waitingOnRemove_=!1,n.quotaExceededErrorRetryTimeout_=i().setTimeout((function(){n.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),n.quotaExceededErrorRetryTimeout_=null,n.processCallQueue_()}),1e3)}),!0)},n.handleAppendError_=function(e,t){var n=e.segmentInfo,r=e.type,i=e.bytes;t&&(22!==t.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",t),this.error(r+" append of "+i.length+"b failed for segment #"+n.mediaIndex+" in playlist "+n.playlist.id),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:n,type:r,bytes:i}))},n.appendToSourceBuffer_=function(e){var t,n,r,i=e.segmentInfo,a=e.type,o=e.initSegment,s=e.data,l=e.bytes;if(!l){var u=[s],c=s.byteLength;o&&(u.unshift(o),c+=o.byteLength),r=0,(t={bytes:c,segments:u}).bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach((function(e){n.set(e,r),r+=e.byteLength}))),l=n}this.sourceUpdater_.appendBuffer({segmentInfo:i,type:a,bytes:l},this.handleAppendError_.bind(this,{segmentInfo:i,type:a,bytes:l}))},n.handleSegmentTimingInfo_=function(e,t,n){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var r=this.pendingSegment_.segment,i=e+"TimingInfo";r[i]||(r[i]={}),r[i].transmuxerPrependedSeconds=n.prependedContentDuration||0,r[i].transmuxedPresentationStart=n.start.presentation,r[i].transmuxedDecodeStart=n.start.decode,r[i].transmuxedPresentationEnd=n.end.presentation,r[i].transmuxedDecodeEnd=n.end.decode,r[i].baseMediaDecodeTime=n.baseMediaDecodeTime}},n.appendData_=function(e,t){var n=t.type,r=t.data;if(r&&r.byteLength&&("audio"!==n||!this.audioDisabled_)){var i=this.getInitSegmentAndUpdateState_({type:n,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:i,data:r})}},n.loadSegment_=function(e){var t=this;this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"===typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push((function(){var n=s({},e,{forceTimestampOffset:!0});s(e,t.generateSegmentInfo_(n)),t.isPendingTimestampOffset_=!1,t.updateTransmuxerAndRequestSegment_(e)}))},n.updateTransmuxerAndRequestSegment_=function(e){var t=this;this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));var n=this.createSimplifiedSegmentObj_(e),r=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=null!==this.mediaIndex,a=e.timeline!==this.currentTimeline_&&e.timeline>0,o=r||i&&a;this.logger_("Requesting "+Jl(e)),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=Ll({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:o,endedTimelineFn:function(){t.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(n){var r=n.message,i=n.level,a=n.stream;t.logger_(Jl(e)+" logged from transmuxer stream "+a+" as a "+i+": "+r)}})},n.trimBackBuffer_=function(e){var t=function(e,t,n){var r=t-ll.BACK_BUFFER_LENGTH;e.length&&(r=Math.max(r,e.start(0)));var i=t-n;return Math.min(i,r)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)},n.createSimplifiedSegmentObj_=function(e){var t=e.segment,n=e.part,r={resolvedUri:n?n.resolvedUri:t.resolvedUri,byterange:n?n.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},i=e.playlist.segments[e.mediaIndex-1];if(i&&i.timeline===t.timeline&&(i.videoTimingInfo?r.baseStartTime=i.videoTimingInfo.transmuxedDecodeEnd:i.audioTimingInfo&&(r.baseStartTime=i.audioTimingInfo.transmuxedDecodeEnd)),t.key){var a=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);r.key=this.segmentKey(t.key),r.key.iv=a}return t.map&&(r.map=this.initSegmentForMap(t.map)),r},n.saveTransferStats_=function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},n.saveBandwidthRelatedStats_=function(e,t){this.pendingSegment_.byteLength=t.bytesReceived,e<Ql?this.logger_("Ignoring segment's bandwidth because its duration of "+e+" is less than the min to record 0.016666666666666666"):(this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime)},n.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},n.segmentRequestFinished_=function(e,t,n){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,n));else if(this.saveTransferStats_(t.stats),this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId){if(e){if(this.pendingSegment_=null,this.state="READY",e.code===kl)return;return this.pause(),e.code===Tl?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}var r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,t.stats),r.endOfAllRequests=t.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=function(e,t,n){if(!t.length)return e;if(n)return t.slice();for(var r=t[0].pts,i=0;i<e.length&&!(e[i].pts>=r);i++);return e.slice(0,i).concat(t)}(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(r)}},n.setTimeMapping_=function(e){var t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)},n.updateMediaSecondsLoaded_=function(e){"number"===typeof e.start&&"number"===typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration},n.shouldUpdateTransmuxerTimestampOffset_=function(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())},n.trueSegmentStart_=function(e){var t=e.currentStart,n=e.playlist,r=e.mediaIndex,i=e.firstVideoFrameTimeForData,a=e.currentVideoTimestampOffset,o=e.useVideoTimingInfo,s=e.videoTimingInfo,l=e.audioTimingInfo;if("undefined"!==typeof t)return t;if(!o)return l.start;var u=n.segments[r-1];return 0!==r&&u&&"undefined"!==typeof u.start&&u.end===i+a?s.start:i},n.waitForAppendsToComplete_=function(e){var t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var n=t.hasAudio,r=t.hasVideo,i=t.isMuxed,a="main"===this.loaderType_&&r,o=!this.audioDisabled_&&n&&!i;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!==typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);a&&e.waitingOnAppends++,o&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))},n.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())},n.checkForIllegalMediaSwitch=function(e){var t=function(e,t,n){return"main"===e&&t&&n?n.hasAudio||n.hasVideo?t.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!t&&(this.error({message:t,blacklistDuration:1/0}),this.trigger("error"),!0)},n.updateSourceBufferTimestampOffset_=function(e){if(null!==e.timestampOffset&&"number"===typeof e.timingInfo.start&&!e.changedTimestampOffset&&"main"===this.loaderType_){var t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}},n.getSegmentStartTimeForTimestampOffsetCalculation_=function(e){var t=e.videoTimingInfo,n=e.audioTimingInfo,r=e.timingInfo;return this.useDtsForTimestampOffset_?t&&"number"===typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:n&&"number"===typeof n.transmuxedDecodeStart?n.transmuxedDecodeStart:r.start:r.start},n.updateTimingInfoEnd_=function(e){e.timingInfo=e.timingInfo||{};var t=this.getMediaInfo_(),n="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;n&&(e.timingInfo.end="number"===typeof n.end?n.end:n.start+e.duration)},n.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});var t=ru(e,this.sourceType_);if(t&&("warn"===t.severity?Go.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",!e.isSyncRequest||(this.trigger("syncinfoupdate"),e.hasAppendedData_)){this.logger_("Appended "+Jl(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");var n=e.segment,r=e.part,i=n.end&&this.currentTime_()-n.end>3*e.playlist.targetDuration,a=r&&r.end&&this.currentTime_()-r.end>3*e.playlist.partTargetDuration;if(i||a)return this.logger_("bad "+(i?"segment":"part")+" "+Jl(e)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+Jl(e))},n.recordThroughput_=function(e){if(e.duration<Ql)this.logger_("Ignoring segment's throughput because its duration of "+e.duration+" is less than the min to record 0.016666666666666666");else{var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(r-t)/++this.throughput.count}},n.addSegmentMetadataCue_=function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,r=t.end;if(Yl(n)&&Yl(r)){Xl(n,r,this.segmentMetadataTrack_);var a=i().WebKitDataCue||i().VTTCue,o={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:r},s=new a(n,r,JSON.stringify(o));s.value=o,this.segmentMetadataTrack_.addCue(s)}}},t}(Go.EventTarget);function au(){}var ou,su=function(e){return"string"!==typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))},lu=["video","audio"],uu=function(e,t){var n=t[e+"Buffer"];return n&&n.updating||t.queuePending[e]},cu=function e(t,n){if(0!==n.queue.length){var r=0,i=n.queue[r];if("mediaSource"!==i.type){if("mediaSource"!==t&&n.ready()&&"closed"!==n.mediaSource.readyState&&!uu(t,n)){if(i.type!==t){if(r=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("mediaSource"===r.type)return null;if(r.type===e)return n}return null}(t,n.queue),null===r)return;i=n.queue[r]}return n.queue.splice(r,1),n.queuePending[t]=i,i.action(t,n),i.doneFn?void 0:(n.queuePending[t]=null,void e(t,n))}}else n.updating()||"closed"===n.mediaSource.readyState||(n.queue.shift(),i.action(n),i.doneFn&&i.doneFn(),e("audio",n),e("video",n))}},du=function(e,t){var n=t[e+"Buffer"],r=su(e);n&&(n.removeEventListener("updateend",t["on"+r+"UpdateEnd_"]),n.removeEventListener("error",t["on"+r+"Error_"]),t.codecs[e]=null,t[e+"Buffer"]=null)},fu=function(e,t){return e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t)},pu=function(e,t,n){return function(r,i){var a=i[r+"Buffer"];if(fu(i.mediaSource,a)){i.logger_("Appending segment "+t.mediaIndex+"'s "+e.length+" bytes to "+r+"Buffer");try{a.appendBuffer(e)}catch(o){i.logger_("Error with code "+o.code+" "+(22===o.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+t.mediaIndex+" to "+r+"Buffer"),i.queuePending[r]=null,n(o)}}}},hu=function(e,t){return function(n,r){var i=r[n+"Buffer"];if(fu(r.mediaSource,i)){r.logger_("Removing "+e+" to "+t+" from "+n+"Buffer");try{i.remove(e,t)}catch(a){r.logger_("Remove "+e+" to "+t+" from "+n+"Buffer failed")}}}},mu=function(e){return function(t,n){var r=n[t+"Buffer"];fu(n.mediaSource,r)&&(n.logger_("Setting "+t+"timestampOffset to "+e),r.timestampOffset=e)}},gu=function(e){return function(t,n){e()}},vu=function(e){return function(t){if("open"===t.mediaSource.readyState){t.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{t.mediaSource.endOfStream(e)}catch(n){Go.log.warn("Failed to call media source endOfStream",n)}}}},yu=function(e){return function(t){t.logger_("Setting mediaSource duration to "+e);try{t.mediaSource.duration=e}catch(n){Go.log.warn("Failed to set media source duration",n)}}},bu=function(){return function(e,t){if("open"===t.mediaSource.readyState){var n=t[e+"Buffer"];if(fu(t.mediaSource,n)){t.logger_("calling abort on "+e+"Buffer");try{n.abort()}catch(r){Go.log.warn("Failed to abort on "+e+"Buffer",r)}}}}},wu=function(e,t){return function(n){var r=su(e),i=G(t);n.logger_("Adding "+e+"Buffer with codec "+t+" to mediaSource");var a=n.mediaSource.addSourceBuffer(i);a.addEventListener("updateend",n["on"+r+"UpdateEnd_"]),a.addEventListener("error",n["on"+r+"Error_"]),n.codecs[e]=t,n[e+"Buffer"]=a}},Su=function(e){return function(t){var n=t[e+"Buffer"];if(du(e,t),fu(t.mediaSource,n)){t.logger_("Removing "+e+"Buffer with codec "+t.codecs[e]+" from mediaSource");try{t.mediaSource.removeSourceBuffer(n)}catch(r){Go.log.warn("Failed to removeSourceBuffer "+e+"Buffer",r)}}}},_u=function(e){return function(t,n){var r=n[t+"Buffer"],i=G(e);fu(n.mediaSource,r)&&n.codecs[t]!==e&&(n.logger_("changing "+t+"Buffer codec from "+n.codecs[t]+" to "+e),r.changeType(i),n.codecs[t]=e)}},xu=function(e){var t=e.type,n=e.sourceUpdater,r=e.action,i=e.doneFn,a=e.name;n.queue.push({type:t,action:r,doneFn:i,name:a}),cu(t,n)},Tu=function(e,t){return function(n){if(t.queuePending[e]){var r=t.queuePending[e].doneFn;t.queuePending[e]=null,r&&r(t[e+"Error_"])}cu(e,t)}},ku=function(e){function t(t){var n;return(n=e.call(this)||this).mediaSource=t,n.sourceopenListener_=function(){return cu("mediaSource",(0,c.Z)(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=Xo("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=Tu("video",(0,c.Z)(n)),n.onAudioUpdateEnd_=Tu("audio",(0,c.Z)(n)),n.onVideoError_=function(e){n.videoError_=e},n.onAudioError_=function(e){n.audioError_=e},n.createdSourceBuffers_=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}f(t,e);var n=t.prototype;return n.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},n.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},n.hasInitializedAnyEme=function(){return this.initializedEme_},n.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},n.createSourceBuffers=function(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},n.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},n.addSourceBuffer=function(e,t){xu({type:"mediaSource",sourceUpdater:this,action:wu(e,t),name:"addSourceBuffer"})},n.abort=function(e){xu({type:e,sourceUpdater:this,action:bu(e),name:"abort"})},n.removeSourceBuffer=function(e){this.canRemoveSourceBuffer()?xu({type:"mediaSource",sourceUpdater:this,action:Su(e),name:"removeSourceBuffer"}):Go.log.error("removeSourceBuffer is not supported!")},n.canRemoveSourceBuffer=function(){return!Go.browser.IE_VERSION&&!Go.browser.IS_FIREFOX&&i().MediaSource&&i().MediaSource.prototype&&"function"===typeof i().MediaSource.prototype.removeSourceBuffer},t.canChangeType=function(){return i().SourceBuffer&&i().SourceBuffer.prototype&&"function"===typeof i().SourceBuffer.prototype.changeType},n.canChangeType=function(){return this.constructor.canChangeType()},n.changeType=function(e,t){this.canChangeType()?xu({type:e,sourceUpdater:this,action:_u(t),name:"changeType"}):Go.log.error("changeType is not supported!")},n.addOrChangeSourceBuffers=function(e){var t=this;if(!e||"object"!==typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach((function(n){var r=e[n];if(!t.hasCreatedSourceBuffers())return t.addSourceBuffer(n,r);t.canChangeType()&&t.changeType(n,r)}))},n.appendBuffer=function(e,t){var n=this,r=e.segmentInfo,i=e.type,a=e.bytes;if(this.processedAppend_=!0,"audio"===i&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_("delayed audio append of "+a.length+" until video append");if(xu({type:i,sourceUpdater:this,action:pu(a,r||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===i){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var o=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+o.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,o.forEach((function(e){n.appendBuffer.apply(n,e)}))}},n.audioBuffered=function(){return fu(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Go.createTimeRange()},n.videoBuffered=function(){return fu(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Go.createTimeRange()},n.buffered=function(){var e=fu(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=fu(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){var n=null,r=null,i=0,a=[],o=[];if(!e||!e.length||!t||!t.length)return Go.createTimeRange();for(var s=e.length;s--;)a.push({time:e.start(s),type:"start"}),a.push({time:e.end(s),type:"end"});for(s=t.length;s--;)a.push({time:t.start(s),type:"start"}),a.push({time:t.end(s),type:"end"});for(a.sort((function(e,t){return e.time-t.time})),s=0;s<a.length;s++)"start"===a[s].type?2===++i&&(n=a[s].time):"end"===a[s].type&&1===--i&&(r=a[s].time),null!==n&&null!==r&&(o.push([n,r]),n=null,r=null);return Go.createTimeRanges(o)}(this.audioBuffered(),this.videoBuffered())},n.setDuration=function(e,t){void 0===t&&(t=au),xu({type:"mediaSource",sourceUpdater:this,action:yu(e),name:"duration",doneFn:t})},n.endOfStream=function(e,t){void 0===e&&(e=null),void 0===t&&(t=au),"string"!==typeof e&&(e=void 0),xu({type:"mediaSource",sourceUpdater:this,action:vu(e),name:"endOfStream",doneFn:t})},n.removeAudio=function(e,t,n){void 0===n&&(n=au),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?xu({type:"audio",sourceUpdater:this,action:hu(e,t),doneFn:n,name:"remove"}):n()},n.removeVideo=function(e,t,n){void 0===n&&(n=au),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?xu({type:"video",sourceUpdater:this,action:hu(e,t),doneFn:n,name:"remove"}):n()},n.updating=function(){return!(!uu("audio",this)&&!uu("video",this))},n.audioTimestampOffset=function(e){return"undefined"!==typeof e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(xu({type:"audio",sourceUpdater:this,action:mu(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},n.videoTimestampOffset=function(e){return"undefined"!==typeof e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(xu({type:"video",sourceUpdater:this,action:mu(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},n.audioQueueCallback=function(e){this.audioBuffer&&xu({type:"audio",sourceUpdater:this,action:gu(e),name:"callback"})},n.videoQueueCallback=function(e){this.videoBuffer&&xu({type:"video",sourceUpdater:this,action:gu(e),name:"callback"})},n.dispose=function(){var e=this;this.trigger("dispose"),lu.forEach((function(t){e.abort(t),e.canRemoveSourceBuffer()?e.removeSourceBuffer(t):e[t+"QueueCallback"]((function(){return du(t,e)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},t}(Go.EventTarget),Eu=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},Cu=new Uint8Array("\n\n".split("").map((function(e){return e.charCodeAt(0)}))),Ou=function(e){function t(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,t,n)||this).mediaSource_=null,r.subtitlesTrack_=null,r.loaderType_="subtitle",r.featuresNativeTextTracks_=t.featuresNativeTextTracks,r.shouldSaveSegmentTimingInfo_=!1,r}f(t,e);var n=t.prototype;return n.createTransmuxer_=function(){return null},n.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Go.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return Go.createTimeRanges([[t,n]])},n.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=Zs(e),r=this.initSegments_[n];if(t&&!r&&e.bytes){var i=Cu.byteLength+e.bytes.byteLength,a=new Uint8Array(i);a.set(e.bytes),a.set(Cu,e.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return r||e},n.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.track=function(e){return"undefined"===typeof e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},n.remove=function(e,t){Xl(e,t,this.subtitlesTrack_)},n.fillBuffer_=function(){var e=this,t=this.chooseNextRequest_();if(t){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){return this.syncController_.one("timestampoffset",(function(){e.state="READY",e.paused()||e.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}},n.timestampOffsetForSegment_=function(){return null},n.chooseNextRequest_=function(){return this.skipEmptySegments_(e.prototype.chooseNextRequest_.call(this))},n.skipEmptySegments_=function(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e},n.stopForError=function(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")},n.segmentRequestFinished_=function(e,t,n){var r=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===Tl&&this.handleTimeout_(),e.code===kl?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);var a=this.pendingSegment_;this.saveBandwidthRelatedStats_(a.duration,t.stats),this.state="APPENDING",this.trigger("appending");var o=a.segment;if(o.map&&(o.map.bytes=t.map.bytes),a.bytes=t.bytes,"function"!==typeof i().WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var s,l=function(){r.subtitlesTrack_.tech_.off("vttjsloaded",s),r.stopForError({message:"Error loading vtt.js"})};return s=function(){r.subtitlesTrack_.tech_.off("vttjserror",l),r.segmentRequestFinished_(e,t,n)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",s),void this.subtitlesTrack_.tech_.one("vttjserror",l)}o.requested=!0;try{this.parseVTTCues_(a)}catch(u){return void this.stopForError({message:u.message})}if(this.updateTimeMapping_(a,this.syncController_.timelines[a.timeline],this.playlist_),a.cues.length?a.timingInfo={start:a.cues[0].startTime,end:a.cues[a.cues.length-1].endTime}:a.timingInfo={start:a.startOfSegment,end:a.startOfSegment+a.duration},a.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");a.byteLength=a.bytes.byteLength,this.mediaSecondsLoaded+=o.duration,a.cues.forEach((function(e){r.subtitlesTrack_.addCue(r.featuresNativeTextTracks_?new(i().VTTCue)(e.startTime,e.endTime,e.text):e)})),function(e){var t=e.cues;if(t)for(var n=0;n<t.length;n++){for(var r=[],i=0,a=0;a<t.length;a++)t[n].startTime===t[a].startTime&&t[n].endTime===t[a].endTime&&t[n].text===t[a].text&&++i>1&&r.push(t[a]);r.length&&r.forEach((function(t){return e.removeCue(t)}))}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},n.handleData_=function(){},n.updateTimingInfoEnd_=function(){},n.parseVTTCues_=function(e){var t,n=!1;"function"===typeof i().TextDecoder?t=new(i().TextDecoder)("utf8"):(t=i().WebVTT.StringDecoder(),n=!0);var r=new(i().WebVTT.Parser)(i(),i().vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){e.timestampmap=t},r.onparsingerror=function(e){Go.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var a=e.segment.map.bytes;n&&(a=Eu(a)),r.parse(a)}var o=e.bytes;n&&(o=Eu(o)),r.parse(o),r.flush()},n.updateTimeMapping_=function(e,t,n){var r=e.segment;if(t)if(e.cues.length){var i=e.timestampmap,a=i.MPEGTS/It.ONE_SECOND_IN_TS-i.LOCAL+t.mapping;if(e.cues.forEach((function(e){e.startTime+=a,e.endTime+=a})),!n.syncInfo){var o=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(o,s-r.duration)}}}else r.empty=!0},t}(iu),Pu=function(e,t){for(var n=e.cues,r=0;r<n.length;r++){var i=n[r];if(t>=i.adStartTime&&t<=i.adEndTime)return i}return null},Iu=[{name:"VOD",run:function(e,t,n,r,i){if(n!==1/0){return{time:0,segmentIndex:0,partIndex:null}}return null}},{name:"ProgramDateTime",run:function(e,t,n,r,i){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var a=null,o=null,s=ls(t);i=i||0;for(var l=0;l<s.length;l++){var u=s[t.endList||0===i?l:s.length-(l+1)],c=u.segment,d=e.timelineToDatetimeMappings[c.timeline];if(d&&c.dateTimeObject){var f=c.dateTimeObject.getTime()/1e3+d;if(c.parts&&"number"===typeof u.partIndex)for(var p=0;p<u.partIndex;p++)f+=c.parts[p].duration;var h=Math.abs(i-f);if(null!==o&&(0===h||o<h))break;o=h,a={time:f,segmentIndex:u.segmentIndex,partIndex:u.partIndex}}}return a}},{name:"Segment",run:function(e,t,n,r,i){var a=null,o=null;i=i||0;for(var s=ls(t),l=0;l<s.length;l++){var u=s[t.endList||0===i?l:s.length-(l+1)],c=u.segment,d=u.part&&u.part.start||c&&c.start;if(c.timeline===r&&"undefined"!==typeof d){var f=Math.abs(i-d);if(null!==o&&o<f)break;(!a||null===o||o>=f)&&(o=f,a={time:d,segmentIndex:u.segmentIndex,partIndex:u.partIndex})}}return a}},{name:"Discontinuity",run:function(e,t,n,r,i){var a=null;if(i=i||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var o=null,s=0;s<t.discontinuityStarts.length;s++){var l=t.discontinuityStarts[s],u=t.discontinuitySequence+s+1,c=e.discontinuities[u];if(c){var d=Math.abs(i-c.time);if(null!==o&&o<d)break;(!a||null===o||o>=d)&&(o=d,a={time:c.time,segmentIndex:l,partIndex:null})}}return a}},{name:"Playlist",run:function(e,t,n,r,i){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}}],Au=function(e){function t(t){var n;return(n=e.call(this)||this).timelines=[],n.discontinuities=[],n.timelineToDatetimeMappings={},n.logger_=Xo("SyncController"),n}f(t,e);var n=t.prototype;return n.getSyncPoint=function(e,t,n,r){var i=this.runStrategies_(e,t,n,r);return i.length?this.selectSyncPoint_(i,{key:"time",value:r}):null},n.getExpiredTime=function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var r=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+hs({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:r.segmentIndex,endIndex:0}))},n.runStrategies_=function(e,t,n,r){for(var i=[],a=0;a<Iu.length;a++){var o=Iu[a],s=o.run(this,e,t,n,r);s&&(s.strategy=o.name,i.push({strategy:o.name,syncPoint:s}))}return i},n.selectSyncPoint_=function(e,t){for(var n=e[0].syncPoint,r=Math.abs(e[0].syncPoint[t.key]-t.value),i=e[0].strategy,a=1;a<e.length;a++){var o=Math.abs(e[a].syncPoint[t.key]-t.value);o<r&&(r=o,n=e[a].syncPoint,i=e[a].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+i+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+("number"===typeof n.partIndex?",partIndex:"+n.partIndex:"")+"]"),n},n.saveExpiredSegmentInfo=function(e,t){var n=t.mediaSequence-e.mediaSequence;if(n>86400)Go.log.warn("Not saving expired segment info. Media sequence gap "+n+" is too large.");else for(var r=n-1;r>=0;r--){var i=e.segments[r];if(i&&"undefined"!==typeof i.start){t.syncInfo={mediaSequence:e.mediaSequence+r,time:i.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},n.setDateTimeMappingForStart=function(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0],n=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-n}},n.saveSegmentTimingInfo=function(e){var t=e.segmentInfo,n=e.shouldSaveTimelineMapping,r=this.calculateSegmentTimeMapping_(t,t.timingInfo,n),i=t.segment;r&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:i.start}));var a=i.dateTimeObject;i.discontinuity&&n&&a&&(this.timelineToDatetimeMappings[i.timeline]=-a.getTime()/1e3)},n.timestampOffsetForTimeline=function(e){return"undefined"===typeof this.timelines[e]?null:this.timelines[e].time},n.mappingForTimeline=function(e){return"undefined"===typeof this.timelines[e]?null:this.timelines[e].mapping},n.calculateSegmentTimeMapping_=function(e,t,n){var r,i,a=e.segment,o=e.part,s=this.timelines[e.timeline];if("number"===typeof e.timestampOffset)s={time:e.startOfSegment,mapping:e.startOfSegment-t.start},n&&(this.timelines[e.timeline]=s,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+s.time+"] [mapping: "+s.mapping+"]")),r=e.startOfSegment,i=t.end+s.mapping;else{if(!s)return!1;r=t.start+s.mapping,i=t.end+s.mapping}return o&&(o.start=r,o.end=i),(!a.start||r<a.start)&&(a.start=r),a.end=i,!0},n.saveDiscontinuitySyncInfo_=function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var r=0;r<t.discontinuityStarts.length;r++){var i=t.discontinuityStarts[r],a=t.discontinuitySequence+r+1,o=i-e.mediaIndex,s=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>s){var l=void 0;l=o<0?n.start-hs({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:i}):n.end+hs({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:i}),this.discontinuities[a]={time:l,accuracy:s}}}},n.dispose=function(){this.trigger("dispose"),this.off()},t}(Go.EventTarget),Du=function(e){function t(){var t;return(t=e.call(this)||this).pendingTimelineChanges_={},t.lastTimelineChanges_={},t}f(t,e);var n=t.prototype;return n.clearPendingTimelineChange=function(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(e){var t=e.type,n=e.from,r=e.to;return"number"===typeof n&&"number"===typeof r&&(this.pendingTimelineChanges_[t]={type:t,from:n,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]},n.lastTimelineChange=function(e){var t=e.type,n=e.from,r=e.to;return"number"===typeof n&&"number"===typeof r&&(this.lastTimelineChanges_[t]={type:t,from:n,to:r},delete this.pendingTimelineChanges_[t],this.trigger("timelinechange")),this.lastTimelineChanges_[t]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},t}(Go.EventTarget),Mu=dl(fl((function(){var e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function t(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&n.path)}},n.exports),n.exports}var r=t((function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0})),i=t((function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n,r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),a=t((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0})),o=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),a=t.length,o=0;o<a;++o)t[o].apply(this,i)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();var s,l=null,u=function(){function e(e){var t,n,r;l||(l=function(){var e,t,n,r,i,a,o,s,l=[[[],[],[],[],[]],[[],[],[],[],[]]],u=l[0],c=l[1],d=u[4],f=c[4],p=[],h=[];for(e=0;e<256;e++)h[(p[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!d[t];t^=r||1,n=h[n]||1)for(a=(a=n^n<<1^n<<2^n<<3^n<<4)>>8^255&a^99,d[t]=a,f[a]=t,s=16843009*p[i=p[r=p[t]]]^65537*i^257*r^16843008*t,o=257*p[a]^16843008*a,e=0;e<4;e++)u[e][t]=o=o<<24^o>>>8,c[e][a]=s=s<<24^s>>>8;for(e=0;e<5;e++)u[e]=u[e].slice(0),c[e]=c[e].slice(0);return l}()),this._tables=[[l[0][0].slice(),l[0][1].slice(),l[0][2].slice(),l[0][3].slice(),l[0][4].slice()],[l[1][0].slice(),l[1][1].slice(),l[1][2].slice(),l[1][3].slice(),l[1][4].slice()]];var i=this._tables[0][4],a=this._tables[1],o=e.length,s=1;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size");var u=e.slice(0),c=[];for(this._key=[u,c],t=o;t<4*o+28;t++)r=u[t-1],(t%o===0||8===o&&t%o===4)&&(r=i[r>>>24]<<24^i[r>>16&255]<<16^i[r>>8&255]<<8^i[255&r],t%o===0&&(r=r<<8^r>>>24^s<<24,s=s<<1^283*(s>>7))),u[t]=u[t-o]^r;for(n=0;t;n++,t--)r=u[3&n?t:t-4],c[n]=t<=4||n<4?r:a[0][i[r>>>24]]^a[1][i[r>>16&255]]^a[2][i[r>>8&255]]^a[3][i[255&r]]}return e.prototype.decrypt=function(e,t,n,r,i,a){var o,s,l,u,c=this._key[1],d=e^c[0],f=r^c[1],p=n^c[2],h=t^c[3],m=c.length/4-2,g=4,v=this._tables[1],y=v[0],b=v[1],w=v[2],S=v[3],_=v[4];for(u=0;u<m;u++)o=y[d>>>24]^b[f>>16&255]^w[p>>8&255]^S[255&h]^c[g],s=y[f>>>24]^b[p>>16&255]^w[h>>8&255]^S[255&d]^c[g+1],l=y[p>>>24]^b[h>>16&255]^w[d>>8&255]^S[255&f]^c[g+2],h=y[h>>>24]^b[d>>16&255]^w[f>>8&255]^S[255&p]^c[g+3],g+=4,d=o,f=s,p=l;for(u=0;u<4;u++)i[(3&-u)+a]=_[d>>>24]<<24^_[f>>16&255]<<16^_[p>>8&255]<<8^_[255&h]^c[g++],o=d,d=f,f=p,p=h,h=o},e}(),c=function(e){function t(){var t;return(t=e.call(this,o)||this).jobs=[],t.delay=1,t.timeout_=null,t}a(t,e);var n=t.prototype;return n.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(o),d=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},f=function(){function e(t,n,r,i){var a=e.STEP,o=new Int32Array(t.buffer),s=new Uint8Array(t.byteLength),l=0;for(this.asyncStream_=new c,this.asyncStream_.push(this.decryptChunk_(o.subarray(l,l+a),n,r,s)),l=a;l<o.length;l+=a)r=new Uint32Array([d(o[l-4]),d(o[l-3]),d(o[l-2]),d(o[l-1])]),this.asyncStream_.push(this.decryptChunk_(o.subarray(l,l+a),n,r,s));this.asyncStream_.push((function(){var e;i(null,(e=s).subarray(0,e.byteLength-e[e.byteLength-1]))}))}return e.prototype.decryptChunk_=function(e,t,n,r){return function(){var i=function(e,t,n){var r,i,a,o,s,l,c,f,p,h=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),m=new u(Array.prototype.slice.call(t)),g=new Uint8Array(e.byteLength),v=new Int32Array(g.buffer);for(r=n[0],i=n[1],a=n[2],o=n[3],p=0;p<h.length;p+=4)s=d(h[p]),l=d(h[p+1]),c=d(h[p+2]),f=d(h[p+3]),m.decrypt(s,l,c,f,v,p),v[p]=d(v[p]^r),v[p+1]=d(v[p+1]^i),v[p+2]=d(v[p+2]^a),v[p+3]=d(v[p+3]^o),r=s,i=l,a=c,o=f;return g}(e,t,n);r.set(i,e.byteOffset)}},r(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}();s="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};var p=s.BigInt||Number;p("0x1"),p("0x100"),p("0x10000"),p("0x1000000"),p("0x100000000"),p("0x10000000000"),p("0x1000000000000"),p("0x100000000000000"),p("0x10000000000000000");var h=function(e){var t={};return Object.keys(e).forEach((function(n){var r,i=e[n];r=i,("function"===ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i})),t};self.onmessage=function(e){var t=e.data,n=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),r=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),i=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new f(n,r,i,(function(e,n){self.postMessage(h({source:t.source,decrypted:n}),[n.buffer])}))}}))),Ru=cl(Mu),Nu=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},Lu=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},ju=function(e,t){t.activePlaylistLoader=e,e.load()},Bu={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e],i=t.blacklistCurrentPlaylist;Lu(n,r);var a=r.activeTrack(),o=r.activeGroup(),s=(o.filter((function(e){return e.default}))[0]||o[0]).id,l=r.tracks[s];if(a!==l){for(var u in Go.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),r.tracks)r.tracks[u].enabled=r.tracks[u]===l;r.onTrackChanged()}else i({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e];Go.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Lu(n,r);var i=r.activeTrack();i&&(i.mode="disabled"),r.onTrackChanged()}}},Fu={AUDIO:function(e,t,n){if(t){var r=n.tech,i=n.requestOptions,a=n.segmentLoaders[e];t.on("loadedmetadata",(function(){var e=t.media();a.playlist(e,i),(!r.paused()||e.endList&&"none"!==r.preload())&&a.load()})),t.on("loadedplaylist",(function(){a.playlist(t.media(),i),r.paused()||a.load()})),t.on("error",Bu[e](e,n))}},SUBTITLES:function(e,t,n){var r=n.tech,i=n.requestOptions,a=n.segmentLoaders[e],o=n.mediaTypes[e];t.on("loadedmetadata",(function(){var e=t.media();a.playlist(e,i),a.track(o.activeTrack()),(!r.paused()||e.endList&&"none"!==r.preload())&&a.load()})),t.on("loadedplaylist",(function(){a.playlist(t.media(),i),r.paused()||a.load()})),t.on("error",Bu[e](e,n))}},Uu={AUDIO:function(e,t){var n=t.vhs,r=t.sourceType,i=t.segmentLoaders[e],a=t.requestOptions,o=t.master.mediaGroups,s=t.mediaTypes[e],l=s.groups,u=s.tracks,c=s.logger_,d=t.masterPlaylistLoader,f=xs(d.master);for(var p in o[e]&&0!==Object.keys(o[e]).length||(o[e]={main:{default:{default:!0}}},f&&(o[e].main.default.playlists=d.master.playlists)),o[e])for(var h in l[p]||(l[p]=[]),o[e][p]){var m=o[e][p][h],g=void 0;if(f?(c("AUDIO group '"+p+"' label '"+h+"' is a master playlist"),m.isMasterPlaylist=!0,g=null):g="vhs-json"===r&&m.playlists?new Bs(m.playlists[0],n,a):m.resolvedUri?new Bs(m.resolvedUri,n,a):m.playlists&&"dash"===r?new sl(m.playlists[0],n,a,d):null,m=Go.mergeOptions({id:h,playlistLoader:g},m),Fu[e](e,m.playlistLoader,t),l[p].push(m),"undefined"===typeof u[h]){var v=new Go.AudioTrack({id:h,kind:Nu(m),enabled:!1,language:m.language,default:m.default,label:h});u[h]=v}}i.on("error",Bu[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,r=t.vhs,i=t.sourceType,a=t.segmentLoaders[e],o=t.requestOptions,s=t.master.mediaGroups,l=t.mediaTypes[e],u=l.groups,c=l.tracks,d=t.masterPlaylistLoader;for(var f in s[e])for(var p in u[f]||(u[f]=[]),s[e][f])if(!s[e][f][p].forced){var h=s[e][f][p],m=void 0;if("hls"===i)m=new Bs(h.resolvedUri,r,o);else if("dash"===i){if(!h.playlists.filter((function(e){return e.excludeUntil!==1/0})).length)return;m=new sl(h.playlists[0],r,o,d)}else"vhs-json"===i&&(m=new Bs(h.playlists?h.playlists[0]:h.resolvedUri,r,o));if(h=Go.mergeOptions({id:p,playlistLoader:m},h),Fu[e](e,h.playlistLoader,t),u[f].push(h),"undefined"===typeof c[p]){var g=n.addRemoteTextTrack({id:p,kind:"subtitles",default:h.default&&h.autoselect,language:h.language,label:p},!1).track;c[p]=g}}a.on("error",Bu[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,r=t.master.mediaGroups,i=t.mediaTypes[e],a=i.groups,o=i.tracks;for(var s in r[e])for(var l in a[s]||(a[s]=[]),r[e][s]){var u=r[e][s][l];if(/^(?:CC|SERVICE)/.test(u.instreamId)){var c=n.options_.vhs&&n.options_.vhs.captionServices||{},d={label:l,language:u.language,instreamId:u.instreamId,default:u.default&&u.autoselect};if(c[d.instreamId]&&(d=Go.mergeOptions(d,c[d.instreamId])),void 0===d.default&&delete d.default,a[s].push(Go.mergeOptions({id:l},u)),"undefined"===typeof o[l]){var f=n.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;o[l]=f}}}}},Hu=function e(t,n){for(var r=0;r<t.length;r++){if(Ss(n,t[r]))return!0;if(t[r].playlists&&e(t[r].playlists,n))return!0}return!1},zu={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if(n[r].enabled)return n[r];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if("showing"===n[r].mode||"hidden"===n[r].mode)return n[r];return null}}},Vu=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){Uu[t](t,e)}));var t=e.mediaTypes,n=e.masterPlaylistLoader,r=e.tech,i=e.vhs,a=e.segmentLoaders,o=a.AUDIO,s=a.main;["AUDIO","SUBTITLES"].forEach((function(n){t[n].activeGroup=function(e,t){return function(n){var r=t.masterPlaylistLoader,i=t.mediaTypes[e].groups,a=r.media();if(!a)return null;var o=null;a.attributes[e]&&(o=i[a.attributes[e]]);var s=Object.keys(i);if(!o)if("AUDIO"===e&&s.length>1&&xs(t.master))for(var l=0;l<s.length;l++){var u=i[s[l]];if(Hu(u,a)){o=u;break}}else i.main?o=i.main:1===s.length&&(o=i[s[0]]);return"undefined"===typeof n?o:null!==n&&o&&o.filter((function(e){return e.id===n.id}))[0]||null}}(n,e),t[n].activeTrack=zu[n](n,e),t[n].onGroupChanged=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],i=n.main,a=t.mediaTypes[e],o=a.activeTrack(),s=a.getActiveGroup(),l=a.activePlaylistLoader,u=a.lastGroup_;s&&u&&s.id===u.id||(a.lastGroup_=s,a.lastTrack_=o,Lu(r,a),s&&!s.isMasterPlaylist&&(s.playlistLoader?(r.resyncLoader(),ju(s.playlistLoader,a)):l&&i.resetEverything()))}}(n,e),t[n].onGroupChanging=function(e,t){return function(){var n=t.segmentLoaders[e];t.mediaTypes[e].lastGroup_=null,n.abort(),n.pause()}}(n,e),t[n].onTrackChanged=function(e,t){return function(){var n=t.masterPlaylistLoader,r=t.segmentLoaders,i=r[e],a=r.main,o=t.mediaTypes[e],s=o.activeTrack(),l=o.getActiveGroup(),u=o.activePlaylistLoader,c=o.lastTrack_;if((!c||!s||c.id!==s.id)&&(o.lastGroup_=l,o.lastTrack_=s,Lu(i,o),l)){if(l.isMasterPlaylist){if(!s||!c||s.id===c.id)return;var d=t.vhs.masterPlaylistController_,f=d.selectPlaylist();if(d.media()===f)return;return o.logger_("track change. Switching master audio from "+c.id+" to "+s.id),n.pause(),a.resetEverything(),void d.fastQualityChange_(f)}if("AUDIO"===e){if(!l.playlistLoader)return a.setAudio(!0),void a.resetEverything();i.setAudio(!0),a.setAudio(!1)}u!==l.playlistLoader?(i.track&&i.track(s),i.resetEverything(),ju(l.playlistLoader,o)):ju(l.playlistLoader,o)}}}(n,e),t[n].getActiveGroup=function(e,t){var n=t.mediaTypes;return function(){var t=n[e].activeTrack();return t?n[e].activeGroup(t):null}}(n,e)}));var l=t.AUDIO.activeGroup();if(l){var u=(l.filter((function(e){return e.default}))[0]||l[0]).id;t.AUDIO.tracks[u].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(s.setAudio(!1),o.setAudio(!0)):s.setAudio(!0)}n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanged()}))})),n.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanging()}))}));var c=function(){t.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"}),r.trigger({type:"usage",name:"hls-audio-change"})};for(var d in r.audioTracks().addEventListener("change",c),r.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),i.on("dispose",(function(){r.audioTracks().removeEventListener("change",c),r.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),r.clearTracks("audio"),t.AUDIO.tracks)r.audioTracks().addTrack(t.AUDIO.tracks[d])},$u=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Gu=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},Wu=function(e){function t(t){var n;n=e.call(this)||this;var r=t.src,a=t.handleManifestRedirects,o=t.withCredentials,s=t.tech,l=t.bandwidth,u=t.externVhs,d=t.useCueTags,f=t.blacklistDuration,p=t.enableLowInitialPlaylist,h=t.sourceType,m=t.cacheEncryptionKeys,g=t.experimentalBufferBasedABR,v=t.experimentalLeastPixelDiffSelector,y=t.captionServices;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");var b=t.maxPlaylistRetries;null!==b&&"undefined"!==typeof b||(b=1/0),ou=u,n.experimentalBufferBasedABR=Boolean(g),n.experimentalLeastPixelDiffSelector=Boolean(v),n.withCredentials=o,n.tech_=s,n.vhs_=s.vhs,n.sourceType_=h,n.useCueTags_=d,n.blacklistDuration=f,n.maxPlaylistRetries=b,n.enableLowInitialPlaylist=p,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:o,handleManifestRedirects:a,maxPlaylistRetries:b,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:au,activeTrack:au,getActiveGroup:au,onGroupChanged:au,onTrackChanged:au,lastTrack_:null,logger_:Xo("MediaGroups["+t+"]")}})),e}(),n.mediaSource=new(i().MediaSource),n.handleDurationChange_=n.handleDurationChange_.bind((0,c.Z)(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind((0,c.Z)(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind((0,c.Z)(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=Go.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new Au(t),n.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new Ru,n.sourceUpdater_=new ku(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new Du;var w={vhs:n.vhs_,parse708captions:t.parse708captions,useDtsForTimestampOffset:t.useDtsForTimestampOffset,captionServices:y,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:l,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:m,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:t.experimentalExactManifestTimings};n.masterPlaylistLoader_="dash"===n.sourceType_?new sl(r,n.vhs_,n.requestOptions_):new Bs(r,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new iu(Go.mergeOptions(w,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),t),n.audioSegmentLoader_=new iu(Go.mergeOptions(w,{loaderType:"audio"}),t),n.subtitleSegmentLoader_=new Ou(Go.mergeOptions(w,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks}),t),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",(function(){return n.startABRTimer_()})),n.tech_.on("pause",(function(){return n.stopABRTimer_()})),n.tech_.on("play",(function(){return n.startABRTimer_()}))),$u.forEach((function(e){n[e+"_"]=Gu.bind((0,c.Z)(n),e)})),n.logger_=Xo("MPC"),n.triggeredFmp4Usage=!1,"none"===n.tech_.preload()?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1;var S="none"===n.tech_.preload()?"play":"loadstart";return n.tech_.one(S,(function(){var e=Date.now();n.tech_.one("loadeddata",(function(){n.timeToLoadedData__=Date.now()-e,n.mainAppendsToLoadedData__=n.mainSegmentLoader_.mediaAppends,n.audioAppendsToLoadedData__=n.audioSegmentLoader_.mediaAppends}))})),n}f(t,e);var n=t.prototype;return n.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},n.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},n.appendsToLoadedData_=function(){var e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t},n.timeToLoadedData_=function(){return this.timeToLoadedData__},n.checkABR_=function(){var e=this.selectPlaylist();e&&this.shouldSwitchToMedia_(e)&&this.switchMedia_(e,"abr")},n.switchMedia_=function(e,t,n){var r=this.media(),i=r&&(r.id||r.uri),a=e.id||e.uri;i&&i!==a&&(this.logger_("switch media "+i+" -> "+a+" from "+t),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+t})),this.masterPlaylistLoader_.media(e,n)},n.startABRTimer_=function(){var e=this;this.stopABRTimer_(),this.abrTimer_=i().setInterval((function(){return e.checkABR_()}),250)},n.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(i().clearInterval(this.abrTimer_),this.abrTimer_=null)},n.getAudioTrackPlaylists_=function(){var e=this.master(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;var n,r=e.mediaGroups.AUDIO,i=Object.keys(r);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)n=this.mediaTypes_.AUDIO.activeTrack();else{var a=r.main||i.length&&r[i[0]];for(var o in a)if(a[o].default){n={label:o};break}}if(!n)return t;var s=[];for(var l in r)if(r[l][n.label]){var u=r[l][n.label];if(u.playlists&&u.playlists.length)s.push.apply(s,u.playlists);else if(u.uri)s.push(u);else if(e.playlists.length)for(var c=0;c<e.playlists.length;c++){var d=e.playlists[c];d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===l&&s.push(d)}}return s.length?s:t},n.setupMasterPlaylistLoaderListeners_=function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;ws(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),Vu({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,vhs:e.vhs_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t),e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){e.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){e.loadOnPlay_&&e.tech_.off("play",e.loadOnPlay_);var t=e.masterPlaylistLoader_.media();if(!t){var n;if(e.excludeUnsupportedVariants_(),e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),!n||!e.shouldSwitchToMedia_(n))return;if(e.initialMedia_=n,e.switchMedia_(e.initialMedia_,"initial"),!("vhs-json"===e.sourceType_&&e.initialMedia_.segments))return;t=e.initialMedia_}e.handleUpdatedMediaPlaylist(t)})),this.masterPlaylistLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;ws(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var t=e.masterPlaylistLoader_.media();"playlist-unchanged"!==t.lastExcludeReason_&&(e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),e.tech_.trigger("playliststuck")))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))},n.handleUpdatedMediaPlaylist=function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},n.triggerPresenceUsage_=function(e,t){var n=e.mediaGroups||{},r=!0,i=Object.keys(n.AUDIO);for(var a in n.AUDIO)for(var o in n.AUDIO[a]){n.AUDIO[a][o].uri||(r=!1)}r&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(n.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),ou.Playlist.isAes(t)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),i.length&&Object.keys(n.AUDIO[i[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},n.shouldSwitchToMedia_=function(e){var t=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),r=this.bufferLowWaterLine(),i=this.bufferHighWaterLine();return function(e){var t=e.currentPlaylist,n=e.buffered,r=e.currentTime,i=e.nextPlaylist,a=e.bufferLowWaterLine,o=e.bufferHighWaterLine,s=e.duration,l=e.experimentalBufferBasedABR,u=e.log;if(!i)return Go.log.warn("We received no playlist to switch to. Please check your stream."),!1;var c="allowing switch "+(t&&t.id||"null")+" -> "+i.id;if(!t)return u(c+" as current playlist is not set"),!0;if(i.id===t.id)return!1;var d=Boolean(es(n,r).length);if(!t.endList)return d||"number"!==typeof t.partTargetDuration?(u(c+" as current playlist is live"),!0):(u("not "+c+" as current playlist is live llhls, but currentTime isn't in buffered."),!1);var f=as(n,r),p=l?ll.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:ll.MAX_BUFFER_LOW_WATER_LINE;if(s<p)return u(c+" as duration < max low water line ("+s+" < "+p+")"),!0;var h=i.attributes.BANDWIDTH,m=t.attributes.BANDWIDTH;if(h<m&&(!l||f<o)){var g=c+" as next bandwidth < current bandwidth ("+h+" < "+m+")";return l&&(g+=" and forwardBuffer < bufferHighWaterLine ("+f+" < "+o+")"),u(g),!0}if((!l||h>m)&&f>=a){var v=c+" as forwardBuffer >= bufferLowWaterLine ("+f+" >= "+a+")";return l&&(v+=" and next bandwidth > current bandwidth ("+h+" > "+m+")"),u(v),!0}return u("not "+c+" as no switching criteria met"),!1}({buffered:this.tech_.buffered(),currentTime:n,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:r,bufferHighWaterLine:i,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},n.setupSegmentLoaderListeners_=function(){var e=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",(function(){var t=e.selectPlaylist();e.shouldSwitchToMedia_(t)&&e.switchMedia_(t,"bandwidthupdate"),e.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){e.trigger("progress")}))),this.mainSegmentLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("appenderror",(function(){e.error=e.mainSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){e.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){e.error=e.audioSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){e.logger_("main segment loader ended"),e.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(t){e.experimentalBufferBasedABR||(e.delegateLoaders_("all",["abort"]),e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))}));var t=function(){if(!e.sourceUpdater_.hasCreatedSourceBuffers())return e.tryToCreateSourceBuffers_();var t=e.getCodecsOrExclude_();t&&e.sourceUpdater_.addOrChangeSourceBuffers(t)};this.mainSegmentLoader_.on("trackinfo",t),this.audioSegmentLoader_.on("trackinfo",t),this.mainSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){e.logger_("audioSegmentLoader ended"),e.onEndOfStream()}))},n.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},n.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},n.smoothQualityChange_=function(e){void 0===e&&(e=this.selectPlaylist()),this.fastQualityChange_(e)},n.fastQualityChange_=function(e){var t=this;void 0===e&&(e=this.selectPlaylist()),e!==this.masterPlaylistLoader_.media()?(this.switchMedia_(e,"fast-quality"),this.mainSegmentLoader_.resetEverything((function(){Go.browser.IE_VERSION||Go.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())}))):this.logger_("skipping fastQualityChange because new media is same as old")},n.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}},n.setupFirstPlay=function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList){var n=this.seekable();if(!n.length)return!1;if(Go.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){e.trigger("firstplay"),e.tech_.setCurrentTime(n.end(0)),e.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(n.end(0))}return this.hasPlayed_=!0,this.load(),!0},n.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var e=this.tech_.play();"undefined"!==typeof e&&"function"===typeof e.then&&e.then(null,(function(e){}))}this.trigger("sourceopen")},n.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var e=this.inbandTextTracks_.metadataTrack_.cues;if(e&&e.length){var t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}}},n.handleDurationChange_=function(){this.tech_.trigger("durationchange")},n.onEndOfStream=function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var t=this.mainSegmentLoader_.getCurrentMediaInfo_();e=!t||t.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},n.stuckAtPlaylistEnd_=function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;var n=ou.Playlist.playlistEnd(e,t),r=this.tech_.currentTime(),i=this.tech_.buffered();if(!i.length)return n-r<=Qo;var a=i.end(i.length-1);return a-r<=Qo&&n-a<=Qo},n.blacklistCurrentPlaylist=function(e,t){void 0===e&&(e={});var n=e.playlist||this.masterPlaylistLoader_.media();if(t=t||e.blacklistDuration||this.blacklistDuration,!n)return this.error=e,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));n.playlistErrors_++;var r,i=this.masterPlaylistLoader_.master.playlists,a=i.filter(ys),o=1===a.length&&a[0]===n;if(1===i.length&&t!==1/0)return Go.log.warn("Problem encountered with playlist "+n.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(o);if(o){var s=!1;i.forEach((function(e){if(e!==n){var t=e.excludeUntil;"undefined"!==typeof t&&t!==1/0&&(s=!0,delete e.excludeUntil)}})),s&&(Go.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}r=n.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*t,n.excludeUntil=r,e.reason&&(n.lastExcludeReason_=e.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var l=this.selectPlaylist();if(!l)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var u=e.internal?this.logger_:Go.log.warn,c=e.message?" "+e.message:"";u((e.internal?"Internal problem":"Problem")+" encountered with playlist "+n.id+"."+c+" Switching to playlist "+l.id+"."),l.attributes.AUDIO!==n.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==n.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var d=l.targetDuration/2*1e3||5e3,f="number"===typeof l.lastRequest&&Date.now()-l.lastRequest<=d;return this.switchMedia_(l,"exclude",o||f)},n.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},n.delegateLoaders_=function(e,t){var n=this,r=[],i="all"===e;(i||"main"===e)&&r.push(this.masterPlaylistLoader_);var a=[];(i||"audio"===e)&&a.push("AUDIO"),(i||"subtitle"===e)&&(a.push("CLOSED-CAPTIONS"),a.push("SUBTITLES")),a.forEach((function(e){var t=n.mediaTypes_[e]&&n.mediaTypes_[e].activePlaylistLoader;t&&r.push(t)})),["main","audio","subtitle"].forEach((function(t){var i=n[t+"SegmentLoader_"];!i||e!==t&&"all"!==e||r.push(i)})),r.forEach((function(e){return t.forEach((function(t){"function"===typeof e[t]&&e[t]()}))}))},n.setCurrentTime=function(e){var t=es(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},n.duration=function(){if(!this.masterPlaylistLoader_)return 0;var e=this.masterPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:ou.Playlist.duration(e):1/0:0},n.seekable=function(){return this.seekable_},n.onSyncInfoUpdate_=function(){var e;if(this.masterPlaylistLoader_){var t=this.masterPlaylistLoader_.media();if(t){var n=this.syncController_.getExpiredTime(t,this.duration());if(null!==n){var r=this.masterPlaylistLoader_.master,i=ou.Playlist.seekable(t,n,ou.Playlist.liveEdgeDelay(r,t));if(0!==i.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(t,this.duration())))return;if(0===(e=ou.Playlist.seekable(t,n,ou.Playlist.liveEdgeDelay(r,t))).length)return}var a,o;this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),o=this.seekable_.start(0)),e?e.start(0)>i.end(0)||i.start(0)>e.end(0)?this.seekable_=i:this.seekable_=Go.createTimeRanges([[e.start(0)>i.start(0)?e.start(0):i.start(0),e.end(0)<i.end(0)?e.end(0):i.end(0)]]):this.seekable_=i,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===o||(this.logger_("seekable updated ["+ns(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},n.updateDuration=function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){var t=this.seekable();if(!t.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<t.end(t.length-1))&&this.sourceUpdater_.setDuration(t.end(t.length-1))}else{var n=this.tech_.buffered(),r=ou.Playlist.duration(this.masterPlaylistLoader_.media());n.length>0&&(r=Math.max(r,n.end(n.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}},n.dispose=function(){var e=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach((function(t){var n=e.mediaTypes_[t].groups;for(var r in n)n[r].forEach((function(e){e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},n.master=function(){return this.masterPlaylistLoader_.master},n.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},n.areMediaTypesKnown_=function(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!t||!n)},n.getCodecsOrExclude_=function(){var e=this,t={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};t.video=t.main;var n=Hl(this.master(),this.media()),r={},i=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(r.video=n.video||t.main.videoCodec||"avc1.4d400d"),t.main.isMuxed&&(r.video+=","+(n.audio||t.main.audioCodec||Z)),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||i)&&(r.audio=n.audio||t.main.audioCodec||t.audio.audioCodec||Z,t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),r.audio||r.video){var a,o={};if(["video","audio"].forEach((function(e){if(r.hasOwnProperty(e)&&(i=t[e].isFmp4,s=r[e],!(i?W(s):q(s)))){var n=t[e].isFmp4?"browser":"muxer";o[n]=o[n]||[],o[n].push(r[e]),"audio"===e&&(a=n)}var i,s})),i&&a&&this.media().attributes.AUDIO){var s=this.media().attributes.AUDIO;this.master().playlists.forEach((function(t){(t.attributes&&t.attributes.AUDIO)===s&&t!==e.media()&&(t.excludeUntil=1/0)})),this.logger_("excluding audio group "+s+" as "+a+' does not support codec(s): "'+r.audio+'"')}if(!Object.keys(o).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var l=[];if(["video","audio"].forEach((function(t){var n=(V(e.sourceUpdater_.codecs[t]||"")[0]||{}).type,i=(V(r[t]||"")[0]||{}).type;n&&i&&n.toLowerCase()!==i.toLowerCase()&&l.push('"'+e.sourceUpdater_.codecs[t]+'" -> "'+r[t]+'"')})),l.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+l.join(", ")+".",blacklistDuration:1/0,internal:!0})}return r}var u=Object.keys(o).reduce((function(e,t){return e&&(e+=", "),e+=t+' does not support codec(s): "'+o[t].join(",")+'"'}),"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:u,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},n.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var e=this.getCodecsOrExclude_();if(e){this.sourceUpdater_.createSourceBuffers(e);var t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}}},n.excludeUnsupportedVariants_=function(){var e=this,t=this.master().playlists,n=[];Object.keys(t).forEach((function(r){var i=t[r];if(-1===n.indexOf(i.id)){n.push(i.id);var a=Hl(e.master,i),o=[];!a.audio||q(a.audio)||W(a.audio)||o.push("audio codec "+a.audio),!a.video||q(a.video)||W(a.video)||o.push("video codec "+a.video),a.text&&"stpp.ttml.im1t"===a.text&&o.push("text codec "+a.text),o.length&&(i.excludeUntil=1/0,e.logger_("excluding "+i.id+" for unsupported: "+o.join(", ")))}}))},n.excludeIncompatibleVariants_=function(e){var t=this,n=[],r=this.master().playlists,i=Fl(V(e)),a=Ul(i),o=i.video&&V(i.video)[0]||null,s=i.audio&&V(i.audio)[0]||null;Object.keys(r).forEach((function(e){var i=r[e];if(-1===n.indexOf(i.id)&&i.excludeUntil!==1/0){n.push(i.id);var l=[],u=Hl(t.masterPlaylistLoader_.master,i),c=Ul(u);if(u.audio||u.video){if(c!==a&&l.push('codec count "'+c+'" !== "'+a+'"'),!t.sourceUpdater_.canChangeType()){var d=u.video&&V(u.video)[0]||null,f=u.audio&&V(u.audio)[0]||null;d&&o&&d.type.toLowerCase()!==o.type.toLowerCase()&&l.push('video codec "'+d.type+'" !== "'+o.type+'"'),f&&s&&f.type.toLowerCase()!==s.type.toLowerCase()&&l.push('audio codec "'+f.type+'" !== "'+s.type+'"')}l.length&&(i.excludeUntil=1/0,t.logger_("blacklisting "+i.id+": "+l.join(" && ")))}}}))},n.updateAdCues_=function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),function(e,t,n){if(void 0===n&&(n=0),e.segments)for(var r,a=n,o=0;o<e.segments.length;o++){var s=e.segments[o];if(r||(r=Pu(t,a+s.duration/2)),r){if("cueIn"in s){r.endTime=a,r.adEndTime=a,a+=s.duration,r=null;continue}if(a<r.endTime){a+=s.duration;continue}r.endTime+=s.duration}else if("cueOut"in s&&((r=new(i().VTTCue)(a,a+s.duration,s.cueOut)).adStartTime=a,r.adEndTime=a+parseFloat(s.cueOut),t.addCue(r)),"cueOutCont"in s){var l=s.cueOutCont.split("/").map(parseFloat),u=l[0],c=l[1];(r=new(i().VTTCue)(a,a+s.duration,"")).adStartTime=a-u,r.adEndTime=r.adStartTime+c,t.addCue(r)}a+=s.duration}}(e,this.cueTagsTrack_,t)},n.goalBufferLength=function(){var e=this.tech_.currentTime(),t=ll.GOAL_BUFFER_LENGTH,n=ll.GOAL_BUFFER_LENGTH_RATE,r=Math.max(t,ll.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,r)},n.bufferLowWaterLine=function(){var e=this.tech_.currentTime(),t=ll.BUFFER_LOW_WATER_LINE,n=ll.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(t,ll.MAX_BUFFER_LOW_WATER_LINE),i=Math.max(t,ll.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,this.experimentalBufferBasedABR?i:r)},n.bufferHighWaterLine=function(){return ll.BUFFER_HIGH_WATER_LINE},t}(Go.EventTarget),qu=function(e,t,n){var r,i,a,o=e.masterPlaylistController_,s=o[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(o);if(t.attributes){var l=t.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=t.attributes.BANDWIDTH}this.codecs=Hl(o.master(),t),this.playlist=t,this.id=n,this.enabled=(r=e.playlists,i=t.id,a=s,function(e){var t=r.master.playlists[i],n=vs(t),o=ys(t);return"undefined"===typeof e?o:(e?delete t.disabled:t.disabled=!0,e===o||n||(a(),e?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),e)})},Zu=["seeking","seeked","pause","playing","error"],Ku=function(){function e(e){var t=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Xo("PlaybackWatcher"),this.logger_("initialize");var n=function(){return t.monitorCurrentTime_()},r=function(){return t.monitorCurrentTime_()},a=function(){return t.techWaiting_()},o=function(){return t.cancelTimer_()},s=this.masterPlaylistController_,l=["main","subtitle","audio"],u={};l.forEach((function(e){u[e]={reset:function(){return t.resetSegmentDownloads_(e)},updateend:function(){return t.checkSegmentDownloads_(e)}},s[e+"SegmentLoader_"].on("appendsdone",u[e].updateend),s[e+"SegmentLoader_"].on("playlistupdate",u[e].reset),t.tech_.on(["seeked","seeking"],u[e].reset)}));var c=function(e){["main","audio"].forEach((function(n){s[n+"SegmentLoader_"][e]("appended",t.seekingAppendCheck_)}))};this.seekingAppendCheck_=function(){t.fixesBadSeeks_()&&(t.consecutiveUpdates=0,t.lastRecordedTime=t.tech_.currentTime(),c("off"))},this.clearSeekingAppendCheck_=function(){return c("off")},this.watchForBadSeeking_=function(){t.clearSeekingAppendCheck_(),c("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",a),this.tech_.on(Zu,o),this.tech_.on("canplay",r),this.tech_.one("play",n),this.dispose=function(){t.clearSeekingAppendCheck_(),t.logger_("dispose"),t.tech_.off("waiting",a),t.tech_.off(Zu,o),t.tech_.off("canplay",r),t.tech_.off("play",n),t.tech_.off("seeking",t.watchForBadSeeking_),t.tech_.off("seeked",t.clearSeekingAppendCheck_),l.forEach((function(e){s[e+"SegmentLoader_"].off("appendsdone",u[e].updateend),s[e+"SegmentLoader_"].off("playlistupdate",u[e].reset),t.tech_.off(["seeked","seeking"],u[e].reset)})),t.checkCurrentTimeTimeout_&&i().clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}var t=e.prototype;return t.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&i().clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=i().setTimeout(this.monitorCurrentTime_.bind(this),250)},t.resetSegmentDownloads_=function(e){var t=this.masterPlaylistController_[e+"SegmentLoader_"];this[e+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+e+" loader"),this[e+"StalledDownloads_"]=0,this[e+"Buffered_"]=t.buffered_()},t.checkSegmentDownloads_=function(e){var t=this.masterPlaylistController_,n=t[e+"SegmentLoader_"],r=n.buffered_(),i=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e.start(n)!==t.start(n)||e.end(n)!==t.end(n))return!0;return!1}(this[e+"Buffered_"],r);this[e+"Buffered_"]=r,i?this.resetSegmentDownloads_(e):(this[e+"StalledDownloads_"]++,this.logger_("found #"+this[e+"StalledDownloads_"]+" "+e+" appends that did not increase buffer (possible stalled download)",{playlistId:n.playlist_&&n.playlist_.id,buffered:rs(r)}),this[e+"StalledDownloads_"]<10||(this.logger_(e+" loader stalled download exclusion"),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-"+e+"-download-exclusion"}),"subtitle"!==e&&t.blacklistCurrentPlaylist({message:"Excessive "+e+" segment downloading detected."},1/0)))},t.checkCurrentTime_=function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+Qo>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}},t.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},t.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var e,t=this.seekable(),n=this.tech_.currentTime();this.afterSeekableWindow_(t,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(e=t.end(t.length-1));if(this.beforeSeekableWindow_(t,n)){var r=t.start(0);e=r+(r===t.end(0)?0:Qo)}if("undefined"!==typeof e)return this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+ns(t)+". Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0;for(var i=this.masterPlaylistController_.sourceUpdater_,a=this.tech_.buffered(),o=i.audioBuffer?i.audioBuffered():null,s=i.videoBuffer?i.videoBuffered():null,l=this.media(),u=l.partTargetDuration?l.partTargetDuration:2*(l.targetDuration-Yo),c=[o,s],d=0;d<c.length;d++){if(c[d])if(as(c[d],n)<u)return!1}var f=ts(a,n);return 0!==f.length&&(e=f.start(0)+Qo,this.logger_("Buffered region starts ("+f.start(0)+")  just beyond seek point ("+n+"). Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0)},t.waiting_=function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=es(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},t.techWaiting_=function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:t}))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var a=ts(i,t);if(a.length>0){var o=a.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+o+", seeking to "+a.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*o,t),!0}return!1},t.afterSeekableWindow_=function(e,t,n,r){if(void 0===r&&(r=!1),!e.length)return!1;var i=e.end(e.length-1)+Qo;return!n.endList&&r&&(i=e.end(e.length-1)+3*n.targetDuration),t>i},t.beforeSeekableWindow_=function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)},t.videoUnderflow_=function(e){var t=e.videoBuffered,n=e.audioBuffered,r=e.currentTime;if(t){var i;if(t.length&&n.length){var a=es(t,r-3),o=es(t,r),s=es(n,r);s.length&&!o.length&&a.length&&(i={start:a.end(0),end:s.end(0)})}else{ts(t,r).length||(i=this.gapFromVideoUnderflow_(t,r))}return!!i&&(this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+r),!0)}},t.skipTheGap_=function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),r=ts(t,n);this.cancelTimer_(),0!==r.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+Yo),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},t.gapFromVideoUnderflow_=function(e,t){for(var n=function(e){if(e.length<2)return Go.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var r=e.end(n-1),i=e.start(n);t.push([r,i])}return Go.createTimeRanges(t)}(e),r=0;r<n.length;r++){var i=n.start(r),a=n.end(r);if(t-i<4&&t-i>2)return{start:i,end:a}}return null},e}(),Xu={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},Yu=function e(t,n){var r=0,i=0,a=Go.mergeOptions(Xu,n);t.ready((function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var o=function(){i&&t.currentTime(i)},s=function(e){null!==e&&void 0!==e&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",o),t.src(e),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},l=function(){return Date.now()-r<1e3*a.errorInterval?(t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void t.trigger({type:"usage",name:"hls-error-reload-canceled"})):a.getSource&&"function"===typeof a.getSource?(r=Date.now(),a.getSource.call(t,s)):void Go.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},u=function e(){t.off("loadedmetadata",o),t.off("error",l),t.off("dispose",e)};t.on("error",l),t.on("dispose",u),t.reloadSourceOnError=function(n){u(),e(t,n)}},Qu="2.14.2",Ju={PlaylistLoader:Bs,Playlist:Ts,utils:Ys,STANDARD_PLAYLIST_SELECTOR:Zl,INITIAL_PLAYLIST_SELECTOR:function(){var e=this,t=this.playlists.master.playlists.filter(Ts.isEnabled);return Gl(t,(function(e,t){return Wl(e,t)})),t.filter((function(t){return!!Hl(e.playlists.master,t).video}))[0]||null},lastBandwidthSelector:Zl,movingAverageBandwidthSelector:function(e){var t=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var r=this.useDevicePixelRatio&&i().devicePixelRatio||1;return t<0&&(t=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(t=e*this.systemBandwidth+(1-e)*t,n=this.systemBandwidth),ql(this.playlists.master,t,parseInt($l(this.tech_.el(),"width"),10)*r,parseInt($l(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:Wl,comparePlaylistResolution:function(e,t){var n,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||i().Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),n===(r=r||i().Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-r},xhr:zs()};Object.keys(ll).forEach((function(e){Object.defineProperty(Ju,e,{get:function(){return Go.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),ll[e]},set:function(t){Go.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),"number"!==typeof t||t<0?Go.log.warn("value of Vhs."+e+" must be greater than or equal to 0"):ll[e]=t}})}));var ec="videojs-vhs",tc=function(e,t){for(var n=t.media(),r=-1,i=0;i<e.length;i++)if(e[i].id===n.id){r=i;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})};Ju.canPlaySource=function(){return Go.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var nc=function(e){var t=e.player,n=e.sourceKeySystems,r=e.audioMedia,i=e.mainPlaylists;if(!t.eme.initializeMediaKeys)return Promise.resolve();var a=function(e,t){return e.reduce((function(e,n){if(!n.contentProtection)return e;var r=t.reduce((function(e,t){var r=n.contentProtection[t];return r&&r.pssh&&(e[t]={pssh:r.pssh}),e}),{});return Object.keys(r).length&&e.push(r),e}),[])}(r?i.concat([r]):i,Object.keys(n)),o=[],s=[];return a.forEach((function(e){s.push(new Promise((function(e,n){t.tech_.one("keysessioncreated",e)}))),o.push(new Promise((function(n,r){t.eme.initializeMediaKeys({keySystems:e},(function(e){e?r(e):n()}))})))})),Promise.race([Promise.all(o),Promise.race(s)])},rc=function(e){var t=e.player,n=function(e,t,n){if(!e)return e;var r={};t&&t.attributes&&t.attributes.CODECS&&(r=Fl(V(t.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(r.audio=n.attributes.CODECS);var i=G(r.video),a=G(r.audio),o={};for(var s in e)o[s]={},a&&(o[s].audioContentType=a),i&&(o[s].videoContentType=i),t.contentProtection&&t.contentProtection[s]&&t.contentProtection[s].pssh&&(o[s].pssh=t.contentProtection[s].pssh),"string"===typeof e[s]&&(o[s].url=e[s]);return Go.mergeOptions(e,o)}(e.sourceKeySystems,e.media,e.audioMedia);return!!n&&(t.currentSource().keySystems=n,!(n&&!t.eme)||(Go.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1))},ic=function(){if(!i().localStorage)return null;var e=i().localStorage.getItem(ec);if(!e)return null;try{return JSON.parse(e)}catch(t){return null}};Ju.supportsNativeHls=function(){if(!o()||!o().createElement)return!1;var e=o().createElement("video");if(!Go.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),Ju.supportsNativeDash=!!(o()&&o().createElement&&Go.getTech("Html5").isSupported())&&/maybe|probably/i.test(o().createElement("video").canPlayType("application/dash+xml")),Ju.supportsTypeNatively=function(e){return"hls"===e?Ju.supportsNativeHls:"dash"===e&&Ju.supportsNativeDash},Ju.isSupported=function(){return Go.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ac=function(e){function t(t,n,r){var i;if(i=e.call(this,n,Go.mergeOptions(r.hls,r.vhs))||this,r.hls&&Object.keys(r.hls).length&&Go.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),"number"===typeof r.initialBandwidth&&(i.options_.bandwidth=r.initialBandwidth),i.logger_=Xo("VhsHandler"),n.options_&&n.options_.playerId){var a=Go(n.options_.playerId);a.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return Go.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),(0,c.Z)(i)},configurable:!0}),a.hasOwnProperty("vhs")||Object.defineProperty(a,"vhs",{get:function(){return Go.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),(0,c.Z)(i)},configurable:!0}),a.hasOwnProperty("dash")||Object.defineProperty(a,"dash",{get:function(){return Go.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),(0,c.Z)(i)},configurable:!0}),i.player_=a}if(i.tech_=n,i.source_=t,i.stats={},i.ignoreNextSeekingEvent_=!1,i.setOptions_(),i.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(i.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return i.on(o(),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(e){var t=o().fullscreenElement||o().webkitFullscreenElement||o().mozFullScreenElement||o().msFullscreenElement;t&&t.contains(i.tech_.el())?i.masterPlaylistController_.fastQualityChange_():i.masterPlaylistController_.checkABR_()})),i.on(i.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),i.on(i.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),i.on(i.tech_,"play",i.play),i}f(t,e);var n=t.prototype;return n.setOptions_=function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage="undefined"!==typeof this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!==typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!==typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=ic();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!==typeof this.options_.bandwidth&&(this.options_.bandwidth=ll.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===ll.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach((function(t){"undefined"!==typeof e.source_[t]&&(e.options_[t]=e.source_[t])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},n.src=function(e,t){var n=this;if(e){var r;this.setOptions_(),this.options_.src=0===(r=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(r.substring(r.indexOf(",")+1)):r,this.options_.tech=this.tech_,this.options_.externVhs=Ju,this.options_.sourceType=Y(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e)},this.options_.smoothQualityChange&&Go.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new Wu(this.options_);var a=Go.mergeOptions({liveRangeSafeTimeDelta:Qo},this.options_,{seekable:function(){return n.seekable()},media:function(){return n.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new Ku(a),this.masterPlaylistController_.on("error",(function(){var e=Go.players[n.tech_.options_.playerId],t=n.masterPlaylistController_.error;"object"!==typeof t||t.code?"string"===typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}));var o=this.options_.experimentalBufferBasedABR?Ju.movingAverageBandwidthSelector(.55):Ju.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):o.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Ju.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var e=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,t=i().navigator.connection||i().navigator.mozConnection||i().navigator.webkitConnection,n=1e7;if(this.options_.useNetworkInformationApi&&t){var r=1e3*t.downlink*1e3;e=r>=n&&e>=n?Math.max(e,r):r}return e},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e,t=1/(this.bandwidth||1);return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){Go.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return n.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return n.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return n.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return n.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return rs(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return rs(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){n.options_.useBandwidthFromLocalStorage&&function(e){if(!i().localStorage)return!1;var t=ic();t=t?Go.mergeOptions(t,e):e;try{i().localStorage.setItem(ec,JSON.stringify(t))}catch(n){return!1}}({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var e;(e=n).representations=function(){var t=e.masterPlaylistController_.master(),n=xs(t)?e.masterPlaylistController_.getAudioTrackPlaylists_():t.playlists;return n?n.filter((function(e){return!vs(e)})).map((function(t,n){return new qu(e,t,t.id)})):[]}})),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",(function(){n.setupEme_()})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=i().URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},n.createKeySessions_=function(){var e=this,t=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),nc({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:t&&t.media(),mainPlaylists:this.playlists.master.playlists}).then((function(){e.logger_("created EME key session"),e.masterPlaylistController_.sourceUpdater_.initializedEme()})).catch((function(t){e.logger_("error while creating EME key session",t),e.player_.error({message:"Failed to initialize media keys for EME",code:3})}))},n.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},n.setupEme_=function(){var e=this,t=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=rc({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:t&&t.media()});this.player_.tech_.on("keystatuschange",(function(t){"output-restricted"===t.status&&e.masterPlaylistController_.blacklistCurrentPlaylist({playlist:e.masterPlaylistController_.media(),message:"DRM keystatus changed to "+t.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})})),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==Go.browser.IE_VERSION&&n?this.createKeySessions_():this.masterPlaylistController_.sourceUpdater_.initializedEme()},n.setupQualityLevels_=function(){var e=this,t=Go.players[this.tech_.options_.playerId];t&&t.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,n;t=e.qualityLevels_,(n=e).representations().forEach((function(e){t.addQualityLevel(e)})),tc(t,n.playlists)})),this.playlists.on("mediachange",(function(){tc(e.qualityLevels_,e.playlists)})))},t.version=function(){return{"@videojs/http-streaming":Qu,"mux.js":"6.0.1","mpd-parser":"0.21.1","m3u8-parser":"4.7.1","aes-decrypter":"3.1.3"}},n.version=function(){return this.constructor.version()},n.canChangeType=function(){return ku.canChangeType()},n.play=function(){this.masterPlaylistController_.play()},n.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},n.duration=function(){return this.masterPlaylistController_.duration()},n.seekable=function(){return this.masterPlaylistController_.seekable()},n.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&i().URL.revokeObjectURL&&(i().URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),e.prototype.dispose.call(this)},n.convertToProgramTime=function(e,t){return Qs({playlist:this.masterPlaylistController_.media(),time:e,callback:t})},n.seekToProgramTime=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=2),Js({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:r,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})},t}(Go.getComponent("Component")),oc={name:"videojs-http-streaming",VERSION:Qu,canHandleSource:function(e,t){void 0===t&&(t={});var n=Go.mergeOptions(Go.options,t);return oc.canPlayType(e.type,n)},handleSource:function(e,t,n){void 0===n&&(n={});var r=Go.mergeOptions(Go.options,n);return t.vhs=new ac(e,t,r),Go.hasOwnProperty("hls")||Object.defineProperty(t,"hls",{get:function(){return Go.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),t.vhs},configurable:!0}),t.vhs.xhr=zs(),t.vhs.src(e.src,e.type),t.vhs},canPlayType:function(e,t){void 0===t&&(t={});var n=Go.mergeOptions(Go.options,t),r=n.vhs,i=(r=void 0===r?{}:r).overrideNative,a=void 0===i?!Go.browser.IS_ANY_SAFARI:i,o=n.hls,s=(o=void 0===o?{}:o).overrideNative,l=void 0!==s&&s,u=Y(e);return u&&(!Ju.supportsTypeNatively(u)||l||a)?"maybe":""}};(W("avc1.4d400d,mp4a.40.2")&&Go.getTech("Html5").registerSourceHandler(oc,0),Go.VhsHandler=ac,Object.defineProperty(Go,"HlsHandler",{get:function(){return Go.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),ac},configurable:!0}),Go.VhsSourceHandler=oc,Object.defineProperty(Go,"HlsSourceHandler",{get:function(){return Go.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),oc},configurable:!0}),Go.Vhs=Ju,Object.defineProperty(Go,"Hls",{get:function(){return Go.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Ju},configurable:!0}),Go.use||(Go.registerComponent("Hls",Ju),Go.registerComponent("Vhs",Ju)),Go.options.vhs=Go.options.vhs||{},Go.options.hls=Go.options.hls||{},Go.getPlugin&&Go.getPlugin("reloadSourceOnError"))||(Go.registerPlugin||Go.plugin)("reloadSourceOnError",(function(e){Yu(this,e)}));const sc=Go},13407:(e,t,n)=>{var r=n(58908),i=e.exports={WebVTT:n(63706),VTTCue:n(22230),VTTRegion:n(19394)};r.vttjs=i,r.WebVTT=i.WebVTT;var a=i.VTTCue,o=i.VTTRegion,s=r.VTTCue,l=r.VTTRegion;i.shim=function(){r.VTTCue=a,r.VTTRegion=o},i.restore=function(){r.VTTCue=s,r.VTTRegion=l},r.VTTCue||i.shim()},63706:(e,t,n)=>{var r=n(89144),i=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function a(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function o(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function s(){this.values=i(null)}function l(e,t,n,r){var i=r?e.split(r):[e];for(var a in i)if("string"===typeof i[a]){var o=i[a].split(n);if(2===o.length)t(o[0],o[1])}}function u(e,t,n){var r=e;function i(){var t=o(e);if(null===t)throw new a(a.Errors.BadTimeStamp,"Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function u(){e=e.replace(/^\s+/,"")}if(u(),t.startTime=i(),u(),"--\x3e"!==e.substr(0,3))throw new a(a.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),u(),t.endTime=i(),u(),function(e,t){var r=new s;l(e,(function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),o=a[0];r.integer(e,o),r.percent(e,o)&&r.set("snapToLines",!1),r.alt(e,o,["auto"]),2===a.length&&r.alt("lineAlign",a[1],["start","center","end"]);break;case"position":a=t.split(","),r.percent(e,a[0]),2===a.length&&r.alt("positionAlign",a[1],["start","center","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");try{t.line=r.get("line","auto")}catch(i){}t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100);try{t.align=r.get("align","center")}catch(i){t.align=r.get("align","middle")}try{t.position=r.get("position","auto")}catch(i){t.position=r.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}a.prototype=i(Error.prototype),a.prototype.constructor=a,a.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var c=r.createElement&&r.createElement("textarea"),d={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},f={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},p={v:"title",lang:"lang"},h={rt:"ruby"};function m(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function r(e,t){return!h[t.localName]||h[t.localName]===e.localName}function i(t,n){var r=d[t];if(!r)return null;var i=e.document.createElement(r),a=p[t];return a&&n&&(i[a]=n.trim()),i}for(var a,s,l=e.document.createElement("div"),u=l,m=[];null!==(a=n());)if("<"!==a[0])u.appendChild(e.document.createTextNode((s=a,c.innerHTML=s,s=c.textContent,c.textContent="",s)));else{if("/"===a[1]){m.length&&m[m.length-1]===a.substr(2).replace(">","")&&(m.pop(),u=u.parentNode);continue}var g,v=o(a.substr(1,a.length-2));if(v){g=e.document.createProcessingInstruction("timestamp",v),u.appendChild(g);continue}var y=a.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(g=i(y[1],y[3])))continue;if(!r(u,g))continue;if(y[2]){var b=y[2].split(".");b.forEach((function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;if(f.hasOwnProperty(n)){var r=t?"background-color":"color",i=f[n];g.style[r]=i}})),g.className=b.join(" ")}m.push(y[1]),u.appendChild(g),u=g}return l}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function v(e){for(var t=0;t<g.length;t++){var n=g[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function y(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function i(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var a=n.match(/^.*(\n|\r)/);return a?(e.length=0,a[0]):n}return"ruby"===t.tagName?i(e):t.childNodes?(r(e,t),i(e)):void 0}for(r(t,e);n=i(t);)for(var a=0;a<n.length;a++)if(v(n.charCodeAt(a)))return"rtl";return"ltr"}function b(){}function w(e,t,n){b.call(this),this.cue=t,this.cueDiv=m(e,t.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=e.document.createElement("div"),r={direction:y(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(t.positionAlign){case"start":i=t.position;break;case"center":i=t.position-t.size/2;break;case"end":i=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function S(e){var t,n,r,i;if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight}function _(e,t,n,r){var i=new S(t),a=t.cue,o=function(e){if("number"===typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}(a),s=[];if(a.snapToLines){var l;switch(a.vertical){case"":s=["+y","-y"],l="height";break;case"rl":s=["+x","-x"],l="width";break;case"lr":s=["-x","+x"],l="width"}var u=i.lineHeight,c=u*Math.round(o),d=n[l]+u,f=s[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/u)*u),o<0&&(c+=""===a.vertical?n.height:n.width,s=s.reverse()),i.move(f,c)}else{var p=i.lineHeight/n.height*100;switch(a.lineAlign){case"center":o-=p/2;break;case"end":o-=p}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")})}s=["+y","-x","+x","-y"],i=new S(t)}var h=function(e,t){for(var i,a=new S(e),o=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var l=e.intersectPercentage(n);o>l&&(i=new S(e),o=l),e=new S(a)}return i||a}(i,s);t.move(h.toCSSCompatValues(n))}function x(){}b.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},b.prototype.formatStyle=function(e,t){return 0===e?0:e+t},w.prototype=i(b.prototype),w.prototype.constructor=w,S.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},S.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},S.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},S.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},S.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},S.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},S.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},S.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},x.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},x.convertCueToDOMTree=function(e,t){return e&&t?m(e,t):null};x.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",n.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],a=S.getSimpleBoxPosition(r),o={font:Math.round(.05*a.height*100)/100+"px sans-serif"};!function(){for(var n,s,l=0;l<t.length;l++)s=t[l],n=new w(e,s,o),r.appendChild(n.div),_(0,n,a,i),s.displayState=n.div,i.push(S.getSimpleBoxPosition(n))}()}else for(var s=0;s<t.length;s++)r.appendChild(t[s].displayState)},x.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},x.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof a))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}function r(e){e.match(/X-TIMESTAMP-MAP/)?l(e,(function(e,n){if("X-TIMESTAMP-MAP"===e)!function(e){var n=new s;l(e,(function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",o(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}),/=/):l(e,(function(e,n){if("Region"===e)!function(e){var n=new s;if(l(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var r=t.split(",");if(2!==r.length)break;var i=new s;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;n.set(e+"X",i.get("x")),n.set(e+"Y",i.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var r=new(t.vttjs.VTTRegion||t.window.VTTRegion);r.width=n.get("width",100),r.lines=n.get("lines",3),r.regionAnchorX=n.get("regionanchorX",0),r.regionAnchorY=n.get("regionanchorY",100),r.viewportAnchorX=n.get("viewportanchorX",0),r.viewportAnchorY=n.get("viewportanchorY",100),r.scroll=n.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:n.get("id"),region:r})}}(n)}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var i;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var c=(i=n()).match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new a(a.Errors.BadSignature);t.state="HEADER"}for(var d=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(d?d=!1:i=n(),t.state){case"HEADER":/:/.test(i)?r(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(p){t.cue.align="middle"}if(t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":try{u(i,t.cue,t.regionList)}catch(p){t.reportOrThrowError(p),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var f=-1!==i.indexOf("--\x3e");if(!i||f&&(d=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":i||(t.state="ID");continue}}}catch(p){t.reportOrThrowError(p),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new a(a.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.exports=x},22230:e=>{var t={"":1,lr:1,rl:1},n={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function r(e){return"string"===typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}function i(e,n,i){this.hasBeenReset=!1;var a="",o=!1,s=e,l=n,u=i,c=null,d="",f=!0,p="auto",h="start",m="auto",g="auto",v=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return a},set:function(e){a=""+e}},pauseOnExit:{enumerable:!0,get:function(){return o},set:function(e){o=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return u},set:function(e){u=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return c},set:function(e){c=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(e){var n=function(e){return"string"===typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===n)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=n,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(e){f=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(e){if("number"!==typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");p=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(e){var t=r(e);t?(h=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(e){var t=r(e);t?(g=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return v},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");v=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(e){var t=r(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=t,this.hasBeenReset=!0}}}),this.displayState=void 0}i.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=i},19394:e=>{var t={"":!0,up:!0};function n(e){return"number"===typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,r=3,i=0,a=100,o=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!n(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return r},set:function(e){if("number"!==typeof e)throw new TypeError("Lines must be set to a number.");r=e}},regionAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!n(e))throw new Error("RegionAnchorX must be between 0 and 100.");a=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!n(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!n(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!n(e))throw new Error("ViewportAnchorX must be between 0 and 100.");o=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var n=function(e){return"string"===typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);!1===n?console.warn("Scroll: an invalid or illegal string was specified."):l=n}}})}},10434:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},83154:(e,t,n)=>{var r;if("function"===typeof fetch&&("undefined"!==typeof n.g&&n.g.fetch?r=n.g.fetch:"undefined"!==typeof window&&window.fetch&&(r=window.fetch)),"undefined"===typeof window||"undefined"===typeof window.document){var i=r||n(54098);i.default&&(i=i.default),t.default=i,e.exports=t.default}},62961:e=>{e.exports={nanoid:(e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(n=t)=>{let r="",i=n;for(;i--;)r+=e[Math.random()*e.length|0];return r}}},83878:(e,t,n)=>{"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:()=>r})},97326:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>r})},15671:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:()=>r})},43144:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:()=>i})},4942:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r})},60136:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(89611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},25267:(e,t,n)=>{"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:()=>r})},89611:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:()=>r})},88192:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}n.d(t,{Z:()=>i})},39516:(e,t,n)=>{"use strict";n.d(t,{d:()=>f,f:()=>d});var r=n(67294),i=n(19946),a=n(12351),o=n(16723),s=n(23784),l=n(73781);let u=(0,r.createContext)(null);function c(){let e=(0,r.useContext)(u);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,c),e}return e}function d(){let[e,t]=(0,r.useState)([]);return[e.length>0?e.join(" "):void 0,(0,r.useMemo)((()=>function(e){let n=(0,l.z)((e=>(t((t=>[...t,e])),()=>t((t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))))),i=(0,r.useMemo)((()=>({register:n,slot:e.slot,name:e.name,props:e.props})),[n,e.slot,e.name,e.props]);return r.createElement(u.Provider,{value:i},e.children)}),[t])]}let f=(0,a.yV)((function(e,t){let n=c(),r=`headlessui-description-${(0,i.M)()}`,l=(0,s.T)(t);(0,o.e)((()=>n.register(r)),[r,n.register]);let u=e,d={ref:l,...n.props,id:r};return(0,a.sY)({ourProps:d,theirProps:u,slot:n.slot||{},defaultTag:"p",name:n.name||"Description"})}))},35771:(e,t,n)=>{"use strict";n.d(t,{V:()=>ae});var r=n(67294),i=n(32984),a=n(12351),o=n(23784),s=n(61363),l=n(64103),u=n(19946),c=n(82180),d=n(46045),f=n(84575),p=n(73781),h=n(7815),m=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(m||{});var g=n(14879),v=n(51074),y=n(3855);function b(e,t,n,i){let a=(0,y.E)(n);(0,r.useEffect)((()=>{function n(e){a.current(e)}return(e=null!=e?e:window).addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}),[e,t,i])}var w=n(81021);function S(e,t){let n=(0,r.useRef)([]),i=(0,p.z)(e);(0,r.useEffect)((()=>{for(let[e,r]of t.entries())if(n.current[e]!==r){let e=i(t);return n.current=t,e}}),[i,...t])}var _=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(_||{});let x=Object.assign((0,a.yV)((function(e,t){let n=(0,r.useRef)(null),s=(0,o.T)(n,t),{initialFocus:l,containers:u,features:y=30,..._}=e;(0,c.H)()||(y=1);let x=(0,v.i)(n);!function({ownerDocument:e},t){let n=(0,r.useRef)(null);b(null==e?void 0:e.defaultView,"focusout",(e=>{!t||n.current||(n.current=e.target)}),!0),S((()=>{t||((null==e?void 0:e.activeElement)===(null==e?void 0:e.body)&&(0,f.C5)(n.current),n.current=null)}),[t]);let i=(0,r.useRef)(!1);(0,r.useEffect)((()=>(i.current=!1,()=>{i.current=!0,(0,w.Y)((()=>{!i.current||((0,f.C5)(n.current),n.current=null)}))})),[])}({ownerDocument:x},Boolean(16&y));let T=function({ownerDocument:e,container:t,initialFocus:n},i){let a=(0,r.useRef)(null);return S((()=>{if(!i)return;let r=t.current;if(!r)return;let o=null==e?void 0:e.activeElement;if(null!=n&&n.current){if((null==n?void 0:n.current)===o)return void(a.current=o)}else if(r.contains(o))return void(a.current=o);null!=n&&n.current?(0,f.C5)(n.current):(0,f.jA)(r,f.TO.First)===f.fE.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=null==e?void 0:e.activeElement}),[i]),a}({ownerDocument:x,container:n,initialFocus:l},Boolean(2&y));!function({ownerDocument:e,container:t,containers:n,previousActiveElement:r},i){let a=(0,g.t)();b(null==e?void 0:e.defaultView,"focus",(e=>{if(!i||!a.current)return;let o=new Set(null==n?void 0:n.current);o.add(t);let s=r.current;if(!s)return;let l=e.target;l&&l instanceof HTMLElement?function(e,t){var n;for(let r of e)if(null!=(n=r.current)&&n.contains(t))return!0;return!1}(o,l)?(r.current=l,(0,f.C5)(l)):(e.preventDefault(),e.stopPropagation(),(0,f.C5)(s)):(0,f.C5)(r.current)}),!0)}({ownerDocument:x,container:n,containers:u,previousActiveElement:T},Boolean(8&y));let k=function(){let e=(0,r.useRef)(0);return(0,h.s)("keydown",(t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)}),!0),e}(),E=(0,p.z)((()=>{let e=n.current;!e||(0,i.E)(k.current,{[m.Forwards]:()=>(0,f.jA)(e,f.TO.First),[m.Backwards]:()=>(0,f.jA)(e,f.TO.Last)})})),C={ref:s};return r.createElement(r.Fragment,null,Boolean(4&y)&&r.createElement(d._,{as:"button",type:"button",onFocus:E,features:d.A.Focusable}),(0,a.sY)({ourProps:C,theirProps:_,defaultTag:"div",name:"FocusTrap"}),Boolean(4&y)&&r.createElement(d._,{as:"button",type:"button",onFocus:E,features:d.A.Focusable}))})),{features:_});var T=n(15466),k=n(16723);let E=new Set,C=new Map;function O(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function P(e){let t=C.get(e);!t||(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}var I=n(73935);let A=(0,r.createContext)(!1);function D(){return(0,r.useContext)(A)}function M(e){return r.createElement(A.Provider,{value:e.force},e.children)}let R=r.Fragment,N=(0,a.yV)((function(e,t){let n=e,i=(0,r.useRef)(null),s=(0,o.T)((0,o.h)((e=>{i.current=e})),t),l=(0,v.i)(i),u=function(e){let t=D(),n=(0,r.useContext)(j),i=(0,v.i)(e),[a,o]=(0,r.useState)((()=>{if(!t&&null!==n||"undefined"==typeof window)return null;let e=null==i?void 0:i.getElementById("headlessui-portal-root");if(e)return e;if(null===i)return null;let r=i.createElement("div");return r.setAttribute("id","headlessui-portal-root"),i.body.appendChild(r)}));return(0,r.useEffect)((()=>{null!==a&&(null!=i&&i.body.contains(a)||null==i||i.body.appendChild(a))}),[a,i]),(0,r.useEffect)((()=>{t||null!==n&&o(n.current)}),[n,o,t]),a}(i),[d]=(0,r.useState)((()=>{var e;return"undefined"==typeof window?null:null!=(e=null==l?void 0:l.createElement("div"))?e:null})),f=(0,c.H)(),p=(0,r.useRef)(!1);return(0,k.e)((()=>{if(p.current=!1,u&&d)return u.contains(d)||(d.setAttribute("data-headlessui-portal",""),u.appendChild(d)),()=>{p.current=!0,(0,w.Y)((()=>{var e;!p.current||!u||!d||(u.removeChild(d),u.childNodes.length<=0&&(null==(e=u.parentElement)||e.removeChild(u)))}))}}),[u,d]),f&&u&&d?(0,I.createPortal)((0,a.sY)({ourProps:{ref:s},theirProps:n,defaultTag:R,name:"Portal"}),d):null})),L=r.Fragment,j=(0,r.createContext)(null),B=(0,a.yV)((function(e,t){let{target:n,...i}=e,s={ref:(0,o.T)(t)};return r.createElement(j.Provider,{value:n},(0,a.sY)({ourProps:s,theirProps:i,defaultTag:L,name:"Popover.Group"}))})),F=Object.assign(N,{Group:B});var U=n(39516),H=n(16567);let z=(0,r.createContext)((()=>{}));z.displayName="StackContext";var V=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(V||{});function $({children:e,onUpdate:t,type:n,element:i}){let a=(0,r.useContext)(z),o=(0,p.z)(((...e)=>{null==t||t(...e),a(...e)}));return(0,k.e)((()=>(o(0,n,i),()=>o(1,n,i))),[o,n,i]),r.createElement(z.Provider,{value:o},e)}var G,W=n(90292),q=((G=q||{})[G.Open=0]="Open",G[G.Closed=1]="Closed",G),Z=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Z||{});let K={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},X=(0,r.createContext)(null);function Y(e){let t=(0,r.useContext)(X);if(null===t){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Y),t}return t}function Q(e,t){return(0,i.E)(t.type,K,e,t)}X.displayName="DialogContext";let J=a.AN.RenderStrategy|a.AN.Static,ee=(0,a.yV)((function(e,t){let{open:n,onClose:l,initialFocus:f,__demoMode:h=!1,...m}=e,[g,y]=(0,r.useState)(0),w=(0,H.oJ)();void 0===n&&null!==w&&(n=(0,i.E)(w,{[H.ZM.Open]:!0,[H.ZM.Closed]:!1}));let S=(0,r.useRef)(new Set),_=(0,r.useRef)(null),I=(0,o.T)(_,t),A=(0,r.useRef)(null),D=(0,v.i)(_),R=e.hasOwnProperty("open")||null!==w,N=e.hasOwnProperty("onClose");if(!R&&!N)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!R)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!N)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof n)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${n}`);if("function"!=typeof l)throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${l}`);let L=n?0:1,[j,B]=(0,r.useReducer)(Q,{titleId:null,descriptionId:null,panelRef:(0,r.createRef)()}),z=(0,p.z)((()=>l(!1))),G=(0,p.z)((e=>B({type:0,id:e}))),q=!!(0,c.H)()&&(!h&&0===L),Z=g>1,K=null!==(0,r.useContext)(X),Y=Z?"parent":"leaf";(function(e,t=!0){(0,k.e)((()=>{if(!t||!e.current)return;let n=e.current,r=(0,T.r)(n);if(r){E.add(n);for(let e of C.keys())e.contains(n)&&(P(e),C.delete(e));return r.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement){for(let t of E)if(e.contains(t))return;1===E.size&&(C.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),O(e))}})),()=>{if(E.delete(n),E.size>0)r.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement&&!C.has(e)){for(let t of E)if(e.contains(t))return;C.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),O(e)}}));else for(let e of C.keys())P(e),C.delete(e)}}}),[t])})(_,!!Z&&q),(0,W.O)((()=>{var e,t;return[...Array.from(null!=(e=null==D?void 0:D.querySelectorAll("body > *, [data-headlessui-portal]"))?e:[]).filter((e=>!(!(e instanceof HTMLElement)||e.contains(A.current)||j.panelRef.current&&e.contains(j.panelRef.current)))),null!=(t=j.panelRef.current)?t:_.current]}),z,q&&!Z),b(null==D?void 0:D.defaultView,"keydown",(e=>{e.defaultPrevented||e.key===s.R.Escape&&0===L&&(Z||(e.preventDefault(),e.stopPropagation(),z()))})),(0,r.useEffect)((()=>{var e;if(0!==L||K)return;let t=(0,T.r)(_);if(!t)return;let n=t.documentElement,r=null!=(e=t.defaultView)?e:window,i=n.style.overflow,a=n.style.paddingRight,o=r.innerWidth-n.clientWidth;if(n.style.overflow="hidden",o>0){let e=o-(n.clientWidth-n.offsetWidth);n.style.paddingRight=`${e}px`}return()=>{n.style.overflow=i,n.style.paddingRight=a}}),[L,K]),(0,r.useEffect)((()=>{if(0!==L||!_.current)return;let e=new IntersectionObserver((e=>{for(let t of e)0===t.boundingClientRect.x&&0===t.boundingClientRect.y&&0===t.boundingClientRect.width&&0===t.boundingClientRect.height&&z()}));return e.observe(_.current),()=>e.disconnect()}),[L,_,z]);let[ee,te]=(0,U.f)(),ne=`headlessui-dialog-${(0,u.M)()}`,re=(0,r.useMemo)((()=>[{dialogState:L,close:z,setTitleId:G},j]),[L,j,z,G]),ie=(0,r.useMemo)((()=>({open:0===L})),[L]),ae={ref:I,id:ne,role:"dialog","aria-modal":0===L||void 0,"aria-labelledby":j.titleId,"aria-describedby":ee};return r.createElement($,{type:"Dialog",element:_,onUpdate:(0,p.z)(((e,t,n)=>{"Dialog"===t&&(0,i.E)(e,{[V.Add](){S.current.add(n),y((e=>e+1))},[V.Remove](){S.current.add(n),y((e=>e-1))}})}))},r.createElement(M,{force:!0},r.createElement(F,null,r.createElement(X.Provider,{value:re},r.createElement(F.Group,{target:_},r.createElement(M,{force:!1},r.createElement(te,{slot:ie,name:"Dialog.Description"},r.createElement(x,{initialFocus:f,containers:S,features:q?(0,i.E)(Y,{parent:x.features.RestoreFocus,leaf:x.features.All&~x.features.FocusLock}):x.features.None},(0,a.sY)({ourProps:ae,theirProps:m,slot:ie,defaultTag:"div",features:J,visible:0===L,name:"Dialog"})))))))),r.createElement(d._,{features:d.A.Hidden,ref:A}))})),te=(0,a.yV)((function(e,t){let[{dialogState:n,close:i}]=Y("Dialog.Overlay"),s=(0,o.T)(t),c=`headlessui-dialog-overlay-${(0,u.M)()}`,d=(0,p.z)((e=>{if(e.target===e.currentTarget){if((0,l.P)(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),i()}})),f=(0,r.useMemo)((()=>({open:0===n})),[n]);return(0,a.sY)({ourProps:{ref:s,id:c,"aria-hidden":!0,onClick:d},theirProps:e,slot:f,defaultTag:"div",name:"Dialog.Overlay"})})),ne=(0,a.yV)((function(e,t){let[{dialogState:n},i]=Y("Dialog.Backdrop"),s=(0,o.T)(t),l=`headlessui-dialog-backdrop-${(0,u.M)()}`;(0,r.useEffect)((()=>{if(null===i.panelRef.current)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")}),[i.panelRef]);let c=(0,r.useMemo)((()=>({open:0===n})),[n]);return r.createElement(M,{force:!0},r.createElement(F,null,(0,a.sY)({ourProps:{ref:s,id:l,"aria-hidden":!0},theirProps:e,slot:c,defaultTag:"div",name:"Dialog.Backdrop"})))})),re=(0,a.yV)((function(e,t){let[{dialogState:n},i]=Y("Dialog.Panel"),s=(0,o.T)(t,i.panelRef),l=`headlessui-dialog-panel-${(0,u.M)()}`,c=(0,r.useMemo)((()=>({open:0===n})),[n]),d=(0,p.z)((e=>{e.stopPropagation()}));return(0,a.sY)({ourProps:{ref:s,id:l,onClick:d},theirProps:e,slot:c,defaultTag:"div",name:"Dialog.Panel"})})),ie=(0,a.yV)((function(e,t){let[{dialogState:n,setTitleId:i}]=Y("Dialog.Title"),s=`headlessui-dialog-title-${(0,u.M)()}`,l=(0,o.T)(t);(0,r.useEffect)((()=>(i(s),()=>i(null))),[s,i]);let c=(0,r.useMemo)((()=>({open:0===n})),[n]);return(0,a.sY)({ourProps:{ref:l,id:s},theirProps:e,slot:c,defaultTag:"h2",name:"Dialog.Title"})})),ae=Object.assign(ee,{Backdrop:ne,Panel:re,Overlay:te,Title:ie,Description:U.d})},6512:(e,t,n)=>{"use strict";n.d(t,{p:()=>I});var r,i,a=n(67294),o=n(32984),s=n(12351),l=n(23784),u=n(19946),c=n(61363),d=n(64103),f=n(16567),p=n(14157),h=n(15466),m=n(73781),g=((i=g||{})[i.Open=0]="Open",i[i.Closed=1]="Closed",i),v=((r=v||{})[r.ToggleDisclosure=0]="ToggleDisclosure",r[r.CloseDisclosure=1]="CloseDisclosure",r[r.SetButtonId=2]="SetButtonId",r[r.SetPanelId=3]="SetPanelId",r[r.LinkPanel=4]="LinkPanel",r[r.UnlinkPanel=5]="UnlinkPanel",r);let y={0:e=>({...e,disclosureState:(0,o.E)(e.disclosureState,{0:1,1:0})}),1:e=>1===e.disclosureState?e:{...e,disclosureState:1},4:e=>!0===e.linkedPanel?e:{...e,linkedPanel:!0},5:e=>!1===e.linkedPanel?e:{...e,linkedPanel:!1},2:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},3:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},b=(0,a.createContext)(null);function w(e){let t=(0,a.useContext)(b);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,w),t}return t}b.displayName="DisclosureContext";let S=(0,a.createContext)(null);function _(e){let t=(0,a.useContext)(S);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,_),t}return t}S.displayName="DisclosureAPIContext";let x=(0,a.createContext)(null);function T(e,t){return(0,o.E)(t.type,y,e,t)}x.displayName="DisclosurePanelContext";let k=a.Fragment,E=(0,s.yV)((function(e,t){let{defaultOpen:n=!1,...r}=e,i=`headlessui-disclosure-button-${(0,u.M)()}`,c=`headlessui-disclosure-panel-${(0,u.M)()}`,d=(0,a.useRef)(null),p=(0,l.T)(t,(0,l.h)((e=>{d.current=e}),void 0===e.as||e.as===a.Fragment)),g=(0,a.useRef)(null),v=(0,a.useRef)(null),y=(0,a.useReducer)(T,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:v,panelRef:g,buttonId:i,panelId:c}),[{disclosureState:w},_]=y;(0,a.useEffect)((()=>_({type:2,buttonId:i})),[i,_]),(0,a.useEffect)((()=>_({type:3,panelId:c})),[c,_]);let x=(0,m.z)((e=>{_({type:1});let t=(0,h.r)(d);if(!t)return;let n=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:t.getElementById(i):t.getElementById(i);null==n||n.focus()})),E=(0,a.useMemo)((()=>({close:x})),[x]),C=(0,a.useMemo)((()=>({open:0===w,close:x})),[w,x]),O={ref:p};return a.createElement(b.Provider,{value:y},a.createElement(S.Provider,{value:E},a.createElement(f.up,{value:(0,o.E)(w,{0:f.ZM.Open,1:f.ZM.Closed})},(0,s.sY)({ourProps:O,theirProps:r,slot:C,defaultTag:k,name:"Disclosure"}))))})),C=(0,s.yV)((function(e,t){let[n,r]=w("Disclosure.Button"),i=(0,a.useContext)(x),o=null!==i&&i===n.panelId,u=(0,a.useRef)(null),f=(0,l.T)(u,t,o?null:n.buttonRef),h=(0,m.z)((e=>{var t;if(o){if(1===n.disclosureState)return;switch(e.key){case c.R.Space:case c.R.Enter:e.preventDefault(),e.stopPropagation(),r({type:0}),null==(t=n.buttonRef.current)||t.focus()}}else switch(e.key){case c.R.Space:case c.R.Enter:e.preventDefault(),e.stopPropagation(),r({type:0})}})),g=(0,m.z)((e=>{if(e.key===c.R.Space)e.preventDefault()})),v=(0,m.z)((t=>{var i;(0,d.P)(t.currentTarget)||e.disabled||(o?(r({type:0}),null==(i=n.buttonRef.current)||i.focus()):r({type:0}))})),y=(0,a.useMemo)((()=>({open:0===n.disclosureState})),[n]),b=(0,p.f)(e,u),S=e,_=o?{ref:f,type:b,onKeyDown:h,onClick:v}:{ref:f,id:n.buttonId,type:b,"aria-expanded":e.disabled?void 0:0===n.disclosureState,"aria-controls":n.linkedPanel?n.panelId:void 0,onKeyDown:h,onKeyUp:g,onClick:v};return(0,s.sY)({ourProps:_,theirProps:S,slot:y,defaultTag:"button",name:"Disclosure.Button"})})),O=s.AN.RenderStrategy|s.AN.Static,P=(0,s.yV)((function(e,t){let[n,r]=w("Disclosure.Panel"),{close:i}=_("Disclosure.Panel"),o=(0,l.T)(t,n.panelRef,(()=>{n.linkedPanel||r({type:4})})),u=(0,f.oJ)(),c=null!==u?u===f.ZM.Open:0===n.disclosureState;(0,a.useEffect)((()=>()=>r({type:5})),[r]),(0,a.useEffect)((()=>{var t;1===n.disclosureState&&(null==(t=e.unmount)||t)&&r({type:5})}),[n.disclosureState,e.unmount,r]);let d=(0,a.useMemo)((()=>({open:0===n.disclosureState,close:i})),[n,i]),p=e,h={ref:o,id:n.panelId};return a.createElement(x.Provider,{value:n.panelId},(0,s.sY)({ourProps:h,theirProps:p,slot:d,defaultTag:"div",features:O,visible:c,name:"Disclosure.Panel"}))})),I=Object.assign(E,{Button:C,Panel:P})},61363:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var r,i=((r=i||{}).Space=" ",r.Enter="Enter",r.Escape="Escape",r.Backspace="Backspace",r.Delete="Delete",r.ArrowLeft="ArrowLeft",r.ArrowUp="ArrowUp",r.ArrowRight="ArrowRight",r.ArrowDown="ArrowDown",r.Home="Home",r.End="End",r.PageUp="PageUp",r.PageDown="PageDown",r.Tab="Tab",r)},74730:(e,t,n)=>{"use strict";n.d(t,{R:()=>z});var r=n(67294),i=n(94192),a=n(19946),o=n(16723),s=n(3855);function l(e,t){let[n,i]=(0,r.useState)(e),a=(0,s.E)(e);return(0,o.e)((()=>i(a.current)),[a,i,...t]),n}var u,c,d=n(23784),f=n(12351),p=n(32984),h=n(9362),m=n(61363),g=n(11497),v=n(64103),y=n(84575),b=n(16567),w=n(14157),S=n(90292),_=n(46045),x=n(18689),T=n(15466),k=n(73781),E=((c=E||{})[c.Open=0]="Open",c[c.Closed=1]="Closed",c),C=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(C||{}),O=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(O||{}),P=((u=P||{})[u.OpenListbox=0]="OpenListbox",u[u.CloseListbox=1]="CloseListbox",u[u.SetDisabled=2]="SetDisabled",u[u.SetOrientation=3]="SetOrientation",u[u.GoToOption=4]="GoToOption",u[u.Search=5]="Search",u[u.ClearSearch=6]="ClearSearch",u[u.RegisterOption=7]="RegisterOption",u[u.UnregisterOption=8]="UnregisterOption",u);function I(e,t=(e=>e)){let n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,r=(0,y.z2)(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),i=n?r.indexOf(n):null;return-1===i&&(i=null),{options:r,activeOptionIndex:i}}let A={1:e=>e.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{value:n,mode:r,compare:i}=e.propsRef.current,a=e.options.findIndex((e=>{let t=e.dataRef.current.value;return(0,p.E)(r,{1:()=>n.some((e=>i(e,t))),0:()=>i(n,t)})}));return-1!==a&&(t=a),{...e,listboxState:0,activeOptionIndex:t}},2:(e,t)=>e.disabled===t.disabled?e:{...e,disabled:t.disabled},3:(e,t)=>e.orientation===t.orientation?e:{...e,orientation:t.orientation},4(e,t){var n;if(e.disabled||1===e.listboxState)return e;let r=I(e),i=(0,g.d)(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:i,activationTrigger:null!=(n=t.trigger)?n:1}},5:(e,t)=>{if(e.disabled||1===e.listboxState)return e;let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))})),a=i?e.options.indexOf(i):-1;return-1===a||a===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:a,activationTrigger:1}},6:e=>e.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},7:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=I(e,(e=>[...e,n]));if(null===e.activeOptionIndex){let{value:i,mode:a,compare:o}=e.propsRef.current,s=t.dataRef.current.value;(0,p.E)(a,{1:()=>i.some((e=>o(e,s))),0:()=>o(i,s)})&&(r.activeOptionIndex=r.options.indexOf(n))}return{...e,...r}},8:(e,t)=>{let n=I(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}}},D=(0,r.createContext)(null);function M(e){let t=(0,r.useContext)(D);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,M),t}return t}function R(e,t){return(0,p.E)(t.type,A,e,t)}D.displayName="ListboxContext";let N=r.Fragment,L=(0,f.yV)((function(e,t){let{value:n,name:i,onChange:a,disabled:s=!1,horizontal:l=!1,multiple:u=!1,...c}=e;const h=l?"horizontal":"vertical";let m=(0,d.T)(t),g=(0,r.useReducer)(R,{listboxState:1,propsRef:{current:{value:n,onChange:a,mode:u?1:0,compare:(0,k.z)(((e,t)=>e===t))}},labelRef:(0,r.createRef)(),buttonRef:(0,r.createRef)(),optionsRef:(0,r.createRef)(),disabled:s,orientation:h,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1}),[{listboxState:v,propsRef:w,optionsRef:T,buttonRef:E},C]=g;w.current.value=n,w.current.mode=u?1:0,(0,o.e)((()=>{w.current.onChange=e=>(0,p.E)(w.current.mode,{0:()=>a(e),1(){let t=w.current.value.slice(),n=t.indexOf(e);return-1===n?t.push(e):t.splice(n,1),a(t)}})}),[a,w]),(0,o.e)((()=>C({type:2,disabled:s})),[s]),(0,o.e)((()=>C({type:3,orientation:h})),[h]),(0,S.O)([E,T],((e,t)=>{var n;C({type:1}),(0,y.sP)(t,y.tJ.Loose)||(e.preventDefault(),null==(n=E.current)||n.focus())}),0===v);let O=(0,r.useMemo)((()=>({open:0===v,disabled:s})),[v,s]),P={ref:m};return r.createElement(D.Provider,{value:g},r.createElement(b.up,{value:(0,p.E)(v,{0:b.ZM.Open,1:b.ZM.Closed})},null!=i&&null!=n&&(0,x.t)({[i]:n}).map((([e,t])=>r.createElement(_._,{features:_.A.Hidden,...(0,f.oA)({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:t})}))),(0,f.sY)({ourProps:P,theirProps:c,slot:O,defaultTag:N,name:"Listbox"})))})),j=(0,f.yV)((function(e,t){var n;let[o,s]=M("Listbox.Button"),u=(0,d.T)(o.buttonRef,t),c=`headlessui-listbox-button-${(0,a.M)()}`,p=(0,i.G)(),h=(0,k.z)((e=>{switch(e.key){case m.R.Space:case m.R.Enter:case m.R.ArrowDown:e.preventDefault(),s({type:0}),p.nextFrame((()=>{o.propsRef.current.value||s({type:4,focus:g.T.First})}));break;case m.R.ArrowUp:e.preventDefault(),s({type:0}),p.nextFrame((()=>{o.propsRef.current.value||s({type:4,focus:g.T.Last})}))}})),y=(0,k.z)((e=>{if(e.key===m.R.Space)e.preventDefault()})),b=(0,k.z)((e=>{if((0,v.P)(e.currentTarget))return e.preventDefault();0===o.listboxState?(s({type:1}),p.nextFrame((()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),s({type:0}))})),S=l((()=>{if(o.labelRef.current)return[o.labelRef.current.id,c].join(" ")}),[o.labelRef.current,c]),_=(0,r.useMemo)((()=>({open:0===o.listboxState,disabled:o.disabled})),[o]),x=e,T={ref:u,id:c,type:(0,w.f)(e,o.buttonRef),"aria-haspopup":!0,"aria-controls":null==(n=o.optionsRef.current)?void 0:n.id,"aria-expanded":o.disabled?void 0:0===o.listboxState,"aria-labelledby":S,disabled:o.disabled,onKeyDown:h,onKeyUp:y,onClick:b};return(0,f.sY)({ourProps:T,theirProps:x,slot:_,defaultTag:"button",name:"Listbox.Button"})})),B=(0,f.yV)((function(e,t){let[n]=M("Listbox.Label"),i=`headlessui-listbox-label-${(0,a.M)()}`,o=(0,d.T)(n.labelRef,t),s=(0,k.z)((()=>{var e;return null==(e=n.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),l=(0,r.useMemo)((()=>({open:0===n.listboxState,disabled:n.disabled})),[n]);return(0,f.sY)({ourProps:{ref:o,id:i,onClick:s},theirProps:e,slot:l,defaultTag:"label",name:"Listbox.Label"})})),F=f.AN.RenderStrategy|f.AN.Static,U=(0,f.yV)((function(e,t){var n;let[o,s]=M("Listbox.Options"),u=(0,d.T)(o.optionsRef,t),c=`headlessui-listbox-options-${(0,a.M)()}`,v=(0,i.G)(),y=(0,i.G)(),w=(0,b.oJ)(),S=null!==w?w===b.ZM.Open:0===o.listboxState;(0,r.useEffect)((()=>{var e;let t=o.optionsRef.current;!t||0===o.listboxState&&t!==(null==(e=(0,T.r)(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[o.listboxState,o.optionsRef]);let _=(0,k.z)((e=>{switch(y.dispose(),e.key){case m.R.Space:if(""!==o.searchQuery)return e.preventDefault(),e.stopPropagation(),s({type:5,value:e.key});case m.R.Enter:if(e.preventDefault(),e.stopPropagation(),null!==o.activeOptionIndex){let{dataRef:e}=o.options[o.activeOptionIndex];o.propsRef.current.onChange(e.current.value)}0===o.propsRef.current.mode&&(s({type:1}),(0,h.k)().nextFrame((()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case(0,p.E)(o.orientation,{vertical:m.R.ArrowDown,horizontal:m.R.ArrowRight}):return e.preventDefault(),e.stopPropagation(),s({type:4,focus:g.T.Next});case(0,p.E)(o.orientation,{vertical:m.R.ArrowUp,horizontal:m.R.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),s({type:4,focus:g.T.Previous});case m.R.Home:case m.R.PageUp:return e.preventDefault(),e.stopPropagation(),s({type:4,focus:g.T.First});case m.R.End:case m.R.PageDown:return e.preventDefault(),e.stopPropagation(),s({type:4,focus:g.T.Last});case m.R.Escape:return e.preventDefault(),e.stopPropagation(),s({type:1}),v.nextFrame((()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case m.R.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(s({type:5,value:e.key}),y.setTimeout((()=>s({type:6})),350))}})),x=l((()=>{var e,t,n;return null!=(n=null==(e=o.labelRef.current)?void 0:e.id)?n:null==(t=o.buttonRef.current)?void 0:t.id}),[o.labelRef.current,o.buttonRef.current]),E=(0,r.useMemo)((()=>({open:0===o.listboxState})),[o]),C=e,O={"aria-activedescendant":null===o.activeOptionIndex||null==(n=o.options[o.activeOptionIndex])?void 0:n.id,"aria-multiselectable":1===o.propsRef.current.mode||void 0,"aria-labelledby":x,"aria-orientation":o.orientation,id:c,onKeyDown:_,role:"listbox",tabIndex:0,ref:u};return(0,f.sY)({ourProps:O,theirProps:C,slot:E,defaultTag:"ul",features:F,visible:S,name:"Listbox.Options"})})),H=(0,f.yV)((function(e,t){let{disabled:n=!1,value:i,...s}=e,[l,u]=M("Listbox.Option"),c=`headlessui-listbox-option-${(0,a.M)()}`,m=null!==l.activeOptionIndex&&l.options[l.activeOptionIndex].id===c,{value:v,compare:y}=l.propsRef.current,b=(0,p.E)(l.propsRef.current.mode,{1:()=>v.some((e=>y(e,i))),0:()=>y(v,i)}),w=(0,r.useRef)(null),S=(0,d.T)(t,w);(0,o.e)((()=>{if(0!==l.listboxState||!m||0===l.activationTrigger)return;let e=(0,h.k)();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=w.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[w,m,l.listboxState,l.activationTrigger,l.activeOptionIndex]);let _=(0,r.useRef)({disabled:n,value:i,domRef:w});(0,o.e)((()=>{_.current.disabled=n}),[_,n]),(0,o.e)((()=>{_.current.value=i}),[_,i]),(0,o.e)((()=>{var e,t;_.current.textValue=null==(t=null==(e=w.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[_,w]);let x=(0,k.z)((()=>l.propsRef.current.onChange(i)));(0,o.e)((()=>(u({type:7,id:c,dataRef:_}),()=>u({type:8,id:c}))),[_,c]);let T=(0,k.z)((e=>{if(n)return e.preventDefault();x(),0===l.propsRef.current.mode&&(u({type:1}),(0,h.k)().nextFrame((()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))})),E=(0,k.z)((()=>{if(n)return u({type:4,focus:g.T.Nothing});u({type:4,focus:g.T.Specific,id:c})})),C=(0,k.z)((()=>{n||m||u({type:4,focus:g.T.Specific,id:c,trigger:0})})),O=(0,k.z)((()=>{n||!m||u({type:4,focus:g.T.Nothing})})),P=(0,r.useMemo)((()=>({active:m,selected:b,disabled:n})),[m,b,n]);return(0,f.sY)({ourProps:{id:c,ref:S,role:"option",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,"aria-selected":!0===b||void 0,disabled:void 0,onClick:T,onFocus:E,onPointerMove:C,onMouseMove:C,onPointerLeave:O,onMouseLeave:O},theirProps:s,slot:P,defaultTag:"li",name:"Listbox.Option"})})),z=Object.assign(L,{Button:j,Label:B,Options:U,Option:H})},53788:(e,t,n)=>{"use strict";n.d(t,{v:()=>B});var r=n(67294),i=n(32984),a=n(12351),o=n(9362),s=n(94192),l=n(16723),u=n(23784),c=n(19946),d=n(61363),f=n(11497),p=n(64103),h=n(84575),m=n(90292),g=n(15466);var v,y,b=n(16567),w=n(14157),S=n(51074),_=n(73781),x=((y=x||{})[y.Open=0]="Open",y[y.Closed=1]="Closed",y),T=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(T||{}),k=((v=k||{})[v.OpenMenu=0]="OpenMenu",v[v.CloseMenu=1]="CloseMenu",v[v.GoToItem=2]="GoToItem",v[v.Search=3]="Search",v[v.ClearSearch=4]="ClearSearch",v[v.RegisterItem=5]="RegisterItem",v[v.UnregisterItem=6]="UnregisterItem",v);function E(e,t=(e=>e)){let n=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,r=(0,h.z2)(t(e.items.slice()),(e=>e.dataRef.current.domRef.current)),i=n?r.indexOf(n):null;return-1===i&&(i=null),{items:r,activeItemIndex:i}}let C={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,menuState:0},2:(e,t)=>{var n;let r=E(e),i=(0,f.d)(t,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeItemIndex:i,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find((e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))&&!e.dataRef.current.disabled})),a=i?e.items.indexOf(i):-1;return-1===a||a===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:a,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let n=E(e,(e=>[...e,{id:t.id,dataRef:t.dataRef}]));return{...e,...n}},6:(e,t)=>{let n=E(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}}},O=(0,r.createContext)(null);function P(e){let t=(0,r.useContext)(O);if(null===t){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,P),t}return t}function I(e,t){return(0,i.E)(t.type,C,e,t)}O.displayName="MenuContext";let A=r.Fragment,D=(0,a.yV)((function(e,t){let n=(0,r.useReducer)(I,{menuState:1,buttonRef:(0,r.createRef)(),itemsRef:(0,r.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsRef:s,buttonRef:l},c]=n,d=(0,u.T)(t);(0,m.O)([l,s],((e,t)=>{var n;c({type:1}),(0,h.sP)(t,h.tJ.Loose)||(e.preventDefault(),null==(n=l.current)||n.focus())}),0===o);let f=(0,r.useMemo)((()=>({open:0===o})),[o]),p=e,g={ref:d};return r.createElement(O.Provider,{value:n},r.createElement(b.up,{value:(0,i.E)(o,{0:b.ZM.Open,1:b.ZM.Closed})},(0,a.sY)({ourProps:g,theirProps:p,slot:f,defaultTag:A,name:"Menu"})))})),M=(0,a.yV)((function(e,t){var n;let[i,o]=P("Menu.Button"),l=(0,u.T)(i.buttonRef,t),h=`headlessui-menu-button-${(0,c.M)()}`,m=(0,s.G)(),g=(0,_.z)((e=>{switch(e.key){case d.R.Space:case d.R.Enter:case d.R.ArrowDown:e.preventDefault(),e.stopPropagation(),o({type:0}),m.nextFrame((()=>o({type:2,focus:f.T.First})));break;case d.R.ArrowUp:e.preventDefault(),e.stopPropagation(),o({type:0}),m.nextFrame((()=>o({type:2,focus:f.T.Last})))}})),v=(0,_.z)((e=>{if(e.key===d.R.Space)e.preventDefault()})),y=(0,_.z)((t=>{if((0,p.P)(t.currentTarget))return t.preventDefault();e.disabled||(0===i.menuState?(o({type:1}),m.nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),o({type:0})))})),b=(0,r.useMemo)((()=>({open:0===i.menuState})),[i]),S=e,x={ref:l,id:h,type:(0,w.f)(e,i.buttonRef),"aria-haspopup":!0,"aria-controls":null==(n=i.itemsRef.current)?void 0:n.id,"aria-expanded":e.disabled?void 0:0===i.menuState,onKeyDown:g,onKeyUp:v,onClick:y};return(0,a.sY)({ourProps:x,theirProps:S,slot:b,defaultTag:"button",name:"Menu.Button"})})),R=a.AN.RenderStrategy|a.AN.Static,N=(0,a.yV)((function(e,t){var n,i;let[p,h]=P("Menu.Items"),m=(0,u.T)(p.itemsRef,t),v=(0,S.i)(p.itemsRef),y=`headlessui-menu-items-${(0,c.M)()}`,w=(0,s.G)(),x=(0,b.oJ)(),T=null!==x?x===b.ZM.Open:0===p.menuState;(0,r.useEffect)((()=>{let e=p.itemsRef.current;!e||0===p.menuState&&e!==(null==v?void 0:v.activeElement)&&e.focus({preventScroll:!0})}),[p.menuState,p.itemsRef,v]),function({container:e,accept:t,walk:n,enabled:i=!0}){let a=(0,r.useRef)(t),o=(0,r.useRef)(n);(0,r.useEffect)((()=>{a.current=t,o.current=n}),[t,n]),(0,l.e)((()=>{if(!e||!i)return;let t=(0,g.r)(e);if(!t)return;let n=a.current,r=o.current,s=Object.assign((e=>n(e)),{acceptNode:n}),l=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,s,!1);for(;l.nextNode();)r(l.currentNode)}),[e,i,a,o])}({container:p.itemsRef.current,enabled:0===p.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let k=(0,_.z)((e=>{var t,n;switch(w.dispose(),e.key){case d.R.Space:if(""!==p.searchQuery)return e.preventDefault(),e.stopPropagation(),h({type:3,value:e.key});case d.R.Enter:if(e.preventDefault(),e.stopPropagation(),h({type:1}),null!==p.activeItemIndex){let{dataRef:e}=p.items[p.activeItemIndex];null==(n=null==(t=e.current)?void 0:t.domRef.current)||n.click()}(0,o.k)().nextFrame((()=>{var e;return null==(e=p.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case d.R.ArrowDown:return e.preventDefault(),e.stopPropagation(),h({type:2,focus:f.T.Next});case d.R.ArrowUp:return e.preventDefault(),e.stopPropagation(),h({type:2,focus:f.T.Previous});case d.R.Home:case d.R.PageUp:return e.preventDefault(),e.stopPropagation(),h({type:2,focus:f.T.First});case d.R.End:case d.R.PageDown:return e.preventDefault(),e.stopPropagation(),h({type:2,focus:f.T.Last});case d.R.Escape:e.preventDefault(),e.stopPropagation(),h({type:1}),(0,o.k)().nextFrame((()=>{var e;return null==(e=p.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case d.R.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(h({type:3,value:e.key}),w.setTimeout((()=>h({type:4})),350))}})),E=(0,_.z)((e=>{if(e.key===d.R.Space)e.preventDefault()})),C=(0,r.useMemo)((()=>({open:0===p.menuState})),[p]),O=e,I={"aria-activedescendant":null===p.activeItemIndex||null==(n=p.items[p.activeItemIndex])?void 0:n.id,"aria-labelledby":null==(i=p.buttonRef.current)?void 0:i.id,id:y,onKeyDown:k,onKeyUp:E,role:"menu",tabIndex:0,ref:m};return(0,a.sY)({ourProps:I,theirProps:O,slot:C,defaultTag:"div",features:R,visible:T,name:"Menu.Items"})})),L=r.Fragment,j=(0,a.yV)((function(e,t){let{disabled:n=!1,...i}=e,[s,d]=P("Menu.Item"),p=`headlessui-menu-item-${(0,c.M)()}`,h=null!==s.activeItemIndex&&s.items[s.activeItemIndex].id===p,m=(0,r.useRef)(null),g=(0,u.T)(t,m);(0,l.e)((()=>{if(0!==s.menuState||!h||0===s.activationTrigger)return;let e=(0,o.k)();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=m.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[m,h,s.menuState,s.activationTrigger,s.activeItemIndex]);let v=(0,r.useRef)({disabled:n,domRef:m});(0,l.e)((()=>{v.current.disabled=n}),[v,n]),(0,l.e)((()=>{var e,t;v.current.textValue=null==(t=null==(e=m.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[v,m]),(0,l.e)((()=>(d({type:5,id:p,dataRef:v}),()=>d({type:6,id:p}))),[v,p]);let y=(0,_.z)((e=>{if(n)return e.preventDefault();d({type:1}),(0,o.k)().nextFrame((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))})),b=(0,_.z)((()=>{if(n)return d({type:2,focus:f.T.Nothing});d({type:2,focus:f.T.Specific,id:p})})),w=(0,_.z)((()=>{n||h||d({type:2,focus:f.T.Specific,id:p,trigger:0})})),S=(0,_.z)((()=>{n||!h||d({type:2,focus:f.T.Nothing})})),x=(0,r.useMemo)((()=>({active:h,disabled:n})),[h,n]);return(0,a.sY)({ourProps:{id:p,ref:g,role:"menuitem",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,disabled:void 0,onClick:y,onFocus:b,onPointerMove:w,onMouseMove:w,onPointerLeave:S,onMouseLeave:S},theirProps:i,slot:x,defaultTag:L,name:"Menu.Item"})})),B=Object.assign(D,{Button:M,Items:N,Item:j})},12395:(e,t,n)=>{"use strict";n.d(t,{r:()=>_});var r=n(67294),i=n(12351),a=n(19946),o=n(61363),s=n(64103),l=n(16723),u=n(23784),c=n(73781);let d=(0,r.createContext)(null);function f(){let e=(0,r.useContext)(d);if(null===e){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,f),e}return e}function p(){let[e,t]=(0,r.useState)([]);return[e.length>0?e.join(" "):void 0,(0,r.useMemo)((()=>function(e){let n=(0,c.z)((e=>(t((t=>[...t,e])),()=>t((t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))))),i=(0,r.useMemo)((()=>({register:n,slot:e.slot,name:e.name,props:e.props})),[n,e.slot,e.name,e.props]);return r.createElement(d.Provider,{value:i},e.children)}),[t])]}let h=(0,i.yV)((function(e,t){let{passive:n=!1,...r}=e,o=f(),s=`headlessui-label-${(0,a.M)()}`,c=(0,u.T)(t);(0,l.e)((()=>o.register(s)),[s,o.register]);let d={ref:c,...o.props,id:s};return n&&("onClick"in d&&delete d.onClick,"onClick"in r&&delete r.onClick),(0,i.sY)({ourProps:d,theirProps:r,slot:o.slot||{},defaultTag:"label",name:o.name||"Label"})}));var m=n(39516),g=n(14157),v=n(46045),y=n(18689);let b=(0,r.createContext)(null);b.displayName="GroupContext";let w=r.Fragment;let S=(0,i.yV)((function(e,t){let{checked:n,onChange:l,name:d,value:f,...p}=e,h=`headlessui-switch-${(0,a.M)()}`,m=(0,r.useContext)(b),w=(0,r.useRef)(null),S=(0,u.T)(w,t,null===m?null:m.setSwitch),_=(0,c.z)((()=>l(!n))),x=(0,c.z)((e=>{if((0,s.P)(e.currentTarget))return e.preventDefault();e.preventDefault(),_()})),T=(0,c.z)((e=>{e.key===o.R.Space?(e.preventDefault(),_()):e.key===o.R.Enter&&(0,y.g)(e.currentTarget)})),k=(0,c.z)((e=>e.preventDefault())),E=(0,r.useMemo)((()=>({checked:n})),[n]),C={id:h,ref:S,role:"switch",type:(0,g.f)(e,w),tabIndex:0,"aria-checked":n,"aria-labelledby":null==m?void 0:m.labelledby,"aria-describedby":null==m?void 0:m.describedby,onClick:x,onKeyUp:T,onKeyPress:k};return r.createElement(r.Fragment,null,null!=d&&n&&r.createElement(v._,{features:v.A.Hidden,...(0,i.oA)({as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:n,name:d,value:f})}),(0,i.sY)({ourProps:C,theirProps:p,slot:E,defaultTag:"button",name:"Switch"}))})),_=Object.assign(S,{Group:function(e){let[t,n]=(0,r.useState)(null),[a,o]=p(),[s,l]=(0,m.f)(),u=(0,r.useMemo)((()=>({switch:t,setSwitch:n,labelledby:a,describedby:s})),[t,n,a,s]),c=e;return r.createElement(l,{name:"Switch.Description"},r.createElement(o,{name:"Switch.Label",props:{onClick(){!t||(t.click(),t.focus({preventScroll:!0}))}}},r.createElement(b.Provider,{value:u},(0,i.sY)({ourProps:{},theirProps:c,defaultTag:w,name:"Switch.Group"}))))},Label:h,Description:m.d})},17969:(e,t,n)=>{"use strict";n.d(t,{O:()=>M});var r=n(67294),i=n(12351),a=n(19946),o=n(32984),s=n(61363),l=n(84575),u=n(16723),c=n(23784),d=n(14157),f=n(3855),p=n(46045);function h({onFocus:e}){let[t,n]=(0,r.useState)(!0);return t?r.createElement(p._,{as:"button",type:"button",features:p.A.Focusable,onFocus:t=>{t.preventDefault();let r,i=50;r=requestAnimationFrame((function t(){if(!(i--<=0))return e()?(n(!1),void cancelAnimationFrame(r)):void(r=requestAnimationFrame(t));r&&cancelAnimationFrame(r)}))}}):null}var m,g=n(73781),v=((m=v||{})[m.SetSelectedIndex=0]="SetSelectedIndex",m[m.RegisterTab=1]="RegisterTab",m[m.UnregisterTab=2]="UnregisterTab",m[m.RegisterPanel=3]="RegisterPanel",m[m.UnregisterPanel=4]="UnregisterPanel",m[m.ForceRerender=5]="ForceRerender",m);let y={0(e,t){let n=e.tabs.filter((e=>{var t;return!(null!=(t=e.current)&&t.hasAttribute("disabled"))}));if(t.index<0)return{...e,selectedIndex:e.tabs.indexOf(n[0])};if(t.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(n[n.length-1])};let r=e.tabs.slice(0,t.index),i=[...e.tabs.slice(t.index),...r].find((e=>n.includes(e)));return i?{...e,selectedIndex:e.tabs.indexOf(i)}:e},1:(e,t)=>e.tabs.includes(t.tab)?e:{...e,tabs:(0,l.z2)([...e.tabs,t.tab],(e=>e.current))},2:(e,t)=>({...e,tabs:(0,l.z2)(e.tabs.filter((e=>e!==t.tab)),(e=>e.current))}),3:(e,t)=>e.panels.includes(t.panel)?e:{...e,panels:[...e.panels,t.panel]},4:(e,t)=>({...e,panels:e.panels.filter((e=>e!==t.panel))}),5:e=>({...e})},b=(0,r.createContext)(null);function w(e){let t=(0,r.useContext)(b);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,w),t}return t}b.displayName="TabsSSRContext";let S=(0,r.createContext)(null);function _(e){let t=(0,r.useContext)(S);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,_),t}return t}S.displayName="TabsDataContext";let x=(0,r.createContext)(null);function T(e){let t=(0,r.useContext)(x);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,T),t}return t}function k(e,t){return(0,o.E)(t.type,y,e,t)}x.displayName="TabsActionsContext";let E=r.Fragment,C=(0,i.yV)((function(e,t){let{defaultIndex:n=0,vertical:a=!1,manual:o=!1,onChange:s,selectedIndex:l=null,...d}=e;const p=a?"vertical":"horizontal",m=o?"manual":"auto";let g=(0,c.T)(t),[v,y]=(0,r.useReducer)(k,{selectedIndex:null!=l?l:n,tabs:[],panels:[]}),w=(0,r.useMemo)((()=>({selectedIndex:v.selectedIndex})),[v.selectedIndex]),_=(0,f.E)(s||(()=>{})),T=(0,f.E)(v.tabs),C=(0,r.useMemo)((()=>({orientation:p,activation:m,...v})),[p,m,v]),O=(0,f.E)(v.selectedIndex),P=(0,r.useMemo)((()=>({registerTab:e=>(y({type:1,tab:e}),()=>y({type:2,tab:e})),registerPanel:e=>(y({type:3,panel:e}),()=>y({type:4,panel:e})),forceRerender(){y({type:5})},change(e){O.current!==e&&_.current(e),O.current=e,y({type:0,index:e})}})),[y]);(0,u.e)((()=>{y({type:0,index:null!=l?l:n})}),[l]);let I=(0,r.useRef)({tabs:[],panels:[]}),A={ref:g};return r.createElement(b.Provider,{value:I},r.createElement(x.Provider,{value:P},r.createElement(S.Provider,{value:C},C.tabs.length<=0&&r.createElement(h,{onFocus:()=>{var e,t;for(let n of T.current)if(0===(null==(e=n.current)?void 0:e.tabIndex))return null==(t=n.current)||t.focus(),!0;return!1}}),(0,i.sY)({ourProps:A,theirProps:d,slot:w,defaultTag:E,name:"Tabs"}))))})),O=(0,i.yV)((function(e,t){let{orientation:n,selectedIndex:r}=_("Tab.List"),a=(0,c.T)(t);return(0,i.sY)({ourProps:{ref:a,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:r},defaultTag:"div",name:"Tabs.List"})})),P=(0,i.yV)((function(e,t){var n,f;let p=`headlessui-tabs-tab-${(0,a.M)()}`,{orientation:h,activation:m,selectedIndex:v,tabs:y,panels:b}=_("Tab"),S=T("Tab"),x=w("Tab"),k=(0,r.useRef)(null),E=(0,c.T)(k,t,(e=>{!e||S.forceRerender()}));(0,u.e)((()=>S.registerTab(k)),[S,k]);let C=x.current.tabs.indexOf(p);-1===C&&(C=x.current.tabs.push(p)-1);let O=y.indexOf(k);-1===O&&(O=C);let P=O===v,I=(0,g.z)((e=>{let t=y.map((e=>e.current)).filter(Boolean);if(e.key===s.R.Space||e.key===s.R.Enter)return e.preventDefault(),e.stopPropagation(),void S.change(O);switch(e.key){case s.R.Home:case s.R.PageUp:return e.preventDefault(),e.stopPropagation(),(0,l.jA)(t,l.TO.First);case s.R.End:case s.R.PageDown:return e.preventDefault(),e.stopPropagation(),(0,l.jA)(t,l.TO.Last)}return(0,o.E)(h,{vertical:()=>e.key===s.R.ArrowUp?(0,l.jA)(t,l.TO.Previous|l.TO.WrapAround):e.key===s.R.ArrowDown?(0,l.jA)(t,l.TO.Next|l.TO.WrapAround):void 0,horizontal:()=>e.key===s.R.ArrowLeft?(0,l.jA)(t,l.TO.Previous|l.TO.WrapAround):e.key===s.R.ArrowRight?(0,l.jA)(t,l.TO.Next|l.TO.WrapAround):void 0})?e.preventDefault():void 0})),A=(0,g.z)((()=>{var e;null==(e=k.current)||e.focus()})),D=(0,g.z)((()=>{var e;null==(e=k.current)||e.focus(),S.change(O)})),M=(0,g.z)((e=>{e.preventDefault()})),R=(0,r.useMemo)((()=>({selected:P})),[P]),N=e,L={ref:E,onKeyDown:I,onFocus:"manual"===m?A:D,onMouseDown:M,onClick:D,id:p,role:"tab",type:(0,d.f)(e,k),"aria-controls":null==(f=null==(n=b[O])?void 0:n.current)?void 0:f.id,"aria-selected":P,tabIndex:P?0:-1};return(0,i.sY)({ourProps:L,theirProps:N,slot:R,defaultTag:"button",name:"Tabs.Tab"})})),I=(0,i.yV)((function(e,t){let{selectedIndex:n}=_("Tab.Panels"),a=(0,c.T)(t),o=(0,r.useMemo)((()=>({selectedIndex:n})),[n]);return(0,i.sY)({ourProps:{ref:a},theirProps:e,slot:o,defaultTag:"div",name:"Tabs.Panels"})})),A=i.AN.RenderStrategy|i.AN.Static,D=(0,i.yV)((function(e,t){var n,o;let{selectedIndex:s,tabs:l,panels:d}=_("Tab.Panel"),f=T("Tab.Panel"),p=w("Tab.Panel"),h=`headlessui-tabs-panel-${(0,a.M)()}`,m=(0,r.useRef)(null),g=(0,c.T)(m,t,(e=>{!e||f.forceRerender()}));(0,u.e)((()=>f.registerPanel(m)),[f,m]);let v=p.current.panels.indexOf(h);-1===v&&(v=p.current.panels.push(h)-1);let y=d.indexOf(m);-1===y&&(y=v);let b=y===s,S=(0,r.useMemo)((()=>({selected:b})),[b]),x=e,k={ref:g,id:h,role:"tabpanel","aria-labelledby":null==(o=null==(n=l[y])?void 0:n.current)?void 0:o.id,tabIndex:b?0:-1};return(0,i.sY)({ourProps:k,theirProps:x,slot:S,defaultTag:"div",features:A,visible:b,name:"Tabs.Panel"})})),M=Object.assign(P,{Group:C,List:O,Panels:I,Panel:D})},47031:(e,t,n)=>{"use strict";n.d(t,{u:()=>j});var r=n(67294),i=n(12351),a=n(16567),o=n(32984),s=n(81021),l=n(19946),u=n(14879),c=n(16723),d=n(3855),f=n(82180),p=n(23784);var h=n(9362);function m(e,...t){e&&t.length>0&&e.classList.add(...t)}function g(e,...t){e&&t.length>0&&e.classList.remove(...t)}var v,y=((v=y||{}).Ended="ended",v.Cancelled="cancelled",v);function b(e,t,n,r){let i=n?"enter":"leave",a=(0,h.k)(),s=void 0!==r?function(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}(r):()=>{},l=(0,o.E)(i,{enter:()=>t.enter,leave:()=>t.leave}),u=(0,o.E)(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),c=(0,o.E)(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return g(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),m(e,...l,...c),a.nextFrame((()=>{g(e,...c),m(e,...u),function(e,t){let n=(0,h.k)();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[a,o]=[r,i].map((e=>{let[t=0]=e.split(",").filter(Boolean).map((e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e))).sort(((e,t)=>t-e));return t}));if(a+o!==0){let r=[];r.push(n.addEventListener(e,"transitionrun",(i=>{i.target===i.currentTarget&&(r.splice(0).forEach((e=>e())),r.push(n.addEventListener(e,"transitionend",(e=>{e.target===e.currentTarget&&(t("ended"),r.splice(0).forEach((e=>e())))})),n.addEventListener(e,"transitioncancel",(e=>{e.target===e.currentTarget&&(t("cancelled"),r.splice(0).forEach((e=>e())))}))))})))}else t("ended");n.add((()=>t("cancelled"))),n.dispose}(e,(n=>("ended"===n&&(g(e,...l),m(e,...t.entered)),s(n))))})),a.dispose}var w=n(94192),S=n(73781);function _({container:e,direction:t,classes:n,events:r,onStart:i,onStop:a}){let s=(0,u.t)(),l=(0,w.G)(),f=(0,d.E)(t),p=(0,S.z)((()=>(0,o.E)(f.current,{enter:()=>r.current.beforeEnter(),leave:()=>r.current.beforeLeave(),idle:()=>{}}))),m=(0,S.z)((()=>(0,o.E)(f.current,{enter:()=>r.current.afterEnter(),leave:()=>r.current.afterLeave(),idle:()=>{}})));(0,c.e)((()=>{let t=(0,h.k)();l.add(t.dispose);let r=e.current;if(r&&"idle"!==f.current&&s.current)return t.dispose(),p(),i.current(f.current),t.add(b(r,n.current,"enter"===f.current,(e=>{t.dispose(),(0,o.E)(e,{[y.Ended](){m(),a.current(f.current)},[y.Cancelled]:()=>{}})}))),t.dispose}),[t])}function x(e=""){return e.split(" ").filter((e=>e.trim().length>1))}let T=(0,r.createContext)(null);T.displayName="TransitionContext";var k,E=((k=E||{}).Visible="visible",k.Hidden="hidden",k);let C=(0,r.createContext)(null);function O(e){return"children"in e?O(e.children):e.current.filter((({state:e})=>"visible"===e)).length>0}function P(e){let t=(0,d.E)(e),n=(0,r.useRef)([]),a=(0,u.t)(),l=(0,S.z)(((e,r=i.l4.Hidden)=>{let l=n.current.findIndex((({id:t})=>t===e));-1!==l&&((0,o.E)(r,{[i.l4.Unmount](){n.current.splice(l,1)},[i.l4.Hidden](){n.current[l].state="hidden"}}),(0,s.Y)((()=>{var e;!O(n)&&a.current&&(null==(e=t.current)||e.call(t))})))})),c=(0,S.z)((e=>{let t=n.current.find((({id:t})=>t===e));return t?"visible"!==t.state&&(t.state="visible"):n.current.push({id:e,state:"visible"}),()=>l(e,i.l4.Unmount)}));return(0,r.useMemo)((()=>({children:n,register:c,unregister:l})),[c,l,n])}function I(){}C.displayName="NestingContext";let A=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function D(e){var t;let n={};for(let r of A)n[r]=null!=(t=e[r])?t:I;return n}let M=i.AN.RenderStrategy,R=(0,i.yV)((function(e,t){let{beforeEnter:n,afterEnter:s,beforeLeave:u,afterLeave:c,enter:h,enterFrom:m,enterTo:g,entered:v,leave:y,leaveFrom:b,leaveTo:w,...S}=e,k=(0,r.useRef)(null),E=(0,p.T)(k,t),[I,A]=(0,r.useState)("visible"),R=S.unmount?i.l4.Unmount:i.l4.Hidden,{show:N,appear:L,initial:j}=function(){let e=(0,r.useContext)(T);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:B,unregister:F}=function(){let e=(0,r.useContext)(C);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),U=(0,r.useRef)(null),H=(0,l.M)();(0,r.useEffect)((()=>{if(H)return B(H)}),[B,H]),(0,r.useEffect)((()=>{if(R===i.l4.Hidden&&H){if(N&&"visible"!==I)return void A("visible");(0,o.E)(I,{hidden:()=>F(H),visible:()=>B(H)})}}),[I,H,B,F,N,R]);let z=(0,d.E)({enter:x(h),enterFrom:x(m),enterTo:x(g),entered:x(v),leave:x(y),leaveFrom:x(b),leaveTo:x(w)}),V=function(e){let t=(0,r.useRef)(D(e));return(0,r.useEffect)((()=>{t.current=D(e)}),[e]),t}({beforeEnter:n,afterEnter:s,beforeLeave:u,afterLeave:c}),$=(0,f.H)();(0,r.useEffect)((()=>{if($&&"visible"===I&&null===k.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[k,I,$]);let G=j&&!L,W=!$||G||U.current===N?"idle":N?"enter":"leave",q=(0,r.useRef)(!1),Z=P((()=>{q.current||(A("hidden"),F(H))}));_({container:k,classes:z,events:V,direction:W,onStart:(0,d.E)((()=>{q.current=!0})),onStop:(0,d.E)((e=>{q.current=!1,"leave"===e&&!O(Z)&&(A("hidden"),F(H))}))}),(0,r.useEffect)((()=>{!G||(R===i.l4.Hidden?U.current=null:U.current=N)}),[N,G,I]);let K=S,X={ref:E};return r.createElement(C.Provider,{value:Z},r.createElement(a.up,{value:(0,o.E)(I,{visible:a.ZM.Open,hidden:a.ZM.Closed})},(0,i.sY)({ourProps:X,theirProps:K,defaultTag:"div",features:M,visible:"visible"===I,name:"Transition.Child"})))})),N=(0,i.yV)((function(e,t){let{show:n,appear:s=!1,unmount:l,...u}=e,d=(0,r.useRef)(null),h=(0,p.T)(d,t);(0,f.H)();let m=(0,a.oJ)();if(void 0===n&&null!==m&&(n=(0,o.E)(m,{[a.ZM.Open]:!0,[a.ZM.Closed]:!1})),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[g,v]=(0,r.useState)(n?"visible":"hidden"),y=P((()=>{v("hidden")})),[b,w]=(0,r.useState)(!0),S=(0,r.useRef)([n]);(0,c.e)((()=>{!1!==b&&S.current[S.current.length-1]!==n&&(S.current.push(n),w(!1))}),[S,n]);let _=(0,r.useMemo)((()=>({show:n,appear:s,initial:b})),[n,s,b]);(0,r.useEffect)((()=>{if(n)v("visible");else if(O(y)){let e=d.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&v("hidden")}else v("hidden")}),[n,y]);let x={unmount:l};return r.createElement(C.Provider,{value:y},r.createElement(T.Provider,{value:_},(0,i.sY)({ourProps:{...x,as:r.Fragment,children:r.createElement(R,{ref:h,...x,...u})},theirProps:{},defaultTag:r.Fragment,features:M,visible:"visible"===g,name:"Transition"})))})),L=(0,i.yV)((function(e,t){let n=null!==(0,r.useContext)(T),i=null!==(0,a.oJ)();return r.createElement(r.Fragment,null,!n&&i?r.createElement(N,{ref:t,...e}):r.createElement(R,{ref:t,...e}))})),j=Object.assign(N,{Child:L,Root:N})},94192:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});var r=n(67294),i=n(9362);function a(){let[e]=(0,r.useState)(i.k);return(0,r.useEffect)((()=>()=>e.dispose()),[e]),e}},73781:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var r=n(67294),i=n(3855);let a=function(e){let t=(0,i.E)(e);return r.useCallback(((...e)=>t.current(...e)),[t])}},19946:(e,t,n)=>{"use strict";n.d(t,{M:()=>u});var r,i=n(67294),a=n(16723),o=n(82180);let s=0;function l(){return++s}let u=null!=(r=i.useId)?r:function(){let e=(0,o.H)(),[t,n]=i.useState(e?l:null);return(0,a.e)((()=>{null===t&&n(l())}),[t]),null!=t?""+t:void 0}},14879:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var r=n(67294),i=n(16723);function a(){let e=(0,r.useRef)(!1);return(0,i.e)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},16723:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});var r=n(67294);let i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect},3855:(e,t,n)=>{"use strict";n.d(t,{E:()=>a});var r=n(67294),i=n(16723);function a(e){let t=(0,r.useRef)(e);return(0,i.e)((()=>{t.current=e}),[e]),t}},90292:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var r=n(67294),i=n(84575),a=n(7815);function o(e,t,n=!0){let o=(0,r.useRef)(!1);function s(n,r){if(!o.current||n.defaultPrevented)return;let a=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e),s=r(n);if(null!==s&&s.ownerDocument.documentElement.contains(s)){for(let e of a){if(null===e)continue;let t=e instanceof HTMLElement?e:e.current;if(null!=t&&t.contains(s))return}return!(0,i.sP)(s,i.tJ.Loose)&&-1!==s.tabIndex&&n.preventDefault(),t(n,s)}}(0,r.useEffect)((()=>{requestAnimationFrame((()=>{o.current=n}))}),[n]),(0,a.s)("click",(e=>s(e,(e=>e.target))),!0),(0,a.s)("blur",(e=>s(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))),!0)}},51074:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});var r=n(67294),i=n(15466);function a(...e){return(0,r.useMemo)((()=>(0,i.r)(...e)),[...e])}},14157:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});var r=n(67294),i=n(16723);function a(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function o(e,t){let[n,o]=(0,r.useState)((()=>a(e)));return(0,i.e)((()=>{o(a(e))}),[e.type,e.as]),(0,i.e)((()=>{n||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&o("button")}),[n,t]),n}},82180:(e,t,n)=>{"use strict";n.d(t,{H:()=>a});var r=n(67294);let i={serverHandoffComplete:!1};function a(){let[e,t]=(0,r.useState)(i.serverHandoffComplete);return(0,r.useEffect)((()=>{!0!==e&&t(!0)}),[e]),(0,r.useEffect)((()=>{!1===i.serverHandoffComplete&&(i.serverHandoffComplete=!0)}),[]),e}},23784:(e,t,n)=>{"use strict";n.d(t,{T:()=>s,h:()=>o});var r=n(67294),i=n(73781);let a=Symbol();function o(e,t=!0){return Object.assign(e,{[a]:t})}function s(...e){let t=(0,r.useRef)(e);(0,r.useEffect)((()=>{t.current=e}),[e]);let n=(0,i.z)((e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)}));return e.every((e=>null==e||(null==e?void 0:e[a])))?void 0:n}},7815:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var r=n(67294),i=n(3855);function a(e,t,n){let a=(0,i.E)(t);(0,r.useEffect)((()=>{function t(e){a.current(e)}return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)}),[e,n])}},46045:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,_:()=>o});var r=n(12351);var i,a=((i=a||{})[i.None=1]="None",i[i.Focusable=2]="Focusable",i[i.Hidden=4]="Hidden",i);let o=(0,r.yV)((function(e,t){let{features:n=1,...i}=e,a={ref:t,"aria-hidden":2===(2&n)||void 0,style:{position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4===(4&n)&&2!==(2&n)&&{display:"none"}}};return(0,r.sY)({ourProps:a,theirProps:i,slot:{},defaultTag:"div",name:"Hidden"})}))},16567:(e,t,n)=>{"use strict";n.d(t,{ZM:()=>o,oJ:()=>s,up:()=>l});var r=n(67294);let i=(0,r.createContext)(null);i.displayName="OpenClosedContext";var a,o=((a=o||{})[a.Open=0]="Open",a[a.Closed=1]="Closed",a);function s(){return(0,r.useContext)(i)}function l({value:e,children:t}){return r.createElement(i.Provider,{value:e},t)}},64103:(e,t,n)=>{"use strict";function r(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}n.d(t,{P:()=>r})},11497:(e,t,n)=>{"use strict";n.d(t,{T:()=>i,d:()=>a});var r,i=((r=i||{})[r.First=0]="First",r[r.Previous=1]="Previous",r[r.Next=2]="Next",r[r.Last=3]="Last",r[r.Specific=4]="Specific",r[r.Nothing=5]="Nothing",r);function a(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=null!=r?r:-1,a=(()=>{switch(e.focus){case 0:return n.findIndex((e=>!t.resolveDisabled(e)));case 1:{let e=n.slice().reverse().findIndex(((e,n,r)=>!(-1!==i&&r.length-n-1>=i)&&!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case 2:return n.findIndex(((e,n)=>!(n<=i)&&!t.resolveDisabled(e)));case 3:{let e=n.slice().reverse().findIndex((e=>!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case 4:return n.findIndex((n=>t.resolveId(n)===e.id));case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}})();return-1===a?r:a}},9362:(e,t,n)=>{"use strict";function r(){let e=[],t=[],n={enqueue(e){t.push(e)},addEventListener:(e,t,r,i)=>(e.addEventListener(t,r,i),n.add((()=>e.removeEventListener(t,r,i)))),requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return n.add((()=>cancelAnimationFrame(t)))},nextFrame:(...e)=>n.requestAnimationFrame((()=>n.requestAnimationFrame(...e))),setTimeout(...e){let t=setTimeout(...e);return n.add((()=>clearTimeout(t)))},add:t=>(e.push(t),()=>{let n=e.indexOf(t);if(n>=0){let[t]=e.splice(n,1);t()}}),dispose(){for(let t of e.splice(0))t()},async workQueue(){for(let e of t.splice(0))await e()}};return n}n.d(t,{k:()=>r})},84575:(e,t,n)=>{"use strict";n.d(t,{C5:()=>h,TO:()=>u,fE:()=>c,jA:()=>v,sP:()=>p,tJ:()=>f,z2:()=>g});var r=n(32984),i=n(15466);let a=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var o,s,l,u=((l=u||{})[l.First=1]="First",l[l.Previous=2]="Previous",l[l.Next=4]="Next",l[l.Last=8]="Last",l[l.WrapAround=16]="WrapAround",l[l.NoScroll=32]="NoScroll",l),c=((s=c||{})[s.Error=0]="Error",s[s.Overflow=1]="Overflow",s[s.Success=2]="Success",s[s.Underflow=3]="Underflow",s),d=((o=d||{})[o.Previous=-1]="Previous",o[o.Next=1]="Next",o);var f=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(f||{});function p(e,t=0){var n;return e!==(null==(n=(0,i.r)(e))?void 0:n.body)&&(0,r.E)(t,{0:()=>e.matches(a),1(){let t=e;for(;null!==t;){if(t.matches(a))return!0;t=t.parentElement}return!1}})}function h(e){null==e||e.focus({preventScroll:!0})}let m=["textarea","input"].join(",");function g(e,t=(e=>e)){return e.slice().sort(((e,n)=>{let r=t(e),i=t(n);if(null===r||null===i)return 0;let a=r.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function v(e,t,n=!0){let r,i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?g(e):e:function(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(a))}(e),s=i.activeElement,l=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,o.indexOf(s))-1;if(4&t)return Math.max(0,o.indexOf(s))+1;if(8&t)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=32&t?{preventScroll:!0}:{},d=0,f=o.length;do{if(d>=f||d+f<=0)return 0;let e=u+d;if(16&t)e=(e+f)%f;else{if(e<0)return 3;if(e>=f)return 1}r=o[e],null==r||r.focus(c),d+=l}while(r!==i.activeElement);return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,m))&&n}(r)&&r.select(),r.hasAttribute("tabindex")||r.setAttribute("tabindex","0"),2}},18689:(e,t,n)=>{"use strict";function r(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))a(n,i(t,r),o);return n}function i(e,t){return e?e+"["+t+"]":t}function a(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())a(e,i(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):"boolean"==typeof n?e.push([t,n?"1":"0"]):"string"==typeof n?e.push([t,n]):"number"==typeof n?e.push([t,`${n}`]):null==n?e.push([t,""]):r(n,t,e)}function o(e){var t;let n=null!=(t=null==e?void 0:e.form)?t:e.closest("form");if(n)for(let r of n.elements)if("INPUT"===r.tagName&&"submit"===r.type||"BUTTON"===r.tagName&&"submit"===r.type||"INPUT"===r.nodeName&&"image"===r.type)return void r.click()}n.d(t,{g:()=>o,t:()=>r})},32984:(e,t,n)=>{"use strict";function r(e,t,...n){if(e in t){let r=t[e];return"function"==typeof r?r(...n):r}let i=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,r),i}n.d(t,{E:()=>r})},81021:(e,t,n)=>{"use strict";function r(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}n.d(t,{Y:()=>r})},15466:(e,t,n)=>{"use strict";function r(e){return"undefined"==typeof window?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}n.d(t,{r:()=>r})},12351:(e,t,n)=>{"use strict";n.d(t,{AN:()=>s,l4:()=>l,oA:()=>p,sY:()=>u,yV:()=>f});var r,i,a=n(67294),o=n(32984),s=((i=s||{})[i.None=0]="None",i[i.RenderStrategy=1]="RenderStrategy",i[i.Static=2]="Static",i),l=((r=l||{})[r.Unmount=0]="Unmount",r[r.Hidden=1]="Hidden",r);function u({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:a=!0,name:s}){let l=d(t,e);if(a)return c(l,n,r,s);let u=null!=i?i:0;if(2&u){let{static:e=!1,...t}=l;if(e)return c(t,n,r,s)}if(1&u){let{unmount:e=!0,...t}=l;return(0,o.E)(e?0:1,{0:()=>null,1:()=>c({...t,hidden:!0,style:{display:"none"}},n,r,s)})}return c(l,n,r,s)}function c(e,t={},n,r){let{as:i=n,children:o,refName:s="ref",...l}=h(e,["unmount","static"]),u=void 0!==e.ref?{[s]:e.ref}:{},c="function"==typeof o?o(t):o;l.className&&"function"==typeof l.className&&(l.className=l.className(t));let f={};if(i===a.Fragment&&Object.keys(p(l)).length>0){if(!(0,a.isValidElement)(c)||Array.isArray(c)&&c.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));return(0,a.cloneElement)(c,Object.assign({},d(c.props,p(h(l,["ref"]))),f,u))}return(0,a.createElement)(i,Object.assign({},h(l,["ref"]),i!==a.Fragment&&u,i!==a.Fragment&&f),c)}function d(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map((e=>[e,void 0]))));for(let r in n)Object.assign(t,{[r](e,...t){let i=n[r];for(let n of i){if(e.defaultPrevented)return;n(e,...t)}}});return t}function f(e){var t;return Object.assign((0,a.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function p(e){let t=Object.assign({},e);for(let n in t)void 0===t[n]&&delete t[n];return t}function h(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}},14912:(e,t,n)=>{"use strict";function r(e,t,...n){if("undefined"!==typeof process&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let r=0;e=new Error(t.replace(/%s/g,(function(){return n[r++]}))),e.name="Invariant Violation"}throw e.framesToPop=1,e}}n.d(t,{k:()=>r})},46580:(e,t,n)=>{"use strict";function r(e,t,n,r){let i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;const a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;const s=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<a.length;l++){const o=a[l];if(!s(o))return!1;const u=e[o],c=t[o];if(i=n?n.call(r,u,c,o):void 0,!1===i||void 0===i&&u!==c)return!1}return!0}n.d(t,{w:()=>r})},58206:(e,t,n)=>{"use strict";function r(e,{target:t=document.body}={}){const n=document.createElement("textarea"),r=document.activeElement;n.value=e,n.setAttribute("readonly",""),n.style.contain="strict",n.style.position="absolute",n.style.left="-9999px",n.style.fontSize="12pt";const i=document.getSelection();let a=!1;i.rangeCount>0&&(a=i.getRangeAt(0)),t.append(n),n.select(),n.selectionStart=0,n.selectionEnd=e.length;let o=!1;try{o=document.execCommand("copy")}catch{}return n.remove(),a&&(i.removeAllRanges(),i.addRange(a)),r&&r.focus(),o}n.d(t,{Z:()=>r})},65538:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:()=>S});var i=[],a=i.forEach,o=i.slice;function s(e){return a.call(o.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}function l(){return"function"===typeof XMLHttpRequest||"object"===("undefined"===typeof XMLHttpRequest?"undefined":r(XMLHttpRequest))}var u,c,d,f=n(83154),p=n.t(f,2);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}"function"===typeof fetch&&("undefined"!==typeof global&&global.fetch?u=global.fetch:"undefined"!==typeof window&&window.fetch&&(u=window.fetch)),l()&&("undefined"!==typeof global&&global.XMLHttpRequest?c=global.XMLHttpRequest:"undefined"!==typeof window&&window.XMLHttpRequest&&(c=window.XMLHttpRequest)),"function"===typeof ActiveXObject&&("undefined"!==typeof global&&global.ActiveXObject?d=global.ActiveXObject:"undefined"!==typeof window&&window.ActiveXObject&&(d=window.ActiveXObject)),u||!p||c||d||(u=f||p),"function"!==typeof u&&(u=void 0);var m=function(e,t){if(t&&"object"===h(t)){var n="";for(var r in t)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e};const g=function(e,t,n,r){return"function"===typeof n&&(r=n,n=void 0),r=r||function(){},u?function(e,t,n,r){e.queryStringParams&&(t=m(t,e.queryStringParams));var i=s({},"function"===typeof e.customHeaders?e.customHeaders():e.customHeaders);n&&(i["Content-Type"]="application/json"),u(t,s({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:i},"function"===typeof e.requestOptions?e.requestOptions(n):e.requestOptions)).then((function(e){if(!e.ok)return r(e.statusText||"Error",{status:e.status});e.text().then((function(t){r(null,{status:e.status,data:t})})).catch(r)})).catch(r)}(e,t,n,r):l()||"function"===typeof ActiveXObject?function(e,t,n,r){n&&"object"===h(n)&&(n=m("",n).slice(1)),e.queryStringParams&&(t=m(t,e.queryStringParams));try{var i;(i=c?new c:new d("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",t,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var a=e.customHeaders;if(a="function"===typeof a?a():a)for(var o in a)i.setRequestHeader(o,a[o]);i.onreadystatechange=function(){i.readyState>3&&r(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(s){console&&console.log(s)}}(e,t,n,r):void 0};function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n||"")},request:g,reloadInterval:"undefined"===typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},w=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}var t,n,r;return t=e,n=[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=s(n,this.options||{},b()),this.allOptions=r,this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,r,i){var a,o=this,s=this.options.loadPath;"function"===typeof this.options.loadPath&&(s=this.options.loadPath(e,n)),(s=function(e){return!!e&&"function"===typeof e.then}(a=s)?a:Promise.resolve(a)).then((function(a){if(!a)return i(null,{});var s=o.services.interpolator.interpolate(a,{lng:e.join("+"),ns:n.join("+")});o.loadUrl(s,i,t,r)}))}},{key:"loadUrl",value:function(e,t,n,r){var i=this;this.options.request(this.options,e,void 0,(function(a,o){if(o&&(o.status>=500&&o.status<600||!o.status))return t("failed loading "+e+"; status code: "+o.status,!0);if(o&&o.status>=400&&o.status<500)return t("failed loading "+e+"; status code: "+o.status,!1);if(!o&&a&&a.message&&a.message.indexOf("Failed to fetch")>-1)return t("failed loading "+e+": "+a.message,!0);if(a)return t(a,!1);var s,l;try{s="string"===typeof o.data?i.options.parse(o.data,n,r):o.data}catch(u){l="failed parsing "+e+" to json"}if(l)return t(l,!1);t(null,s)}))}},{key:"create",value:function(e,t,n,r,i){var a=this;if(this.options.addPath){"string"===typeof e&&(e=[e]);var o=this.options.parsePayload(t,n,r),s=0,l=[],u=[];e.forEach((function(n){var r=a.options.addPath;"function"===typeof a.options.addPath&&(r=a.options.addPath(n,t));var c=a.services.interpolator.interpolate(r,{lng:n,ns:t});a.options.request(a.options,c,o,(function(t,n){s+=1,l.push(t),u.push(n),s===e.length&&i&&i(l,u)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,r=t.languageUtils,i=t.logger,a=n.language;if(!a||"cimode"!==a.toLowerCase()){var o=[],s=function(e){r.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};s(a),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return s(e)})),o.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(r,a){r&&i.warn("loading namespace ".concat(e," for language ").concat(t," failed"),r),!r&&a&&i.log("loaded namespace ".concat(e," for language ").concat(t),a),n.loaded("".concat(t,"|").concat(e),r,a)}))}))}))}}}],n&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();w.type="backend";const S=w},19841:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{ZP:()=>ve});var i=n(15671),a=n(43144),o=n(97326),s=n(60136);function l(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var c=n(4942),d=n(83878);var f=n(88192),p=n(25267);function h(e){return(0,d.Z)(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,f.Z)(e)||(0,p.Z)()}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},y=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.Z)(this,e),this.init(t,n)}return(0,a.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||v,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"===typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,g(g({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}()),b=function(){function e(){(0,i.Z)(this,e),this.observers={}}return(0,a.Z)(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function w(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function S(e){return null==e?"":""+e}function _(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function x(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"===typeof e}for(var a="string"!==typeof t?[].concat(t):t.split(".");a.length>1;){if(i())return{};var o=r(a.shift());!e[o]&&n&&(e[o]=new n),e=Object.prototype.hasOwnProperty.call(e,o)?e[o]:{}}return i()?{}:{obj:e,k:r(a.shift())}}function T(e,t,n){var r=x(e,t,Object);r.obj[r.k]=n}function k(e,t){var n=x(e,t),r=n.obj,i=n.k;if(r)return r[i]}function E(e,t,n){var r=k(e,n);return void 0!==r?r:k(t,n)}function C(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"===typeof e[r]||e[r]instanceof String||"string"===typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):C(e[r],t[r],n):e[r]=t[r]);return e}function O(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function I(e){return"string"===typeof e?e.replace(/[&<>"'\/]/g,(function(e){return P[e]})):e}var A="undefined"!==typeof window&&window.navigator&&"undefined"===typeof window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,D=[" ",",","?","!",";"];function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,a=0;a<r.length;++a){if(!i)return;if("string"===typeof i[r[a]]&&a+1<r.length)return;if(void 0===i[r[a]]){for(var o=2,s=r.slice(a,a+o).join(n),l=i[s];void 0===l&&r.length>a+o;)o++,l=i[s=r.slice(a,a+o).join(n)];if(void 0===l)return;if(null===l)return null;if(t.endsWith(s)){if("string"===typeof l)return l;if(s&&"string"===typeof l[s])return l[s]}var u=r.slice(a+o).join(n);return u?L(l,u,n):void 0}i=i[r[a]]}return i}}var j=function(e){(0,s.Z)(n,e);var t=N(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(0,i.Z)(this,n),r=t.call(this),A&&b.call((0,o.Z)(r)),r.data=e||{},r.options=a,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return(0,a.Z)(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,a=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,o=[e,t];n&&"string"!==typeof n&&(o=o.concat(n)),n&&"string"===typeof n&&(o=o.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(o=e.split("."));var s=k(this.data,o);return s||!a||"string"!==typeof n?s:L(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(r=t,t=(o=e.split("."))[1]),this.addNamespaces(t),T(this.data,o,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!==typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(o=e.split("."))[1]),this.addNamespaces(t);var s=k(this.data,o)||{};r?C(s,n,i):s=R(R({},s),n),T(this.data,o,s),a.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?R(R({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(b),B={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var a=this;return e.forEach((function(e){a.processors[e]&&(t=a.processors[e].process(t,n,r,i))})),t}};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}var z={},V=function(e){(0,s.Z)(n,e);var t=H(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.Z)(this,n),r=t.call(this),A&&b.call((0,o.Z)(r)),_(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,(0,o.Z)(r)),r.options=a,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=y.create("translator"),r}return(0,a.Z)(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,n){t=t||"",n=n||"";var r=D.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),a=!i.test(e);if(!a){var o=e.indexOf(n);o>0&&!i.test(e.substring(0,o))&&(a=!0)}return a}(e,n,r);if(a&&!o){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:i};var l=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(l[0])>-1)&&(i=l.shift()),e=l.join(r)}return"string"===typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,i){var a=this;if("object"!==r(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,s=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,l=this.extractFromKey(e[e.length-1],t),u=l.key,c=l.namespaces,d=c[c.length-1],f=t.lng||this.language,p=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&"cimode"===f.toLowerCase()){if(p){var h=t.nsSeparator||this.options.nsSeparator;return o?(m.res="".concat(d).concat(h).concat(u),m):"".concat(d).concat(h).concat(u)}return o?(m.res=u,m):u}var m=this.resolve(e,t),g=m&&m.res,v=m&&m.usedKey||u,y=m&&m.exactUsedKey||u,b=Object.prototype.toString.apply(g),w=["[object Number]","[object Function]","[object RegExp]"],S=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,x="string"!==typeof g&&"boolean"!==typeof g&&"number"!==typeof g;if(_&&g&&x&&w.indexOf(b)<0&&("string"!==typeof S||"[object Array]"!==b)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,g,U(U({},t),{},{ns:c})):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");return o?(m.res=T,m):T}if(s){var k="[object Array]"===b,E=k?[]:{},C=k?y:v;for(var O in g)if(Object.prototype.hasOwnProperty.call(g,O)){var P="".concat(C).concat(s).concat(O);E[O]=this.translate(P,U(U({},t),{joinArrays:!1,ns:c})),E[O]===P&&(E[O]=g[O])}g=E}}else if(_&&"string"===typeof S&&"[object Array]"===b)(g=g.join(S))&&(g=this.extendTranslation(g,e,t,i));else{var I=!1,A=!1,D=void 0!==t.count&&"string"!==typeof t.count,M=n.hasDefaultValue(t),R=D?this.pluralResolver.getSuffix(f,t.count,t):"",N=t["defaultValue".concat(R)]||t.defaultValue;!this.isValidLookup(g)&&M&&(I=!0,g=N),this.isValidLookup(g)||(A=!0,g=u);var L=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,j=L&&A?void 0:g,B=M&&N!==g&&this.options.updateMissing;if(A||I||B){if(this.logger.log(B?"updateKey":"missingKey",f,d,u,B?N:g),s){var F=this.resolve(u,U(U({},t),{},{keySeparator:!1}));F&&F.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var H=[],z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&z&&z[0])for(var V=0;V<z.length;V++)H.push(z[V]);else"all"===this.options.saveMissingTo?H=this.languageUtils.toResolveHierarchy(t.lng||this.language):H.push(t.lng||this.language);var $=function(e,n,r){var i=M&&r!==g?r:j;a.options.missingKeyHandler?a.options.missingKeyHandler(e,d,n,i,B,t):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(e,d,n,i,B,t),a.emit("missingKey",e,d,n,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&D?H.forEach((function(e){a.pluralResolver.getSuffixes(e,t).forEach((function(n){$([e],u+n,t["defaultValue".concat(n)]||N)}))})):$(H,u,N))}g=this.extendTranslation(g,e,t,m,i),A&&g===u&&this.options.appendNamespaceToMissingKey&&(g="".concat(d,":").concat(u)),(A||I)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(u):u,I?g:void 0):this.options.parseMissingKeyHandler(g))}return o?(m.res=g,m):g}},{key:"extendTranslation",value:function(e,t,n,r,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,U(U({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(U(U({},n),{interpolation:U(U({},this.options.interpolation),n.interpolation)}));var o,s="string"===typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var l=e.match(this.interpolator.nestingRegexp);o=l&&l.length}var u=n.replace&&"string"!==typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=U(U({},this.options.interpolation.defaultVariables),u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),s){var c=e.match(this.interpolator.nestingRegexp);o<(c&&c.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i&&i[0]===r[0]&&!n.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):a.translate.apply(a,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,f="string"===typeof d?[d]:d;return void 0!==e&&null!==e&&f&&f.length&&!1!==n.applyPostProcessor&&(e=B.handle(f,e,t,this.options&&this.options.postProcessPassResolved?U({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,a,o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.forEach((function(e){if(!o.isValidLookup(t)){var l=o.extractFromKey(e,s),u=l.key;n=u;var c=l.namespaces;o.options.fallbackNS&&(c=c.concat(o.options.fallbackNS));var d=void 0!==s.count&&"string"!==typeof s.count,f=d&&!s.ordinal&&0===s.count&&o.pluralResolver.shouldUseIntlApi(),p=void 0!==s.context&&("string"===typeof s.context||"number"===typeof s.context)&&""!==s.context,h=s.lngs?s.lngs:o.languageUtils.toResolveHierarchy(s.lng||o.language,s.fallbackLng);c.forEach((function(e){o.isValidLookup(t)||(a=e,!z["".concat(h[0],"-").concat(e)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(a)&&(z["".concat(h[0],"-").concat(e)]=!0,o.logger.warn('key "'.concat(n,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((function(n){if(!o.isValidLookup(t)){i=n;var a,l=[u];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(l,u,n,e,s);else{var c;d&&(c=o.pluralResolver.getSuffix(n,s.count,s));var h="".concat(o.options.pluralSeparator,"zero");if(d&&(l.push(u+c),f&&l.push(u+h)),p){var m="".concat(u).concat(o.options.contextSeparator).concat(s.context);l.push(m),d&&(l.push(m+c),f&&l.push(m+h))}}for(;a=l.pop();)o.isValidLookup(t)||(r=a,t=o.getResource(n,e,a,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:a}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),n}(b);function $(e){return e.charAt(0).toUpperCase()+e.slice(1)}var G=function(){function e(t){(0,i.Z)(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=y.create("languageUtils")}return(0,a.Z)(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"===typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=$(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=$(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=$(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),"string"===typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],a=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"===typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"===typeof e&&a(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&a(n.formatLanguageCode(e))})),i}}]),e}(),W=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],q={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},Z=["v1","v2","v3"],K={zero:0,one:1,two:2,few:3,many:4,other:5};function X(){var e={};return W.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:q[t.fc]}}))})),e}var Y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.Z)(this,e),this.languageUtils=t,this.options=n,this.logger=y.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=X()}return(0,a.Z)(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return K[e]-K[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var a=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"===typeof i?"_plural_".concat(i.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!Z.includes(this.options.compatibilityJSON)}}]),e}();function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),this.logger=y.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return(0,a.Z)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:I,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?O(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?O(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?O(t.nestingPrefix):t.nestingPrefixEscaped||O("$t("),this.nestingSuffix=t.nestingSuffix?O(t.nestingSuffix):t.nestingSuffixEscaped||O(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,a,o,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(s.formatSeparator)<0){var i=E(t,l,e);return s.alwaysFormat?s.format(i,void 0,n,J(J(J({},r),t),{},{interpolationkey:e})):i}var a=e.split(s.formatSeparator),o=a.shift().trim(),u=a.join(s.formatSeparator).trim();return s.format(E(t,l,o),u,n,J(J(J({},r),t),{},{interpolationkey:o}))};this.resetRegExp();var d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?u(s.escape(e)):u(e)}}].forEach((function(t){for(o=0;i=t.regex.exec(e);){var n=i[1].trim();if(void 0===(a=c(n)))if("function"===typeof d){var l=d(e,i,r);a="string"===typeof l?l:""}else if(r&&r.hasOwnProperty(n))a="";else{if(f){a=i[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),a=""}else"string"===typeof a||s.useRawValueToEscape||(a=S(a));var u=t.safeValue(a);if(e=e.replace(i[0],u),f?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++o>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=J({},a);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0],i=(i=this.interpolate(i,o)).replace(/'/g,'"');try{o=JSON.parse(i),t&&(o=J(J({},t),o))}catch(a){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),a),"".concat(e).concat(n).concat(i)}return delete o.defaultValue,e}for(o.applyPostProcessor=!1,delete o.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=c.shift(),l=c,u=!0}if((r=t(s.call(this,n[1].trim(),o),o))&&n[0]===e&&"string"!==typeof r)return r;"string"!==typeof r&&(r=S(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),u&&(r=l.reduce((function(e,t){return i.format(e,t,a.lng,J(J({},a),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),this.logger=y.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,ne(ne({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,ne({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,ne({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,ne({},n)).format(e)}},this.init(t)}return(0,a.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"format",value:function(e,t,n,r){var i=this;return t.split(this.formatSeparator).reduce((function(e,t){var a=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((function(e){if(e){var t=h(e.split(":")),r=t[0],i=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=i),"false"===i&&(n[r.trim()]=!1),"true"===i&&(n[r.trim()]=!0),isNaN(i)||(n[r.trim()]=parseInt(i,10))}}))}return{formatName:t,formatOptions:n}}(t),o=a.formatName,s=a.formatOptions;if(i.formats[o]){var l=e;try{var u=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},c=u.locale||u.lng||r.locale||r.lng||n;l=i.formats[o](e,c,ne(ne(ne({},s),r),u))}catch(d){i.logger.warn(d)}return l}return i.logger.warn("there was no format function for ".concat(o)),e}),e)}}]),e}();function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}var se=function(e){(0,s.Z)(n,e);var t=oe(n);function n(e,r,a){var s,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,i.Z)(this,n),s=t.call(this),A&&b.call((0,o.Z)(s)),s.backend=e,s.store=r,s.services=a,s.languageUtils=a.languageUtils,s.options=l,s.logger=y.create("backendConnector"),s.waitingReads=[],s.maxParallelReads=l.maxParallelReads||10,s.readingCalls=0,s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(a,l.backend,l),s}return(0,a.Z)(n,[{key:"queueLoad",value:function(e,t,n,r){var i=this,a={},o={},s={},l={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?void 0===o[s]&&(o[s]=!0):(i.state[s]=1,r=!1,void 0===o[s]&&(o[s]=!0),void 0===a[s]&&(a[s]=!0),void 0===l[t]&&(l[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],a=r[1];t&&this.emit("failedLoading",i,a,t),n&&this.store.addResourceBundle(i,a,n),this.state[e]=t?-1:2;var o={};this.queue.forEach((function(n){var r,s,l,u,c,d;r=n.loaded,s=a,u=x(r,[i],Object),c=u.obj,d=u.k,c[d]=c[d]||[],l&&(c[d]=c[d].concat(s)),l||c[d].push(s),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){o[e]||(o[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===o[e][t]&&(o[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",o),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,o=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:a,callback:o}):(this.readingCalls++,this.backend[n](e,t,(function(s,l){if(s&&l&&i<5)setTimeout((function(){r.read.call(r,e,t,n,i+1,2*a,o)}),a);else{if(r.readingCalls--,r.waitingReads.length>0){var u=r.waitingReads.shift();r.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}o(s,l)}}))):o(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"===typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"===typeof t&&(t=[t]);var a=this.queueLoad(e,t,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(function(r,o){r&&t.logger.warn("".concat(n,"loading namespace ").concat(a," for language ").concat(i," failed"),r),!r&&o&&t.logger.log("".concat(n,"loaded namespace ").concat(a," for language ").concat(i),o),t.loaded(e,r,o)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):void 0!==n&&null!==n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,ae(ae({},a),{},{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),n}(b);function le(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===r(e[1])&&(t=e[1]),"string"===typeof e[1]&&(t.defaultValue=e[1]),"string"===typeof e[2]&&(t.tDescription=e[2]),"object"===r(e[2])||"object"===r(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ue(e){return"string"===typeof e.ns&&(e.ns=[e.ns]),"string"===typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"===typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function pe(){}function he(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"===typeof e[t]&&(e[t]=e[t].bind(e))}))}var me=function(e){(0,s.Z)(n,e);var t=fe(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if((0,i.Z)(this,n),e=t.call(this),A&&b.call((0,o.Z)(e)),e.options=ue(r),e.services={},e.logger=y,e.modules={external:[]},he((0,o.Z)(e)),a&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,a),l(e,(0,o.Z)(e));setTimeout((function(){e.init(r,a)}),0)}return e}return(0,a.Z)(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"===typeof t&&(n=t,t={}),!t.defaultNS&&t.ns&&("string"===typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=le();function i(e){return e?"function"===typeof e?new e:e:null}if(this.options=de(de(de({},r),this.options),ue(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=de(de({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var a;this.modules.logger?y.init(i(this.modules.logger),this.options):y.init(null,this.options),this.modules.formatter?a=this.modules.formatter:"undefined"!==typeof Intl&&(a=re);var o=new G(this.options);this.store=new j(this.options.resources,this.options);var s=this.services;s.logger=y,s.resourceStore=this.store,s.languageUtils=o,s.pluralResolver=new Y(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!a||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=i(a),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new ee(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new se(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new V(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=pe),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var u=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var c=["addResource","addResources","addResourceBundle","removeResourceBundle"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var d=w(),f=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),d.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),d}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe,r=n,i="string"===typeof e?e:this.language;if("function"===typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var a=[],o=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};if(i)o(i);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return o(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return o(e)})),this.services.backendConnector.load(a,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),r(e)}))}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=w();return e||(e=this.languages),t||(t=this.options.ns),n||(n=pe),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&B.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=w();this.emit("languageChanging",e);var i=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},a=function(a){e||a||!n.services.languageDetector||(a=[]);var o="string"===typeof a?a:n.services.languageUtils.getBestMatchFromCodes(a);o&&(n.language||i(o),n.translator.language||n.translator.changeLanguage(o),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(o)),n.loadResources(o,(function(e){!function(e,a){a?(i(a),n.translator.changeLanguage(a),n.isLanguageChangingTo=void 0,n.emit("languageChanged",a),n.logger.log("languageChanged",a)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,o)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var i=this,a=function e(t,a){var o;if("object"!==r(a)){for(var s=arguments.length,l=new Array(s>2?s-2:0),u=2;u<s;u++)l[u-2]=arguments[u];o=i.options.overloadTranslationOptionHandler([t,a].concat(l))}else o=de({},a);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,o.keyPrefix=o.keyPrefix||n||e.keyPrefix;var c=i.options.keySeparator||".",d=o.keyPrefix?"".concat(o.keyPrefix).concat(c).concat(t):t;return i.t(d,o)};return"string"===typeof e?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=n,a}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var o=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,o);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(r,e)||i&&!o(a,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=w();return this.options.ns?("string"===typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=w();"string"===typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe,i=de(de(de({},this.options),t),{isClone:!0}),a=new n(i),o=["store","services","language"];return o.forEach((function(t){a[t]=e[t]})),a.services=de({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new V(a.services,a.options),a.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e].concat(n))})),a.init(i,r),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(b);(0,c.Z)(me,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new me(e,t)}));var ge=me.createInstance();ge.createInstance=me.createInstance;ge.createInstance,ge.init,ge.loadResources,ge.reloadResources,ge.use,ge.changeLanguage,ge.getFixedT,ge.t,ge.exists,ge.setDefaultNamespace,ge.hasLoadedNamespace,ge.loadNamespaces,ge.loadLanguages;const ve=ge},12902:(e,t,n)=>{"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[Z]}function a(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===K}(e)||Array.isArray(e)||!!e[q]||!!e.constructor[q]||f(e)||p(e))}function o(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:X)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[Z];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:p(e)?3:0}function l(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){return 2===s(e)?e.get(t):e[t]}function c(e,t,n){var r=s(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return V&&e instanceof Map}function p(e){return $&&e instanceof Set}function h(e){return e.o||e.t}function m(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Y(e);delete t[Z];for(var n=X(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function g(e,t){return void 0===t&&(t=!1),y(e)||i(e)||!a(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=v),Object.freeze(e),t&&o(e,(function(e,t){return g(t,!0)}),!0)),e}function v(){r(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=Q[e];return t||r(18,e),t}function w(e,t){Q[e]||(Q[e]=t)}function S(){return H}function _(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function x(e){T(e),e.p.forEach(E),e.p=null}function T(e){e===H&&(H=e.l)}function k(e){return H={p:[],l:H,h:e,m:!0,_:0}}function E(e){var t=e[Z];0===t.i||1===t.i?t.j():t.O=!0}function C(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||b("ES5").S(t,e,i),i?(n[Z].P&&(x(t),r(4)),a(e)&&(e=O(t,e),t.l||I(t,e)),t.u&&b("Patches").M(n[Z].t,e,t.u,t.s)):e=O(t,n,[]),x(t),t.u&&t.v(t.u,t.s),e!==W?e:void 0}function O(e,t,n){if(y(t))return t;var r=t[Z];if(!r)return o(t,(function(i,a){return P(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return I(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=m(r.k):r.o;o(3===r.i?new Set(i):i,(function(t,a){return P(e,r,i,t,a,n)})),I(e,i,!1),n&&e.u&&b("Patches").R(r,n,e.u,e.s)}return r.o}function P(e,t,n,r,o,s){if(i(o)){var u=O(e,o,s&&t&&3!==t.i&&!l(t.D,r)?s.concat(r):void 0);if(c(n,r,u),!i(u))return;e.m=!1}if(a(o)&&!y(o)){if(!e.h.F&&e._<1)return;O(e,o),t&&t.A.l||I(e,o)}}function I(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&g(t,n)}function A(e,t){var n=e[Z];return(n?h(n):e)[t]}function D(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function M(e){e.P||(e.P=!0,e.l&&M(e.l))}function R(e){e.o||(e.o=m(e.t))}function N(e,t,n){var r=f(t)?b("MapSet").N(t,n):p(t)?b("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:S(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=J;n&&(i=[r],a=ee);var o=Proxy.revocable(i,a),s=o.revoke,l=o.proxy;return r.k=l,r.j=s,l}(t,n):b("ES5").J(t,n);return(n?n.A:S()).p.push(r),r}function L(e){return i(e)||r(22,e),function e(t){if(!a(t))return t;var n,r=t[Z],i=s(t);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=j(t,i),r.I=!1}else n=j(t,i);return o(n,(function(t,i){r&&u(r.t,t)===i||c(n,t,e(i))})),3===i?new Set(n):n}(e)}function j(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return m(e)}function B(){function e(e,t){var n=a[e];return n?n.enumerable=t:a[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Z];return J.get(t,e)},set:function(t){var n=this[Z];J.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Z];if(!i.P)switch(i.i){case 5:r(i)&&M(i);break;case 4:n(i)&&M(i)}}}function n(e){for(var t=e.t,n=e.k,r=X(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==Z){var o=t[a];if(void 0===o&&!l(t,a))return!0;var s=n[a],u=s&&s[Z];if(u?u.t!==o:!d(s,o))return!0}}var c=!!t[Z];return r.length!==X(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var a={};w("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=Y(n);delete a[Z];for(var o=X(a),s=0;s<o.length;s++){var l=o[s];a[l]=e(l,t||!!a[l].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:S(),P:!1,I:!1,D:{},l:n,t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Z,{value:a,writable:!0}),i},S:function(e,n,a){a?i(n)&&n[Z].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Z];if(n){var i=n.t,a=n.k,s=n.D,u=n.i;if(4===u)o(a,(function(t){t!==Z&&(void 0!==i[t]||l(i,t)?s[t]||e(a[t]):(s[t]=!0,M(n)))})),o(i,(function(e){void 0!==a[e]||l(a,e)||(s[e]=!1,M(n))}));else if(5===u){if(r(n)&&(M(n),s.length=!0),a.length<i.length)for(var c=a.length;c<i.length;c++)s[c]=!1;else for(var d=i.length;d<a.length;d++)s[d]=!0;for(var f=Math.min(a.length,i.length),p=0;p<f;p++)a.hasOwnProperty(p)||(s[p]=!0),void 0===s[p]&&e(a[p])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}function F(){function e(t){if(!a(t))return t;if(Array.isArray(t))return t.map(e);if(f(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(p(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return l(t,q)&&(n[q]=t[q]),n}function t(t){return i(t)?e(t):t}var n="add";w("Patches",{$:function(t,i){return i.forEach((function(i){for(var a=i.path,o=i.op,l=t,c=0;c<a.length-1;c++){var d=s(l),f=""+a[c];0!==d&&1!==d||"__proto__"!==f&&"constructor"!==f||r(24),"function"==typeof l&&"prototype"===f&&r(24),"object"!=typeof(l=u(l,f))&&r(15,a.join("/"))}var p=s(l),h=e(i.value),m=a[a.length-1];switch(o){case"replace":switch(p){case 2:return l.set(m,h);case 3:r(16);default:return l[m]=h}case n:switch(p){case 1:return"-"===m?l.push(h):l.splice(m,0,h);case 2:return l.set(m,h);case 3:return l.add(h);default:return l[m]=h}case"remove":switch(p){case 1:return l.splice(m,1);case 2:return l.delete(m);case 3:return l.delete(i.value);default:return delete l[m]}default:r(17,o)}})),t},R:function(e,r,i,a){switch(e.i){case 0:case 4:case 2:return function(e,r,i,a){var s=e.t,c=e.o;o(e.D,(function(e,o){var d=u(s,e),f=u(c,e),p=o?l(s,e)?"replace":n:"remove";if(d!==f||"replace"!==p){var h=r.concat(e);i.push("remove"===p?{op:p,path:h}:{op:p,path:h,value:f}),a.push(p===n?{op:"remove",path:h}:"remove"===p?{op:n,path:h,value:t(d)}:{op:"replace",path:h,value:t(d)})}}))}(e,r,i,a);case 5:case 1:return function(e,r,i,a){var o=e.t,s=e.D,l=e.o;if(l.length<o.length){var u=[l,o];o=u[0],l=u[1];var c=[a,i];i=c[0],a=c[1]}for(var d=0;d<o.length;d++)if(s[d]&&l[d]!==o[d]){var f=r.concat([d]);i.push({op:"replace",path:f,value:t(l[d])}),a.push({op:"replace",path:f,value:t(o[d])})}for(var p=o.length;p<l.length;p++){var h=r.concat([p]);i.push({op:n,path:h,value:t(l[p])})}o.length<l.length&&a.push({op:"replace",path:r.concat(["length"]),value:o.length})}(e,r,i,a);case 3:return function(e,t,r,i){var a=e.t,o=e.o,s=0;a.forEach((function(e){if(!o.has(e)){var a=t.concat([s]);r.push({op:"remove",path:a,value:e}),i.unshift({op:n,path:a,value:e})}s++})),s=0,o.forEach((function(e){if(!a.has(e)){var o=t.concat([s]);r.push({op:n,path:o,value:e}),i.unshift({op:"remove",path:o,value:e})}s++}))}(e,r,i,a)}},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t===W?void 0:t}),r.push({op:"replace",path:[],value:e})}})}n.d(t,{QE:()=>ae,Vk:()=>L,ZP:()=>oe,aS:()=>ie,mv:()=>i,o$:()=>a,pV:()=>B,vI:()=>F});var U,H,z="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),V="undefined"!=typeof Map,$="undefined"!=typeof Set,G="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,W=z?Symbol.for("immer-nothing"):((U={})["immer-nothing"]=!0,U),q=z?Symbol.for("immer-draftable"):"__$immer_draftable",Z=z?Symbol.for("immer-state"):"__$immer_state",K=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),X="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Y=Object.getOwnPropertyDescriptors||function(e){var t={};return X(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Q={},J={get:function(e,t){if(t===Z)return e;var n=h(e);if(!l(n,t))return function(e,t,n){var r,i=D(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!a(r)?r:r===A(e.t,t)?(R(e),e.o[t]=N(e.A.h,r,e)):r},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,n){var r=D(h(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=A(h(e),t),a=null==i?void 0:i[Z];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(d(n,i)&&(void 0!==n||l(e.t,t)))return!0;R(e),M(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==A(e.t,t)||t in e.t?(e.D[t]=!1,R(e),M(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=h(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},ee={};o(J,(function(e,t){ee[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ee.deleteProperty=function(e,t){return ee.set.call(this,e,t,void 0)},ee.set=function(e,t,n){return J.set.call(this,e[0],t,n,e[0])};var te=function(){function e(e){var t=this;this.g=G,this.F=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var l;if("function"!=typeof n&&r(6),void 0!==i&&"function"!=typeof i&&r(7),a(e)){var u=k(t),c=N(t,e,void 0),d=!0;try{l=n(c),d=!1}finally{d?x(u):T(u)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(e){return _(u,i),C(e,u)}),(function(e){throw x(u),e})):(_(u,i),C(l,u))}if(!e||"object"!=typeof e){if(void 0===(l=n(e))&&(l=e),l===W&&(l=void 0),t.F&&g(l,!0),i){var f=[],p=[];b("Patches").M(e,l,f,p),i(f,p)}return l}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){a(e)||r(8),i(e)&&(e=L(e));var t=k(this),n=N(this,e,void 0);return n[Z].C=!0,T(t),n},t.finishDraft=function(e,t){var n=(e&&e[Z]).A;return _(n,t),C(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!G&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var a=b("Patches").$;return i(e)?a(e,t):this.produce(e,(function(e){return a(e,t)}))},e}(),ne=new te,re=ne.produce,ie=ne.produceWithPatches.bind(ne),ae=(ne.setAutoFreeze.bind(ne),ne.setUseProxies.bind(ne),ne.applyPatches.bind(ne));ne.createDraft.bind(ne),ne.finishDraft.bind(ne);const oe=re},95591:(e,t,n)=>{"use strict";function r(e,t){return t.forEach((function(t){t&&"string"!==typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}n.d(t,{Ai:()=>$a,E8:()=>ii,Ix:()=>oi,OM:()=>zr,QK:()=>Wa,Ri:()=>$r,SF:()=>Ke,TQ:()=>Nn,W4:()=>Qe,WO:()=>et,ZV:()=>Gr,_A:()=>ai,du:()=>Va,fQ:()=>wr,gJ:()=>Ga});var i,a,o,s,l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={exports:{}};a=l,o=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?a:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):e)}function s(t,n){for(var i=0;i<r.length;i++){var a=r[i];this[a]=i<t?e:this.methodFactory(a,t,n)}this.log=this.debug}function l(e,n,r){return function(){typeof console!==t&&(s.call(this,n,r),this[e].apply(this,arguments))}}function u(e,t,n){return o(e)||l.apply(this,arguments)}function c(e,n,i){var a,o=this;n=null==n?"WARN":n;var l="loglevel";function c(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(i){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(l)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(i){}return void 0===o.levels[e]&&(e=void 0),e}}"string"===typeof e?l+=":"+e:"symbol"===typeof e&&(l=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=i||u,o.getLevel=function(){return a},o.setLevel=function(n,i){if("string"===typeof n&&void 0!==o.levels[n.toUpperCase()]&&(n=o.levels[n.toUpperCase()]),!("number"===typeof n&&n>=0&&n<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(a=n,!1!==i&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=n)}catch(i){}try{window.document.cookie=encodeURIComponent(l)+"="+n+";"}catch(i){}}}(n),s.call(o,n,e),typeof console===t&&n<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){n=e,c()||o.setLevel(e,!1)},o.resetLevel=function(){o.setLevel(n,!1),function(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var d=c();null==d&&(d=n),o.setLevel(d,!1)}var d=new c,f={};d.getLogger=function(e){if("symbol"!==typeof e&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new c(e,d.getLevel(),d.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return d.noConflict=function(){return typeof window!==t&&window.log===d&&(window.log=p),d},d.getLoggers=function(){return f},d.default=d,d},(i=u).exports?i.exports=o():a.log=o(),function(e){e[e.trace=0]="trace",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.silent=5]="silent"}(s||(s={}));const c=u.exports.getLogger("livekit");c.setLevel(s.info);var d=p,f=null;try{f=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(qa){}function p(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function h(e){return!0===(e&&e.__isLong__)}p.prototype.__isLong__,Object.defineProperty(p.prototype,"__isLong__",{value:!0}),p.isLong=h;var m={},g={};function v(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=g[e])?r:(n=b(e,(0|e)<0?-1:0,!0),i&&(g[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=m[e])?r:(n=b(e,e<0?-1:0,!1),i&&(m[e]=n),n)}function y(e,t){if(isNaN(e))return t?O:C;if(t){if(e<0)return O;if(e>=T)return M}else{if(e<=-k)return R;if(e+1>=k)return D}return e<0?y(-e,t).neg():b(e%x|0,e/x|0,t)}function b(e,t,n){return new p(e,t,n)}p.fromInt=v,p.fromNumber=y,p.fromBits=b;var w=Math.pow;function S(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return C;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return S(e.substring(1),t,n).neg();for(var i=y(w(n,8)),a=C,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),l=parseInt(e.substring(o,o+s),n);if(s<8){var u=y(w(n,s));a=a.mul(u).add(y(l))}else a=(a=a.mul(i)).add(y(l))}return a.unsigned=t,a}function _(e,t){return"number"===typeof e?y(e,t):"string"===typeof e?S(e,t):b(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}p.fromString=S,p.fromValue=_;var x=4294967296,T=x*x,k=T/2,E=v(1<<24),C=v(0);p.ZERO=C;var O=v(0,!0);p.UZERO=O;var P=v(1);p.ONE=P;var I=v(1,!0);p.UONE=I;var A=v(-1);p.NEG_ONE=A;var D=b(-1,2147483647,!1);p.MAX_VALUE=D;var M=b(-1,-1,!0);p.MAX_UNSIGNED_VALUE=M;var R=b(0,-2147483648,!1);p.MIN_VALUE=R;var N=p.prototype;N.toInt=function(){return this.unsigned?this.low>>>0:this.low},N.toNumber=function(){return this.unsigned?(this.high>>>0)*x+(this.low>>>0):this.high*x+(this.low>>>0)},N.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(R)){var t=y(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=y(w(e,6),this.unsigned),a=this,o="";;){var s=a.div(i),l=(a.sub(s.mul(i)).toInt()>>>0).toString(e);if((a=s).isZero())return l+o;for(;l.length<6;)l="0"+l;o=""+l+o}},N.getHighBits=function(){return this.high},N.getHighBitsUnsigned=function(){return this.high>>>0},N.getLowBits=function(){return this.low},N.getLowBitsUnsigned=function(){return this.low>>>0},N.getNumBitsAbs=function(){if(this.isNegative())return this.eq(R)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},N.isZero=function(){return 0===this.high&&0===this.low},N.eqz=N.isZero,N.isNegative=function(){return!this.unsigned&&this.high<0},N.isPositive=function(){return this.unsigned||this.high>=0},N.isOdd=function(){return 1===(1&this.low)},N.isEven=function(){return 0===(1&this.low)},N.equals=function(e){return h(e)||(e=_(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},N.eq=N.equals,N.notEquals=function(e){return!this.eq(e)},N.neq=N.notEquals,N.ne=N.notEquals,N.lessThan=function(e){return this.comp(e)<0},N.lt=N.lessThan,N.lessThanOrEqual=function(e){return this.comp(e)<=0},N.lte=N.lessThanOrEqual,N.le=N.lessThanOrEqual,N.greaterThan=function(e){return this.comp(e)>0},N.gt=N.greaterThan,N.greaterThanOrEqual=function(e){return this.comp(e)>=0},N.gte=N.greaterThanOrEqual,N.ge=N.greaterThanOrEqual,N.compare=function(e){if(h(e)||(e=_(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},N.comp=N.compare,N.negate=function(){return!this.unsigned&&this.eq(R)?R:this.not().add(P)},N.neg=N.negate,N.add=function(e){h(e)||(e=_(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,a=e.high>>>16,o=65535&e.high,s=e.low>>>16,l=0,u=0,c=0,d=0;return c+=(d+=i+(65535&e.low))>>>16,u+=(c+=r+s)>>>16,l+=(u+=n+o)>>>16,l+=t+a,b((c&=65535)<<16|(d&=65535),(l&=65535)<<16|(u&=65535),this.unsigned)},N.subtract=function(e){return h(e)||(e=_(e)),this.add(e.neg())},N.sub=N.subtract,N.multiply=function(e){if(this.isZero())return C;if(h(e)||(e=_(e)),f)return b(f.mul(this.low,this.high,e.low,e.high),f.get_high(),this.unsigned);if(e.isZero())return C;if(this.eq(R))return e.isOdd()?R:C;if(e.eq(R))return this.isOdd()?R:C;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(E)&&e.lt(E))return y(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,a=e.high>>>16,o=65535&e.high,s=e.low>>>16,l=65535&e.low,u=0,c=0,d=0,p=0;return d+=(p+=i*l)>>>16,c+=(d+=r*l)>>>16,d&=65535,c+=(d+=i*s)>>>16,u+=(c+=n*l)>>>16,c&=65535,u+=(c+=r*s)>>>16,c&=65535,u+=(c+=i*o)>>>16,u+=t*l+n*s+r*o+i*a,b((d&=65535)<<16|(p&=65535),(u&=65535)<<16|(c&=65535),this.unsigned)},N.mul=N.multiply,N.divide=function(e){if(h(e)||(e=_(e)),e.isZero())throw Error("division by zero");var t,n,r;if(f)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?b((this.unsigned?f.div_u:f.div_s)(this.low,this.high,e.low,e.high),f.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?O:C;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return O;if(e.gt(this.shru(1)))return I;r=O}else{if(this.eq(R))return e.eq(P)||e.eq(A)?R:e.eq(R)?P:(t=this.shr(1).div(e).shl(1)).eq(C)?e.isNegative()?P:A:(n=this.sub(e.mul(t)),r=t.add(n.div(e)));if(e.eq(R))return this.unsigned?O:C;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=C}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(t)/Math.LN2),a=i<=48?1:w(2,i-48),o=y(t),s=o.mul(e);s.isNegative()||s.gt(n);)s=(o=y(t-=a,this.unsigned)).mul(e);o.isZero()&&(o=P),r=r.add(o),n=n.sub(s)}return r},N.div=N.divide,N.modulo=function(e){return h(e)||(e=_(e)),f?b((this.unsigned?f.rem_u:f.rem_s)(this.low,this.high,e.low,e.high),f.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},N.mod=N.modulo,N.rem=N.modulo,N.not=function(){return b(~this.low,~this.high,this.unsigned)},N.and=function(e){return h(e)||(e=_(e)),b(this.low&e.low,this.high&e.high,this.unsigned)},N.or=function(e){return h(e)||(e=_(e)),b(this.low|e.low,this.high|e.high,this.unsigned)},N.xor=function(e){return h(e)||(e=_(e)),b(this.low^e.low,this.high^e.high,this.unsigned)},N.shiftLeft=function(e){return h(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?b(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):b(0,this.low<<e-32,this.unsigned)},N.shl=N.shiftLeft,N.shiftRight=function(e){return h(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?b(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):b(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},N.shr=N.shiftRight,N.shiftRightUnsigned=function(e){if(h(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?b(this.low>>>e|t<<32-e,t>>>e,this.unsigned):b(32===e?t:t>>>e-32,0,this.unsigned)},N.shru=N.shiftRightUnsigned,N.shr_u=N.shiftRightUnsigned,N.toSigned=function(){return this.unsigned?b(this.low,this.high,!1):this},N.toUnsigned=function(){return this.unsigned?this:b(this.low,this.high,!0)},N.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},N.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},N.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},p.fromBytes=function(e,t,n){return n?p.fromBytesLE(e,t):p.fromBytesBE(e,t)},p.fromBytesLE=function(e,t){return new p(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},p.fromBytesBE=function(e,t){return new p(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var L={},j={},B=function(e,t){var n=new Array(arguments.length-1),r=0,i=2,a=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,o){n[r]=function(e){if(a)if(a=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(s){a&&(a=!1,o(s))}}))};var F={};!function(e){var t=e;t.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var n=new Array(64),r=new Array(123),i=0;i<64;)r[n[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;t.encode=function(e,t,r){for(var i,a=null,o=[],s=0,l=0;t<r;){var u=e[t++];switch(l){case 0:o[s++]=n[u>>2],i=(3&u)<<4,l=1;break;case 1:o[s++]=n[i|u>>4],i=(15&u)<<2,l=2;break;case 2:o[s++]=n[i|u>>6],o[s++]=n[63&u],l=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0)}return l&&(o[s++]=n[i],o[s++]=61,1===l&&(o[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var a="invalid encoding";t.decode=function(e,t,n){for(var i,o=n,s=0,l=0;l<e.length;){var u=e.charCodeAt(l++);if(61===u&&s>1)break;if(void 0===(u=r[u]))throw Error(a);switch(s){case 0:i=u,s=1;break;case 1:t[n++]=i<<2|(48&u)>>4,i=u,s=2;break;case 2:t[n++]=(15&i)<<4|(60&u)>>2,i=u,s=3;break;case 3:t[n++]=(3&i)<<6|u,s=0}}if(1===s)throw Error(a);return n-o},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}(F);var U=H;function H(){this._listeners={}}H.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},H.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},H.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this};var z=V(V);function V(e){return"undefined"!==typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function a(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:a,e.writeFloatBE=r?a:i,e.readFloatLE=r?o:s,e.readFloatBE=r?s:o}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var a=Math.floor(Math.log(t)/Math.LN2);e((i<<31|a+127<<23|8388607&Math.round(t*Math.pow(2,-a)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,a=r>>>23&255,o=8388607&r;return 255===a?o?NaN:i*(1/0):0===a?1401298464324817e-60*i*o:i*Math.pow(2,a-150)*(o+8388608)}e.writeFloatLE=t.bind(null,$),e.writeFloatBE=t.bind(null,G),e.readFloatLE=n.bind(null,W),e.readFloatBE=n.bind(null,q)}(),"undefined"!==typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function a(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:a,e.writeDoubleBE=r?a:i,e.readDoubleLE=r?o:s,e.readDoubleBE=r?s:o}():function(){function t(e,t,n,r,i,a){var o=r<0?1:0;if(o&&(r=-r),0===r)e(0,i,a+t),e(1/r>0?0:2147483648,i,a+n);else if(isNaN(r))e(0,i,a+t),e(2146959360,i,a+n);else if(r>17976931348623157e292)e(0,i,a+t),e((o<<31|2146435072)>>>0,i,a+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,a+t),e((o<<31|s/4294967296)>>>0,i,a+n);else{var l=Math.floor(Math.log(r)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(s=r*Math.pow(2,-l))>>>0,i,a+t),e((o<<31|l+1023<<20|1048576*s&1048575)>>>0,i,a+n)}}}function n(e,t,n,r,i){var a=e(r,i+t),o=e(r,i+n),s=2*(o>>31)+1,l=o>>>20&2047,u=4294967296*(1048575&o)+a;return 2047===l?u?NaN:s*(1/0):0===l?5e-324*s*u:s*Math.pow(2,l-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,$,0,4),e.writeDoubleBE=t.bind(null,G,4,0),e.readDoubleLE=n.bind(null,W,0,4),e.readDoubleBE=n.bind(null,q,4,0)}(),e}function $(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function G(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function W(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function q(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}var Z=function(e){try{var t=void 0;t}catch(qa){}return null};var K={};!function(e){var t=e;t.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296===(64512&n)&&56320===(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},t.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,a=[],o=0;t<n;)(r=e[t++])<128?a[o++]=r:r>191&&r<224?a[o++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[o++]=55296+(r>>10),a[o++]=56320+(1023&r)):a[o++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,a.slice(0,o))),i.join("")):String.fromCharCode.apply(String,a.slice(0,o))},t.write=function(e,t,n){for(var r,i,a=n,o=0;o<e.length;++o)(r=e.charCodeAt(o))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&56320===(64512&(i=e.charCodeAt(o+1)))?(r=65536+((1023&r)<<10)+(1023&i),++o,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-a}}(K);var X=function(e,t,n){var r=n||8192,i=r>>>1,a=null,o=r;return function(n){if(n<1||n>i)return e(n);o+n>r&&(a=e(r),o=0);var s=t.call(a,o,o+=n);return 7&o&&(o=1+(7|o)),s}};var Y=J,Q=j;function J(e,t){this.lo=e>>>0,this.hi=t>>>0}var ee=J.zero=new J(0,0);ee.toNumber=function(){return 0},ee.zzEncode=ee.zzDecode=function(){return this},ee.length=function(){return 1};var te=J.zeroHash="\0\0\0\0\0\0\0\0";J.fromNumber=function(e){if(0===e)return ee;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new J(n,r)},J.from=function(e){if("number"===typeof e)return J.fromNumber(e);if(Q.isString(e)){if(!Q.Long)return J.fromNumber(parseInt(e,10));e=Q.Long.fromString(e)}return e.low||e.high?new J(e.low>>>0,e.high>>>0):ee},J.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},J.prototype.toLong=function(e){return Q.Long?new Q.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var ne=String.prototype.charCodeAt;J.fromHash=function(e){return e===te?ee:new J((ne.call(e,0)|ne.call(e,1)<<8|ne.call(e,2)<<16|ne.call(e,3)<<24)>>>0,(ne.call(e,4)|ne.call(e,5)<<8|ne.call(e,6)<<16|ne.call(e,7)<<24)>>>0)},J.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},J.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},J.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},J.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10},function(e){var t=e;function n(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function r(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&n(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}t.asPromise=B,t.base64=F,t.EventEmitter=U,t.float=z,t.inquire=Z,t.utf8=K,t.pool=X,t.LongBits=Y,t.isNode=Boolean("undefined"!==typeof l&&l&&l.process&&l.process.versions&&l.process.versions.node),t.global=t.isNode&&l||"undefined"!==typeof window&&window||"undefined"!==typeof self&&self||l,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"===typeof e||e instanceof String},t.isObject=function(e){return e&&"object"===typeof e},t.isset=t.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!==typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(qa){return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"===typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):"undefined"===typeof Uint8Array?e:new Uint8Array(e)},t.Array="undefined"!==typeof Uint8Array?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,n){var r=t.LongBits.fromHash(e);return t.Long?t.Long.fromBits(r.lo,r.hi,n):r.toNumber(Boolean(n))},t.merge=n,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=r,t.ProtocolError=r("ProtocolError"),t.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},t.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}}(j);var re,ie=fe,ae=j,oe=ae.LongBits,se=ae.base64,le=ae.utf8;function ue(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function ce(){}function de(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function fe(){this.len=0,this.head=new ue(ce,0,0),this.tail=this.head,this.states=null}var pe=function(){return ae.Buffer?function(){return(fe.create=function(){return new re})()}:function(){return new fe}};function he(e,t,n){t[n]=255&e}function me(e,t){this.len=e,this.next=void 0,this.val=t}function ge(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function ve(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}fe.create=pe(),fe.alloc=function(e){return new ae.Array(e)},ae.Array!==Array&&(fe.alloc=ae.pool(fe.alloc,ae.Array.prototype.subarray)),fe.prototype._push=function(e,t,n){return this.tail=this.tail.next=new ue(e,t,n),this.len+=t,this},me.prototype=Object.create(ue.prototype),me.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},fe.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new me((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},fe.prototype.int32=function(e){return e<0?this._push(ge,10,oe.fromNumber(e)):this.uint32(e)},fe.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},fe.prototype.uint64=function(e){var t=oe.from(e);return this._push(ge,t.length(),t)},fe.prototype.int64=fe.prototype.uint64,fe.prototype.sint64=function(e){var t=oe.from(e).zzEncode();return this._push(ge,t.length(),t)},fe.prototype.bool=function(e){return this._push(he,1,e?1:0)},fe.prototype.fixed32=function(e){return this._push(ve,4,e>>>0)},fe.prototype.sfixed32=fe.prototype.fixed32,fe.prototype.fixed64=function(e){var t=oe.from(e);return this._push(ve,4,t.lo)._push(ve,4,t.hi)},fe.prototype.sfixed64=fe.prototype.fixed64,fe.prototype.float=function(e){return this._push(ae.float.writeFloatLE,4,e)},fe.prototype.double=function(e){return this._push(ae.float.writeDoubleLE,8,e)};var ye=ae.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};fe.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(he,1,0);if(ae.isString(e)){var n=fe.alloc(t=se.length(e));se.decode(e,n,0),e=n}return this.uint32(t)._push(ye,t,e)},fe.prototype.string=function(e){var t=le.length(e);return t?this.uint32(t)._push(le.write,t,e):this._push(he,1,0)},fe.prototype.fork=function(){return this.states=new de(this),this.head=this.tail=new ue(ce,0,0),this.len=0,this},fe.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new ue(ce,0,0),this.len=0),this},fe.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},fe.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},fe._configure=function(e){re=e,fe.create=pe(),re._configure()};var be=_e,we=ie;(_e.prototype=Object.create(we.prototype)).constructor=_e;var Se=j;function _e(){we.call(this)}function xe(e,t,n){e.length<40?Se.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}_e._configure=function(){_e.alloc=Se._Buffer_allocUnsafe,_e.writeBytesBuffer=Se.Buffer&&Se.Buffer.prototype instanceof Uint8Array&&"set"===Se.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},_e.prototype.bytes=function(e){Se.isString(e)&&(e=Se._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(_e.writeBytesBuffer,t,e),this},_e.prototype.string=function(e){var t=Se.Buffer.byteLength(e);return this.uint32(t),t&&this._push(xe,t,e),this},_e._configure();var Te,ke=Ie,Ee=j,Ce=Ee.LongBits,Oe=Ee.utf8;function Pe(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Ie(e){this.buf=e,this.pos=0,this.len=e.length}var Ae,De="undefined"!==typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Ie(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Ie(e);throw Error("illegal buffer")},Me=function(){return Ee.Buffer?function(e){return(Ie.create=function(e){return Ee.Buffer.isBuffer(e)?new Te(e):De(e)})(e)}:De};function Re(){var e=new Ce(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw Pe(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw Pe(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function Ne(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function Le(){if(this.pos+8>this.len)throw Pe(this,8);return new Ce(Ne(this.buf,this.pos+=4),Ne(this.buf,this.pos+=4))}Ie.create=Me(),Ie.prototype._slice=Ee.Array.prototype.subarray||Ee.Array.prototype.slice,Ie.prototype.uint32=(Ae=4294967295,function(){if(Ae=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return Ae;if(Ae=(Ae|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return Ae;if(Ae=(Ae|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return Ae;if(Ae=(Ae|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return Ae;if(Ae=(Ae|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return Ae;if((this.pos+=5)>this.len)throw this.pos=this.len,Pe(this,10);return Ae}),Ie.prototype.int32=function(){return 0|this.uint32()},Ie.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},Ie.prototype.bool=function(){return 0!==this.uint32()},Ie.prototype.fixed32=function(){if(this.pos+4>this.len)throw Pe(this,4);return Ne(this.buf,this.pos+=4)},Ie.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Pe(this,4);return 0|Ne(this.buf,this.pos+=4)},Ie.prototype.float=function(){if(this.pos+4>this.len)throw Pe(this,4);var e=Ee.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},Ie.prototype.double=function(){if(this.pos+8>this.len)throw Pe(this,4);var e=Ee.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},Ie.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw Pe(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},Ie.prototype.string=function(){var e=this.bytes();return Oe.read(e,0,e.length)},Ie.prototype.skip=function(e){if("number"===typeof e){if(this.pos+e>this.len)throw Pe(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw Pe(this)}while(128&this.buf[this.pos++]);return this},Ie.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!==(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},Ie._configure=function(e){Te=e,Ie.create=Me(),Te._configure();var t=Ee.Long?"toLong":"toNumber";Ee.merge(Ie.prototype,{int64:function(){return Re.call(this)[t](!1)},uint64:function(){return Re.call(this)[t](!0)},sint64:function(){return Re.call(this).zzDecode()[t](!1)},fixed64:function(){return Le.call(this)[t](!0)},sfixed64:function(){return Le.call(this)[t](!1)}})};var je=Ue,Be=ke;(Ue.prototype=Object.create(Be.prototype)).constructor=Ue;var Fe=j;function Ue(e){Be.call(this,e)}Ue._configure=function(){Fe.Buffer&&(Ue.prototype._slice=Fe.Buffer.prototype.slice)},Ue.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},Ue._configure();var He,ze={},Ve=Ge,$e=j;function Ge(e,t,n){if("function"!==typeof e)throw TypeError("rpcImpl must be a function");$e.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(Ge.prototype=Object.create($e.EventEmitter.prototype)).constructor=Ge,Ge.prototype.rpcCall=function e(t,n,r,i,a){if(!i)throw TypeError("request must be specified");var o=this;if(!a)return $e.asPromise(e,o,t,n,r,i);if(o.rpcImpl)try{return o.rpcImpl(t,n[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,n){if(e)return o.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof r))try{n=r[o.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return o.emit("error",e,t),a(e)}return o.emit("data",n,t),a(null,n)}o.end(!0)}))}catch(s){return o.emit("error",s,t),void setTimeout((function(){a(s)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},Ge.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},He=ze,He.Service=Ve;var We={};!function(e){var t=e;function n(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}t.build="minimal",t.Writer=ie,t.BufferWriter=be,t.Reader=ke,t.BufferReader=je,t.util=j,t.rpc=ze,t.roots=We,t.configure=n,n()}(L);var qe,Ze,Ke,Xe,Ye,Qe,Je,et,tt,nt=L,rt=(()=>{if("undefined"!==typeof rt)return rt;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw"Unable to locate global object"})();function it(e){switch(e){case 0:case"AUDIO":return qe.AUDIO;case 1:case"VIDEO":return qe.VIDEO;case 2:case"DATA":return qe.DATA;default:return qe.UNRECOGNIZED}}function at(e){switch(e){case qe.AUDIO:return"AUDIO";case qe.VIDEO:return"VIDEO";case qe.DATA:return"DATA";default:return"UNKNOWN"}}function ot(e){switch(e){case 0:case"UNKNOWN":return Ze.UNKNOWN;case 1:case"CAMERA":return Ze.CAMERA;case 2:case"MICROPHONE":return Ze.MICROPHONE;case 3:case"SCREEN_SHARE":return Ze.SCREEN_SHARE;case 4:case"SCREEN_SHARE_AUDIO":return Ze.SCREEN_SHARE_AUDIO;default:return Ze.UNRECOGNIZED}}function st(e){switch(e){case Ze.UNKNOWN:return"UNKNOWN";case Ze.CAMERA:return"CAMERA";case Ze.MICROPHONE:return"MICROPHONE";case Ze.SCREEN_SHARE:return"SCREEN_SHARE";case Ze.SCREEN_SHARE_AUDIO:return"SCREEN_SHARE_AUDIO";default:return"UNKNOWN"}}function lt(e){switch(e){case 0:case"LOW":return Ke.LOW;case 1:case"MEDIUM":return Ke.MEDIUM;case 2:case"HIGH":return Ke.HIGH;case 3:case"OFF":return Ke.OFF;default:return Ke.UNRECOGNIZED}}function ut(e){switch(e){case Ke.LOW:return"LOW";case Ke.MEDIUM:return"MEDIUM";case Ke.HIGH:return"HIGH";case Ke.OFF:return"OFF";default:return"UNKNOWN"}}function ct(e){switch(e){case 0:case"POOR":return Xe.POOR;case 1:case"GOOD":return Xe.GOOD;case 2:case"EXCELLENT":return Xe.EXCELLENT;default:return Xe.UNRECOGNIZED}}function dt(e){switch(e){case 0:case"UNSET":return Ye.UNSET;case 1:case"DISABLED":return Ye.DISABLED;case 2:case"ENABLED":return Ye.ENABLED;default:return Ye.UNRECOGNIZED}}function ft(e){switch(e){case Ye.UNSET:return"UNSET";case Ye.DISABLED:return"DISABLED";case Ye.ENABLED:return"ENABLED";default:return"UNKNOWN"}}function pt(e){switch(e){case 0:case"UNKNOWN_REASON":return Qe.UNKNOWN_REASON;case 1:case"CLIENT_INITIATED":return Qe.CLIENT_INITIATED;case 2:case"DUPLICATE_IDENTITY":return Qe.DUPLICATE_IDENTITY;case 3:case"SERVER_SHUTDOWN":return Qe.SERVER_SHUTDOWN;case 4:case"PARTICIPANT_REMOVED":return Qe.PARTICIPANT_REMOVED;case 5:case"ROOM_DELETED":return Qe.ROOM_DELETED;case 6:case"STATE_MISMATCH":return Qe.STATE_MISMATCH;default:return Qe.UNRECOGNIZED}}function ht(e){switch(e){case 0:case"JOINING":return Je.JOINING;case 1:case"JOINED":return Je.JOINED;case 2:case"ACTIVE":return Je.ACTIVE;case 3:case"DISCONNECTED":return Je.DISCONNECTED;default:return Je.UNRECOGNIZED}}function mt(e){switch(e){case 0:case"RELIABLE":return et.RELIABLE;case 1:case"LOSSY":return et.LOSSY;default:return et.UNRECOGNIZED}}function gt(e){switch(e){case 0:case"UNKNOWN":return tt.UNKNOWN;case 1:case"JS":return tt.JS;case 2:case"SWIFT":return tt.SWIFT;case 3:case"ANDROID":return tt.ANDROID;case 4:case"FLUTTER":return tt.FLUTTER;case 5:case"GO":return tt.GO;case 6:case"UNITY":return tt.UNITY;default:return tt.UNRECOGNIZED}}nt.util.Long!==d&&(nt.util.Long=d,nt.configure()),function(e){e[e.AUDIO=0]="AUDIO",e[e.VIDEO=1]="VIDEO",e[e.DATA=2]="DATA",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(qe||(qe={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CAMERA=1]="CAMERA",e[e.MICROPHONE=2]="MICROPHONE",e[e.SCREEN_SHARE=3]="SCREEN_SHARE",e[e.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Ze||(Ze={})),function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH",e[e.OFF=3]="OFF",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Ke||(Ke={})),function(e){e[e.POOR=0]="POOR",e[e.GOOD=1]="GOOD",e[e.EXCELLENT=2]="EXCELLENT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Xe||(Xe={})),function(e){e[e.UNSET=0]="UNSET",e[e.DISABLED=1]="DISABLED",e[e.ENABLED=2]="ENABLED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Ye||(Ye={})),function(e){e[e.UNKNOWN_REASON=0]="UNKNOWN_REASON",e[e.CLIENT_INITIATED=1]="CLIENT_INITIATED",e[e.DUPLICATE_IDENTITY=2]="DUPLICATE_IDENTITY",e[e.SERVER_SHUTDOWN=3]="SERVER_SHUTDOWN",e[e.PARTICIPANT_REMOVED=4]="PARTICIPANT_REMOVED",e[e.ROOM_DELETED=5]="ROOM_DELETED",e[e.STATE_MISMATCH=6]="STATE_MISMATCH",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Qe||(Qe={})),function(e){e[e.JOINING=0]="JOINING",e[e.JOINED=1]="JOINED",e[e.ACTIVE=2]="ACTIVE",e[e.DISCONNECTED=3]="DISCONNECTED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Je||(Je={})),function(e){e[e.RELIABLE=0]="RELIABLE",e[e.LOSSY=1]="LOSSY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(et||(et={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JS=1]="JS",e[e.SWIFT=2]="SWIFT",e[e.ANDROID=3]="ANDROID",e[e.FLUTTER=4]="FLUTTER",e[e.GO=5]="GO",e[e.UNITY=6]="UNITY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(tt||(tt={}));const vt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();""!==e.sid&&t.uint32(10).string(e.sid),""!==e.name&&t.uint32(18).string(e.name),0!==e.emptyTimeout&&t.uint32(24).uint32(e.emptyTimeout),0!==e.maxParticipants&&t.uint32(32).uint32(e.maxParticipants),0!==e.creationTime&&t.uint32(40).int64(e.creationTime),""!==e.turnPassword&&t.uint32(50).string(e.turnPassword);for(const n of e.enabledCodecs)yt.encode(n,t.uint32(58).fork()).ldelim();return""!==e.metadata&&t.uint32(66).string(e.metadata),0!==e.numParticipants&&t.uint32(72).uint32(e.numParticipants),!0===e.activeRecording&&t.uint32(80).bool(e.activeRecording),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={sid:"",name:"",emptyTimeout:0,maxParticipants:0,creationTime:0,turnPassword:"",enabledCodecs:[],metadata:"",numParticipants:0,activeRecording:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.sid=n.string();break;case 2:i.name=n.string();break;case 3:i.emptyTimeout=n.uint32();break;case 4:i.maxParticipants=n.uint32();break;case 5:i.creationTime=Bt(n.int64());break;case 6:i.turnPassword=n.string();break;case 7:i.enabledCodecs.push(yt.decode(n,n.uint32()));break;case 8:i.metadata=n.string();break;case 9:i.numParticipants=n.uint32();break;case 10:i.activeRecording=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({sid:Ft(e.sid)?String(e.sid):"",name:Ft(e.name)?String(e.name):"",emptyTimeout:Ft(e.emptyTimeout)?Number(e.emptyTimeout):0,maxParticipants:Ft(e.maxParticipants)?Number(e.maxParticipants):0,creationTime:Ft(e.creationTime)?Number(e.creationTime):0,turnPassword:Ft(e.turnPassword)?String(e.turnPassword):"",enabledCodecs:Array.isArray(null===e||void 0===e?void 0:e.enabledCodecs)?e.enabledCodecs.map((e=>yt.fromJSON(e))):[],metadata:Ft(e.metadata)?String(e.metadata):"",numParticipants:Ft(e.numParticipants)?Number(e.numParticipants):0,activeRecording:!!Ft(e.activeRecording)&&Boolean(e.activeRecording)}),toJSON(e){const t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.name&&(t.name=e.name),void 0!==e.emptyTimeout&&(t.emptyTimeout=Math.round(e.emptyTimeout)),void 0!==e.maxParticipants&&(t.maxParticipants=Math.round(e.maxParticipants)),void 0!==e.creationTime&&(t.creationTime=Math.round(e.creationTime)),void 0!==e.turnPassword&&(t.turnPassword=e.turnPassword),e.enabledCodecs?t.enabledCodecs=e.enabledCodecs.map((e=>e?yt.toJSON(e):void 0)):t.enabledCodecs=[],void 0!==e.metadata&&(t.metadata=e.metadata),void 0!==e.numParticipants&&(t.numParticipants=Math.round(e.numParticipants)),void 0!==e.activeRecording&&(t.activeRecording=e.activeRecording),t},fromPartial(e){var t,n,r,i,a,o,s,l,u,c;const d={sid:"",name:"",emptyTimeout:0,maxParticipants:0,creationTime:0,turnPassword:"",enabledCodecs:[],metadata:"",numParticipants:0,activeRecording:!1};return d.sid=null!==(t=e.sid)&&void 0!==t?t:"",d.name=null!==(n=e.name)&&void 0!==n?n:"",d.emptyTimeout=null!==(r=e.emptyTimeout)&&void 0!==r?r:0,d.maxParticipants=null!==(i=e.maxParticipants)&&void 0!==i?i:0,d.creationTime=null!==(a=e.creationTime)&&void 0!==a?a:0,d.turnPassword=null!==(o=e.turnPassword)&&void 0!==o?o:"",d.enabledCodecs=(null===(s=e.enabledCodecs)||void 0===s?void 0:s.map((e=>yt.fromPartial(e))))||[],d.metadata=null!==(l=e.metadata)&&void 0!==l?l:"",d.numParticipants=null!==(u=e.numParticipants)&&void 0!==u?u:0,d.activeRecording=null!==(c=e.activeRecording)&&void 0!==c&&c,d}};const yt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return""!==e.mime&&t.uint32(10).string(e.mime),""!==e.fmtpLine&&t.uint32(18).string(e.fmtpLine),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={mime:"",fmtpLine:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.mime=n.string();break;case 2:i.fmtpLine=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({mime:Ft(e.mime)?String(e.mime):"",fmtpLine:Ft(e.fmtpLine)?String(e.fmtpLine):""}),toJSON(e){const t={};return void 0!==e.mime&&(t.mime=e.mime),void 0!==e.fmtpLine&&(t.fmtpLine=e.fmtpLine),t},fromPartial(e){var t,n;const r={mime:"",fmtpLine:""};return r.mime=null!==(t=e.mime)&&void 0!==t?t:"",r.fmtpLine=null!==(n=e.fmtpLine)&&void 0!==n?n:"",r}};const bt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return!0===e.canSubscribe&&t.uint32(8).bool(e.canSubscribe),!0===e.canPublish&&t.uint32(16).bool(e.canPublish),!0===e.canPublishData&&t.uint32(24).bool(e.canPublishData),!0===e.hidden&&t.uint32(56).bool(e.hidden),!0===e.recorder&&t.uint32(64).bool(e.recorder),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={canSubscribe:!1,canPublish:!1,canPublishData:!1,hidden:!1,recorder:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.canSubscribe=n.bool();break;case 2:i.canPublish=n.bool();break;case 3:i.canPublishData=n.bool();break;case 7:i.hidden=n.bool();break;case 8:i.recorder=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({canSubscribe:!!Ft(e.canSubscribe)&&Boolean(e.canSubscribe),canPublish:!!Ft(e.canPublish)&&Boolean(e.canPublish),canPublishData:!!Ft(e.canPublishData)&&Boolean(e.canPublishData),hidden:!!Ft(e.hidden)&&Boolean(e.hidden),recorder:!!Ft(e.recorder)&&Boolean(e.recorder)}),toJSON(e){const t={};return void 0!==e.canSubscribe&&(t.canSubscribe=e.canSubscribe),void 0!==e.canPublish&&(t.canPublish=e.canPublish),void 0!==e.canPublishData&&(t.canPublishData=e.canPublishData),void 0!==e.hidden&&(t.hidden=e.hidden),void 0!==e.recorder&&(t.recorder=e.recorder),t},fromPartial(e){var t,n,r,i,a;const o={canSubscribe:!1,canPublish:!1,canPublishData:!1,hidden:!1,recorder:!1};return o.canSubscribe=null!==(t=e.canSubscribe)&&void 0!==t&&t,o.canPublish=null!==(n=e.canPublish)&&void 0!==n&&n,o.canPublishData=null!==(r=e.canPublishData)&&void 0!==r&&r,o.hidden=null!==(i=e.hidden)&&void 0!==i&&i,o.recorder=null!==(a=e.recorder)&&void 0!==a&&a,o}};const wt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();""!==e.sid&&t.uint32(10).string(e.sid),""!==e.identity&&t.uint32(18).string(e.identity),0!==e.state&&t.uint32(24).int32(e.state);for(const n of e.tracks)_t.encode(n,t.uint32(34).fork()).ldelim();return""!==e.metadata&&t.uint32(42).string(e.metadata),0!==e.joinedAt&&t.uint32(48).int64(e.joinedAt),""!==e.name&&t.uint32(74).string(e.name),0!==e.version&&t.uint32(80).uint32(e.version),void 0!==e.permission&&bt.encode(e.permission,t.uint32(90).fork()).ldelim(),""!==e.region&&t.uint32(98).string(e.region),!0===e.isPublisher&&t.uint32(104).bool(e.isPublisher),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={sid:"",identity:"",state:0,tracks:[],metadata:"",joinedAt:0,name:"",version:0,permission:void 0,region:"",isPublisher:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.sid=n.string();break;case 2:i.identity=n.string();break;case 3:i.state=n.int32();break;case 4:i.tracks.push(_t.decode(n,n.uint32()));break;case 5:i.metadata=n.string();break;case 6:i.joinedAt=Bt(n.int64());break;case 9:i.name=n.string();break;case 10:i.version=n.uint32();break;case 11:i.permission=bt.decode(n,n.uint32());break;case 12:i.region=n.string();break;case 13:i.isPublisher=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({sid:Ft(e.sid)?String(e.sid):"",identity:Ft(e.identity)?String(e.identity):"",state:Ft(e.state)?ht(e.state):0,tracks:Array.isArray(null===e||void 0===e?void 0:e.tracks)?e.tracks.map((e=>_t.fromJSON(e))):[],metadata:Ft(e.metadata)?String(e.metadata):"",joinedAt:Ft(e.joinedAt)?Number(e.joinedAt):0,name:Ft(e.name)?String(e.name):"",version:Ft(e.version)?Number(e.version):0,permission:Ft(e.permission)?bt.fromJSON(e.permission):void 0,region:Ft(e.region)?String(e.region):"",isPublisher:!!Ft(e.isPublisher)&&Boolean(e.isPublisher)}),toJSON(e){const t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.identity&&(t.identity=e.identity),void 0!==e.state&&(t.state=function(e){switch(e){case Je.JOINING:return"JOINING";case Je.JOINED:return"JOINED";case Je.ACTIVE:return"ACTIVE";case Je.DISCONNECTED:return"DISCONNECTED";default:return"UNKNOWN"}}(e.state)),e.tracks?t.tracks=e.tracks.map((e=>e?_t.toJSON(e):void 0)):t.tracks=[],void 0!==e.metadata&&(t.metadata=e.metadata),void 0!==e.joinedAt&&(t.joinedAt=Math.round(e.joinedAt)),void 0!==e.name&&(t.name=e.name),void 0!==e.version&&(t.version=Math.round(e.version)),void 0!==e.permission&&(t.permission=e.permission?bt.toJSON(e.permission):void 0),void 0!==e.region&&(t.region=e.region),void 0!==e.isPublisher&&(t.isPublisher=e.isPublisher),t},fromPartial(e){var t,n,r,i,a,o,s,l,u,c;const d={sid:"",identity:"",state:0,tracks:[],metadata:"",joinedAt:0,name:"",version:0,permission:void 0,region:"",isPublisher:!1};return d.sid=null!==(t=e.sid)&&void 0!==t?t:"",d.identity=null!==(n=e.identity)&&void 0!==n?n:"",d.state=null!==(r=e.state)&&void 0!==r?r:0,d.tracks=(null===(i=e.tracks)||void 0===i?void 0:i.map((e=>_t.fromPartial(e))))||[],d.metadata=null!==(a=e.metadata)&&void 0!==a?a:"",d.joinedAt=null!==(o=e.joinedAt)&&void 0!==o?o:0,d.name=null!==(s=e.name)&&void 0!==s?s:"",d.version=null!==(l=e.version)&&void 0!==l?l:0,d.permission=void 0!==e.permission&&null!==e.permission?bt.fromPartial(e.permission):void 0,d.region=null!==(u=e.region)&&void 0!==u?u:"",d.isPublisher=null!==(c=e.isPublisher)&&void 0!==c&&c,d}};const St={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();""!==e.mimeType&&t.uint32(10).string(e.mimeType),""!==e.mid&&t.uint32(18).string(e.mid),""!==e.cid&&t.uint32(26).string(e.cid);for(const n of e.layers)xt.encode(n,t.uint32(34).fork()).ldelim();return t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={mimeType:"",mid:"",cid:"",layers:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.mimeType=n.string();break;case 2:i.mid=n.string();break;case 3:i.cid=n.string();break;case 4:i.layers.push(xt.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({mimeType:Ft(e.mimeType)?String(e.mimeType):"",mid:Ft(e.mid)?String(e.mid):"",cid:Ft(e.cid)?String(e.cid):"",layers:Array.isArray(null===e||void 0===e?void 0:e.layers)?e.layers.map((e=>xt.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.mimeType&&(t.mimeType=e.mimeType),void 0!==e.mid&&(t.mid=e.mid),void 0!==e.cid&&(t.cid=e.cid),e.layers?t.layers=e.layers.map((e=>e?xt.toJSON(e):void 0)):t.layers=[],t},fromPartial(e){var t,n,r,i;const a={mimeType:"",mid:"",cid:"",layers:[]};return a.mimeType=null!==(t=e.mimeType)&&void 0!==t?t:"",a.mid=null!==(n=e.mid)&&void 0!==n?n:"",a.cid=null!==(r=e.cid)&&void 0!==r?r:"",a.layers=(null===(i=e.layers)||void 0===i?void 0:i.map((e=>xt.fromPartial(e))))||[],a}};const _t={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();""!==e.sid&&t.uint32(10).string(e.sid),0!==e.type&&t.uint32(16).int32(e.type),""!==e.name&&t.uint32(26).string(e.name),!0===e.muted&&t.uint32(32).bool(e.muted),0!==e.width&&t.uint32(40).uint32(e.width),0!==e.height&&t.uint32(48).uint32(e.height),!0===e.simulcast&&t.uint32(56).bool(e.simulcast),!0===e.disableDtx&&t.uint32(64).bool(e.disableDtx),0!==e.source&&t.uint32(72).int32(e.source);for(const n of e.layers)xt.encode(n,t.uint32(82).fork()).ldelim();""!==e.mimeType&&t.uint32(90).string(e.mimeType),""!==e.mid&&t.uint32(98).string(e.mid);for(const n of e.codecs)St.encode(n,t.uint32(106).fork()).ldelim();return t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={sid:"",type:0,name:"",muted:!1,width:0,height:0,simulcast:!1,disableDtx:!1,source:0,layers:[],mimeType:"",mid:"",codecs:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.sid=n.string();break;case 2:i.type=n.int32();break;case 3:i.name=n.string();break;case 4:i.muted=n.bool();break;case 5:i.width=n.uint32();break;case 6:i.height=n.uint32();break;case 7:i.simulcast=n.bool();break;case 8:i.disableDtx=n.bool();break;case 9:i.source=n.int32();break;case 10:i.layers.push(xt.decode(n,n.uint32()));break;case 11:i.mimeType=n.string();break;case 12:i.mid=n.string();break;case 13:i.codecs.push(St.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({sid:Ft(e.sid)?String(e.sid):"",type:Ft(e.type)?it(e.type):0,name:Ft(e.name)?String(e.name):"",muted:!!Ft(e.muted)&&Boolean(e.muted),width:Ft(e.width)?Number(e.width):0,height:Ft(e.height)?Number(e.height):0,simulcast:!!Ft(e.simulcast)&&Boolean(e.simulcast),disableDtx:!!Ft(e.disableDtx)&&Boolean(e.disableDtx),source:Ft(e.source)?ot(e.source):0,layers:Array.isArray(null===e||void 0===e?void 0:e.layers)?e.layers.map((e=>xt.fromJSON(e))):[],mimeType:Ft(e.mimeType)?String(e.mimeType):"",mid:Ft(e.mid)?String(e.mid):"",codecs:Array.isArray(null===e||void 0===e?void 0:e.codecs)?e.codecs.map((e=>St.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.type&&(t.type=at(e.type)),void 0!==e.name&&(t.name=e.name),void 0!==e.muted&&(t.muted=e.muted),void 0!==e.width&&(t.width=Math.round(e.width)),void 0!==e.height&&(t.height=Math.round(e.height)),void 0!==e.simulcast&&(t.simulcast=e.simulcast),void 0!==e.disableDtx&&(t.disableDtx=e.disableDtx),void 0!==e.source&&(t.source=st(e.source)),e.layers?t.layers=e.layers.map((e=>e?xt.toJSON(e):void 0)):t.layers=[],void 0!==e.mimeType&&(t.mimeType=e.mimeType),void 0!==e.mid&&(t.mid=e.mid),e.codecs?t.codecs=e.codecs.map((e=>e?St.toJSON(e):void 0)):t.codecs=[],t},fromPartial(e){var t,n,r,i,a,o,s,l,u,c,d,f,p;const h={sid:"",type:0,name:"",muted:!1,width:0,height:0,simulcast:!1,disableDtx:!1,source:0,layers:[],mimeType:"",mid:"",codecs:[]};return h.sid=null!==(t=e.sid)&&void 0!==t?t:"",h.type=null!==(n=e.type)&&void 0!==n?n:0,h.name=null!==(r=e.name)&&void 0!==r?r:"",h.muted=null!==(i=e.muted)&&void 0!==i&&i,h.width=null!==(a=e.width)&&void 0!==a?a:0,h.height=null!==(o=e.height)&&void 0!==o?o:0,h.simulcast=null!==(s=e.simulcast)&&void 0!==s&&s,h.disableDtx=null!==(l=e.disableDtx)&&void 0!==l&&l,h.source=null!==(u=e.source)&&void 0!==u?u:0,h.layers=(null===(c=e.layers)||void 0===c?void 0:c.map((e=>xt.fromPartial(e))))||[],h.mimeType=null!==(d=e.mimeType)&&void 0!==d?d:"",h.mid=null!==(f=e.mid)&&void 0!==f?f:"",h.codecs=(null===(p=e.codecs)||void 0===p?void 0:p.map((e=>St.fromPartial(e))))||[],h}};const xt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return 0!==e.quality&&t.uint32(8).int32(e.quality),0!==e.width&&t.uint32(16).uint32(e.width),0!==e.height&&t.uint32(24).uint32(e.height),0!==e.bitrate&&t.uint32(32).uint32(e.bitrate),0!==e.ssrc&&t.uint32(40).uint32(e.ssrc),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={quality:0,width:0,height:0,bitrate:0,ssrc:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.quality=n.int32();break;case 2:i.width=n.uint32();break;case 3:i.height=n.uint32();break;case 4:i.bitrate=n.uint32();break;case 5:i.ssrc=n.uint32();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({quality:Ft(e.quality)?lt(e.quality):0,width:Ft(e.width)?Number(e.width):0,height:Ft(e.height)?Number(e.height):0,bitrate:Ft(e.bitrate)?Number(e.bitrate):0,ssrc:Ft(e.ssrc)?Number(e.ssrc):0}),toJSON(e){const t={};return void 0!==e.quality&&(t.quality=ut(e.quality)),void 0!==e.width&&(t.width=Math.round(e.width)),void 0!==e.height&&(t.height=Math.round(e.height)),void 0!==e.bitrate&&(t.bitrate=Math.round(e.bitrate)),void 0!==e.ssrc&&(t.ssrc=Math.round(e.ssrc)),t},fromPartial(e){var t,n,r,i,a;const o={quality:0,width:0,height:0,bitrate:0,ssrc:0};return o.quality=null!==(t=e.quality)&&void 0!==t?t:0,o.width=null!==(n=e.width)&&void 0!==n?n:0,o.height=null!==(r=e.height)&&void 0!==r?r:0,o.bitrate=null!==(i=e.bitrate)&&void 0!==i?i:0,o.ssrc=null!==(a=e.ssrc)&&void 0!==a?a:0,o}};const Tt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return 0!==e.kind&&t.uint32(8).int32(e.kind),void 0!==e.user&&Ot.encode(e.user,t.uint32(18).fork()).ldelim(),void 0!==e.speaker&&kt.encode(e.speaker,t.uint32(26).fork()).ldelim(),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={kind:0,user:void 0,speaker:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.kind=n.int32();break;case 2:i.user=Ot.decode(n,n.uint32());break;case 3:i.speaker=kt.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({kind:Ft(e.kind)?mt(e.kind):0,user:Ft(e.user)?Ot.fromJSON(e.user):void 0,speaker:Ft(e.speaker)?kt.fromJSON(e.speaker):void 0}),toJSON(e){const t={};return void 0!==e.kind&&(t.kind=function(e){switch(e){case et.RELIABLE:return"RELIABLE";case et.LOSSY:return"LOSSY";default:return"UNKNOWN"}}(e.kind)),void 0!==e.user&&(t.user=e.user?Ot.toJSON(e.user):void 0),void 0!==e.speaker&&(t.speaker=e.speaker?kt.toJSON(e.speaker):void 0),t},fromPartial(e){var t;const n={kind:0,user:void 0,speaker:void 0};return n.kind=null!==(t=e.kind)&&void 0!==t?t:0,n.user=void 0!==e.user&&null!==e.user?Ot.fromPartial(e.user):void 0,n.speaker=void 0!==e.speaker&&null!==e.speaker?kt.fromPartial(e.speaker):void 0,n}};const kt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();for(const n of e.speakers)Et.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={speakers:[]};for(;n.pos<r;){const e=n.uint32();if(e>>>3===1)i.speakers.push(Et.decode(n,n.uint32()));else n.skipType(7&e)}return i},fromJSON:e=>({speakers:Array.isArray(null===e||void 0===e?void 0:e.speakers)?e.speakers.map((e=>Et.fromJSON(e))):[]}),toJSON(e){const t={};return e.speakers?t.speakers=e.speakers.map((e=>e?Et.toJSON(e):void 0)):t.speakers=[],t},fromPartial(e){var t;const n={speakers:[]};return n.speakers=(null===(t=e.speakers)||void 0===t?void 0:t.map((e=>Et.fromPartial(e))))||[],n}};const Et={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return""!==e.sid&&t.uint32(10).string(e.sid),0!==e.level&&t.uint32(21).float(e.level),!0===e.active&&t.uint32(24).bool(e.active),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={sid:"",level:0,active:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.sid=n.string();break;case 2:i.level=n.float();break;case 3:i.active=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({sid:Ft(e.sid)?String(e.sid):"",level:Ft(e.level)?Number(e.level):0,active:!!Ft(e.active)&&Boolean(e.active)}),toJSON(e){const t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.level&&(t.level=e.level),void 0!==e.active&&(t.active=e.active),t},fromPartial(e){var t,n,r;const i={sid:"",level:0,active:!1};return i.sid=null!==(t=e.sid)&&void 0!==t?t:"",i.level=null!==(n=e.level)&&void 0!==n?n:0,i.active=null!==(r=e.active)&&void 0!==r&&r,i}};function Ct(){return{participantSid:"",payload:new Uint8Array,destinationSids:[]}}const Ot={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();""!==e.participantSid&&t.uint32(10).string(e.participantSid),0!==e.payload.length&&t.uint32(18).bytes(e.payload);for(const n of e.destinationSids)t.uint32(26).string(n);return t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Ct();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.participantSid=n.string();break;case 2:i.payload=n.bytes();break;case 3:i.destinationSids.push(n.string());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({participantSid:Ft(e.participantSid)?String(e.participantSid):"",payload:Ft(e.payload)?Lt(e.payload):new Uint8Array,destinationSids:Array.isArray(null===e||void 0===e?void 0:e.destinationSids)?e.destinationSids.map((e=>String(e))):[]}),toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.payload&&(t.payload=function(e){const t=[];for(const n of e)t.push(String.fromCharCode(n));return jt(t.join(""))}(void 0!==e.payload?e.payload:new Uint8Array)),e.destinationSids?t.destinationSids=e.destinationSids.map((e=>e)):t.destinationSids=[],t},fromPartial(e){var t,n,r;const i=Ct();return i.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",i.payload=null!==(n=e.payload)&&void 0!==n?n:new Uint8Array,i.destinationSids=(null===(r=e.destinationSids)||void 0===r?void 0:r.map((e=>e)))||[],i}};const Pt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();""!==e.participantSid&&t.uint32(10).string(e.participantSid);for(const n of e.trackSids)t.uint32(18).string(n);return t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={participantSid:"",trackSids:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.participantSid=n.string();break;case 2:i.trackSids.push(n.string());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({participantSid:Ft(e.participantSid)?String(e.participantSid):"",trackSids:Array.isArray(null===e||void 0===e?void 0:e.trackSids)?e.trackSids.map((e=>String(e))):[]}),toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),e.trackSids?t.trackSids=e.trackSids.map((e=>e)):t.trackSids=[],t},fromPartial(e){var t,n;const r={participantSid:"",trackSids:[]};return r.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",r.trackSids=(null===(n=e.trackSids)||void 0===n?void 0:n.map((e=>e)))||[],r}};const It={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return 0!==e.sdk&&t.uint32(8).int32(e.sdk),""!==e.version&&t.uint32(18).string(e.version),0!==e.protocol&&t.uint32(24).int32(e.protocol),""!==e.os&&t.uint32(34).string(e.os),""!==e.osVersion&&t.uint32(42).string(e.osVersion),""!==e.deviceModel&&t.uint32(50).string(e.deviceModel),""!==e.browser&&t.uint32(58).string(e.browser),""!==e.browserVersion&&t.uint32(66).string(e.browserVersion),""!==e.address&&t.uint32(74).string(e.address),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={sdk:0,version:"",protocol:0,os:"",osVersion:"",deviceModel:"",browser:"",browserVersion:"",address:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.sdk=n.int32();break;case 2:i.version=n.string();break;case 3:i.protocol=n.int32();break;case 4:i.os=n.string();break;case 5:i.osVersion=n.string();break;case 6:i.deviceModel=n.string();break;case 7:i.browser=n.string();break;case 8:i.browserVersion=n.string();break;case 9:i.address=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({sdk:Ft(e.sdk)?gt(e.sdk):0,version:Ft(e.version)?String(e.version):"",protocol:Ft(e.protocol)?Number(e.protocol):0,os:Ft(e.os)?String(e.os):"",osVersion:Ft(e.osVersion)?String(e.osVersion):"",deviceModel:Ft(e.deviceModel)?String(e.deviceModel):"",browser:Ft(e.browser)?String(e.browser):"",browserVersion:Ft(e.browserVersion)?String(e.browserVersion):"",address:Ft(e.address)?String(e.address):""}),toJSON(e){const t={};return void 0!==e.sdk&&(t.sdk=function(e){switch(e){case tt.UNKNOWN:return"UNKNOWN";case tt.JS:return"JS";case tt.SWIFT:return"SWIFT";case tt.ANDROID:return"ANDROID";case tt.FLUTTER:return"FLUTTER";case tt.GO:return"GO";case tt.UNITY:return"UNITY";default:return"UNKNOWN"}}(e.sdk)),void 0!==e.version&&(t.version=e.version),void 0!==e.protocol&&(t.protocol=Math.round(e.protocol)),void 0!==e.os&&(t.os=e.os),void 0!==e.osVersion&&(t.osVersion=e.osVersion),void 0!==e.deviceModel&&(t.deviceModel=e.deviceModel),void 0!==e.browser&&(t.browser=e.browser),void 0!==e.browserVersion&&(t.browserVersion=e.browserVersion),void 0!==e.address&&(t.address=e.address),t},fromPartial(e){var t,n,r,i,a,o,s,l,u;const c={sdk:0,version:"",protocol:0,os:"",osVersion:"",deviceModel:"",browser:"",browserVersion:"",address:""};return c.sdk=null!==(t=e.sdk)&&void 0!==t?t:0,c.version=null!==(n=e.version)&&void 0!==n?n:"",c.protocol=null!==(r=e.protocol)&&void 0!==r?r:0,c.os=null!==(i=e.os)&&void 0!==i?i:"",c.osVersion=null!==(a=e.osVersion)&&void 0!==a?a:"",c.deviceModel=null!==(o=e.deviceModel)&&void 0!==o?o:"",c.browser=null!==(s=e.browser)&&void 0!==s?s:"",c.browserVersion=null!==(l=e.browserVersion)&&void 0!==l?l:"",c.address=null!==(u=e.address)&&void 0!==u?u:"",c}};const At={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return void 0!==e.video&&Dt.encode(e.video,t.uint32(10).fork()).ldelim(),void 0!==e.screen&&Dt.encode(e.screen,t.uint32(18).fork()).ldelim(),0!==e.resumeConnection&&t.uint32(24).int32(e.resumeConnection),void 0!==e.disabledCodecs&&Mt.encode(e.disabledCodecs,t.uint32(34).fork()).ldelim(),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={video:void 0,screen:void 0,resumeConnection:0,disabledCodecs:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.video=Dt.decode(n,n.uint32());break;case 2:i.screen=Dt.decode(n,n.uint32());break;case 3:i.resumeConnection=n.int32();break;case 4:i.disabledCodecs=Mt.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({video:Ft(e.video)?Dt.fromJSON(e.video):void 0,screen:Ft(e.screen)?Dt.fromJSON(e.screen):void 0,resumeConnection:Ft(e.resumeConnection)?dt(e.resumeConnection):0,disabledCodecs:Ft(e.disabledCodecs)?Mt.fromJSON(e.disabledCodecs):void 0}),toJSON(e){const t={};return void 0!==e.video&&(t.video=e.video?Dt.toJSON(e.video):void 0),void 0!==e.screen&&(t.screen=e.screen?Dt.toJSON(e.screen):void 0),void 0!==e.resumeConnection&&(t.resumeConnection=ft(e.resumeConnection)),void 0!==e.disabledCodecs&&(t.disabledCodecs=e.disabledCodecs?Mt.toJSON(e.disabledCodecs):void 0),t},fromPartial(e){var t;const n={video:void 0,screen:void 0,resumeConnection:0,disabledCodecs:void 0};return n.video=void 0!==e.video&&null!==e.video?Dt.fromPartial(e.video):void 0,n.screen=void 0!==e.screen&&null!==e.screen?Dt.fromPartial(e.screen):void 0,n.resumeConnection=null!==(t=e.resumeConnection)&&void 0!==t?t:0,n.disabledCodecs=void 0!==e.disabledCodecs&&null!==e.disabledCodecs?Mt.fromPartial(e.disabledCodecs):void 0,n}};const Dt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return 0!==e.hardwareEncoder&&t.uint32(8).int32(e.hardwareEncoder),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={hardwareEncoder:0};for(;n.pos<r;){const e=n.uint32();if(e>>>3===1)i.hardwareEncoder=n.int32();else n.skipType(7&e)}return i},fromJSON:e=>({hardwareEncoder:Ft(e.hardwareEncoder)?dt(e.hardwareEncoder):0}),toJSON(e){const t={};return void 0!==e.hardwareEncoder&&(t.hardwareEncoder=ft(e.hardwareEncoder)),t},fromPartial(e){var t;const n={hardwareEncoder:0};return n.hardwareEncoder=null!==(t=e.hardwareEncoder)&&void 0!==t?t:0,n}};const Mt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();for(const n of e.codecs)yt.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={codecs:[]};for(;n.pos<r;){const e=n.uint32();if(e>>>3===1)i.codecs.push(yt.decode(n,n.uint32()));else n.skipType(7&e)}return i},fromJSON:e=>({codecs:Array.isArray(null===e||void 0===e?void 0:e.codecs)?e.codecs.map((e=>yt.fromJSON(e))):[]}),toJSON(e){const t={};return e.codecs?t.codecs=e.codecs.map((e=>e?yt.toJSON(e):void 0)):t.codecs=[],t},fromPartial(e){var t;const n={codecs:[]};return n.codecs=(null===(t=e.codecs)||void 0===t?void 0:t.map((e=>yt.fromPartial(e))))||[],n}};var Rt=(()=>{if("undefined"!==typeof Rt)return Rt;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw"Unable to locate global object"})();const Nt=Rt.atob||(e=>Rt.Buffer.from(e,"base64").toString("binary"));function Lt(e){const t=Nt(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}const jt=Rt.btoa||(e=>Rt.Buffer.from(e,"binary").toString("base64"));function Bt(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new Rt.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function Ft(e){return null!==e&&void 0!==e}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vt,$t,Gt;function Wt(e){switch(e){case 0:case"PUBLISHER":return Vt.PUBLISHER;case 1:case"SUBSCRIBER":return Vt.SUBSCRIBER;default:return Vt.UNRECOGNIZED}}function qt(e){switch(e){case Vt.PUBLISHER:return"PUBLISHER";case Vt.SUBSCRIBER:return"SUBSCRIBER";default:return"UNKNOWN"}}function Zt(e){switch(e){case 0:case"ACTIVE":return $t.ACTIVE;case 1:case"PAUSED":return $t.PAUSED;default:return $t.UNRECOGNIZED}}function Kt(e){switch(e){case 0:case"UDP":return Gt.UDP;case 1:case"TCP":return Gt.TCP;default:return Gt.UNRECOGNIZED}}nt.util.Long!==d&&(nt.util.Long=d,nt.configure()),function(e){e[e.PUBLISHER=0]="PUBLISHER",e[e.SUBSCRIBER=1]="SUBSCRIBER",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Vt||(Vt={})),function(e){e[e.ACTIVE=0]="ACTIVE",e[e.PAUSED=1]="PAUSED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}($t||($t={})),function(e){e[e.UDP=0]="UDP",e[e.TCP=1]="TCP",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Gt||(Gt={}));const Xt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return void 0!==e.offer&&on.encode(e.offer,t.uint32(10).fork()).ldelim(),void 0!==e.answer&&on.encode(e.answer,t.uint32(18).fork()).ldelim(),void 0!==e.trickle&&en.encode(e.trickle,t.uint32(26).fork()).ldelim(),void 0!==e.addTrack&&Jt.encode(e.addTrack,t.uint32(34).fork()).ldelim(),void 0!==e.mute&&tn.encode(e.mute,t.uint32(42).fork()).ldelim(),void 0!==e.subscription&&ln.encode(e.subscription,t.uint32(50).fork()).ldelim(),void 0!==e.trackSetting&&un.encode(e.trackSetting,t.uint32(58).fork()).ldelim(),void 0!==e.leave&&cn.encode(e.leave,t.uint32(66).fork()).ldelim(),void 0!==e.updateLayers&&dn.encode(e.updateLayers,t.uint32(82).fork()).ldelim(),void 0!==e.subscriptionPermission&&xn.encode(e.subscriptionPermission,t.uint32(90).fork()).ldelim(),void 0!==e.syncState&&kn.encode(e.syncState,t.uint32(98).fork()).ldelim(),void 0!==e.simulate&&Cn.encode(e.simulate,t.uint32(106).fork()).ldelim(),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={offer:void 0,answer:void 0,trickle:void 0,addTrack:void 0,mute:void 0,subscription:void 0,trackSetting:void 0,leave:void 0,updateLayers:void 0,subscriptionPermission:void 0,syncState:void 0,simulate:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.offer=on.decode(n,n.uint32());break;case 2:i.answer=on.decode(n,n.uint32());break;case 3:i.trickle=en.decode(n,n.uint32());break;case 4:i.addTrack=Jt.decode(n,n.uint32());break;case 5:i.mute=tn.decode(n,n.uint32());break;case 6:i.subscription=ln.decode(n,n.uint32());break;case 7:i.trackSetting=un.decode(n,n.uint32());break;case 8:i.leave=cn.decode(n,n.uint32());break;case 10:i.updateLayers=dn.decode(n,n.uint32());break;case 11:i.subscriptionPermission=xn.decode(n,n.uint32());break;case 12:i.syncState=kn.decode(n,n.uint32());break;case 13:i.simulate=Cn.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({offer:On(e.offer)?on.fromJSON(e.offer):void 0,answer:On(e.answer)?on.fromJSON(e.answer):void 0,trickle:On(e.trickle)?en.fromJSON(e.trickle):void 0,addTrack:On(e.addTrack)?Jt.fromJSON(e.addTrack):void 0,mute:On(e.mute)?tn.fromJSON(e.mute):void 0,subscription:On(e.subscription)?ln.fromJSON(e.subscription):void 0,trackSetting:On(e.trackSetting)?un.fromJSON(e.trackSetting):void 0,leave:On(e.leave)?cn.fromJSON(e.leave):void 0,updateLayers:On(e.updateLayers)?dn.fromJSON(e.updateLayers):void 0,subscriptionPermission:On(e.subscriptionPermission)?xn.fromJSON(e.subscriptionPermission):void 0,syncState:On(e.syncState)?kn.fromJSON(e.syncState):void 0,simulate:On(e.simulate)?Cn.fromJSON(e.simulate):void 0}),toJSON(e){const t={};return void 0!==e.offer&&(t.offer=e.offer?on.toJSON(e.offer):void 0),void 0!==e.answer&&(t.answer=e.answer?on.toJSON(e.answer):void 0),void 0!==e.trickle&&(t.trickle=e.trickle?en.toJSON(e.trickle):void 0),void 0!==e.addTrack&&(t.addTrack=e.addTrack?Jt.toJSON(e.addTrack):void 0),void 0!==e.mute&&(t.mute=e.mute?tn.toJSON(e.mute):void 0),void 0!==e.subscription&&(t.subscription=e.subscription?ln.toJSON(e.subscription):void 0),void 0!==e.trackSetting&&(t.trackSetting=e.trackSetting?un.toJSON(e.trackSetting):void 0),void 0!==e.leave&&(t.leave=e.leave?cn.toJSON(e.leave):void 0),void 0!==e.updateLayers&&(t.updateLayers=e.updateLayers?dn.toJSON(e.updateLayers):void 0),void 0!==e.subscriptionPermission&&(t.subscriptionPermission=e.subscriptionPermission?xn.toJSON(e.subscriptionPermission):void 0),void 0!==e.syncState&&(t.syncState=e.syncState?kn.toJSON(e.syncState):void 0),void 0!==e.simulate&&(t.simulate=e.simulate?Cn.toJSON(e.simulate):void 0),t},fromPartial(e){const t={offer:void 0,answer:void 0,trickle:void 0,addTrack:void 0,mute:void 0,subscription:void 0,trackSetting:void 0,leave:void 0,updateLayers:void 0,subscriptionPermission:void 0,syncState:void 0,simulate:void 0};return t.offer=void 0!==e.offer&&null!==e.offer?on.fromPartial(e.offer):void 0,t.answer=void 0!==e.answer&&null!==e.answer?on.fromPartial(e.answer):void 0,t.trickle=void 0!==e.trickle&&null!==e.trickle?en.fromPartial(e.trickle):void 0,t.addTrack=void 0!==e.addTrack&&null!==e.addTrack?Jt.fromPartial(e.addTrack):void 0,t.mute=void 0!==e.mute&&null!==e.mute?tn.fromPartial(e.mute):void 0,t.subscription=void 0!==e.subscription&&null!==e.subscription?ln.fromPartial(e.subscription):void 0,t.trackSetting=void 0!==e.trackSetting&&null!==e.trackSetting?un.fromPartial(e.trackSetting):void 0,t.leave=void 0!==e.leave&&null!==e.leave?cn.fromPartial(e.leave):void 0,t.updateLayers=void 0!==e.updateLayers&&null!==e.updateLayers?dn.fromPartial(e.updateLayers):void 0,t.subscriptionPermission=void 0!==e.subscriptionPermission&&null!==e.subscriptionPermission?xn.fromPartial(e.subscriptionPermission):void 0,t.syncState=void 0!==e.syncState&&null!==e.syncState?kn.fromPartial(e.syncState):void 0,t.simulate=void 0!==e.simulate&&null!==e.simulate?Cn.fromPartial(e.simulate):void 0,t}};const Yt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return void 0!==e.join&&nn.encode(e.join,t.uint32(10).fork()).ldelim(),void 0!==e.answer&&on.encode(e.answer,t.uint32(18).fork()).ldelim(),void 0!==e.offer&&on.encode(e.offer,t.uint32(26).fork()).ldelim(),void 0!==e.trickle&&en.encode(e.trickle,t.uint32(34).fork()).ldelim(),void 0!==e.update&&sn.encode(e.update,t.uint32(42).fork()).ldelim(),void 0!==e.trackPublished&&rn.encode(e.trackPublished,t.uint32(50).fork()).ldelim(),void 0!==e.leave&&cn.encode(e.leave,t.uint32(66).fork()).ldelim(),void 0!==e.mute&&tn.encode(e.mute,t.uint32(74).fork()).ldelim(),void 0!==e.speakersChanged&&pn.encode(e.speakersChanged,t.uint32(82).fork()).ldelim(),void 0!==e.roomUpdate&&hn.encode(e.roomUpdate,t.uint32(90).fork()).ldelim(),void 0!==e.connectionQuality&&gn.encode(e.connectionQuality,t.uint32(98).fork()).ldelim(),void 0!==e.streamStateUpdate&&yn.encode(e.streamStateUpdate,t.uint32(106).fork()).ldelim(),void 0!==e.subscribedQualityUpdate&&Sn.encode(e.subscribedQualityUpdate,t.uint32(114).fork()).ldelim(),void 0!==e.subscriptionPermissionUpdate&&Tn.encode(e.subscriptionPermissionUpdate,t.uint32(122).fork()).ldelim(),void 0!==e.refreshToken&&t.uint32(130).string(e.refreshToken),void 0!==e.trackUnpublished&&an.encode(e.trackUnpublished,t.uint32(138).fork()).ldelim(),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={join:void 0,answer:void 0,offer:void 0,trickle:void 0,update:void 0,trackPublished:void 0,leave:void 0,mute:void 0,speakersChanged:void 0,roomUpdate:void 0,connectionQuality:void 0,streamStateUpdate:void 0,subscribedQualityUpdate:void 0,subscriptionPermissionUpdate:void 0,refreshToken:void 0,trackUnpublished:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.join=nn.decode(n,n.uint32());break;case 2:i.answer=on.decode(n,n.uint32());break;case 3:i.offer=on.decode(n,n.uint32());break;case 4:i.trickle=en.decode(n,n.uint32());break;case 5:i.update=sn.decode(n,n.uint32());break;case 6:i.trackPublished=rn.decode(n,n.uint32());break;case 8:i.leave=cn.decode(n,n.uint32());break;case 9:i.mute=tn.decode(n,n.uint32());break;case 10:i.speakersChanged=pn.decode(n,n.uint32());break;case 11:i.roomUpdate=hn.decode(n,n.uint32());break;case 12:i.connectionQuality=gn.decode(n,n.uint32());break;case 13:i.streamStateUpdate=yn.decode(n,n.uint32());break;case 14:i.subscribedQualityUpdate=Sn.decode(n,n.uint32());break;case 15:i.subscriptionPermissionUpdate=Tn.decode(n,n.uint32());break;case 16:i.refreshToken=n.string();break;case 17:i.trackUnpublished=an.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({join:On(e.join)?nn.fromJSON(e.join):void 0,answer:On(e.answer)?on.fromJSON(e.answer):void 0,offer:On(e.offer)?on.fromJSON(e.offer):void 0,trickle:On(e.trickle)?en.fromJSON(e.trickle):void 0,update:On(e.update)?sn.fromJSON(e.update):void 0,trackPublished:On(e.trackPublished)?rn.fromJSON(e.trackPublished):void 0,leave:On(e.leave)?cn.fromJSON(e.leave):void 0,mute:On(e.mute)?tn.fromJSON(e.mute):void 0,speakersChanged:On(e.speakersChanged)?pn.fromJSON(e.speakersChanged):void 0,roomUpdate:On(e.roomUpdate)?hn.fromJSON(e.roomUpdate):void 0,connectionQuality:On(e.connectionQuality)?gn.fromJSON(e.connectionQuality):void 0,streamStateUpdate:On(e.streamStateUpdate)?yn.fromJSON(e.streamStateUpdate):void 0,subscribedQualityUpdate:On(e.subscribedQualityUpdate)?Sn.fromJSON(e.subscribedQualityUpdate):void 0,subscriptionPermissionUpdate:On(e.subscriptionPermissionUpdate)?Tn.fromJSON(e.subscriptionPermissionUpdate):void 0,refreshToken:On(e.refreshToken)?String(e.refreshToken):void 0,trackUnpublished:On(e.trackUnpublished)?an.fromJSON(e.trackUnpublished):void 0}),toJSON(e){const t={};return void 0!==e.join&&(t.join=e.join?nn.toJSON(e.join):void 0),void 0!==e.answer&&(t.answer=e.answer?on.toJSON(e.answer):void 0),void 0!==e.offer&&(t.offer=e.offer?on.toJSON(e.offer):void 0),void 0!==e.trickle&&(t.trickle=e.trickle?en.toJSON(e.trickle):void 0),void 0!==e.update&&(t.update=e.update?sn.toJSON(e.update):void 0),void 0!==e.trackPublished&&(t.trackPublished=e.trackPublished?rn.toJSON(e.trackPublished):void 0),void 0!==e.leave&&(t.leave=e.leave?cn.toJSON(e.leave):void 0),void 0!==e.mute&&(t.mute=e.mute?tn.toJSON(e.mute):void 0),void 0!==e.speakersChanged&&(t.speakersChanged=e.speakersChanged?pn.toJSON(e.speakersChanged):void 0),void 0!==e.roomUpdate&&(t.roomUpdate=e.roomUpdate?hn.toJSON(e.roomUpdate):void 0),void 0!==e.connectionQuality&&(t.connectionQuality=e.connectionQuality?gn.toJSON(e.connectionQuality):void 0),void 0!==e.streamStateUpdate&&(t.streamStateUpdate=e.streamStateUpdate?yn.toJSON(e.streamStateUpdate):void 0),void 0!==e.subscribedQualityUpdate&&(t.subscribedQualityUpdate=e.subscribedQualityUpdate?Sn.toJSON(e.subscribedQualityUpdate):void 0),void 0!==e.subscriptionPermissionUpdate&&(t.subscriptionPermissionUpdate=e.subscriptionPermissionUpdate?Tn.toJSON(e.subscriptionPermissionUpdate):void 0),void 0!==e.refreshToken&&(t.refreshToken=e.refreshToken),void 0!==e.trackUnpublished&&(t.trackUnpublished=e.trackUnpublished?an.toJSON(e.trackUnpublished):void 0),t},fromPartial(e){var t;const n={join:void 0,answer:void 0,offer:void 0,trickle:void 0,update:void 0,trackPublished:void 0,leave:void 0,mute:void 0,speakersChanged:void 0,roomUpdate:void 0,connectionQuality:void 0,streamStateUpdate:void 0,subscribedQualityUpdate:void 0,subscriptionPermissionUpdate:void 0,refreshToken:void 0,trackUnpublished:void 0};return n.join=void 0!==e.join&&null!==e.join?nn.fromPartial(e.join):void 0,n.answer=void 0!==e.answer&&null!==e.answer?on.fromPartial(e.answer):void 0,n.offer=void 0!==e.offer&&null!==e.offer?on.fromPartial(e.offer):void 0,n.trickle=void 0!==e.trickle&&null!==e.trickle?en.fromPartial(e.trickle):void 0,n.update=void 0!==e.update&&null!==e.update?sn.fromPartial(e.update):void 0,n.trackPublished=void 0!==e.trackPublished&&null!==e.trackPublished?rn.fromPartial(e.trackPublished):void 0,n.leave=void 0!==e.leave&&null!==e.leave?cn.fromPartial(e.leave):void 0,n.mute=void 0!==e.mute&&null!==e.mute?tn.fromPartial(e.mute):void 0,n.speakersChanged=void 0!==e.speakersChanged&&null!==e.speakersChanged?pn.fromPartial(e.speakersChanged):void 0,n.roomUpdate=void 0!==e.roomUpdate&&null!==e.roomUpdate?hn.fromPartial(e.roomUpdate):void 0,n.connectionQuality=void 0!==e.connectionQuality&&null!==e.connectionQuality?gn.fromPartial(e.connectionQuality):void 0,n.streamStateUpdate=void 0!==e.streamStateUpdate&&null!==e.streamStateUpdate?yn.fromPartial(e.streamStateUpdate):void 0,n.subscribedQualityUpdate=void 0!==e.subscribedQualityUpdate&&null!==e.subscribedQualityUpdate?Sn.fromPartial(e.subscribedQualityUpdate):void 0,n.subscriptionPermissionUpdate=void 0!==e.subscriptionPermissionUpdate&&null!==e.subscriptionPermissionUpdate?Tn.fromPartial(e.subscriptionPermissionUpdate):void 0,n.refreshToken=null!==(t=e.refreshToken)&&void 0!==t?t:void 0,n.trackUnpublished=void 0!==e.trackUnpublished&&null!==e.trackUnpublished?an.fromPartial(e.trackUnpublished):void 0,n}};const Qt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return""!==e.codec&&t.uint32(10).string(e.codec),""!==e.cid&&t.uint32(18).string(e.cid),!0===e.enableSimulcastLayers&&t.uint32(24).bool(e.enableSimulcastLayers),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={codec:"",cid:"",enableSimulcastLayers:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.codec=n.string();break;case 2:i.cid=n.string();break;case 3:i.enableSimulcastLayers=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({codec:On(e.codec)?String(e.codec):"",cid:On(e.cid)?String(e.cid):"",enableSimulcastLayers:!!On(e.enableSimulcastLayers)&&Boolean(e.enableSimulcastLayers)}),toJSON(e){const t={};return void 0!==e.codec&&(t.codec=e.codec),void 0!==e.cid&&(t.cid=e.cid),void 0!==e.enableSimulcastLayers&&(t.enableSimulcastLayers=e.enableSimulcastLayers),t},fromPartial(e){var t,n,r;const i={codec:"",cid:"",enableSimulcastLayers:!1};return i.codec=null!==(t=e.codec)&&void 0!==t?t:"",i.cid=null!==(n=e.cid)&&void 0!==n?n:"",i.enableSimulcastLayers=null!==(r=e.enableSimulcastLayers)&&void 0!==r&&r,i}};const Jt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();""!==e.cid&&t.uint32(10).string(e.cid),""!==e.name&&t.uint32(18).string(e.name),0!==e.type&&t.uint32(24).int32(e.type),0!==e.width&&t.uint32(32).uint32(e.width),0!==e.height&&t.uint32(40).uint32(e.height),!0===e.muted&&t.uint32(48).bool(e.muted),!0===e.disableDtx&&t.uint32(56).bool(e.disableDtx),0!==e.source&&t.uint32(64).int32(e.source);for(const n of e.layers)xt.encode(n,t.uint32(74).fork()).ldelim();for(const n of e.simulcastCodecs)Qt.encode(n,t.uint32(82).fork()).ldelim();return""!==e.sid&&t.uint32(90).string(e.sid),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={cid:"",name:"",type:0,width:0,height:0,muted:!1,disableDtx:!1,source:0,layers:[],simulcastCodecs:[],sid:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.cid=n.string();break;case 2:i.name=n.string();break;case 3:i.type=n.int32();break;case 4:i.width=n.uint32();break;case 5:i.height=n.uint32();break;case 6:i.muted=n.bool();break;case 7:i.disableDtx=n.bool();break;case 8:i.source=n.int32();break;case 9:i.layers.push(xt.decode(n,n.uint32()));break;case 10:i.simulcastCodecs.push(Qt.decode(n,n.uint32()));break;case 11:i.sid=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({cid:On(e.cid)?String(e.cid):"",name:On(e.name)?String(e.name):"",type:On(e.type)?it(e.type):0,width:On(e.width)?Number(e.width):0,height:On(e.height)?Number(e.height):0,muted:!!On(e.muted)&&Boolean(e.muted),disableDtx:!!On(e.disableDtx)&&Boolean(e.disableDtx),source:On(e.source)?ot(e.source):0,layers:Array.isArray(null===e||void 0===e?void 0:e.layers)?e.layers.map((e=>xt.fromJSON(e))):[],simulcastCodecs:Array.isArray(null===e||void 0===e?void 0:e.simulcastCodecs)?e.simulcastCodecs.map((e=>Qt.fromJSON(e))):[],sid:On(e.sid)?String(e.sid):""}),toJSON(e){const t={};return void 0!==e.cid&&(t.cid=e.cid),void 0!==e.name&&(t.name=e.name),void 0!==e.type&&(t.type=at(e.type)),void 0!==e.width&&(t.width=Math.round(e.width)),void 0!==e.height&&(t.height=Math.round(e.height)),void 0!==e.muted&&(t.muted=e.muted),void 0!==e.disableDtx&&(t.disableDtx=e.disableDtx),void 0!==e.source&&(t.source=st(e.source)),e.layers?t.layers=e.layers.map((e=>e?xt.toJSON(e):void 0)):t.layers=[],e.simulcastCodecs?t.simulcastCodecs=e.simulcastCodecs.map((e=>e?Qt.toJSON(e):void 0)):t.simulcastCodecs=[],void 0!==e.sid&&(t.sid=e.sid),t},fromPartial(e){var t,n,r,i,a,o,s,l,u,c,d;const f={cid:"",name:"",type:0,width:0,height:0,muted:!1,disableDtx:!1,source:0,layers:[],simulcastCodecs:[],sid:""};return f.cid=null!==(t=e.cid)&&void 0!==t?t:"",f.name=null!==(n=e.name)&&void 0!==n?n:"",f.type=null!==(r=e.type)&&void 0!==r?r:0,f.width=null!==(i=e.width)&&void 0!==i?i:0,f.height=null!==(a=e.height)&&void 0!==a?a:0,f.muted=null!==(o=e.muted)&&void 0!==o&&o,f.disableDtx=null!==(s=e.disableDtx)&&void 0!==s&&s,f.source=null!==(l=e.source)&&void 0!==l?l:0,f.layers=(null===(u=e.layers)||void 0===u?void 0:u.map((e=>xt.fromPartial(e))))||[],f.simulcastCodecs=(null===(c=e.simulcastCodecs)||void 0===c?void 0:c.map((e=>Qt.fromPartial(e))))||[],f.sid=null!==(d=e.sid)&&void 0!==d?d:"",f}};const en={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return""!==e.candidateInit&&t.uint32(10).string(e.candidateInit),0!==e.target&&t.uint32(16).int32(e.target),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={candidateInit:"",target:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.candidateInit=n.string();break;case 2:i.target=n.int32();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({candidateInit:On(e.candidateInit)?String(e.candidateInit):"",target:On(e.target)?Wt(e.target):0}),toJSON(e){const t={};return void 0!==e.candidateInit&&(t.candidateInit=e.candidateInit),void 0!==e.target&&(t.target=qt(e.target)),t},fromPartial(e){var t,n;const r={candidateInit:"",target:0};return r.candidateInit=null!==(t=e.candidateInit)&&void 0!==t?t:"",r.target=null!==(n=e.target)&&void 0!==n?n:0,r}};const tn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return""!==e.sid&&t.uint32(10).string(e.sid),!0===e.muted&&t.uint32(16).bool(e.muted),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={sid:"",muted:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.sid=n.string();break;case 2:i.muted=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({sid:On(e.sid)?String(e.sid):"",muted:!!On(e.muted)&&Boolean(e.muted)}),toJSON(e){const t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.muted&&(t.muted=e.muted),t},fromPartial(e){var t,n;const r={sid:"",muted:!1};return r.sid=null!==(t=e.sid)&&void 0!==t?t:"",r.muted=null!==(n=e.muted)&&void 0!==n&&n,r}};const nn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();void 0!==e.room&&vt.encode(e.room,t.uint32(10).fork()).ldelim(),void 0!==e.participant&&wt.encode(e.participant,t.uint32(18).fork()).ldelim();for(const n of e.otherParticipants)wt.encode(n,t.uint32(26).fork()).ldelim();""!==e.serverVersion&&t.uint32(34).string(e.serverVersion);for(const n of e.iceServers)fn.encode(n,t.uint32(42).fork()).ldelim();return!0===e.subscriberPrimary&&t.uint32(48).bool(e.subscriberPrimary),""!==e.alternativeUrl&&t.uint32(58).string(e.alternativeUrl),void 0!==e.clientConfiguration&&At.encode(e.clientConfiguration,t.uint32(66).fork()).ldelim(),""!==e.serverRegion&&t.uint32(74).string(e.serverRegion),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={room:void 0,participant:void 0,otherParticipants:[],serverVersion:"",iceServers:[],subscriberPrimary:!1,alternativeUrl:"",clientConfiguration:void 0,serverRegion:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.room=vt.decode(n,n.uint32());break;case 2:i.participant=wt.decode(n,n.uint32());break;case 3:i.otherParticipants.push(wt.decode(n,n.uint32()));break;case 4:i.serverVersion=n.string();break;case 5:i.iceServers.push(fn.decode(n,n.uint32()));break;case 6:i.subscriberPrimary=n.bool();break;case 7:i.alternativeUrl=n.string();break;case 8:i.clientConfiguration=At.decode(n,n.uint32());break;case 9:i.serverRegion=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({room:On(e.room)?vt.fromJSON(e.room):void 0,participant:On(e.participant)?wt.fromJSON(e.participant):void 0,otherParticipants:Array.isArray(null===e||void 0===e?void 0:e.otherParticipants)?e.otherParticipants.map((e=>wt.fromJSON(e))):[],serverVersion:On(e.serverVersion)?String(e.serverVersion):"",iceServers:Array.isArray(null===e||void 0===e?void 0:e.iceServers)?e.iceServers.map((e=>fn.fromJSON(e))):[],subscriberPrimary:!!On(e.subscriberPrimary)&&Boolean(e.subscriberPrimary),alternativeUrl:On(e.alternativeUrl)?String(e.alternativeUrl):"",clientConfiguration:On(e.clientConfiguration)?At.fromJSON(e.clientConfiguration):void 0,serverRegion:On(e.serverRegion)?String(e.serverRegion):""}),toJSON(e){const t={};return void 0!==e.room&&(t.room=e.room?vt.toJSON(e.room):void 0),void 0!==e.participant&&(t.participant=e.participant?wt.toJSON(e.participant):void 0),e.otherParticipants?t.otherParticipants=e.otherParticipants.map((e=>e?wt.toJSON(e):void 0)):t.otherParticipants=[],void 0!==e.serverVersion&&(t.serverVersion=e.serverVersion),e.iceServers?t.iceServers=e.iceServers.map((e=>e?fn.toJSON(e):void 0)):t.iceServers=[],void 0!==e.subscriberPrimary&&(t.subscriberPrimary=e.subscriberPrimary),void 0!==e.alternativeUrl&&(t.alternativeUrl=e.alternativeUrl),void 0!==e.clientConfiguration&&(t.clientConfiguration=e.clientConfiguration?At.toJSON(e.clientConfiguration):void 0),void 0!==e.serverRegion&&(t.serverRegion=e.serverRegion),t},fromPartial(e){var t,n,r,i,a,o;const s={room:void 0,participant:void 0,otherParticipants:[],serverVersion:"",iceServers:[],subscriberPrimary:!1,alternativeUrl:"",clientConfiguration:void 0,serverRegion:""};return s.room=void 0!==e.room&&null!==e.room?vt.fromPartial(e.room):void 0,s.participant=void 0!==e.participant&&null!==e.participant?wt.fromPartial(e.participant):void 0,s.otherParticipants=(null===(t=e.otherParticipants)||void 0===t?void 0:t.map((e=>wt.fromPartial(e))))||[],s.serverVersion=null!==(n=e.serverVersion)&&void 0!==n?n:"",s.iceServers=(null===(r=e.iceServers)||void 0===r?void 0:r.map((e=>fn.fromPartial(e))))||[],s.subscriberPrimary=null!==(i=e.subscriberPrimary)&&void 0!==i&&i,s.alternativeUrl=null!==(a=e.alternativeUrl)&&void 0!==a?a:"",s.clientConfiguration=void 0!==e.clientConfiguration&&null!==e.clientConfiguration?At.fromPartial(e.clientConfiguration):void 0,s.serverRegion=null!==(o=e.serverRegion)&&void 0!==o?o:"",s}};const rn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return""!==e.cid&&t.uint32(10).string(e.cid),void 0!==e.track&&_t.encode(e.track,t.uint32(18).fork()).ldelim(),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={cid:"",track:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.cid=n.string();break;case 2:i.track=_t.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({cid:On(e.cid)?String(e.cid):"",track:On(e.track)?_t.fromJSON(e.track):void 0}),toJSON(e){const t={};return void 0!==e.cid&&(t.cid=e.cid),void 0!==e.track&&(t.track=e.track?_t.toJSON(e.track):void 0),t},fromPartial(e){var t;const n={cid:"",track:void 0};return n.cid=null!==(t=e.cid)&&void 0!==t?t:"",n.track=void 0!==e.track&&null!==e.track?_t.fromPartial(e.track):void 0,n}};const an={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return""!==e.trackSid&&t.uint32(10).string(e.trackSid),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={trackSid:""};for(;n.pos<r;){const e=n.uint32();if(e>>>3===1)i.trackSid=n.string();else n.skipType(7&e)}return i},fromJSON:e=>({trackSid:On(e.trackSid)?String(e.trackSid):""}),toJSON(e){const t={};return void 0!==e.trackSid&&(t.trackSid=e.trackSid),t},fromPartial(e){var t;const n={trackSid:""};return n.trackSid=null!==(t=e.trackSid)&&void 0!==t?t:"",n}};const on={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return""!==e.type&&t.uint32(10).string(e.type),""!==e.sdp&&t.uint32(18).string(e.sdp),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={type:"",sdp:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.type=n.string();break;case 2:i.sdp=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({type:On(e.type)?String(e.type):"",sdp:On(e.sdp)?String(e.sdp):""}),toJSON(e){const t={};return void 0!==e.type&&(t.type=e.type),void 0!==e.sdp&&(t.sdp=e.sdp),t},fromPartial(e){var t,n;const r={type:"",sdp:""};return r.type=null!==(t=e.type)&&void 0!==t?t:"",r.sdp=null!==(n=e.sdp)&&void 0!==n?n:"",r}};const sn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();for(const n of e.participants)wt.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={participants:[]};for(;n.pos<r;){const e=n.uint32();if(e>>>3===1)i.participants.push(wt.decode(n,n.uint32()));else n.skipType(7&e)}return i},fromJSON:e=>({participants:Array.isArray(null===e||void 0===e?void 0:e.participants)?e.participants.map((e=>wt.fromJSON(e))):[]}),toJSON(e){const t={};return e.participants?t.participants=e.participants.map((e=>e?wt.toJSON(e):void 0)):t.participants=[],t},fromPartial(e){var t;const n={participants:[]};return n.participants=(null===(t=e.participants)||void 0===t?void 0:t.map((e=>wt.fromPartial(e))))||[],n}};const ln={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();for(const n of e.trackSids)t.uint32(10).string(n);!0===e.subscribe&&t.uint32(16).bool(e.subscribe);for(const n of e.participantTracks)Pt.encode(n,t.uint32(26).fork()).ldelim();return t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={trackSids:[],subscribe:!1,participantTracks:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.trackSids.push(n.string());break;case 2:i.subscribe=n.bool();break;case 3:i.participantTracks.push(Pt.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({trackSids:Array.isArray(null===e||void 0===e?void 0:e.trackSids)?e.trackSids.map((e=>String(e))):[],subscribe:!!On(e.subscribe)&&Boolean(e.subscribe),participantTracks:Array.isArray(null===e||void 0===e?void 0:e.participantTracks)?e.participantTracks.map((e=>Pt.fromJSON(e))):[]}),toJSON(e){const t={};return e.trackSids?t.trackSids=e.trackSids.map((e=>e)):t.trackSids=[],void 0!==e.subscribe&&(t.subscribe=e.subscribe),e.participantTracks?t.participantTracks=e.participantTracks.map((e=>e?Pt.toJSON(e):void 0)):t.participantTracks=[],t},fromPartial(e){var t,n,r;const i={trackSids:[],subscribe:!1,participantTracks:[]};return i.trackSids=(null===(t=e.trackSids)||void 0===t?void 0:t.map((e=>e)))||[],i.subscribe=null!==(n=e.subscribe)&&void 0!==n&&n,i.participantTracks=(null===(r=e.participantTracks)||void 0===r?void 0:r.map((e=>Pt.fromPartial(e))))||[],i}};const un={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();for(const n of e.trackSids)t.uint32(10).string(n);return!0===e.disabled&&t.uint32(24).bool(e.disabled),0!==e.quality&&t.uint32(32).int32(e.quality),0!==e.width&&t.uint32(40).uint32(e.width),0!==e.height&&t.uint32(48).uint32(e.height),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={trackSids:[],disabled:!1,quality:0,width:0,height:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.trackSids.push(n.string());break;case 3:i.disabled=n.bool();break;case 4:i.quality=n.int32();break;case 5:i.width=n.uint32();break;case 6:i.height=n.uint32();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({trackSids:Array.isArray(null===e||void 0===e?void 0:e.trackSids)?e.trackSids.map((e=>String(e))):[],disabled:!!On(e.disabled)&&Boolean(e.disabled),quality:On(e.quality)?lt(e.quality):0,width:On(e.width)?Number(e.width):0,height:On(e.height)?Number(e.height):0}),toJSON(e){const t={};return e.trackSids?t.trackSids=e.trackSids.map((e=>e)):t.trackSids=[],void 0!==e.disabled&&(t.disabled=e.disabled),void 0!==e.quality&&(t.quality=ut(e.quality)),void 0!==e.width&&(t.width=Math.round(e.width)),void 0!==e.height&&(t.height=Math.round(e.height)),t},fromPartial(e){var t,n,r,i,a;const o={trackSids:[],disabled:!1,quality:0,width:0,height:0};return o.trackSids=(null===(t=e.trackSids)||void 0===t?void 0:t.map((e=>e)))||[],o.disabled=null!==(n=e.disabled)&&void 0!==n&&n,o.quality=null!==(r=e.quality)&&void 0!==r?r:0,o.width=null!==(i=e.width)&&void 0!==i?i:0,o.height=null!==(a=e.height)&&void 0!==a?a:0,o}};const cn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return!0===e.canReconnect&&t.uint32(8).bool(e.canReconnect),0!==e.reason&&t.uint32(16).int32(e.reason),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={canReconnect:!1,reason:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.canReconnect=n.bool();break;case 2:i.reason=n.int32();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({canReconnect:!!On(e.canReconnect)&&Boolean(e.canReconnect),reason:On(e.reason)?pt(e.reason):0}),toJSON(e){const t={};return void 0!==e.canReconnect&&(t.canReconnect=e.canReconnect),void 0!==e.reason&&(t.reason=function(e){switch(e){case Qe.UNKNOWN_REASON:return"UNKNOWN_REASON";case Qe.CLIENT_INITIATED:return"CLIENT_INITIATED";case Qe.DUPLICATE_IDENTITY:return"DUPLICATE_IDENTITY";case Qe.SERVER_SHUTDOWN:return"SERVER_SHUTDOWN";case Qe.PARTICIPANT_REMOVED:return"PARTICIPANT_REMOVED";case Qe.ROOM_DELETED:return"ROOM_DELETED";case Qe.STATE_MISMATCH:return"STATE_MISMATCH";default:return"UNKNOWN"}}(e.reason)),t},fromPartial(e){var t,n;const r={canReconnect:!1,reason:0};return r.canReconnect=null!==(t=e.canReconnect)&&void 0!==t&&t,r.reason=null!==(n=e.reason)&&void 0!==n?n:0,r}};const dn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();""!==e.trackSid&&t.uint32(10).string(e.trackSid);for(const n of e.layers)xt.encode(n,t.uint32(18).fork()).ldelim();return t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={trackSid:"",layers:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.trackSid=n.string();break;case 2:i.layers.push(xt.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({trackSid:On(e.trackSid)?String(e.trackSid):"",layers:Array.isArray(null===e||void 0===e?void 0:e.layers)?e.layers.map((e=>xt.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.trackSid&&(t.trackSid=e.trackSid),e.layers?t.layers=e.layers.map((e=>e?xt.toJSON(e):void 0)):t.layers=[],t},fromPartial(e){var t,n;const r={trackSid:"",layers:[]};return r.trackSid=null!==(t=e.trackSid)&&void 0!==t?t:"",r.layers=(null===(n=e.layers)||void 0===n?void 0:n.map((e=>xt.fromPartial(e))))||[],r}};const fn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();for(const n of e.urls)t.uint32(10).string(n);return""!==e.username&&t.uint32(18).string(e.username),""!==e.credential&&t.uint32(26).string(e.credential),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={urls:[],username:"",credential:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.urls.push(n.string());break;case 2:i.username=n.string();break;case 3:i.credential=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({urls:Array.isArray(null===e||void 0===e?void 0:e.urls)?e.urls.map((e=>String(e))):[],username:On(e.username)?String(e.username):"",credential:On(e.credential)?String(e.credential):""}),toJSON(e){const t={};return e.urls?t.urls=e.urls.map((e=>e)):t.urls=[],void 0!==e.username&&(t.username=e.username),void 0!==e.credential&&(t.credential=e.credential),t},fromPartial(e){var t,n,r;const i={urls:[],username:"",credential:""};return i.urls=(null===(t=e.urls)||void 0===t?void 0:t.map((e=>e)))||[],i.username=null!==(n=e.username)&&void 0!==n?n:"",i.credential=null!==(r=e.credential)&&void 0!==r?r:"",i}};const pn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();for(const n of e.speakers)Et.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={speakers:[]};for(;n.pos<r;){const e=n.uint32();if(e>>>3===1)i.speakers.push(Et.decode(n,n.uint32()));else n.skipType(7&e)}return i},fromJSON:e=>({speakers:Array.isArray(null===e||void 0===e?void 0:e.speakers)?e.speakers.map((e=>Et.fromJSON(e))):[]}),toJSON(e){const t={};return e.speakers?t.speakers=e.speakers.map((e=>e?Et.toJSON(e):void 0)):t.speakers=[],t},fromPartial(e){var t;const n={speakers:[]};return n.speakers=(null===(t=e.speakers)||void 0===t?void 0:t.map((e=>Et.fromPartial(e))))||[],n}};const hn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return void 0!==e.room&&vt.encode(e.room,t.uint32(10).fork()).ldelim(),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={room:void 0};for(;n.pos<r;){const e=n.uint32();if(e>>>3===1)i.room=vt.decode(n,n.uint32());else n.skipType(7&e)}return i},fromJSON:e=>({room:On(e.room)?vt.fromJSON(e.room):void 0}),toJSON(e){const t={};return void 0!==e.room&&(t.room=e.room?vt.toJSON(e.room):void 0),t},fromPartial(e){const t={room:void 0};return t.room=void 0!==e.room&&null!==e.room?vt.fromPartial(e.room):void 0,t}};const mn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return""!==e.participantSid&&t.uint32(10).string(e.participantSid),0!==e.quality&&t.uint32(16).int32(e.quality),0!==e.score&&t.uint32(29).float(e.score),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={participantSid:"",quality:0,score:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.participantSid=n.string();break;case 2:i.quality=n.int32();break;case 3:i.score=n.float();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({participantSid:On(e.participantSid)?String(e.participantSid):"",quality:On(e.quality)?ct(e.quality):0,score:On(e.score)?Number(e.score):0}),toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.quality&&(t.quality=function(e){switch(e){case Xe.POOR:return"POOR";case Xe.GOOD:return"GOOD";case Xe.EXCELLENT:return"EXCELLENT";default:return"UNKNOWN"}}(e.quality)),void 0!==e.score&&(t.score=e.score),t},fromPartial(e){var t,n,r;const i={participantSid:"",quality:0,score:0};return i.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",i.quality=null!==(n=e.quality)&&void 0!==n?n:0,i.score=null!==(r=e.score)&&void 0!==r?r:0,i}};const gn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();for(const n of e.updates)mn.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={updates:[]};for(;n.pos<r;){const e=n.uint32();if(e>>>3===1)i.updates.push(mn.decode(n,n.uint32()));else n.skipType(7&e)}return i},fromJSON:e=>({updates:Array.isArray(null===e||void 0===e?void 0:e.updates)?e.updates.map((e=>mn.fromJSON(e))):[]}),toJSON(e){const t={};return e.updates?t.updates=e.updates.map((e=>e?mn.toJSON(e):void 0)):t.updates=[],t},fromPartial(e){var t;const n={updates:[]};return n.updates=(null===(t=e.updates)||void 0===t?void 0:t.map((e=>mn.fromPartial(e))))||[],n}};const vn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return""!==e.participantSid&&t.uint32(10).string(e.participantSid),""!==e.trackSid&&t.uint32(18).string(e.trackSid),0!==e.state&&t.uint32(24).int32(e.state),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={participantSid:"",trackSid:"",state:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.participantSid=n.string();break;case 2:i.trackSid=n.string();break;case 3:i.state=n.int32();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({participantSid:On(e.participantSid)?String(e.participantSid):"",trackSid:On(e.trackSid)?String(e.trackSid):"",state:On(e.state)?Zt(e.state):0}),toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.trackSid&&(t.trackSid=e.trackSid),void 0!==e.state&&(t.state=function(e){switch(e){case $t.ACTIVE:return"ACTIVE";case $t.PAUSED:return"PAUSED";default:return"UNKNOWN"}}(e.state)),t},fromPartial(e){var t,n,r;const i={participantSid:"",trackSid:"",state:0};return i.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",i.trackSid=null!==(n=e.trackSid)&&void 0!==n?n:"",i.state=null!==(r=e.state)&&void 0!==r?r:0,i}};const yn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();for(const n of e.streamStates)vn.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={streamStates:[]};for(;n.pos<r;){const e=n.uint32();if(e>>>3===1)i.streamStates.push(vn.decode(n,n.uint32()));else n.skipType(7&e)}return i},fromJSON:e=>({streamStates:Array.isArray(null===e||void 0===e?void 0:e.streamStates)?e.streamStates.map((e=>vn.fromJSON(e))):[]}),toJSON(e){const t={};return e.streamStates?t.streamStates=e.streamStates.map((e=>e?vn.toJSON(e):void 0)):t.streamStates=[],t},fromPartial(e){var t;const n={streamStates:[]};return n.streamStates=(null===(t=e.streamStates)||void 0===t?void 0:t.map((e=>vn.fromPartial(e))))||[],n}};const bn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return 0!==e.quality&&t.uint32(8).int32(e.quality),!0===e.enabled&&t.uint32(16).bool(e.enabled),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={quality:0,enabled:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.quality=n.int32();break;case 2:i.enabled=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({quality:On(e.quality)?lt(e.quality):0,enabled:!!On(e.enabled)&&Boolean(e.enabled)}),toJSON(e){const t={};return void 0!==e.quality&&(t.quality=ut(e.quality)),void 0!==e.enabled&&(t.enabled=e.enabled),t},fromPartial(e){var t,n;const r={quality:0,enabled:!1};return r.quality=null!==(t=e.quality)&&void 0!==t?t:0,r.enabled=null!==(n=e.enabled)&&void 0!==n&&n,r}};const wn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();""!==e.codec&&t.uint32(10).string(e.codec);for(const n of e.qualities)bn.encode(n,t.uint32(18).fork()).ldelim();return t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={codec:"",qualities:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.codec=n.string();break;case 2:i.qualities.push(bn.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({codec:On(e.codec)?String(e.codec):"",qualities:Array.isArray(null===e||void 0===e?void 0:e.qualities)?e.qualities.map((e=>bn.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.codec&&(t.codec=e.codec),e.qualities?t.qualities=e.qualities.map((e=>e?bn.toJSON(e):void 0)):t.qualities=[],t},fromPartial(e){var t,n;const r={codec:"",qualities:[]};return r.codec=null!==(t=e.codec)&&void 0!==t?t:"",r.qualities=(null===(n=e.qualities)||void 0===n?void 0:n.map((e=>bn.fromPartial(e))))||[],r}};const Sn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();""!==e.trackSid&&t.uint32(10).string(e.trackSid);for(const n of e.subscribedQualities)bn.encode(n,t.uint32(18).fork()).ldelim();for(const n of e.subscribedCodecs)wn.encode(n,t.uint32(26).fork()).ldelim();return t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={trackSid:"",subscribedQualities:[],subscribedCodecs:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.trackSid=n.string();break;case 2:i.subscribedQualities.push(bn.decode(n,n.uint32()));break;case 3:i.subscribedCodecs.push(wn.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({trackSid:On(e.trackSid)?String(e.trackSid):"",subscribedQualities:Array.isArray(null===e||void 0===e?void 0:e.subscribedQualities)?e.subscribedQualities.map((e=>bn.fromJSON(e))):[],subscribedCodecs:Array.isArray(null===e||void 0===e?void 0:e.subscribedCodecs)?e.subscribedCodecs.map((e=>wn.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.trackSid&&(t.trackSid=e.trackSid),e.subscribedQualities?t.subscribedQualities=e.subscribedQualities.map((e=>e?bn.toJSON(e):void 0)):t.subscribedQualities=[],e.subscribedCodecs?t.subscribedCodecs=e.subscribedCodecs.map((e=>e?wn.toJSON(e):void 0)):t.subscribedCodecs=[],t},fromPartial(e){var t,n,r;const i={trackSid:"",subscribedQualities:[],subscribedCodecs:[]};return i.trackSid=null!==(t=e.trackSid)&&void 0!==t?t:"",i.subscribedQualities=(null===(n=e.subscribedQualities)||void 0===n?void 0:n.map((e=>bn.fromPartial(e))))||[],i.subscribedCodecs=(null===(r=e.subscribedCodecs)||void 0===r?void 0:r.map((e=>wn.fromPartial(e))))||[],i}};const _n={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();""!==e.participantSid&&t.uint32(10).string(e.participantSid),!0===e.allTracks&&t.uint32(16).bool(e.allTracks);for(const n of e.trackSids)t.uint32(26).string(n);return""!==e.participantIdentity&&t.uint32(34).string(e.participantIdentity),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={participantSid:"",allTracks:!1,trackSids:[],participantIdentity:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.participantSid=n.string();break;case 2:i.allTracks=n.bool();break;case 3:i.trackSids.push(n.string());break;case 4:i.participantIdentity=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({participantSid:On(e.participantSid)?String(e.participantSid):"",allTracks:!!On(e.allTracks)&&Boolean(e.allTracks),trackSids:Array.isArray(null===e||void 0===e?void 0:e.trackSids)?e.trackSids.map((e=>String(e))):[],participantIdentity:On(e.participantIdentity)?String(e.participantIdentity):""}),toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.allTracks&&(t.allTracks=e.allTracks),e.trackSids?t.trackSids=e.trackSids.map((e=>e)):t.trackSids=[],void 0!==e.participantIdentity&&(t.participantIdentity=e.participantIdentity),t},fromPartial(e){var t,n,r,i;const a={participantSid:"",allTracks:!1,trackSids:[],participantIdentity:""};return a.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",a.allTracks=null!==(n=e.allTracks)&&void 0!==n&&n,a.trackSids=(null===(r=e.trackSids)||void 0===r?void 0:r.map((e=>e)))||[],a.participantIdentity=null!==(i=e.participantIdentity)&&void 0!==i?i:"",a}};const xn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();!0===e.allParticipants&&t.uint32(8).bool(e.allParticipants);for(const n of e.trackPermissions)_n.encode(n,t.uint32(18).fork()).ldelim();return t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={allParticipants:!1,trackPermissions:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.allParticipants=n.bool();break;case 2:i.trackPermissions.push(_n.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({allParticipants:!!On(e.allParticipants)&&Boolean(e.allParticipants),trackPermissions:Array.isArray(null===e||void 0===e?void 0:e.trackPermissions)?e.trackPermissions.map((e=>_n.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.allParticipants&&(t.allParticipants=e.allParticipants),e.trackPermissions?t.trackPermissions=e.trackPermissions.map((e=>e?_n.toJSON(e):void 0)):t.trackPermissions=[],t},fromPartial(e){var t,n;const r={allParticipants:!1,trackPermissions:[]};return r.allParticipants=null!==(t=e.allParticipants)&&void 0!==t&&t,r.trackPermissions=(null===(n=e.trackPermissions)||void 0===n?void 0:n.map((e=>_n.fromPartial(e))))||[],r}};const Tn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return""!==e.participantSid&&t.uint32(10).string(e.participantSid),""!==e.trackSid&&t.uint32(18).string(e.trackSid),!0===e.allowed&&t.uint32(24).bool(e.allowed),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={participantSid:"",trackSid:"",allowed:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.participantSid=n.string();break;case 2:i.trackSid=n.string();break;case 3:i.allowed=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({participantSid:On(e.participantSid)?String(e.participantSid):"",trackSid:On(e.trackSid)?String(e.trackSid):"",allowed:!!On(e.allowed)&&Boolean(e.allowed)}),toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.trackSid&&(t.trackSid=e.trackSid),void 0!==e.allowed&&(t.allowed=e.allowed),t},fromPartial(e){var t,n,r;const i={participantSid:"",trackSid:"",allowed:!1};return i.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",i.trackSid=null!==(n=e.trackSid)&&void 0!==n?n:"",i.allowed=null!==(r=e.allowed)&&void 0!==r&&r,i}};const kn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();void 0!==e.answer&&on.encode(e.answer,t.uint32(10).fork()).ldelim(),void 0!==e.subscription&&ln.encode(e.subscription,t.uint32(18).fork()).ldelim();for(const n of e.publishTracks)rn.encode(n,t.uint32(26).fork()).ldelim();for(const n of e.dataChannels)En.encode(n,t.uint32(34).fork()).ldelim();return t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={answer:void 0,subscription:void 0,publishTracks:[],dataChannels:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.answer=on.decode(n,n.uint32());break;case 2:i.subscription=ln.decode(n,n.uint32());break;case 3:i.publishTracks.push(rn.decode(n,n.uint32()));break;case 4:i.dataChannels.push(En.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({answer:On(e.answer)?on.fromJSON(e.answer):void 0,subscription:On(e.subscription)?ln.fromJSON(e.subscription):void 0,publishTracks:Array.isArray(null===e||void 0===e?void 0:e.publishTracks)?e.publishTracks.map((e=>rn.fromJSON(e))):[],dataChannels:Array.isArray(null===e||void 0===e?void 0:e.dataChannels)?e.dataChannels.map((e=>En.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.answer&&(t.answer=e.answer?on.toJSON(e.answer):void 0),void 0!==e.subscription&&(t.subscription=e.subscription?ln.toJSON(e.subscription):void 0),e.publishTracks?t.publishTracks=e.publishTracks.map((e=>e?rn.toJSON(e):void 0)):t.publishTracks=[],e.dataChannels?t.dataChannels=e.dataChannels.map((e=>e?En.toJSON(e):void 0)):t.dataChannels=[],t},fromPartial(e){var t,n;const r={answer:void 0,subscription:void 0,publishTracks:[],dataChannels:[]};return r.answer=void 0!==e.answer&&null!==e.answer?on.fromPartial(e.answer):void 0,r.subscription=void 0!==e.subscription&&null!==e.subscription?ln.fromPartial(e.subscription):void 0,r.publishTracks=(null===(t=e.publishTracks)||void 0===t?void 0:t.map((e=>rn.fromPartial(e))))||[],r.dataChannels=(null===(n=e.dataChannels)||void 0===n?void 0:n.map((e=>En.fromPartial(e))))||[],r}};const En={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return""!==e.label&&t.uint32(10).string(e.label),0!==e.id&&t.uint32(16).uint32(e.id),0!==e.target&&t.uint32(24).int32(e.target),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={label:"",id:0,target:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.label=n.string();break;case 2:i.id=n.uint32();break;case 3:i.target=n.int32();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({label:On(e.label)?String(e.label):"",id:On(e.id)?Number(e.id):0,target:On(e.target)?Wt(e.target):0}),toJSON(e){const t={};return void 0!==e.label&&(t.label=e.label),void 0!==e.id&&(t.id=Math.round(e.id)),void 0!==e.target&&(t.target=qt(e.target)),t},fromPartial(e){var t,n,r;const i={label:"",id:0,target:0};return i.label=null!==(t=e.label)&&void 0!==t?t:"",i.id=null!==(n=e.id)&&void 0!==n?n:0,i.target=null!==(r=e.target)&&void 0!==r?r:0,i}};const Cn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt.Writer.create();return void 0!==e.speakerUpdate&&t.uint32(8).int32(e.speakerUpdate),void 0!==e.nodeFailure&&t.uint32(16).bool(e.nodeFailure),void 0!==e.migration&&t.uint32(24).bool(e.migration),void 0!==e.serverLeave&&t.uint32(32).bool(e.serverLeave),void 0!==e.switchCandidateProtocol&&t.uint32(40).int32(e.switchCandidateProtocol),t},decode(e,t){const n=e instanceof nt.Reader?e:new nt.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={speakerUpdate:void 0,nodeFailure:void 0,migration:void 0,serverLeave:void 0,switchCandidateProtocol:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.speakerUpdate=n.int32();break;case 2:i.nodeFailure=n.bool();break;case 3:i.migration=n.bool();break;case 4:i.serverLeave=n.bool();break;case 5:i.switchCandidateProtocol=n.int32();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({speakerUpdate:On(e.speakerUpdate)?Number(e.speakerUpdate):void 0,nodeFailure:On(e.nodeFailure)?Boolean(e.nodeFailure):void 0,migration:On(e.migration)?Boolean(e.migration):void 0,serverLeave:On(e.serverLeave)?Boolean(e.serverLeave):void 0,switchCandidateProtocol:On(e.switchCandidateProtocol)?Kt(e.switchCandidateProtocol):void 0}),toJSON(e){const t={};return void 0!==e.speakerUpdate&&(t.speakerUpdate=Math.round(e.speakerUpdate)),void 0!==e.nodeFailure&&(t.nodeFailure=e.nodeFailure),void 0!==e.migration&&(t.migration=e.migration),void 0!==e.serverLeave&&(t.serverLeave=e.serverLeave),void 0!==e.switchCandidateProtocol&&(t.switchCandidateProtocol=void 0!==e.switchCandidateProtocol?function(e){switch(e){case Gt.UDP:return"UDP";case Gt.TCP:return"TCP";default:return"UNKNOWN"}}(e.switchCandidateProtocol):void 0),t},fromPartial(e){var t,n,r,i,a;const o={speakerUpdate:void 0,nodeFailure:void 0,migration:void 0,serverLeave:void 0,switchCandidateProtocol:void 0};return o.speakerUpdate=null!==(t=e.speakerUpdate)&&void 0!==t?t:void 0,o.nodeFailure=null!==(n=e.nodeFailure)&&void 0!==n?n:void 0,o.migration=null!==(r=e.migration)&&void 0!==r?r:void 0,o.serverLeave=null!==(i=e.serverLeave)&&void 0!==i?i:void 0,o.switchCandidateProtocol=null!==(a=e.switchCandidateProtocol)&&void 0!==a?a:void 0,o}};function On(e){return null!==e&&void 0!==e}nt.util.Long!==d&&(nt.util.Long=d,nt.configure());class Pn extends Error{constructor(e,t){super(t||"an error has occured"),this.code=e}}class In extends Pn{constructor(e){super(1,e)}}class An extends Pn{constructor(e){super(20,e||"Track is invalid")}}class Dn extends Pn{constructor(e){super(10,e||"Unsupported server")}}class Mn extends Pn{constructor(e){super(12,e||"Unexpected connection state")}}var Rn,Nn,Ln,jn,Bn;!function(e){e.PermissionDenied="PermissionDenied",e.NotFound="NotFound",e.DeviceInUse="DeviceInUse",e.Other="Other"}(Rn||(Rn={})),function(e){e.getFailure=function(t){if(t&&"name"in t)return"NotFoundError"===t.name||"DevicesNotFoundError"===t.name?e.NotFound:"NotAllowedError"===t.name||"PermissionDeniedError"===t.name?e.PermissionDenied:"NotReadableError"===t.name||"TrackStartError"===t.name?e.DeviceInUse:e.Other}}(Rn||(Rn={})),function(e){e.Reconnecting="reconnecting",e.Reconnected="reconnected",e.Disconnected="disconnected",e.ConnectionStateChanged="connectionStateChanged",e.StateChanged="connectionStateChanged",e.MediaDevicesChanged="mediaDevicesChanged",e.ParticipantConnected="participantConnected",e.ParticipantDisconnected="participantDisconnected",e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.ActiveSpeakersChanged="activeSpeakersChanged",e.ParticipantMetadataChanged="participantMetadataChanged",e.RoomMetadataChanged="roomMetadataChanged",e.DataReceived="dataReceived",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.AudioPlaybackStatusChanged="audioPlaybackChanged",e.MediaDevicesError="mediaDevicesError",e.ParticipantPermissionsChanged="participantPermissionsChanged",e.SignalConnected="signalConnected"}(Nn||(Nn={})),function(e){e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.ParticipantMetadataChanged="participantMetadataChanged",e.DataReceived="dataReceived",e.IsSpeakingChanged="isSpeakingChanged",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.MediaDevicesError="mediaDevicesError",e.ParticipantPermissionsChanged="participantPermissionsChanged"}(Ln||(Ln={})),function(e){e.TransportsCreated="transportsCreated",e.Connected="connected",e.Disconnected="disconnected",e.Resuming="resuming",e.Resumed="resumed",e.Restarting="restarting",e.Restarted="restarted",e.SignalResumed="signalResumed",e.MediaTrackAdded="mediaTrackAdded",e.ActiveSpeakersUpdate="activeSpeakersUpdate",e.DataPacketReceived="dataPacketReceived"}(jn||(jn={})),function(e){e.Message="message",e.Muted="muted",e.Unmuted="unmuted",e.Ended="ended",e.Subscribed="subscribed",e.Unsubscribed="unsubscribed",e.UpdateSettings="updateSettings",e.UpdateSubscription="updateSubscription",e.AudioPlaybackStarted="audioPlaybackStarted",e.AudioPlaybackFailed="audioPlaybackFailed",e.AudioSilenceDetected="audioSilenceDetected",e.VisibilityChanged="visibilityChanged",e.VideoDimensionsChanged="videoDimensionsChanged",e.ElementAttached="elementAttached",e.ElementDetached="elementDetached",e.UpstreamPaused="upstreamPaused",e.UpstreamResumed="upstreamResumed",e.SubscriptionPermissionChanged="subscriptionPermissionChanged"}(Bn||(Bn={}));const Fn=2e3;function Un(e,t){if(!t)return 0;let n,r;return"bytesReceived"in e?(n=e.bytesReceived,r=t.bytesReceived):"bytesSent"in e&&(n=e.bytesSent,r=t.bytesSent),void 0===n||void 0===r||void 0===e.timestamp||void 0===t.timestamp?0:8*(n-r)*1e3/(e.timestamp-t.timestamp)}async function Hn(e){return new Promise((t=>setTimeout(t,e)))}function zn(){return!!$n()&&-1!==navigator.userAgent.indexOf("Firefox")}function Vn(){return!!$n()&&/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent)}function $n(){return"undefined"!==typeof document}function Gn(e){for(const t of e)t.target.handleResize(t)}function Wn(e){for(const t of e)t.target.handleVisibilityChanged(t)}let qn=null;const Zn=()=>(qn||(qn=new ResizeObserver(Gn)),qn);let Kn=null;const Xn=()=>(Kn||(Kn=new IntersectionObserver(Wn,{root:document,rootMargin:"0px"})),Kn);let Yn,Qn;class Jn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class er{constructor(e,t){this.maxConcurrent=e||1,this.minCycle=t||0,this.queueRunning=[],this.queueWaiting={},this.lastRun=0}dequeue(e){const t=this.queueRunning,n=t.findIndex((t=>t.hash===e));if(-1==n)throw"queue desync";const r=t[n];return t.splice(n,1),r}getFirstWaiting(){for(let e of Object.keys(this.queueWaiting).sort(((e,t)=>e-t)))if(void 0!==this.queueWaiting[e]&&this.queueWaiting[e].length>0)return this.queueWaiting[e]}end(e){this.dequeue(e).resolve();const t=this.getFirstWaiting();if(void 0!==t){t.shift().resolve()}}async wait(e,t){const n=void 0===t?0:t;let r={hash:e,priority:n};for(void 0==this.queueWaiting[n]&&(this.queueWaiting[n]=[]),this.queueRunning.length>=this.maxConcurrent&&(r.promise=new Promise((e=>{r.resolve=e})),this.queueWaiting[n].push(r),await r.promise),this.queueRunning.push(r),r.promise=new Promise((e=>{r.resolve=e}));Date.now()-this.lastRun<this.minCycle;)await new Promise((e=>setTimeout(e,this.minCycle-Date.now()+this.lastRun)));this.lastRun=Date.now()}run(e,t){const n=void 0===t?0:t,r=Symbol();return this.wait(r,n).then((()=>e())).finally((()=>{this.end(r)}))}stat(){return{running:this.queueRunning.length,waiting:Object.keys(this.queueWaiting).reduce(((e,t)=>e+this.queueWaiting[t].length),0),last:this.lastRun}}async flush(){for(;this.stat().waiting>0;)for(let e of Object.keys(this.queueWaiting).sort(((e,t)=>t-e))){const t=this.queueWaiting[e];void 0!==t&&t.length>0&&await t[t.length-1].promise}for(;this.queueRunning.length>0;)await Promise.allSettled(this.queueRunning.map((e=>e.promise)))}}const tr="default";class nr{static getInstance(){return void 0===this.instance&&(this.instance=new nr),this.instance}async getDevices(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=await navigator.mediaDevices.enumerateDevices();if(t){if(0===n.length||n.some((t=>{const n=""===t.label,r=!e||t.kind===e;return n&&r}))){const t={video:"audioinput"!==e&&"audiooutput"!==e,audio:"videoinput"!==e},r=await navigator.mediaDevices.getUserMedia(t);n=await navigator.mediaDevices.enumerateDevices(),r.getTracks().forEach((e=>{e.stop()}))}}if(e&&(n=n.filter((t=>t.kind===e))),n.length>1&&n[0].deviceId===tr){const e=n[0];for(let t=1;t<n.length;t+=1)if(n[t].groupId===e.groupId){const e=n[0];n[0]=n[t],n[t]=e;break}return n.filter((t=>t!==e))}return n}async normalizeDeviceId(e,t,n){if(t!==tr)return t;const r=(await this.getDevices(e)).find((e=>e.groupId===n&&e.deviceId!==tr));return null===r||void 0===r?void 0:r.deviceId}}nr.mediaDeviceKinds=["audioinput","audiooutput","videoinput"];var rr,ir={exports:{}},ar="object"===typeof Reflect?Reflect:null,or=ar&&"function"===typeof ar.apply?ar.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};rr=ar&&"function"===typeof ar.ownKeys?ar.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var sr=Number.isNaN||function(e){return e!==e};function lr(){lr.init.call(this)}ir.exports=lr,ir.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}yr(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&yr(e,"error",t,n)}(e,i,{once:!0})}))},lr.EventEmitter=lr,lr.prototype._events=void 0,lr.prototype._eventsCount=0,lr.prototype._maxListeners=void 0;var ur=10;function cr(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function dr(e){return void 0===e._maxListeners?lr.defaultMaxListeners:e._maxListeners}function fr(e,t,n,r){var i,a,o,s;if(cr(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=dr(e))>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,s=l,console&&console.warn&&console.warn(s)}return e}function pr(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function hr(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=pr.bind(r);return i.listener=n,r.wrapFn=i,i}function mr(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):vr(i,i.length)}function gr(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function vr(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function yr(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(lr,"defaultMaxListeners",{enumerable:!0,get:function(){return ur},set:function(e){if("number"!==typeof e||e<0||sr(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");ur=e}}),lr.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},lr.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||sr(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},lr.prototype.getMaxListeners=function(){return dr(this)},lr.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var s=i[e];if(void 0===s)return!1;if("function"===typeof s)or(s,this,t);else{var l=s.length,u=vr(s,l);for(n=0;n<l;++n)or(u[n],this,t)}return!0},lr.prototype.addListener=function(e,t){return fr(this,e,t,!1)},lr.prototype.on=lr.prototype.addListener,lr.prototype.prependListener=function(e,t){return fr(this,e,t,!0)},lr.prototype.once=function(e,t){return cr(t),this.on(e,hr(this,e,t)),this},lr.prototype.prependOnceListener=function(e,t){return cr(t),this.prependListener(e,hr(this,e,t)),this},lr.prototype.removeListener=function(e,t){var n,r,i,a,o;if(cr(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},lr.prototype.off=lr.prototype.removeListener,lr.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},lr.prototype.listeners=function(e){return mr(this,e,!0)},lr.prototype.rawListeners=function(e){return mr(this,e,!1)},lr.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):gr.call(e,t)},lr.prototype.listenerCount=gr,lr.prototype.eventNames=function(){return this._eventsCount>0?rr(this._events):[]};const br=[];class wr extends ir.exports.EventEmitter{constructor(e,t){super(),this.attachedElements=[],this.isMuted=!1,this.streamState=wr.StreamState.Active,this._currentBitrate=0,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),"hidden"===document.visibilityState?this.backgroundTimeout=setTimeout((()=>this.handleAppVisibilityChanged()),5e3):this.handleAppVisibilityChanged()},this.kind=t,this._mediaStreamTrack=e,this._mediaStreamID=e.id,this.source=wr.Source.Unknown,$n()?(this.isInBackground="hidden"===document.visibilityState,document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(e){let t="audio";return this.kind===wr.Kind.Video&&(t="video"),e||("audio"===t&&(br.forEach((t=>{null!==t.parentElement||e||(e=t)})),e&&br.splice(br.indexOf(e),1)),e||(e=document.createElement(t))),this.attachedElements.includes(e)||this.attachedElements.push(e),Sr(this._mediaStreamTrack,e),e instanceof HTMLAudioElement&&e.play().then((()=>{this.emit(Bn.AudioPlaybackStarted)})).catch((e=>{this.emit(Bn.AudioPlaybackFailed,e)})),this.emit(Bn.ElementAttached,e),e}detach(e){if(e){_r(this._mediaStreamTrack,e);const t=this.attachedElements.indexOf(e);return t>=0&&(this.attachedElements.splice(t,1),this.recycleElement(e),this.emit(Bn.ElementDetached,e)),e}const t=[];return this.attachedElements.forEach((e=>{_r(this._mediaStreamTrack,e),t.push(e),this.recycleElement(e),this.emit(Bn.ElementDetached,e)})),this.attachedElements=[],t}stop(){this._mediaStreamTrack.stop(),$n()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}recycleElement(e){if(e instanceof HTMLAudioElement){let t=!0;e.pause(),br.forEach((e=>{e.parentElement||(t=!1)})),t&&br.push(e)}}async handleAppVisibilityChanged(){this.isInBackground="hidden"===document.visibilityState}}function Sr(e,t){let n,r;n=t.srcObject instanceof MediaStream?t.srcObject:new MediaStream,r="audio"===e.kind?n.getAudioTracks():n.getVideoTracks(),r.includes(e)||(r.forEach((e=>{n.removeTrack(e)})),n.addTrack(e)),t.srcObject!==n&&(t.srcObject=n,($n()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||zn())&&t instanceof HTMLVideoElement&&setTimeout((()=>{t.srcObject=n,t.play().catch((()=>{}))}),0)),t.autoplay=!0,t instanceof HTMLVideoElement&&(t.playsInline=!0)}function _r(e,t){if(t.srcObject instanceof MediaStream){const n=t.srcObject;n.removeTrack(e),n.getTracks().length>0?t.srcObject=n:t.srcObject=null}}!function(e){let t,n,r;!function(e){e.Audio="audio",e.Video="video",e.Unknown="unknown"}(t=e.Kind||(e.Kind={})),function(e){e.Camera="camera",e.Microphone="microphone",e.ScreenShare="screen_share",e.ScreenShareAudio="screen_share_audio",e.Unknown="unknown"}(n=e.Source||(e.Source={})),function(e){e.Active="active",e.Paused="paused",e.Unknown="unknown"}(r=e.StreamState||(e.StreamState={})),e.kindToProto=function(e){switch(e){case t.Audio:return qe.AUDIO;case t.Video:return qe.VIDEO;default:return qe.UNRECOGNIZED}},e.kindFromProto=function(e){switch(e){case qe.AUDIO:return t.Audio;case qe.VIDEO:return t.Video;default:return t.Unknown}},e.sourceToProto=function(e){switch(e){case n.Camera:return Ze.CAMERA;case n.Microphone:return Ze.MICROPHONE;case n.ScreenShare:return Ze.SCREEN_SHARE;case n.ScreenShareAudio:return Ze.SCREEN_SHARE_AUDIO;default:return Ze.UNRECOGNIZED}},e.sourceFromProto=function(e){switch(e){case Ze.CAMERA:return n.Camera;case Ze.MICROPHONE:return n.Microphone;case Ze.SCREEN_SHARE:return n.ScreenShare;case Ze.SCREEN_SHARE_AUDIO:return n.ScreenShareAudio;default:return n.Unknown}},e.streamStateFromProto=function(e){switch(e){case $t.ACTIVE:return r.Active;case $t.PAUSED:return r.Paused;default:return r.Unknown}}}(wr||(wr={}));class xr extends wr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(e,t),this._isUpstreamPaused=!1,this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this.emit(Bn.Ended,this)},this._mediaStreamTrack.addEventListener("ended",this.handleEnded),this.constraints=null!==n&&void 0!==n?n:e.getConstraints(),this.reacquireTrack=!1,this.wasMuted=!1,this.providedByUser=r,this.muteQueue=new er}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==wr.Kind.Video)return;const{width:e,height:t}=this._mediaStreamTrack.getSettings();return e&&t?{width:e,height:t}:void 0}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}async getDeviceId(){if(this.source===wr.Source.ScreenShare)return;const{deviceId:e,groupId:t}=this._mediaStreamTrack.getSettings(),n=this.kind===wr.Kind.Audio?"audioinput":"videoinput";return nr.getInstance().normalizeDeviceId(n,e,t)}async mute(){return this.setTrackMuted(!0),this}async unmute(){return this.setTrackMuted(!1),this}async replaceTrack(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.sender)throw new An("unable to replace an unpublished track");return this.attachedElements.forEach((e=>{_r(this._mediaStreamTrack,e)})),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this.providedByUser||this._mediaStreamTrack.stop(),e.addEventListener("ended",this.handleEnded),c.debug("replace MediaStreamTrack"),this.sender&&await this.sender.replaceTrack(e),this._mediaStreamTrack=e,await this.resumeUpstream(),this.attachedElements.forEach((t=>{Sr(e,t)})),this.mediaStream=new MediaStream([e]),this.providedByUser=t,this}async restart(e){e||(e=this.constraints),c.debug("restarting track with constraints",e);const t={audio:!1,video:!1};this.kind===wr.Kind.Video?t.video=e:t.audio=e,this.attachedElements.forEach((e=>{_r(this._mediaStreamTrack,e)})),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const n=await navigator.mediaDevices.getUserMedia(t),r=n.getTracks()[0];return r.addEventListener("ended",this.handleEnded),c.debug("re-acquired MediaStreamTrack"),this.sender&&await this.sender.replaceTrack(r),this._mediaStreamTrack=r,await this.resumeUpstream(),this.attachedElements.forEach((e=>{Sr(r,e)})),this.mediaStream=n,this.constraints=e,this}setTrackMuted(e){c.debug("setting ".concat(this.kind," track ").concat(e?"muted":"unmuted")),this.isMuted!==e&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?Bn.Muted:Bn.Unmuted,this))}get needsReAcquisition(){return"live"!==this._mediaStreamTrack.readyState||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}async handleAppVisibilityChanged(){await super.handleAppVisibilityChanged(),Vn()&&(c.debug("visibility changed, is in Background: ".concat(this.isInBackground)),this.isInBackground||!this.needsReAcquisition||this.isUserProvided||(c.debug("track needs to be reaquired, restarting ".concat(this.source)),await this.restart(),this.reacquireTrack=!1,this.setTrackMuted(this.wasMuted)),this.isInBackground&&(this.wasMuted=this.isMuted))}async pauseUpstream(){this.muteQueue.run((async()=>{if(!0===this._isUpstreamPaused)return;if(!this.sender)return void c.warn("unable to pause upstream for an unpublished track");this._isUpstreamPaused=!0,this.emit(Bn.UpstreamPaused,this);const e=this.kind===wr.Kind.Audio?function(){if(!Qn){const e=new AudioContext,t=e.createOscillator(),n=e.createMediaStreamDestination();if(t.connect(n),t.start(),[Qn]=n.stream.getAudioTracks(),!Qn)throw Error("Could not get empty media stream audio track");Qn.enabled=!1}return Qn}():function(){var e;if(!Yn){const t=document.createElement("canvas");t.width=16,t.height=16,null===(e=t.getContext("2d"))||void 0===e||e.fillRect(0,0,t.width,t.height);const n=t.captureStream();if([Yn]=n.getTracks(),!Yn)throw Error("Could not get empty media stream video track");Yn.enabled=!1}return Yn}();await this.sender.replaceTrack(e)}))}async resumeUpstream(){this.muteQueue.run((async()=>{!1!==this._isUpstreamPaused&&(this.sender?(this._isUpstreamPaused=!1,this.emit(Bn.UpstreamResumed,this),await this.sender.replaceTrack(this._mediaStreamTrack)):c.warn("unable to resume upstream for an unpublished track"))}))}}function Tr(e,t,n){const r=Ht({},e);return!0===r.audio&&(r.audio={}),!0===r.video&&(r.video={}),r.audio&&kr(r.audio,t),r.video&&kr(r.video,n),r}function kr(e,t){return Object.keys(t).forEach((n=>{void 0===e[n]&&(e[n]=t[n])})),e}function Er(e){const t={};if(e.video)if("object"===typeof e.video){const n={},r=n,i=e.video;Object.keys(i).forEach((e=>{if("resolution"===e)kr(r,i.resolution);else r[e]=i[e]})),t.video=n}else t.video=e.video;else t.video=!1;return e.audio?"object"===typeof e.audio?t.audio=e.audio:t.audio=!0:t.audio=!1,t}function Cr(){const e=window.AudioContext||window.webkitAudioContext;if(e)return new e}class Or extends xr{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,wr.Kind.Audio,t,n),this.stopOnMute=!1,this.monitorSender=async()=>{if(!this.sender)return void(this._currentBitrate=0);let e;try{e=await this.getSenderStats()}catch(qa){return void c.error("could not get audio sender stats",{error:qa})}e&&this.prevStats&&(this._currentBitrate=Un(e,this.prevStats)),this.prevStats=e,setTimeout((()=>{this.monitorSender()}),Fn)},this.checkForSilence()}async setDeviceId(e){this.constraints.deviceId!==e&&(this.constraints.deviceId=e,this.isMuted||await this.restartTrack())}async mute(){return await this.muteQueue.run((async()=>{this.source===wr.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(c.debug("stopping mic track"),this._mediaStreamTrack.stop()),await super.mute()})),this}async unmute(){return await this.muteQueue.run((async()=>{this.source===wr.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(c.debug("reacquiring mic track"),await this.restartTrack()),await super.unmute()})),this}async restartTrack(e){let t;if(e){const n=Er({audio:e});"boolean"!==typeof n.audio&&(t=n.audio)}await this.restart(t)}async restart(e){const t=await super.restart(e);return this.checkForSilence(),t}startMonitor(){$n()&&setTimeout((()=>{this.monitorSender()}),Fn)}async getSenderStats(){if(!this.sender)return;let e;return(await this.sender.getStats()).forEach((t=>{"outbound-rtp"===t.type&&(e={type:"audio",streamId:t.id,packetsSent:t.packetsSent,packetsLost:t.packetsLost,bytesSent:t.bytesSent,timestamp:t.timestamp,roundTripTime:t.roundTripTime,jitter:t.jitter})})),e}async checkForSilence(){const e=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;const n=Cr();if(n){const r=n.createAnalyser();r.fftSize=2048;const i=r.frequencyBinCount,a=new Uint8Array(i);n.createMediaStreamSource(new MediaStream([e.mediaStreamTrack])).connect(r),await Hn(t),r.getByteTimeDomainData(a);const o=a.some((e=>128!==e&&0!==e));return n.close(),!o}return!1}(this);e&&(this.isMuted||c.warn("silence detected on local audio track"),this.emit(Bn.AudioSilenceDetected))}}class Pr extends xr{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,wr.Kind.Video,t,n),this.simulcastCodecs=new Map,this.monitorSender=async()=>{if(!this.sender)return void(this._currentBitrate=0);let e;try{e=await this.getSenderStats()}catch(qa){return void c.error("could not get audio sender stats",{error:qa})}const t=new Map(e.map((e=>[e.rid,e])));if(this.prevStats){let e=0;t.forEach(((t,n)=>{var r;const i=null===(r=this.prevStats)||void 0===r?void 0:r.get(n);e+=Un(t,i)})),this._currentBitrate=e}this.prevStats=t,setTimeout((()=>{this.monitorSender()}),Fn)}}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(e){var t;if(this.signalClient=e,!$n())return;const n=null===(t=this.sender)||void 0===t?void 0:t.getParameters();n&&(this.encodings=n.encodings),setTimeout((()=>{this.monitorSender()}),Fn)}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach((e=>{e.mediaStreamTrack.stop(),e.sender=void 0})),this.simulcastCodecs.clear(),super.stop()}async mute(){return await this.muteQueue.run((async()=>{this.source!==wr.Source.Camera||this.isUserProvided||(c.debug("stopping camera track"),this._mediaStreamTrack.stop()),await super.mute()})),this}async unmute(){return await this.muteQueue.run((async()=>{this.source!==wr.Source.Camera||this.isUserProvided||(c.debug("reacquiring camera track"),await this.restartTrack()),await super.unmute()})),this}async getSenderStats(){if(!this.sender)return[];const e=[],t=await this.sender.getStats();return t.forEach((n=>{var r;if("outbound-rtp"===n.type){const i={type:"video",streamId:n.id,frameHeight:n.frameHeight,frameWidth:n.frameWidth,firCount:n.firCount,pliCount:n.pliCount,nackCount:n.nackCount,packetsSent:n.packetsSent,bytesSent:n.bytesSent,framesSent:n.framesSent,timestamp:n.timestamp,rid:null!==(r=n.rid)&&void 0!==r?r:n.id,retransmittedPacketsSent:n.retransmittedPacketsSent,qualityLimitationReason:n.qualityLimitationReason,qualityLimitationResolutionChanges:n.qualityLimitationResolutionChanges},a=t.get(n.remoteId);a&&(i.jitter=a.jitter,i.packetsLost=a.packetsLost,i.roundTripTime=a.roundTripTime),e.push(i)}})),e}setPublishingQuality(e){const t=[];for(let n=Ke.LOW;n<=Ke.HIGH;n+=1)t.push({quality:n,enabled:n<=e});c.debug("setting publishing quality. max quality ".concat(e)),this.setPublishingLayers(t)}async setDeviceId(e){this.constraints.deviceId!==e&&(this.constraints.deviceId=e,this.isMuted||await this.restartTrack())}async restartTrack(e){let t;if(e){const n=Er({video:e});"boolean"!==typeof n.video&&(t=n.video)}await this.restart(t)}addSimulcastTrack(e,t){if(this.simulcastCodecs.has(e))throw new Error("".concat(e," already added"));const n={codec:e,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:t};return this.simulcastCodecs.set(e,n),n}setSimulcastTrackSender(e,t){const n=this.simulcastCodecs.get(e);n&&(n.sender=t,setTimeout((()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)}),5e3))}async setPublishingCodecs(e){if(c.debug("setting publishing codecs",{codecs:e,currentCodec:this.codec}),!this.codec&&e.length>0)return await this.setPublishingLayers(e[0].qualities),[];this.subscribedCodecs=e;const t=[];for await(const n of e)if(this.codec&&this.codec!==n.codec){const e=this.simulcastCodecs.get(n.codec);if(c.debug("try setPublishingCodec for ".concat(n.codec),e),e&&e.sender)e.encodings&&(c.debug("try setPublishingLayersForSender ".concat(n.codec)),await Ir(e.sender,e.encodings,n.qualities));else for(const r of n.qualities)if(r.enabled){t.push(n.codec);break}}else await this.setPublishingLayers(n.qualities);return t}async setPublishingLayers(e){c.debug("setting publishing layers",e),this.sender&&this.encodings&&await Ir(this.sender,this.encodings,e)}async handleAppVisibilityChanged(){await super.handleAppVisibilityChanged(),Vn()&&this.isInBackground&&this.source===wr.Source.Camera&&(this._mediaStreamTrack.enabled=!1)}}async function Ir(e,t,n){c.debug("setPublishingLayersForSender",{sender:e,qualities:n,senderEncodings:t});const r=e.getParameters(),{encodings:i}=r;if(!i)return;if(i.length!==t.length)return void c.warn("cannot set publishing layers, encodings mismatch");let a=!1;i.forEach(((e,r)=>{var i;let o=null!==(i=e.rid)&&void 0!==i?i:"";""===o&&(o="q");const s=Ar(o),l=n.find((e=>e.quality===s));l&&e.active!==l.enabled&&(a=!0,e.active=l.enabled,c.debug("setting layer ".concat(l.quality," to ").concat(e.active?"enabled":"disabled")),zn()&&(l.enabled?(e.scaleResolutionDownBy=t[r].scaleResolutionDownBy,e.maxBitrate=t[r].maxBitrate,e.maxFrameRate=t[r].maxFrameRate):(e.scaleResolutionDownBy=4,e.maxBitrate=10,e.maxFrameRate=2)))})),a&&(r.encodings=i,await e.setParameters(r))}function Ar(e){switch(e){case"f":return Ke.HIGH;case"h":return Ke.MEDIUM;case"q":return Ke.LOW;default:return Ke.UNRECOGNIZED}}function Dr(e,t,n){return n?n.map((r=>{var i,a,o;const s=null!==(i=r.scaleResolutionDownBy)&&void 0!==i?i:1;let l=Ar(null!==(a=r.rid)&&void 0!==a?a:"");return l===Ke.UNRECOGNIZED&&1===n.length&&(l=Ke.HIGH),{quality:l,width:e/s,height:t/s,bitrate:null!==(o=r.maxBitrate)&&void 0!==o?o:0,ssrc:0}})):[{quality:Ke.HIGH,width:e,height:t,bitrate:0,ssrc:0}]}class Mr extends wr{constructor(e,t,n,r){super(e,n),this.sid=t,this.receiver=r}setMuted(e){this.isMuted!==e&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?Bn.Muted:Bn.Unmuted,this))}setMediaStream(e){this.mediaStream=e,e.onremovetrack=()=>{this.receiver=void 0,this._currentBitrate=0,this.emit(Bn.Ended,this)}}start(){this.startMonitor(),super.enable()}stop(){super.disable()}startMonitor(){setTimeout((()=>{this.monitorReceiver()}),Fn)}}class Rr extends Mr{constructor(e,t,n){super(e,t,wr.Kind.Audio,n),this.monitorReceiver=async()=>{if(!this.receiver)return void(this._currentBitrate=0);const e=await this.getReceiverStats();e&&this.prevStats&&this.receiver&&(this._currentBitrate=Un(e,this.prevStats)),this.prevStats=e,setTimeout((()=>{this.monitorReceiver()}),Fn)},this.elementVolume=1}setVolume(e){for(const t of this.attachedElements)t.volume=e;this.elementVolume=e}getVolume(){return this.elementVolume}attach(e){return e?super.attach(e):e=super.attach(),e.volume=this.elementVolume,e}async getReceiverStats(){if(!this.receiver)return;let e;return(await this.receiver.getStats()).forEach((t=>{"inbound-rtp"===t.type&&(e={type:"audio",timestamp:t.timestamp,jitter:t.jitter,bytesReceived:t.bytesReceived,concealedSamples:t.concealedSamples,concealmentEvents:t.concealmentEvents,silentConcealedSamples:t.silentConcealedSamples,silentConcealmentEvents:t.silentConcealmentEvents,totalAudioEnergy:t.totalAudioEnergy,totalSamplesDuration:t.totalSamplesDuration})})),e}}function Nr(e,t,n){var r,i,a;void 0===t&&(t=50),void 0===n&&(n={});var o=null!=(r=n.isImmediate)&&r,s=null!=(i=n.callback)&&i,l=n.maxWait,u=Date.now(),c=[];function d(){if(void 0!==l){var e=Date.now()-u;if(e+t>=l)return l-e}return t}var f=function(){var t=[].slice.call(arguments),n=this;return new Promise((function(r,i){var l=o&&void 0===a;if(void 0!==a&&clearTimeout(a),a=setTimeout((function(){if(a=void 0,u=Date.now(),!o){var r=e.apply(n,t);s&&s(r),c.forEach((function(e){return(0,e.resolve)(r)})),c=[]}}),d()),l){var f=e.apply(n,t);return s&&s(f),r(f)}c.push({resolve:r,reject:i})}))};return f.cancel=function(e){void 0!==a&&clearTimeout(a),c.forEach((function(t){return(0,t.reject)(e)})),c=[]},f}class Lr extends Mr{constructor(e,t,n,r){super(e,t,wr.Kind.Video,n),this.elementInfos=[],this.hasUsedAttach=!1,this.monitorReceiver=async()=>{if(!this.receiver)return void(this._currentBitrate=0);const e=await this.getReceiverStats();e&&this.prevStats&&this.receiver&&(this._currentBitrate=Un(e,this.prevStats)),this.prevStats=e,setTimeout((()=>{this.monitorReceiver()}),Fn)},this.debouncedHandleResize=Nr((()=>{this.updateDimensions()}),100),this.adaptiveStreamSettings=r,this.isAdaptiveStream&&(this.streamState=wr.StreamState.Paused)}get isAdaptiveStream(){return void 0!==this.adaptiveStreamSettings}get mediaStreamTrack(){return this.isAdaptiveStream&&!this.hasUsedAttach&&c.warn("When using adaptiveStream, you need to use remoteVideoTrack.attach() to add the track to a HTMLVideoElement, otherwise your video tracks might never start"),this._mediaStreamTrack}setMuted(e){super.setMuted(e),this.attachedElements.forEach((t=>{e?_r(this._mediaStreamTrack,t):Sr(this._mediaStreamTrack,t)}))}attach(e){if(e?super.attach(e):e=super.attach(),this.adaptiveStreamSettings&&void 0===this.elementInfos.find((t=>t.element===e))){const t=new jr(e);this.observeElementInfo(t)}return this.hasUsedAttach=!0,e}observeElementInfo(e){this.adaptiveStreamSettings&&void 0===this.elementInfos.find((t=>t===e))?(e.handleResize=()=>{this.debouncedHandleResize()},e.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(e),e.observe(),this.debouncedHandleResize(),this.updateVisibility()):c.warn("visibility resize observer not triggered")}stopObservingElementInfo(e){const t=this.elementInfos.filter((t=>t===e));for(const n of t)n.stopObserving();this.elementInfos=this.elementInfos.filter((t=>t!==e)),this.updateVisibility()}detach(e){let t=[];if(e)return this.stopObservingElement(e),super.detach(e);t=super.detach();for(const n of t)this.stopObservingElement(n);return t}getDecoderImplementation(){var e;return null===(e=this.prevStats)||void 0===e?void 0:e.decoderImplementation}async getReceiverStats(){if(!this.receiver)return;let e;return(await this.receiver.getStats()).forEach((t=>{"inbound-rtp"===t.type&&(e={type:"video",framesDecoded:t.framesDecoded,framesDropped:t.framesDropped,framesReceived:t.framesReceived,packetsReceived:t.packetsReceived,packetsLost:t.packetsLost,frameWidth:t.frameWidth,frameHeight:t.frameHeight,pliCount:t.pliCount,firCount:t.firCount,nackCount:t.nackCount,jitter:t.jitter,timestamp:t.timestamp,bytesReceived:t.bytesReceived,decoderImplementation:t.decoderImplementation})})),e}stopObservingElement(e){const t=this.elementInfos.filter((t=>t.element===e));for(const n of t)n.stopObserving();this.elementInfos=this.elementInfos.filter((t=>t.element!==e))}async handleAppVisibilityChanged(){await super.handleAppVisibilityChanged(),this.isAdaptiveStream&&this.updateVisibility()}updateVisibility(){var e,t;const n=this.elementInfos.reduce(((e,t)=>Math.max(e,t.visibilityChangedAt||0)),0),r=!(null!==(t=null===(e=this.adaptiveStreamSettings)||void 0===e?void 0:e.pauseVideoInBackground)&&void 0!==t&&!t)&&this.isInBackground,i=this.elementInfos.some((e=>e.visible))&&!r;this.lastVisible!==i&&(!i&&Date.now()-n<100?setTimeout((()=>{this.updateVisibility()}),100):(this.lastVisible=i,this.emit(Bn.VisibilityChanged,i,this)))}updateDimensions(){var e,t,n,r;let i=0,a=0;for(const o of this.elementInfos){const n=null!==(t=null===(e=this.adaptiveStreamSettings)||void 0===e?void 0:e.pixelDensity)&&void 0!==t?t:1,r="screen"===n?window.devicePixelRatio:n,s=o.width()*r,l=o.height()*r;s+l>i+a&&(i=s,a=l)}(null===(n=this.lastDimensions)||void 0===n?void 0:n.width)===i&&(null===(r=this.lastDimensions)||void 0===r?void 0:r.height)===a||(this.lastDimensions={width:i,height:a},this.emit(Bn.VideoDimensionsChanged,this.lastDimensions,this))}}class jr{constructor(e,t){this.onVisibilityChanged=e=>{var t;const{target:n,isIntersecting:r}=e;n===this.element&&(this.visible=r,this.visibilityChangedAt=Date.now(),null===(t=this.handleVisibilityChanged)||void 0===t||t.call(this))},this.element=e,this.visible=null!==t&&void 0!==t?t:function(e){let t=e.offsetTop,n=e.offsetLeft;const r=e.offsetWidth,i=e.offsetHeight,{hidden:a}=e,{opacity:o,display:s}=getComputedStyle(e);for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+i>window.pageYOffset&&n+r>window.pageXOffset&&!a&&(""===o||parseFloat(o)>0)&&"none"!==s}(e),this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){this.element.handleResize=()=>{var e;null===(e=this.handleResize)||void 0===e||e.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,Xn().observe(this.element),Zn().observe(this.element)}stopObserving(){var e,t;null===(e=Xn())||void 0===e||e.unobserve(this.element),null===(t=Zn())||void 0===t||t.unobserve(this.element)}}class Br extends ir.exports.EventEmitter{constructor(e,t,n){super(),this.metadataMuted=!1,this.handleMuted=()=>{this.emit(Bn.Muted)},this.handleUnmuted=()=>{this.emit(Bn.Unmuted)},this.kind=e,this.trackSid=t,this.trackName=n,this.source=wr.Source.Unknown}setTrack(e){this.track&&(this.track.off(Bn.Muted,this.handleMuted),this.track.off(Bn.Unmuted,this.handleUnmuted)),this.track=e,e&&(e.on(Bn.Muted,this.handleMuted),e.on(Bn.Unmuted,this.handleUnmuted))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return void 0!==this.track}get audioTrack(){if(this.track instanceof Or||this.track instanceof Rr)return this.track}get videoTrack(){if(this.track instanceof Pr||this.track instanceof Lr)return this.track}updateInfo(e){this.trackSid=e.sid,this.trackName=e.name,this.source=wr.sourceFromProto(e.source),this.mimeType=e.mimeType,this.kind===wr.Kind.Video&&e.width>0&&(this.dimensions={width:e.width,height:e.height},this.simulcasted=e.simulcast),this.trackInfo=e,c.trace("update publication info",{info:e})}}!function(e){var t;(t=e.SubscriptionStatus||(e.SubscriptionStatus={})).Subscribed="subscribed",t.NotAllowed="not_allowed",t.Unsubscribed="unsubscribed"}(Br||(Br={}));class Fr extends Br{constructor(e,t,n){super(e,t.sid,t.name),this.track=void 0,this.handleTrackEnded=()=>{this.emit(Bn.Ended)},this.updateInfo(t),this.setTrack(n)}get isUpstreamPaused(){var e;return null===(e=this.track)||void 0===e?void 0:e.isUpstreamPaused}setTrack(e){this.track&&this.track.off(Bn.Ended,this.handleTrackEnded),super.setTrack(e),e&&e.on(Bn.Ended,this.handleTrackEnded)}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}async mute(){var e;return null===(e=this.track)||void 0===e?void 0:e.mute()}async unmute(){var e;return null===(e=this.track)||void 0===e?void 0:e.unmute()}async pauseUpstream(){var e;await(null===(e=this.track)||void 0===e?void 0:e.pauseUpstream())}async resumeUpstream(){var e;await(null===(e=this.track)||void 0===e?void 0:e.resumeUpstream())}}class Ur{constructor(e,t,n,r){this.width=e,this.height=t,this.encoding={maxBitrate:n,maxFramerate:r}}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.width/this.height}}}var Hr;!function(e){e.telephone={maxBitrate:12e3},e.speech={maxBitrate:2e4},e.music={maxBitrate:32e3}}(Hr||(Hr={}));const zr={h90:new Ur(160,90,6e4,15),h180:new Ur(320,180,12e4,15),h216:new Ur(384,216,18e4,15),h360:new Ur(640,360,3e5,20),h540:new Ur(960,540,6e5,25),h720:new Ur(1280,720,17e5,30),h1080:new Ur(1920,1080,3e6,30),h1440:new Ur(2560,1440,5e6,30),h2160:new Ur(3840,2160,8e6,30)},Vr={h120:new Ur(160,120,8e4,15),h180:new Ur(240,180,1e5,15),h240:new Ur(320,240,15e4,15),h360:new Ur(480,360,225e3,20),h480:new Ur(640,480,3e5,20),h540:new Ur(720,540,45e4,25),h720:new Ur(960,720,15e5,30),h1080:new Ur(1440,1080,25e5,30),h1440:new Ur(1920,1440,35e5,30)},$r={h360fps3:new Ur(640,360,2e5,3),h720fps5:new Ur(1280,720,4e5,5),h720fps15:new Ur(1280,720,1e6,15),h1080fps15:new Ur(1920,1080,15e5,15),h1080fps30:new Ur(1920,1080,3e6,30)};var Gr;!function(e){e.Excellent="excellent",e.Good="good",e.Poor="poor",e.Unknown="unknown"}(Gr||(Gr={}));class Wr extends ir.exports.EventEmitter{constructor(e,t){super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=Gr.Unknown,this.sid=e,this.identity=t,this.audioTracks=new Map,this.videoTracks=new Map,this.tracks=new Map}getTracks(){return Array.from(this.tracks.values())}getTrack(e){if(e!==wr.Source.Unknown)for(const[,t]of this.tracks){if(t.source===e)return t;if(t.source===wr.Source.Unknown){if(e===wr.Source.Microphone&&t.kind===wr.Kind.Audio&&"screen"!==t.trackName)return t;if(e===wr.Source.Camera&&t.kind===wr.Kind.Video&&"screen"!==t.trackName)return t;if(e===wr.Source.ScreenShare&&t.kind===wr.Kind.Video&&"screen"===t.trackName)return t;if(e===wr.Source.ScreenShareAudio&&t.kind===wr.Kind.Audio&&"screen"===t.trackName)return t}}}getTrackByName(e){for(const[,t]of this.tracks)if(t.trackName===e)return t}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var e;const t=this.getTrack(wr.Source.Camera);return!(null===(e=null===t||void 0===t?void 0:t.isMuted)||void 0===e||e)}get isMicrophoneEnabled(){var e;const t=this.getTrack(wr.Source.Microphone);return!(null===(e=null===t||void 0===t?void 0:t.isMuted)||void 0===e||e)}get isScreenShareEnabled(){return!!this.getTrack(wr.Source.ScreenShare)}get joinedAt(){return this.participantInfo?new Date(1e3*this.participantInfo.joinedAt):new Date}updateInfo(e){this.identity=e.identity,this.sid=e.sid,this.name=e.name,this.setMetadata(e.metadata),e.permission&&this.setPermissions(e.permission),this.participantInfo=e,c.trace("update participant info",{info:e})}setMetadata(e){const t=this.metadata!==e,n=this.metadata;this.metadata=e,t&&this.emit(Ln.ParticipantMetadataChanged,n)}setPermissions(e){var t,n,r,i,a;const o=e.canPublish!==(null===(t=this.permissions)||void 0===t?void 0:t.canPublish)||e.canSubscribe!==(null===(n=this.permissions)||void 0===n?void 0:n.canSubscribe)||e.canPublishData!==(null===(r=this.permissions)||void 0===r?void 0:r.canPublishData)||e.hidden!==(null===(i=this.permissions)||void 0===i?void 0:i.hidden)||e.recorder!==(null===(a=this.permissions)||void 0===a?void 0:a.recorder);return this.permissions=e,o}setIsSpeaking(e){e!==this.isSpeaking&&(this.isSpeaking=e,e&&(this.lastSpokeAt=new Date),this.emit(Ln.IsSpeakingChanged,e))}setConnectionQuality(e){const t=this._connectionQuality;this._connectionQuality=function(e){switch(e){case Xe.EXCELLENT:return Gr.Excellent;case Xe.GOOD:return Gr.Good;case Xe.POOR:return Gr.Poor;default:return Gr.Unknown}}(e),t!==this._connectionQuality&&this.emit(Ln.ConnectionQualityChanged,this._connectionQuality)}addTrackPublication(e){e.on(Bn.Muted,(()=>{this.emit(Ln.TrackMuted,e)})),e.on(Bn.Unmuted,(()=>{this.emit(Ln.TrackUnmuted,e)}));const t=e;switch(t.track&&(t.track.sid=e.trackSid),this.tracks.set(e.trackSid,e),e.kind){case wr.Kind.Audio:this.audioTracks.set(e.trackSid,e);break;case wr.Kind.Video:this.videoTracks.set(e.trackSid,e)}}}function qr(e,t){switch(e.kind){case"audio":return new Or(e,t,!1);case"video":return new Pr(e,t,!1);default:throw new An("unsupported track type: ".concat(e.kind))}}const Zr=Object.values(zr),Kr=Object.values(Vr),Xr=Object.values($r),Yr=[zr.h180,zr.h360],Qr=[Vr.h180,Vr.h360],Jr=["q","h","f"];function ei(e,t,n,r){var i,a;let o=null===r||void 0===r?void 0:r.videoEncoding;e&&(o=null===r||void 0===r?void 0:r.screenShareEncoding);const s=null===r||void 0===r?void 0:r.simulcast,l=null===r||void 0===r?void 0:r.scalabilityMode;if(!o&&!s&&!l||!t||!n)return[{}];o||(o=function(e,t,n){const r=function(e,t,n){if(e)return Xr;const r=t>n?t/n:n/t;if(Math.abs(r-16/9)<Math.abs(r-4/3))return Zr;return Kr}(e,t,n);let{encoding:i}=r[0];const a=Math.max(t,n);for(let o=0;o<r.length;o+=1){const e=r[o];if(i=e.encoding,e.width>=a)break}return i}(e,t,n),c.debug("using video encoding",o));const u=new Ur(t,n,o.maxBitrate,o.maxFramerate);if(c.debug("scalabilityMode ".concat(l)),l){const e=[];if("L3T3"===l){for(let t=0;t<3;t+=1)e.push({rid:Jr[2-t],scaleResolutionDownBy:2**t,maxBitrate:o?o.maxBitrate/3**t:0,maxFramerate:u.encoding.maxFramerate,scalabilityMode:"L3T3"});return c.debug("encodings",e),e}throw new Error("unsupported scalabilityMode: ".concat(l))}if(!s)return[o];let d,f=[];f=e?null!==(i=ri(null===r||void 0===r?void 0:r.screenShareSimulcastLayers))&&void 0!==i?i:ti(e,u):null!==(a=ri(null===r||void 0===r?void 0:r.videoSimulcastLayers))&&void 0!==a?a:ti(e,u);const p=f[0];f.length>1&&([,d]=f);const h=Math.max(t,n);return ni(t,n,h>=960&&d?[p,d,u]:h>=480?[p,u]:[u])}function ti(e,t){if(e)return n=t,[{scaleResolutionDownBy:2,fps:3}].map((e=>{var t;return new Ur(Math.floor(n.width/e.scaleResolutionDownBy),Math.floor(n.height/e.scaleResolutionDownBy),Math.max(15e4,Math.floor(n.encoding.maxBitrate/(e.scaleResolutionDownBy**2*((null!==(t=n.encoding.maxFramerate)&&void 0!==t?t:30)/e.fps)))),e.fps)}));var n;const{width:r,height:i}=t,a=r>i?r/i:i/r;return Math.abs(a-16/9)<Math.abs(a-4/3)?Yr:Qr}function ni(e,t,n){const r=[];return n.forEach(((n,i)=>{if(i>=Jr.length)return;const a=Math.min(e,t),o=Jr[i];r.push({rid:o,scaleResolutionDownBy:a/Math.min(n.width,n.height),maxBitrate:n.encoding.maxBitrate,maxFramerate:n.encoding.maxFramerate})})),r}function ri(e){if(e)return e.sort(((e,t)=>{const{encoding:n}=e,{encoding:r}=t;return n.maxBitrate>r.maxBitrate?1:n.maxBitrate<r.maxBitrate?-1:n.maxBitrate===r.maxBitrate&&n.maxFramerate&&r.maxFramerate?n.maxFramerate>r.maxFramerate?1:-1:0}))}class ii extends Br{constructor(){super(...arguments),this.allowed=!0,this.disabled=!1,this.currentVideoQuality=Ke.HIGH,this.handleEnded=e=>{this.emit(Bn.Ended,e),this.setTrack(void 0)},this.handleVisibilityChange=e=>{c.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(e),{trackSid:this.trackSid}),this.disabled=!e,this.emitTrackUpdate()},this.handleVideoDimensionsChange=e=>{c.debug("adaptivestream video dimensions ".concat(e.width,"x").concat(e.height),{trackSid:this.trackSid}),this.videoDimensions=e,this.emitTrackUpdate()}}setSubscribed(e){this.subscribed=e,this.allowed=!0;const t={trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[{participantSid:"",trackSids:[this.trackSid]}]};this.emit(Bn.UpdateSubscription,t)}get subscriptionStatus(){return!1!==this.subscribed&&super.isSubscribed?Br.SubscriptionStatus.Subscribed:this.allowed?Br.SubscriptionStatus.Unsubscribed:Br.SubscriptionStatus.NotAllowed}get isSubscribed(){return!1!==this.subscribed&&super.isSubscribed}get isEnabled(){return!this.disabled}setEnabled(e){this.isManualOperationAllowed()&&this.disabled!==!e&&(this.disabled=!e,this.emitTrackUpdate())}setVideoQuality(e){this.isManualOperationAllowed()&&this.currentVideoQuality!==e&&(this.currentVideoQuality=e,this.videoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(e){var t,n;this.isManualOperationAllowed()&&((null===(t=this.videoDimensions)||void 0===t?void 0:t.width)===e.width&&(null===(n=this.videoDimensions)||void 0===n?void 0:n.height)===e.height||(this.track instanceof Lr&&(this.videoDimensions=e),this.currentVideoQuality=void 0,this.emitTrackUpdate()))}get videoQuality(){return this.currentVideoQuality}setTrack(e){const t=this.subscriptionStatus,n=this.track;n&&(n.off(Bn.VideoDimensionsChanged,this.handleVideoDimensionsChange),n.off(Bn.VisibilityChanged,this.handleVisibilityChange),n.off(Bn.Ended,this.handleEnded)),super.setTrack(e),e&&(e.sid=this.trackSid,e.on(Bn.VideoDimensionsChanged,this.handleVideoDimensionsChange),e.on(Bn.VisibilityChanged,this.handleVisibilityChange),e.on(Bn.Ended,this.handleEnded)),this.emitSubscriptionUpdateIfChanged(t),!!e!==!!n&&(e?this.emit(Bn.Subscribed,e):this.emit(Bn.Unsubscribed,n))}setAllowed(e){const t=this.subscriptionStatus;this.allowed=e,this.emitSubscriptionUpdateIfChanged(t)}updateInfo(e){var t;super.updateInfo(e),this.metadataMuted=e.muted,null===(t=this.track)||void 0===t||t.setMuted(e.muted)}emitSubscriptionUpdateIfChanged(e){const t=this.subscriptionStatus;e!==t&&this.emit(Bn.SubscriptionPermissionChanged,t,e)}isManualOperationAllowed(){return this.isAdaptiveStream?(c.warn("adaptive stream is enabled, cannot change track settings",{trackSid:this.trackSid}),!1):!!this.isSubscribed||(c.warn("cannot update track settings when not subscribed",{trackSid:this.trackSid}),!1)}get isAdaptiveStream(){return this.track instanceof Lr&&this.track.isAdaptiveStream}emitTrackUpdate(){const e=un.fromPartial({trackSids:[this.trackSid],disabled:this.disabled});this.videoDimensions?(e.width=this.videoDimensions.width,e.height=this.videoDimensions.height):void 0!==this.currentVideoQuality?e.quality=this.currentVideoQuality:e.quality=Ke.HIGH,this.emit(Bn.UpdateSettings,e)}}class ai extends Wr{constructor(e,t,n){super(t,n||""),this.signalClient=e,this.tracks=new Map,this.audioTracks=new Map,this.videoTracks=new Map}static fromParticipantInfo(e,t){return new ai(e,t.sid,t.identity)}addTrackPublication(e){super.addTrackPublication(e),e.on(Bn.UpdateSettings,(e=>{c.debug("send update settings",e),this.signalClient.sendUpdateTrackSettings(e)})),e.on(Bn.UpdateSubscription,(e=>{e.participantTracks.forEach((e=>{e.participantSid=this.sid})),this.signalClient.sendUpdateSubscription(e)})),e.on(Bn.SubscriptionPermissionChanged,(t=>{this.emit(Ln.TrackSubscriptionPermissionChanged,e,t)})),e.on(Bn.Subscribed,(t=>{this.emit(Ln.TrackSubscribed,t,e)})),e.on(Bn.Unsubscribed,(t=>{this.emit(Ln.TrackUnsubscribed,t,e)}))}getTrack(e){const t=super.getTrack(e);if(t)return t}getTrackByName(e){const t=super.getTrackByName(e);if(t)return t}setVolume(e){this.volume=e;const t=this.getTrack(wr.Source.Microphone);t&&t.track&&t.track.setVolume(e)}getVolume(){const e=this.getTrack(wr.Source.Microphone);return e&&e.track?e.track.getVolume():this.volume}addSubscribedMediaTrack(e,t,n,r,i,a){let o=this.getTrackPublication(t);if(o||t.startsWith("TR")||this.tracks.forEach((t=>{o||e.kind!==t.kind.toString()||(o=t)})),!o)return 0===a?(c.error("could not find published track",{participant:this.sid,trackSid:t}),void this.emit(Ln.TrackSubscriptionFailed,t)):(void 0===a&&(a=20),void setTimeout((()=>{this.addSubscribedMediaTrack(e,t,n,r,i,a-1)}),150));let s;return s="video"===e.kind?new Lr(e,t,r,i):new Rr(e,t,r),s.source=o.source,s.isMuted=o.isMuted,s.setMediaStream(n),s.start(),o.setTrack(s),void 0!==this.volume&&s instanceof Rr&&s.source===wr.Source.Microphone&&s.setVolume(this.volume),o}get hasMetadata(){return!!this.participantInfo}getTrackPublication(e){return this.tracks.get(e)}updateInfo(e){super.updateInfo(e);const t=new Map,n=new Map;e.tracks.forEach((r=>{let i=this.getTrackPublication(r.sid);if(i)i.updateInfo(r);else{const t=wr.kindFromProto(r.type);if(!t)return;i=new ii(t,r.sid,r.name),i.updateInfo(r),n.set(r.sid,i);const a=Array.from(this.tracks.values()).find((e=>e.source===(null===i||void 0===i?void 0:i.source)));a&&c.warn("received a second track publication for ".concat(this.identity," with the same source: ").concat(i.source),{oldTrack:a,newTrack:i,participant:this,participantInfo:e}),this.addTrackPublication(i)}t.set(r.sid,i)})),n.forEach((e=>{this.emit(Ln.TrackPublished,e)})),this.tracks.forEach((e=>{t.has(e.trackSid)||(c.trace("detected removed track on remote participant, unpublishing",{publication:e,participantSid:this.sid}),this.unpublishTrack(e.trackSid,!0))}))}unpublishTrack(e,t){const n=this.tracks.get(e);if(!n)return;switch(this.tracks.delete(e),n.kind){case wr.Kind.Audio:this.audioTracks.delete(e);break;case wr.Kind.Video:this.videoTracks.delete(e)}const{track:r}=n;r&&(r.stop(),n.setTrack(void 0)),t&&this.emit(Ln.TrackUnpublished,n)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return c.trace("participant event",{participant:this.sid,event:e,args:n}),super.emit(e,...n)}}class oi extends Wr{constructor(e,t,n,r){super(e,t),this.pendingPublishing=new Set,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.updateTrackSubscriptionPermissions=()=>{c.debug("updating track subscription permissions",{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions}),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map((e=>function(e){var t,n,r;if(!e.participantSid&&!e.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return{participantIdentity:null!==(t=e.participantIdentity)&&void 0!==t?t:"",participantSid:null!==(n=e.participantSid)&&void 0!==n?n:"",allTracks:null!==(r=e.allowAll)&&void 0!==r&&r,trackSids:e.allowedTrackSids||[]}}(e))))},this.onTrackUnmuted=e=>{this.onTrackMuted(e,e.isUpstreamPaused)},this.onTrackMuted=(e,t)=>{void 0===t&&(t=!0),e.sid?this.engine.updateMuteStatus(e.sid,t):c.error("could not update mute status for unpublished track",e)},this.onTrackUpstreamPaused=e=>{c.debug("upstream paused"),this.onTrackMuted(e,!0)},this.onTrackUpstreamResumed=e=>{c.debug("upstream resumed"),this.onTrackMuted(e,e.isMuted)},this.handleSubscribedQualityUpdate=async e=>{var t,n;if(!(null===(t=this.roomOptions)||void 0===t?void 0:t.dynacast))return;const r=this.videoTracks.get(e.trackSid);if(r)if(e.subscribedCodecs.length>0){if(!r.videoTrack)return;const t=await r.videoTrack.setPublishingCodecs(e.subscribedCodecs);for await(const e of t)c.debug("publish ".concat(e," for ").concat(r.videoTrack.sid)),await this.publishAdditionalCodecForTrack(r.videoTrack,e,r.options)}else e.subscribedQualities.length>0&&(null===(n=r.videoTrack)||void 0===n||n.setPublishingLayers(e.subscribedQualities));else c.warn("received subscribed quality update for unknown track",{method:"handleSubscribedQualityUpdate",sid:e.trackSid})},this.handleLocalTrackUnpublished=e=>{const t=this.tracks.get(e.trackSid);t?this.unpublishTrack(t.track):c.warn("received unpublished event for unknown track",{method:"handleLocalTrackUnpublished",trackSid:e.trackSid})},this.handleTrackEnded=async e=>{if(e.source===wr.Source.ScreenShare||e.source===wr.Source.ScreenShareAudio)c.debug("unpublishing local track due to TrackEnded",{track:e.sid}),this.unpublishTrack(e);else if(e.isUserProvided)await e.pauseUpstream();else if(e instanceof Or||e instanceof Pr)try{if($n())try{const t=await(null===navigator||void 0===navigator?void 0:navigator.permissions.query({name:e.source===wr.Source.Camera?"camera":"microphone"}));if(t&&"denied"===t.state)throw c.warn("user has revoked access to ".concat(e.source)),t.onchange=()=>{"denied"!==t.state&&(e.restartTrack(),t.onchange=null)},new Error("GetUserMedia Permission denied")}catch(qa){}c.debug("track ended, attempting to use a different device"),await e.restartTrack()}catch(qa){c.warn("could not restart track, pausing upstream instead"),await e.pauseUpstream()}},this.audioTracks=new Map,this.videoTracks=new Map,this.tracks=new Map,this.engine=n,this.roomOptions=r,this.engine.client.onRemoteMuteChanged=(e,t)=>{const n=this.tracks.get(e);n&&n.track&&(t?n.mute():n.unmute())},this.engine.client.onSubscribedQualityUpdate=this.handleSubscribedQualityUpdate,this.engine.client.onLocalTrackUnpublished=this.handleLocalTrackUnpublished,this.engine.on(jn.Connected,this.updateTrackSubscriptionPermissions).on(jn.Restarted,this.updateTrackSubscriptionPermissions).on(jn.Resumed,this.updateTrackSubscriptionPermissions)}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}getTrack(e){const t=super.getTrack(e);if(t)return t}getTrackByName(e){const t=super.getTrackByName(e);if(t)return t}setCameraEnabled(e,t,n){return this.setTrackEnabled(wr.Source.Camera,e,t,n)}setMicrophoneEnabled(e,t,n){return this.setTrackEnabled(wr.Source.Microphone,e,t,n)}setScreenShareEnabled(e,t,n){return this.setTrackEnabled(wr.Source.ScreenShare,e,t,n)}setPermissions(e){const t=this.permissions,n=super.setPermissions(e);return n&&t&&this.emit(Ln.ParticipantPermissionsChanged,t),n}async setTrackEnabled(e,t,n,r){var i,a;c.debug("setTrackEnabled",{source:e,enabled:t});let o=this.getTrack(e);if(t)if(o)await o.unmute();else{let t;if(this.pendingPublishing.has(e))return void c.info("skipping duplicate published source",{source:e});this.pendingPublishing.add(e);try{switch(e){case wr.Source.Camera:t=await this.createTracks({video:null===(i=n)||void 0===i||i});break;case wr.Source.Microphone:t=await this.createTracks({audio:null===(a=n)||void 0===a||a});break;case wr.Source.ScreenShare:t=await this.createScreenTracks(Ht({},n));break;default:throw new An(e)}const s=[];for(const e of t)s.push(this.publishTrack(e,r));const l=await Promise.all(s);[o]=l}catch(qa){throw qa instanceof Error&&!(qa instanceof An)&&this.emit(Ln.MediaDevicesError,qa),qa}finally{this.pendingPublishing.delete(e)}}else if(o&&o.track)if(e===wr.Source.ScreenShare){o=this.unpublishTrack(o.track);const e=this.getTrack(wr.Source.ScreenShareAudio);e&&e.track&&this.unpublishTrack(e.track)}else await o.mute();return o}async enableCameraAndMicrophone(){if(!this.pendingPublishing.has(wr.Source.Camera)&&!this.pendingPublishing.has(wr.Source.Microphone)){this.pendingPublishing.add(wr.Source.Camera),this.pendingPublishing.add(wr.Source.Microphone);try{const e=await this.createTracks({audio:!0,video:!0});await Promise.all(e.map((e=>this.publishTrack(e))))}finally{this.pendingPublishing.delete(wr.Source.Camera),this.pendingPublishing.delete(wr.Source.Microphone)}}}async createTracks(e){var t,n;const r=Er(Tr(e,null===(t=this.roomOptions)||void 0===t?void 0:t.audioCaptureDefaults,null===(n=this.roomOptions)||void 0===n?void 0:n.videoCaptureDefaults));let i;try{i=await navigator.mediaDevices.getUserMedia(r)}catch(a){throw a instanceof Error&&(r.audio&&(this.microphoneError=a),r.video&&(this.cameraError=a)),a}return r.audio&&(this.microphoneError=void 0),r.video&&(this.cameraError=void 0),i.getTracks().map((t=>{const n="audio"===t.kind;let a;n?e.audio:e.video;const o=n?r.audio:r.video;"boolean"!==typeof o&&(a=o);const s=qr(t,a);return s.kind===wr.Kind.Video?s.source=wr.Source.Camera:s.kind===wr.Kind.Audio&&(s.source=wr.Source.Microphone),s.mediaStream=i,s}))}async createScreenTracks(e){var t;void 0===e&&(e={}),void 0===e.resolution&&(e.resolution=$r.h1080fps15.resolution);let n=!0;e.resolution&&(n={width:e.resolution.width,height:e.resolution.height,frameRate:e.resolution.frameRate});const r=await navigator.mediaDevices.getDisplayMedia({audio:null!==(t=e.audio)&&void 0!==t&&t,video:n}),i=r.getVideoTracks();if(0===i.length)throw new An("no video track found");const a=new Pr(i[0],void 0,!1);a.source=wr.Source.ScreenShare;const o=[a];if(r.getAudioTracks().length>0){const e=new Or(r.getAudioTracks()[0],void 0,!1);e.source=wr.Source.ScreenShareAudio,o.push(e)}return o}async publishTrack(e,t){var n,r,i,a,o,s,l,u;const d=Ht(Ht({},null===(n=this.roomOptions)||void 0===n?void 0:n.publishDefaults),t);if(e instanceof MediaStreamTrack)switch(e.kind){case"audio":e=new Or(e,void 0,!0);break;case"video":e=new Pr(e,void 0,!0);break;default:throw new An("unsupported MediaStreamTrack kind ".concat(e.kind))}let f;if(this.tracks.forEach((t=>{t.track&&t.track===e&&(f=t)})),f)return f;d.source&&(e.source=d.source);const p=Array.from(this.tracks.values()).find((t=>e instanceof xr&&t.source===e.source));if(p)try{throw Error("publishing a second track with the same source: ".concat(e.source))}catch(qa){qa instanceof Error&&c.warn(qa.message,{oldTrack:p,newTrack:e,trace:qa.stack})}d.stopMicTrackOnMute&&e instanceof Or&&(e.stopOnMute=!0),e.source===wr.Source.ScreenShare&&zn()&&(d.simulcast=!1),e.on(Bn.Muted,this.onTrackMuted),e.on(Bn.Unmuted,this.onTrackUnmuted),e.on(Bn.Ended,this.handleTrackEnded),e.on(Bn.UpstreamPaused,this.onTrackUpstreamPaused),e.on(Bn.UpstreamResumed,this.onTrackUpstreamResumed);const h=Jt.fromPartial({cid:e.mediaStreamTrack.id,name:null===t||void 0===t?void 0:t.name,type:wr.kindToProto(e.kind),muted:e.isMuted,source:wr.sourceToProto(e.source),disableDtx:!(null===(r=null===d||void 0===d?void 0:d.dtx)||void 0===r||r)});let m,g;if(e.kind===wr.Kind.Video){const t=e.mediaStreamTrack.getSettings(),n=null!==(i=t.width)&&void 0!==i?i:null===(a=e.dimensions)||void 0===a?void 0:a.width,r=null!==(o=t.height)&&void 0!==o?o:null===(s=e.dimensions)||void 0===s?void 0:s.height;if(h.width=null!==n&&void 0!==n?n:0,h.height=null!==r&&void 0!==r?r:0,e instanceof Pr){if("vp9"===(null===d||void 0===d?void 0:d.videoCodec)||"av1"===(null===d||void 0===d?void 0:d.videoCodec)){d.scalabilityMode=null!==(l=d.scalabilityMode)&&void 0!==l?l:"L3T3";const t=Ht({},d);t.simulcast=!0,t.scalabilityMode=void 0,g=ei(e.source===wr.Source.ScreenShare,n,r,t)}d.videoCodec&&"vp8"!==d.videoCodec&&(h.simulcastCodecs=[{codec:d.videoCodec,cid:e.mediaStreamTrack.id,enableSimulcastLayers:!0},{codec:"vp8",cid:"",enableSimulcastLayers:!0}])}m=ei(e.source===wr.Source.ScreenShare,n,r,d),h.layers=Dr(h.width,h.height,null!==g&&void 0!==g?g:m)}else e.kind===wr.Kind.Audio&&d.audioBitrate&&(m=[{maxBitrate:d.audioBitrate}]);if(!this.engine||this.engine.isClosed)throw new Mn("cannot publish track when not connected");const v=await this.engine.addTrack(h),y=new Fr(e.kind,v,e);if(y.options=d,e.sid=v.sid,!this.engine.publisher)throw new Mn("publisher is closed");c.debug("publishing ".concat(e.kind," with encodings"),{encodings:m,trackInfo:v});const b={direction:"sendonly"};m&&(b.sendEncodings=m);const w=await this.engine.publisher.pc.addTransceiver(e.mediaStreamTrack,b);return e.kind===wr.Kind.Video&&d.videoCodec&&(this.setPreferredCodec(w,e.kind,d.videoCodec),e.codec=d.videoCodec),"av1"===e.codec&&m&&(null===(u=m[0])||void 0===u?void 0:u.maxBitrate)&&this.engine.publisher.setTrackCodecBitrate(h.cid,e.codec,m[0].maxBitrate/1e3),this.engine.negotiate(),e.sender=w.sender,e instanceof Pr?e.startMonitor(this.engine.client):e instanceof Or&&e.startMonitor(),this.addTrackPublication(y),this.emit(Ln.LocalTrackPublished,y),y}async publishAdditionalCodecForTrack(e,t,n){var r,i,a,o,s,l;const u=Ht(Ht({},null===(r=this.roomOptions)||void 0===r?void 0:r.publishDefaults),n);let d;if(u.scalabilityMode=void 0,u.videoCodec=t,this.tracks.forEach((t=>{t.track&&t.track===e&&(d=t)})),!d)throw new An("track is not published");if(!(e instanceof Pr))throw new An("track is not a video track");const f=e.mediaStreamTrack.getSettings(),p=null!==(i=f.width)&&void 0!==i?i:null===(a=e.dimensions)||void 0===a?void 0:a.width,h=null!==(o=f.height)&&void 0!==o?o:null===(s=e.dimensions)||void 0===s?void 0:s.height,m=ei(e.source===wr.Source.ScreenShare,p,h,u),g=e.addSimulcastTrack(u.videoCodec,m),v=Jt.fromPartial({cid:g.mediaStreamTrack.id,type:wr.kindToProto(e.kind),muted:e.isMuted,source:wr.sourceToProto(e.source),sid:e.sid,simulcastCodecs:[{codec:u.videoCodec,cid:g.mediaStreamTrack.id,enableSimulcastLayers:u.simulcast}]});if(v.layers=Dr(v.width,v.height,m),!this.engine||this.engine.isClosed)throw new Mn("cannot publish track when not connected");const y=await this.engine.addTrack(v);if(!this.engine.publisher)throw new Mn("publisher is closed");const b={direction:"sendonly"};m&&(b.sendEncodings=m);const w=await this.engine.publisher.pc.addTransceiver(g.mediaStreamTrack,b);this.setPreferredCodec(w,e.kind,u.videoCodec),e.setSimulcastTrackSender(u.videoCodec,w.sender),"av1"===t&&(null===(l=m[0])||void 0===l?void 0:l.maxBitrate)&&this.engine.publisher.setTrackCodecBitrate(v.cid,t,m[0].maxBitrate/1e3),this.engine.negotiate(),c.debug("published ".concat(u.videoCodec," for track ").concat(e.sid),{encodings:m,trackInfo:y})}unpublishTrack(e,t){var n,r;const i=this.getPublicationForTrack(e);if(c.debug("unpublishing track",{track:e,method:"unpublishTrack"}),i&&i.track){if((e=i.track).off(Bn.Muted,this.onTrackMuted),e.off(Bn.Unmuted,this.onTrackUnmuted),e.off(Bn.Ended,this.handleTrackEnded),e.off(Bn.UpstreamPaused,this.onTrackUpstreamPaused),e.off(Bn.UpstreamResumed,this.onTrackUpstreamResumed),void 0===t&&(t=null===(r=null===(n=this.roomOptions)||void 0===n?void 0:n.stopLocalTrackOnUnpublish)||void 0===r||r),t&&e.stop(),this.engine.publisher&&"closed"!==this.engine.publisher.pc.connectionState&&e.sender)try{this.engine.publisher.pc.removeTrack(e.sender),this.engine.negotiate()}catch(qa){c.warn("failed to remove track",{error:qa,method:"unpublishTrack"})}switch(e.sender=void 0,this.tracks.delete(i.trackSid),i.kind){case wr.Kind.Audio:this.audioTracks.delete(i.trackSid);break;case wr.Kind.Video:this.videoTracks.delete(i.trackSid)}return this.emit(Ln.LocalTrackUnpublished,i),i.setTrack(void 0),i}c.warn("track was not unpublished because no publication was found",{track:e,method:"unpublishTrack"})}unpublishTracks(e){const t=[];return e.forEach((e=>{const n=this.unpublishTrack(e);n&&t.push(n)})),t}async publishData(e,t,n){const r=[];void 0!==n&&n.forEach((e=>{e instanceof ai?r.push(e.sid):r.push(e)}));const i={kind:t,user:{participantSid:this.sid,payload:e,destinationSids:r}};await this.engine.sendDataPacket(i,t)}setTrackSubscriptionPermissions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.participantTrackPermissions=t,this.allParticipantsAllowedToSubscribe=e,this.engine.client.isConnected&&this.updateTrackSubscriptionPermissions()}updateInfo(e){super.updateInfo(e),e.tracks.forEach((e=>{var t,n;const r=this.tracks.get(e.sid);if(r){const i=r.isMuted||null!==(n=null===(t=r.track)||void 0===t?void 0:t.isUpstreamPaused)&&void 0!==n&&n;i!==e.muted&&(c.debug("updating server mute state after reconcile",{sid:e.sid,muted:i}),this.engine.client.sendMuteTrack(e.sid,i))}}))}getPublicationForTrack(e){let t;return this.tracks.forEach((n=>{const r=n.track;r&&(e instanceof MediaStreamTrack?(r instanceof Or||r instanceof Pr)&&r.mediaStreamTrack===e&&(t=n):e===r&&(t=n))})),t}setPreferredCodec(e,t,n){if(!("getCapabilities"in RTCRtpSender))return;const r=RTCRtpSender.getCapabilities(t);if(!r)return;c.debug("get capabilities",r);const i=[],a=[],o=[];r.codecs.forEach((e=>{const t=e.mimeType.toLowerCase();if("audio/opus"===t)return void i.push(e);t==="video/".concat(n)?"h264"!==n||e.sdpFmtpLine&&e.sdpFmtpLine.includes("profile-level-id=42e01f")?i.push(e):a.push(e):o.push(e)})),"setCodecPreferences"in e&&e.setCodecPreferences(i.concat(a,o))}publishedTracksInfo(){const e=[];return this.tracks.forEach((t=>{void 0!==t.track&&e.push({cid:t.track.mediaStreamID,track:t.trackInfo})})),e}dataChannelsInfo(){const e=[],t=(t,n)=>{void 0!==(null===t||void 0===t?void 0:t.id)&&null!==t.id&&e.push({label:t.label,id:t.id,target:n})};return t(this.engine.dataChannelForKind(et.LOSSY),Vt.PUBLISHER),t(this.engine.dataChannelForKind(et.RELIABLE),Vt.PUBLISHER),t(this.engine.dataChannelForKind(et.LOSSY,!0),Vt.SUBSCRIBER),t(this.engine.dataChannelForKind(et.RELIABLE,!0),Vt.SUBSCRIBER),e}}let si=!0,li=!0;function ui(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function ci(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);const a=e=>{const t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,a),i.apply(this,[e,a])};const a=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return a.apply(this,arguments);if(!this._eventMap[t].has(n))return a.apply(this,arguments);const r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,a.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function di(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(si=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function fi(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(li=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function pi(){if("object"===typeof window){if(si)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}}function hi(e,t){li&&console.warn(e+" is deprecated, please use "+t+" instead.")}function mi(e){const t={browser:null,version:null};if("undefined"===typeof e||!e.navigator)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=ui(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=ui(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=ui(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function gi(e){return"[object Object]"===Object.prototype.toString.call(e)}function vi(e){return gi(e)?Object.keys(e).reduce((function(t,n){const r=gi(e[n]),i=r?vi(e[n]):e[n],a=r&&!Object.keys(i).length;return void 0===i||a?t:Object.assign(t,{[n]:i})}),{}):e}function yi(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((r=>{r.endsWith("Id")?yi(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((t=>{yi(e,e.get(t),n)}))})))}function bi(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;const a=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)})),a.forEach((t=>{e.forEach((n=>{n.type===r&&n.trackId===t.id&&yi(e,n,i)}))})),i}const wi=pi;function Si(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(e){if("object"!==typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const r="object"===typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"===typeof r.exact&&(r.min=r.max=r.exact);const i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"===typeof r.ideal?(e[i("min",n)]=r.ideal,t.optional.push(e),e={},e[i("max",n)]=r.ideal,t.optional.push(e)):(e[i("",n)]=r.ideal,t.optional.push(e))}void 0!==r.exact&&"number"!==typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"===typeof e.video){let a=e.video.facingMode;a=a&&("object"===typeof a?a:{ideal:a});const o=t.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||o)){let t;if(delete e.video.facingMode,"environment"===a.exact||"environment"===a.ideal?t=["back","rear"]:"user"!==a.exact&&"user"!==a.ideal||(t=["front"]),t)return n.mediaDevices.enumerateDevices().then((n=>{let o=(n=n.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!o&&n.length&&t.includes("back")&&(o=n[n.length-1]),o&&(e.video.deviceId=a.exact?{exact:o.deviceId}:{ideal:o.deviceId}),e.video=r(e.video),wi("chrome: "+JSON.stringify(e)),i(e)}))}e.video=r(e.video)}return wi("chrome: "+JSON.stringify(e)),i(e)},a=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){i(e,(e=>{n.webkitGetUserMedia(e,t,(e=>{r&&r(a(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return i(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>Promise.reject(a(e))))))}}}function _i(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function xi(e){if("object"===typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.track.id)):{track:n.track};const i=new Event("track");i.track=n.track,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)})),t.stream.getTracks().forEach((n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.id)):{track:n};const i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else ci(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function Ti(e){if("object"===typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"===typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function ki(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,n,r]=arguments;if(arguments.length>0&&"function"===typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!==typeof e))return t.apply(this,[]);const i=function(e){const t={};return e.result().forEach((e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((t=>{n[t]=e.stat(t)})),t[n.id]=n})),t},a=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const r=function(e){n(a(i(e)))};return t.apply(this,[r,e])}return new Promise(((e,n)=>{t.apply(this,[function(t){e(a(i(t)))},n])})).then(n,r)}}function Ei(e){if(!("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>bi(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),ci(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>bi(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,r;return this.getSenders().forEach((n=>{n.track===e&&(t?r=!0:t=n)})),this.getReceivers().forEach((t=>(t.track===e&&(n?r=!0:n=t),t.track===e))),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function Ci(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();n.apply(this,arguments);const r=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(r)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),i.apply(this,arguments)}}function Oi(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Ci(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};const i=e.RTCPeerConnection.prototype.removeStream;function a(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}function o(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");const i=this.getSenders().find((e=>e.track===t));if(i)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const a=this._streams[n.id];if(a)a.addTrack(t),Promise.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){const e=arguments;return arguments.length&&"function"===typeof arguments[0]?n.apply(this,[t=>{const n=a(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then((e=>a(this,e)))}};e.RTCPeerConnection.prototype[t]=r[t]}));const s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=o(this,arguments[0]),s.apply(this,arguments)):s.apply(this,arguments)};const l=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=l.get.apply(this);return""===e.type?e:a(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((n=>{this._streams[n].getTracks().find((t=>e.track===t))&&(t=this._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Pi(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}))}function Ii(e,t){ci(e,"negotiationneeded",(e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}var Ai=Object.freeze({__proto__:null,shimMediaStream:_i,shimOnTrack:xi,shimGetSendersWithDtmf:Ti,shimGetStats:ki,shimSenderReceiverGetStats:Ei,shimAddTrackRemoveTrackWithNative:Ci,shimAddTrackRemoveTrack:Oi,shimPeerConnection:Pi,fixNegotiationNeeded:Ii,shimGetUserMedia:Si,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"===typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((t=>{const r=n.video&&n.video.width,i=n.video&&n.video.height,a=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:a||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}});function Di(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){hi("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"===typeof n&&"object"===typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){const t=r.prototype.getSettings;r.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){const t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"===typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function Mi(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ri(e,t){if("object"!==typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}));const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,i,a]=arguments;return r.apply(this,[e||null]).then((e=>{if(t.version<53&&!i)try{e.forEach((e=>{e.type=n[e.type]||e.type}))}catch(qa){if("TypeError"!==qa.name)throw qa;e.forEach(((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(i,a)}}function Ni(e){if("object"!==typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Li(e){if("object"!==typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),ci(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function ji(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){hi("removeStream","removeTrack"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function Bi(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Fi(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach((e=>{if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const r=t.apply(this,arguments);if(n){const{sender:t}=r,n=t.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=e.sendEncodings,t.sendEncodings=e.sendEncodings,this.setParametersPromises.push(t.setParameters(n).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return r})}function Ui(e){if("object"!==typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function Hi(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function zi(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}var Vi=Object.freeze({__proto__:null,shimOnTrack:Mi,shimPeerConnection:Ri,shimSenderGetStats:Ni,shimReceiverGetStats:Li,shimRemoveStream:ji,shimRTCDataChannel:Bi,shimAddTransceiver:Fi,shimGetParameters:Ui,shimCreateOffer:Hi,shimCreateAnswer:zi,shimGetUserMedia:Di,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}});function $i(e){if("object"===typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((n=>t.call(this,n,e))),e.getVideoTracks().forEach((n=>t.call(this,n,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r&&r.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach((e=>{n.includes(e.track)&&this.removeTrack(e)}))})}}function Gi(e){if("object"===typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}))}),t.apply(e,arguments)}}}function Wi(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,a=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};let s=function(e,t,n){const r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){const r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){const r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=s}function qi(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(Zi(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function Zi(e){return e&&void 0!==e.video?Object.assign({},e,{video:vi(e.video)}):e}function Ki(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];!r.hasOwnProperty("urls")&&r.hasOwnProperty("url")?(hi("RTCIceServer.url","RTCIceServer.urls"),r=JSON.parse(JSON.stringify(r)),r.urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function Xi(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Yi(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){"undefined"!==typeof e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),"undefined"!==typeof e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Qi(e){"object"!==typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Ji=Object.freeze({__proto__:null,shimLocalStreamsAPI:$i,shimRemoteStreamsAPI:Gi,shimCallbacksAPI:Wi,shimGetUserMedia:qi,shimConstraints:Zi,shimRTCIceServerUrls:Ki,shimTrackEventTransceiver:Xi,shimCreateOfferLegacy:Yi,shimAudioContext:Qi}),ea={exports:{}};!function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((e=>e.trim()))},t.splitSections=function(e){return e.split("\nm=").map(((e,t)=>(t>0?"m="+e:e).trim()+"\r\n"))},t.getDescription=function(e){const n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){const n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((e=>0===e.indexOf(n)))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const n={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:void 0===n[t[r]]&&(n[t[r]]=t[r+1])}return n},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){let t=e.substr(9).split(" ");const n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){const t={};let n;const r=e.substr(e.indexOf(" ")+1).split(";");for(let i=0;i<r.length;i++)n=r[i].trim().split("="),t[n[0].trim()]=n[1];return t},t.writeFmtp=function(e){let t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const r=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){const t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){const t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((e=>{n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){const t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){const r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substr(12),password:i.substr(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" ");for(let i=3;i<r.length;i++){const a=r[i],o=t.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(o){const r=t.parseRtpMap(o),i=t.matchPrefix(e,"a=fmtp:"+a+" ");switch(r.parameters=i.length?t.parseFmtp(i[0]):{},r.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(t.parseRtcpFb),n.codecs.push(r),r.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(r.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((e=>{n.headerExtensions.push(t.parseExtmap(e))})),n},t.writeRtpDescription=function(e,n){let r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=n.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((e=>{r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));let i=0;return n.codecs.forEach((e=>{e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach((e=>{r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){const n=[],r=t.parseRtpParameters(e),i=-1!==r.fecMechanisms.indexOf("RED"),a=-1!==r.fecMechanisms.indexOf("ULPFEC"),o=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute)),s=o.length>0&&o[0].ssrc;let l;const u=t.matchPrefix(e,"a=ssrc-group:FID").map((e=>e.substr(17).split(" ").map((e=>parseInt(e,10)))));u.length>0&&u[0].length>1&&u[0][0]===s&&(l=u[0][1]),r.codecs.forEach((e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&l&&(t.rtx={ssrc:l}),n.push(t),i&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:s,mechanism:a?"red+ulpfec":"red"},n.push(t))}})),0===n.length&&s&&n.push({ssrc:s});let c=t.matchPrefix(e,"b=");return c.length&&(c=0===c[0].indexOf("b=TIAS:")?parseInt(c[0].substr(7),10):0===c[0].indexOf("b=AS:")?1e3*parseInt(c[0].substr(5),10)*.95-16e3:void 0,n.forEach((e=>{e.maxBitrate=c}))),n},t.parseRtcpParameters=function(e){const n={},r=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);const i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;const a=t.matchPrefix(e,"a=rtcp-mux");return n.mux=a.length>0,n},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let n;const r=t.matchPrefix(e,"a=msid:");if(1===r.length)return n=r[0].substr(7).split(" "),{stream:n[0],track:n[1]};const i=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"msid"===e.attribute));return i.length>0?(n=i[0].value.split(" "),{stream:n[0],track:n[1]}):void 0},t.parseSctpDescription=function(e){const n=t.parseMLine(e),r=t.matchPrefix(e,"a=max-message-size:");let i;r.length>0&&(i=parseInt(r[0].substr(19),10)),isNaN(i)&&(i=65536);const a=t.matchPrefix(e,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substr(12),10),protocol:n.fmt,maxMessageSize:i};const o=t.matchPrefix(e,"a=sctpmap:");if(o.length>0){const e=o[0].substr(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:i}}},t.writeSctpDescription=function(e,t){let n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,r){let i;const a=void 0!==n?n:2;i=e||t.generateSessionId();return"v=0\r\no="+(r||"thisisadapterortc")+" "+i+" "+a+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){const r=t.splitLines(e);for(let t=0;t<r.length;t++)switch(r[t]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[t].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){const n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;const n=t.splitLines(e);for(let t=0;t<n.length;t++)if(n[t].length<2||"="!==n[t].charAt(1))return!1;return!0},e.exports=t}(ea);var ta=ea.exports,na=r({__proto__:null,default:ta},[ea.exports]);function ra(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const n=new t(e),r=ta.parseCandidate(e.candidate),i=Object.assign(n,r);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,ci(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function ia(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return"undefined"===typeof this._sctp?null:this._sctp}});const n=function(e){if(!e||!e.sdp)return!1;const t=ta.splitSections(e.sdp);return t.shift(),t.some((e=>{const t=ta.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},r=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!==n?-1:n},i=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},a=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);const i=ta.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return"undefined"===typeof this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const e=r(arguments[0]),t=i(e),n=a(arguments[0],e);let o;o=0===t&&0===n?Number.POSITIVE_INFINITY:0===t||0===n?Math.max(t,n):Math.min(t,n);const s={};Object.defineProperty(s,"maxMessageSize",{get:()=>o}),this._sctp=s}return o.apply(this,arguments)}}function aa(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},ci(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function oa(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}function sa(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==e.trim())).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function la(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function ua(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!==typeof e||e.type&&e.sdp)return n.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}if(e.sdp||"offer"!==e.type&&"answer"!==e.type)return n.apply(this,[e]);const t="offer"===e.type?this.createOffer:this.createAnswer;return t.apply(this).then((e=>n.apply(this,[e])))})}var ca=Object.freeze({__proto__:null,shimRTCIceCandidate:ra,shimMaxMessageSize:ia,shimSendThrowTypeError:aa,shimConnectionState:oa,removeExtmapAllowMixed:sa,shimAddIceCandidateNullOrEmpty:la,shimParameterlessSetLocalDescription:ua});!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=pi,r=mi(e),i={browserDetails:r,commonShim:ca,extractVersion:ui,disableLog:di,disableWarnings:fi,sdp:na};switch(r.browser){case"chrome":if(!Ai||!Pi||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(null===r.version)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=Ai,la(e,r),ua(e),Si(e,r),_i(e),Pi(e,r),xi(e),Oi(e,r),Ti(e),ki(e),Ei(e),Ii(e,r),ra(e),oa(e),ia(e,r),aa(e),sa(e,r);break;case"firefox":if(!Vi||!Ri||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=Vi,la(e,r),ua(e),Di(e,r),Ri(e,r),Mi(e),ji(e),Ni(e),Li(e),Bi(e),Fi(e),Ui(e),Hi(e),zi(e),ra(e),oa(e),ia(e,r),aa(e);break;case"safari":if(!Ji||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=Ji,la(e,r),ua(e),Ki(e),Yi(e),Wi(e),$i(e),Gi(e),Xi(e),qi(e),Qi(e),ra(e),ia(e,r),aa(e),sa(e,r);break;default:n("Unsupported browser!")}}({window:"undefined"===typeof window?void 0:window});const da=["syncState","trickle","offer","answer","simulate","leave"];class fa{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isConnected=!1,this.isReconnecting=!1,this.useJSON=e,this.requestQueue=new er,this.queuedRequests=[]}async join(e,t,n,r){this.isConnected=!1;return await this.connect(e,t,{autoSubscribe:null===n||void 0===n?void 0:n.autoSubscribe,publishOnly:null===n||void 0===n?void 0:n.publishOnly,adaptiveStream:null===n||void 0===n?void 0:n.adaptiveStream},r)}async reconnect(e,t){this.isReconnecting=!0,await this.connect(e,t,{reconnect:!0})}connect(e,t,n,r){e.startsWith("http")&&(e=e.replace("http","ws")),e=e.replace(/\/$/,""),e+="/rtc";const i=function(e,t,n){const r=new URLSearchParams;r.set("access_token",e),(null===n||void 0===n?void 0:n.reconnect)&&r.set("reconnect","1");void 0!==(null===n||void 0===n?void 0:n.autoSubscribe)&&r.set("auto_subscribe",n.autoSubscribe?"1":"0");r.set("sdk","js"),r.set("version",t.version),r.set("protocol",t.protocol.toString()),t.deviceModel&&r.set("device_model",t.deviceModel);t.os&&r.set("os",t.os);t.osVersion&&r.set("os_version",t.osVersion);t.browser&&r.set("browser",t.browser);t.browserVersion&&r.set("browser_version",t.browserVersion);void 0!==(null===n||void 0===n?void 0:n.publishOnly)&&r.set("publish",n.publishOnly);(null===n||void 0===n?void 0:n.adaptiveStream)&&r.set("adaptive_stream","1");return"?".concat(r.toString())}(t,It.fromPartial({sdk:tt.JS,protocol:8,version:"1.2.4"}),n);return new Promise(((t,a)=>{const o=()=>{s.close(),this.close(),a(new In("room connection has been cancelled"))};(null===r||void 0===r?void 0:r.aborted)&&o(),null===r||void 0===r||r.addEventListener("abort",o),c.debug("connecting to ".concat(e+i)),this.ws=void 0;const s=new WebSocket(e+i);s.binaryType="arraybuffer",s.onerror=async t=>{if(this.ws)this.handleWSError(t);else try{const t=await fetch("http".concat(e.substring(2),"/validate").concat(i));if(t.ok)a(new In("Internal error"));else{const e=await t.text();a(new In(e))}}catch(qa){a(new In("server was not reachable"))}},s.onopen=()=>{this.ws=s,n.reconnect&&(this.isConnected=!0,t())},s.onmessage=async e=>{let n;if("string"===typeof e.data){const t=JSON.parse(e.data);n=Yt.fromJSON(t)}else{if(!(e.data instanceof ArrayBuffer))return void c.error("could not decode websocket message: ".concat(typeof e.data));n=Yt.decode(new Uint8Array(e.data))}this.isConnected?(this.signalLatency&&await Hn(this.signalLatency),this.handleSignalResponse(n)):n.join?(this.isConnected=!0,null===r||void 0===r||r.removeEventListener("abort",o),t(n.join)):a(new In("did not receive join response"))},s.onclose=e=>{this.isConnected&&this.ws===s&&(c.debug("websocket connection closed: ".concat(e.reason)),this.isConnected=!1,this.onClose&&this.onClose(e.reason),this.ws===s&&(this.ws=void 0))}}))}close(){var e;this.isConnected=!1,this.ws&&(this.ws.onclose=null),null===(e=this.ws)||void 0===e||e.close(),this.ws=void 0}sendOffer(e){c.debug("sending offer",e),this.sendRequest({offer:ha(e)})}sendAnswer(e){c.debug("sending answer"),this.sendRequest({answer:ha(e)})}sendIceCandidate(e,t){c.trace("sending ice candidate",e),this.sendRequest({trickle:{candidateInit:JSON.stringify(e),target:t}})}sendMuteTrack(e,t){this.sendRequest({mute:{sid:e,muted:t}})}sendAddTrack(e){this.sendRequest({addTrack:Jt.fromPartial(e)})}sendUpdateTrackSettings(e){this.sendRequest({trackSetting:e})}sendUpdateSubscription(e){this.sendRequest({subscription:e})}sendSyncState(e){this.sendRequest({syncState:e})}sendUpdateVideoLayers(e,t){this.sendRequest({updateLayers:{trackSid:e,layers:t}})}sendUpdateSubscriptionPermissions(e,t){this.sendRequest({subscriptionPermission:{allParticipants:e,trackPermissions:t}})}sendSimulateScenario(e){this.sendRequest({simulate:e})}async sendLeave(){await this.sendRequest(Xt.fromPartial({leave:{}}))}async sendRequest(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=!t&&!function(e){const t=void 0!==Object.keys(e).find((e=>da.includes(e)));return c.trace("request allowed to bypass queue:",{canPass:t,req:e}),t}(e);if(n&&this.isReconnecting)this.queuedRequests.push((async()=>{await this.sendRequest(e,!0)}));else if(t||await this.requestQueue.flush(),this.signalLatency&&await Hn(this.signalLatency),this.ws)try{this.useJSON?this.ws.send(JSON.stringify(Xt.toJSON(e))):this.ws.send(Xt.encode(e).finish())}catch(qa){c.error("error sending signal message",{error:qa})}else c.error("cannot send signal request before connected")}handleSignalResponse(e){if(e.answer){const t=pa(e.answer);this.onAnswer&&this.onAnswer(t)}else if(e.offer){const t=pa(e.offer);this.onOffer&&this.onOffer(t)}else if(e.trickle){const t=JSON.parse(e.trickle.candidateInit);this.onTrickle&&this.onTrickle(t,e.trickle.target)}else e.update?this.onParticipantUpdate&&this.onParticipantUpdate(e.update.participants):e.trackPublished?this.onLocalTrackPublished&&this.onLocalTrackPublished(e.trackPublished):e.speakersChanged?this.onSpeakersChanged&&this.onSpeakersChanged(e.speakersChanged.speakers):e.leave?this.onLeave&&this.onLeave(e.leave):e.mute?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(e.mute.sid,e.mute.muted):e.roomUpdate?this.onRoomUpdate&&this.onRoomUpdate(e.roomUpdate.room):e.connectionQuality?this.onConnectionQuality&&this.onConnectionQuality(e.connectionQuality):e.streamStateUpdate?this.onStreamStateUpdate&&this.onStreamStateUpdate(e.streamStateUpdate):e.subscribedQualityUpdate?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(e.subscribedQualityUpdate):e.subscriptionPermissionUpdate?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(e.subscriptionPermissionUpdate):e.refreshToken?this.onTokenRefresh&&this.onTokenRefresh(e.refreshToken):e.trackUnpublished?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(e.trackUnpublished):c.debug("unsupported message",e)}setReconnected(){for(;this.queuedRequests.length>0;){const e=this.queuedRequests.shift();e&&this.requestQueue.run(e)}this.isReconnecting=!1}handleWSError(e){c.error("websocket error",e)}}function pa(e){const t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type}return t}function ha(e){return{sdp:e.sdp,type:e.type}}const ma=7e3,ga=[0,300,1200,2700,4800,ma,ma,ma,ma,ma];class va{constructor(e){this._retryDelays=void 0!==e?[...e]:ga}nextRetryDelayInMs(e){if(e.retryCount>=this._retryDelays.length)return null;const t=this._retryDelays[e.retryCount];return e.retryCount<=1?t:t+1e3*Math.random()}}var ya={},ba={exports:{}},wa=ba.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+=null!=e.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(wa).forEach((function(e){wa[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))})),function(e){var t=function(e){return String(Number(e))===e?Number(e):e},n=function(e,n,r){var i=e.name&&e.names;e.push&&!n[e.push]?n[e.push]=[]:i&&!n[e.name]&&(n[e.name]={});var a=e.push?{}:i?n[e.name]:n;!function(e,n,r,i){if(i&&!r)n[i]=t(e[1]);else for(var a=0;a<r.length;a+=1)null!=e[a+1]&&(n[r[a]]=t(e[a+1]))}(r.match(e.reg),a,e.names,e.name),e.push&&n[e.push].push(a)},r=ba.exports,i=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(e){var t={},a=[],o=t;return e.split(/(\r\n|\r|\n)/).filter(i).forEach((function(e){var t=e[0],i=e.slice(2);"m"===t&&(a.push({rtp:[],fmtp:[]}),o=a[a.length-1]);for(var s=0;s<(r[t]||[]).length;s+=1){var l=r[t][s];if(l.reg.test(i))return n(l,o,i)}})),t.media=a,t};var a=function(e,n){var r=n.split(/=(.+)/,2);return 2===r.length?e[r[0]]=t(r[1]):1===r.length&&n.length>1&&(e[r[0]]=void 0),e};e.parseParams=function(e){return e.split(/;\s?/).reduce(a,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(e){return e.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(e){for(var n=[],r=e.split(" ").map(t),i=0;i<r.length;i+=3)n.push({component:r[i],ip:r[i+1],port:r[i+2]});return n},e.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(a,{})}))},e.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var n,r=!1;return"~"!==e[0]?n=t(e):(n=t(e.substring(1,e.length)),r=!0),{scid:n,paused:r}}))}))}}(ya);var Sa=ba.exports,_a=/%[sdv%]/g,xa=function(e){var t=1,n=arguments,r=n.length;return e.replace(_a,(function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},Ta=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var a=t.names[i];t.name?r.push(n[t.name][a]):r.push(n[t.names[i]])}else r.push(n[t.name]);return xa.apply(null,r)},ka=["v","o","s","i","u","e","p","c","b","t","r","z","a"],Ea=["i","c","b","a"],Ca=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||ka,r=t.innerOrder||Ea,i=[];return n.forEach((function(t){Sa[t].forEach((function(n){n.name in e&&null!=e[n.name]?i.push(Ta(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){i.push(Ta(t,n,e))}))}))})),e.media.forEach((function(e){i.push(Ta("m",Sa.m[0],e)),r.forEach((function(t){Sa[t].forEach((function(n){n.name in e&&null!=e[n.name]?i.push(Ta(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){i.push(Ta(t,n,e))}))}))}))})),i.join("\r\n")+"\r\n"},Oa=Ca,Pa=ya.parse;class Ia{constructor(e){this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.negotiate=Nr((()=>{this.createAndSendOffer()}),100),this.pc=new RTCPeerConnection(e)}get isICEConnected(){return"connected"===this.pc.iceConnectionState||"completed"===this.pc.iceConnectionState}async addIceCandidate(e){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(e);this.pendingCandidates.push(e)}async setRemoteDescription(e){await this.pc.setRemoteDescription(e),this.pendingCandidates.forEach((e=>{this.pc.addIceCandidate(e)})),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate&&(this.renegotiate=!1,this.createAndSendOffer())}async createAndSendOffer(e){var t;if(void 0===this.onOffer)return;if((null===e||void 0===e?void 0:e.iceRestart)&&(c.debug("restarting ICE"),this.restartingIce=!0),"have-local-offer"===this.pc.signalingState){const t=this.pc.remoteDescription;if(!(null===e||void 0===e?void 0:e.iceRestart)||!t)return void(this.renegotiate=!0);await this.pc.setRemoteDescription(t)}else if("closed"===this.pc.signalingState)return void c.warn("could not createOffer with closed peer connection");c.debug("starting to negotiate");const n=await this.pc.createOffer(e),r=Pa(null!==(t=n.sdp)&&void 0!==t?t:"");r.media.forEach((e=>{"audio"===e.type?Aa(e):"video"===e.type&&this.trackBitrates.some((t=>{if(!e.msid||!e.msid.includes(t.sid))return!1;let n=0;return e.rtp.some((e=>e.codec.toUpperCase()===t.codec.toUpperCase()&&(n=e.payload,!0))),n>0&&(e.fmtp.some((e=>e.payload===n&&(e.config.includes("x-google-max-bitrate")||(e.config+=";x-google-max-bitrate=".concat(t.maxbr)),!0)))||e.fmtp.push({payload:n,config:"x-google-max-bitrate=".concat(t.maxbr)})),!0}))})),n.sdp=Oa(r),this.trackBitrates=[],await this.pc.setLocalDescription(n),this.onOffer(n)}async createAndSetAnswer(){var e;const t=await this.pc.createAnswer(),n=Pa(null!==(e=t.sdp)&&void 0!==e?e:"");return n.media.forEach((e=>{"audio"===e.type&&Aa(e)})),t.sdp=Oa(n),await this.pc.setLocalDescription(t),t}setTrackCodecBitrate(e,t,n){this.trackBitrates.push({sid:e,codec:t,maxbr:n})}close(){this.pc.close()}}function Aa(e){let t=0;e.rtp.some((e=>"opus"===e.codec&&(t=e.payload,!0))),t>0&&(e.rtcpFb||(e.rtcpFb=[]),e.rtcpFb.some((e=>e.payload===t&&"nack"===e.type))||e.rtcpFb.push({payload:t,type:"nack"}))}const Da="_lossy",Ma="_reliable",Ra=15e3;var Na;!function(e){e[e.New=0]="New",e[e.Connected=1]="Connected",e[e.Disconnected=2]="Disconnected",e[e.Reconnecting=3]="Reconnecting",e[e.Closed=4]="Closed"}(Na||(Na={}));class La extends ir.exports.EventEmitter{constructor(e){var t,n;super(),t=this,this.options=e,this.rtcConfig={},this.subscriberPrimary=!1,this.pcState=Na.New,this._isClosed=!0,this.pendingTrackResolvers={},this.hasPublished=!1,this.reconnectAttempts=0,this.reconnectStart=0,this.fullReconnectOnNext=!1,this.attemptingReconnect=!1,this.handleDataChannel=async e=>{let{channel:t}=e;if(t){if(t.label===Ma)this.reliableDCSub=t;else{if(t.label!==Da)return;this.lossyDCSub=t}c.debug("on data channel ".concat(t.id,", ").concat(t.label)),t.onmessage=this.handleDataMessage}},this.handleDataMessage=async e=>{let t;if(e.data instanceof ArrayBuffer)t=e.data;else{if(!(e.data instanceof Blob))return void c.error("unsupported data type",e.data);t=await e.data.arrayBuffer()}const n=Tt.decode(new Uint8Array(t));n.speaker?this.emit(jn.ActiveSpeakersUpdate,n.speaker.speakers):n.user&&this.emit(jn.DataPacketReceived,n.user,n.kind)},this.handleDataError=e=>{const t=0===e.currentTarget.maxRetransmits?"lossy":"reliable";if(e instanceof ErrorEvent){const{error:n}=e.error;c.error("DataChannel error on ".concat(t,": ").concat(e.message),n)}else c.error("Unknown DataChannel Error on ".concat(t),e)},this.handleDisconnect=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t._isClosed)return;c.debug("".concat(e," disconnected")),0===t.reconnectAttempts&&(t.reconnectStart=Date.now());const r=e=>{c.info("could not recover connection after ".concat(t.reconnectAttempts," attempts, ").concat(e,"ms. giving up")),t.emit(jn.Disconnected),t.close()},i=Date.now()-t.reconnectStart,a=t.getNextRetryDelay({elapsedMs:i,retryCount:t.reconnectAttempts});null!==a?(c.debug("reconnecting in ".concat(a,"ms")),t.reconnectTimeout&&clearTimeout(t.reconnectTimeout),t.reconnectTimeout=setTimeout((async()=>{var e,i,a;if(!t._isClosed&&!t.attemptingReconnect){(zn()||(null===(e=t.clientConfiguration)||void 0===e?void 0:e.resumeConnection)===Ye.DISABLED||"closed"===(null!==(a=null===(i=t.primaryPC)||void 0===i?void 0:i.signalingState)&&void 0!==a?a:"closed"))&&(t.fullReconnectOnNext=!0);try{t.attemptingReconnect=!0,t.fullReconnectOnNext?await t.restartConnection(n):await t.resumeConnection(n),t.reconnectAttempts=0,t.fullReconnectOnNext=!1,t.reconnectTimeout&&clearTimeout(t.reconnectTimeout)}catch(qa){t.reconnectAttempts+=1;let n=!1,i=!0,a=!1;qa instanceof Mn?(c.debug("received unrecoverable error",{error:qa}),i=!1):qa instanceof Ba||(n=!0),n&&!t.fullReconnectOnNext&&(t.fullReconnectOnNext=!0,a=!0),i?t.handleDisconnect("reconnect",a):r(Date.now()-t.reconnectStart)}finally{t.attemptingReconnect=!1}}}),a)):r(i)},this.client=new fa,this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=null!==(n=this.options.reconnectPolicy)&&void 0!==n?n:new va}get isClosed(){return this._isClosed}async join(e,t,n,r){this.url=e,this.token=t,this.signalOpts=n;const i=await this.client.join(e,t,n,r);return this._isClosed=!1,this.subscriberPrimary=i.subscriberPrimary,this.publisher||this.configure(i),this.subscriberPrimary||this.negotiate(),this.clientConfiguration=i.clientConfiguration,i}close(){this._isClosed=!0,this.removeAllListeners(),this.publisher&&"closed"!==this.publisher.pc.signalingState&&(this.publisher.pc.getSenders().forEach((e=>{var t,n;try{(null===(t=this.publisher)||void 0===t?void 0:t.pc.removeTrack)&&(null===(n=this.publisher)||void 0===n||n.pc.removeTrack(e))}catch(qa){c.warn("could not removeTrack",{error:qa})}})),this.publisher.close(),this.publisher=void 0),this.subscriber&&(this.subscriber.close(),this.subscriber=void 0),this.client.close()}addTrack(e){if(this.pendingTrackResolvers[e.cid])throw new An("a track with the same ID has already been published");return new Promise(((t,n)=>{const r=setTimeout((()=>{n(new In("publication of local track timed out, no response from server"))}),15e3);this.pendingTrackResolvers[e.cid]=e=>{clearTimeout(r),t(e)},this.client.sendAddTrack(e)}))}updateMuteStatus(e,t){this.client.sendMuteTrack(e,t)}get dataSubscriberReadyState(){var e;return null===(e=this.reliableDCSub)||void 0===e?void 0:e.readyState}get connectedServerAddress(){return this.connectedServerAddr}configure(e){if(this.publisher||this.subscriber)return;if(e.iceServers&&!this.rtcConfig.iceServers){const t=[];e.iceServers.forEach((e=>{const n={urls:e.urls};e.username&&(n.username=e.username),e.credential&&(n.credential=e.credential),t.push(n)})),this.rtcConfig.iceServers=t}this.rtcConfig.sdpSemantics="unified-plan",this.rtcConfig.continualGatheringPolicy="gather_continually",this.publisher=new Ia(this.rtcConfig),this.subscriber=new Ia(this.rtcConfig),this.emit(jn.TransportsCreated,this.publisher,this.subscriber),this.publisher.pc.onicecandidate=e=>{e.candidate&&(c.trace("adding ICE candidate for peer",e.candidate),this.client.sendIceCandidate(e.candidate,Vt.PUBLISHER))},this.subscriber.pc.onicecandidate=e=>{e.candidate&&this.client.sendIceCandidate(e.candidate,Vt.SUBSCRIBER)},this.publisher.onOffer=e=>{this.client.sendOffer(e)};let t=this.publisher.pc,n=this.subscriber.pc;e.subscriberPrimary&&(t=this.subscriber.pc,n=this.publisher.pc,this.subscriber.pc.ondatachannel=this.handleDataChannel),this.primaryPC=t,t.onconnectionstatechange=async()=>{if(c.debug("primary PC state changed",{state:t.connectionState}),"connected"===t.connectionState){try{this.connectedServerAddr=await ja(t)}catch(qa){c.warn("could not get connected server address",{error:qa})}const e=this.pcState===Na.New;this.pcState=Na.Connected,e&&this.emit(jn.Connected)}else"failed"===t.connectionState&&this.pcState===Na.Connected&&(this.pcState=Na.Disconnected,this.handleDisconnect("primary peerconnection"))},n.onconnectionstatechange=async()=>{c.debug("secondary PC state changed",{state:n.connectionState}),"failed"===n.connectionState&&this.handleDisconnect("secondary peerconnection")},$n()?this.subscriber.pc.ontrack=e=>{this.emit(jn.MediaTrackAdded,e.track,e.streams[0],e.receiver)}:this.subscriber.pc.onaddstream=e=>{const t=e.stream.getTracks()[0];this.emit(jn.MediaTrackAdded,t,e.stream)},this.createDataChannels(),this.client.onAnswer=async e=>{this.publisher&&(c.debug("received server answer",{RTCSdpType:e.type,signalingState:this.publisher.pc.signalingState}),await this.publisher.setRemoteDescription(e))},this.client.onTrickle=(e,t)=>{this.publisher&&this.subscriber&&(c.trace("got ICE candidate from peer",{candidate:e,target:t}),t===Vt.PUBLISHER?this.publisher.addIceCandidate(e):this.subscriber.addIceCandidate(e))},this.client.onOffer=async e=>{if(!this.subscriber)return;c.debug("received server offer",{RTCSdpType:e.type,signalingState:this.subscriber.pc.signalingState}),await this.subscriber.setRemoteDescription(e);const t=await this.subscriber.createAndSetAnswer();this.client.sendAnswer(t)},this.client.onLocalTrackPublished=e=>{c.debug("received trackPublishedResponse",e);const t=this.pendingTrackResolvers[e.cid];t?(delete this.pendingTrackResolvers[e.cid],t(e.track)):c.error("missing track resolver for ".concat(e.cid))},this.client.onTokenRefresh=e=>{this.token=e},this.client.onClose=()=>{this.handleDisconnect("signal")},this.client.onLeave=e=>{(null===e||void 0===e?void 0:e.canReconnect)?(this.fullReconnectOnNext=!0,this.primaryPC=void 0):(this.emit(jn.Disconnected,null===e||void 0===e?void 0:e.reason),this.close()),c.trace("leave request",{leave:e})}}createDataChannels(){this.publisher&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.publisher.pc.createDataChannel(Da,{ordered:!0,maxRetransmits:0}),this.reliableDC=this.publisher.pc.createDataChannel(Ma,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError)}getNextRetryDelay(e){try{return this.reconnectPolicy.nextRetryDelayInMs(e)}catch(qa){c.warn("encountered error in reconnect policy",{error:qa})}return null}async restartConnection(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,n;if(!this.url||!this.token)throw new Mn("could not reconnect, url or token not saved");let r;c.info("reconnecting, attempt: ".concat(this.reconnectAttempts)),(e||0===this.reconnectAttempts)&&this.emit(jn.Restarting),this.client.isConnected&&this.client.sendLeave(),this.client.close(),this.primaryPC=void 0,null===(t=this.publisher)||void 0===t||t.close(),this.publisher=void 0,null===(n=this.subscriber)||void 0===n||n.close(),this.subscriber=void 0;try{r=await this.join(this.url,this.token,this.signalOpts)}catch(qa){throw new Ba}await this.waitForPCConnected(),this.client.setReconnected(),this.emit(jn.Restarted,r)}async resumeConnection(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;if(!this.url||!this.token)throw new Mn("could not reconnect, url or token not saved");if(!this.publisher||!this.subscriber)throw new Mn("publisher and subscriber connections unset");c.info("resuming signal connection, attempt ".concat(this.reconnectAttempts)),(e||0===this.reconnectAttempts)&&this.emit(jn.Resuming);try{await this.client.reconnect(this.url,this.token)}catch(qa){let t="";throw qa instanceof Error&&(t=qa.message),new Ba(t)}this.emit(jn.SignalResumed),this.subscriber.restartingIce=!0,this.hasPublished&&await this.publisher.createAndSendOffer({iceRestart:!0}),await this.waitForPCConnected(),this.client.setReconnected(),"open"===(null===(t=this.reliableDC)||void 0===t?void 0:t.readyState)&&null===this.reliableDC.id&&this.createDataChannels(),this.emit(jn.Resumed)}async waitForPCConnected(){var e;const t=Date.now();let n=t;for(this.pcState=Na.Reconnecting,c.debug("waiting for peer connection to reconnect");n-t<Ra&&void 0!==this.primaryPC;){if(n-t>2e3&&"connected"===(null===(e=this.primaryPC)||void 0===e?void 0:e.connectionState)){this.pcState=Na.Connected;try{this.connectedServerAddr=await ja(this.primaryPC)}catch(qa){c.warn("could not get connected server address",{error:qa})}}if(this.pcState===Na.Connected)return;await Hn(100),n=Date.now()}throw new In("could not establish PC connection")}async sendDataPacket(e,t){const n=Tt.encode(e).finish();await this.ensurePublisherConnected(t),t===et.LOSSY&&this.lossyDC?this.lossyDC.send(n):t===et.RELIABLE&&this.reliableDC&&this.reliableDC.send(n)}async ensurePublisherConnected(e){var t,n;if(!this.subscriberPrimary)return;if(!this.publisher)throw new In("publisher connection not set");this.publisher.isICEConnected||"checking"===this.publisher.pc.iceConnectionState||this.negotiate();const r=this.dataChannelForKind(e);if("open"===(null===r||void 0===r?void 0:r.readyState))return;const i=(new Date).getTime()+Ra;for(;(new Date).getTime()<i;){if(this.publisher.isICEConnected&&"open"===(null===(t=this.dataChannelForKind(e))||void 0===t?void 0:t.readyState))return;await Hn(50)}throw new In("could not establish publisher connection, state ".concat(null===(n=this.publisher)||void 0===n?void 0:n.pc.iceConnectionState))}negotiate(){this.publisher&&(this.hasPublished=!0,this.publisher.negotiate())}dataChannelForKind(e,t){if(t){if(e===et.LOSSY)return this.lossyDCSub;if(e===et.RELIABLE)return this.reliableDCSub}else{if(e===et.LOSSY)return this.lossyDC;if(e===et.RELIABLE)return this.reliableDC}}}async function ja(e){var t;let n="";const r=new Map,i=new Map;if((await e.getStats()).forEach((e=>{switch(e.type){case"transport":n=e.selectedCandidatePairId;break;case"candidate-pair":""===n&&e.selected&&(n=e.id),r.set(e.id,e);break;case"remote-candidate":i.set(e.id,"".concat(e.address,":").concat(e.port))}})),""===n)return;const a=null===(t=r.get(n))||void 0===t?void 0:t.remoteCandidateId;return void 0!==a?i.get(a):void 0}class Ba extends Error{}const Fa={audioBitrate:Hr.speech.maxBitrate,dtx:!0,simulcast:!0,screenShareEncoding:$r.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:"vp8"},Ua={autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0},Ha={resolution:zr.h720.resolution};var za;!function(e){e.Disconnected="disconnected",e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting"}(za||(za={}));class Va extends ir.exports.EventEmitter{constructor(e){var t;super(),t=this,this.state=za.Disconnected,this.activeSpeakers=[],this.sid="",this.name="",this.metadata=void 0,this.audioEnabled=!0,this.connect=async(e,t,n)=>{var r,i,a,o;if(this.state===za.Connected)return void c.warn("already connected to room ".concat(this.name));if(this.connectFuture)return this.connectFuture.promise;this.setAndEmitConnectionState(za.Connecting),this.abortController&&!this.abortController.signal.aborted||(this.abortController=new AbortController),this.createEngine(),this.acquireAudioContext(),(null===n||void 0===n?void 0:n.rtcConfig)&&(this.engine.rtcConfig=n.rtcConfig),this.connOptions=n;try{const a=await this.engine.join(e,t,{autoSubscribe:null===n||void 0===n?void 0:n.autoSubscribe,publishOnly:null===n||void 0===n?void 0:n.publishOnly,adaptiveStream:"object"===typeof(null===(r=this.options)||void 0===r?void 0:r.adaptiveStream)||(null===(i=this.options)||void 0===i?void 0:i.adaptiveStream)},this.abortController.signal);if(c.debug("connected to Livekit Server version: ".concat(a.serverVersion,", region: ").concat(a.serverRegion)),!a.serverVersion)throw new Dn("unknown server version");"0.15.1"===a.serverVersion&&this.options.dynacast&&(c.debug("disabling dynacast due to server version"),this.options.dynacast=!1);const o=a.participant;this.localParticipant.sid=o.sid,this.localParticipant.identity=o.identity,this.localParticipant.updateInfo(o),this.localParticipant.on(Ln.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(Ln.TrackMuted,this.onLocalTrackMuted).on(Ln.TrackUnmuted,this.onLocalTrackUnmuted).on(Ln.LocalTrackPublished,this.onLocalTrackPublished).on(Ln.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(Ln.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(Ln.MediaDevicesError,this.onMediaDevicesError).on(Ln.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),a.otherParticipants.forEach((e=>{e.sid!==this.localParticipant.sid&&e.identity!==this.localParticipant.identity?this.getOrCreateParticipant(e.sid,e):c.warn("received info to create local participant as remote participant",{info:e,localParticipant:this.localParticipant})})),this.name=a.room.name,this.sid=a.room.sid,this.metadata=a.room.metadata,this.emit(Nn.SignalConnected)}catch(u){throw this.recreateEngine(),this.setAndEmitConnectionState(za.Disconnected,new In("could not establish signal connection")),u}const s=setTimeout((()=>{this.recreateEngine(),this.setAndEmitConnectionState(za.Disconnected,new In("could not connect PeerConnection after timeout"))}),Ra),l=()=>{c.warn("closing engine"),clearTimeout(s),this.recreateEngine(),this.setAndEmitConnectionState(za.Disconnected,new In("room connection has been cancelled"))};return(null===(a=this.abortController)||void 0===a?void 0:a.signal.aborted)&&l(),null===(o=this.abortController)||void 0===o||o.signal.addEventListener("abort",l),this.engine.once(jn.Connected,(()=>{var e,t;clearTimeout(s),null===(e=this.abortController)||void 0===e||e.signal.removeEventListener("abort",l),$n()&&(window.addEventListener("beforeunload",this.onBeforeUnload),null===(t=navigator.mediaDevices)||void 0===t||t.addEventListener("devicechange",this.handleDeviceChange)),this.setAndEmitConnectionState(za.Connected)})),this.connectFuture?this.connectFuture.promise:void 0},this.disconnect=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var n,r;if(c.info("disconnect from room",{identity:t.localParticipant.identity}),t.state===za.Connecting)return c.warn("abort connection attempt"),void(null===(n=t.abortController)||void 0===n||n.abort());(null===(r=t.engine)||void 0===r?void 0:r.client.isConnected)&&await t.engine.client.sendLeave(),t.engine&&t.engine.close(),t.handleDisconnect(e,Qe.CLIENT_INITIATED),t.engine=void 0},this.onBeforeUnload=()=>{this.disconnect()},this.handleRestarting=()=>{for(const e of this.participants.values())this.handleParticipantDisconnected(e.sid,e);this.setAndEmitConnectionState(za.Reconnecting)&&this.emit(Nn.Reconnecting)},this.handleRestarted=async e=>{c.debug("reconnected to server",{region:e.serverRegion}),this.setAndEmitConnectionState(za.Connected),this.emit(Nn.Reconnected),e.participant&&(this.localParticipant.sid=e.participant.sid,this.handleParticipantUpdates([e.participant])),this.handleParticipantUpdates(e.otherParticipants);const t=[];this.localParticipant.tracks.forEach((e=>{e.track&&t.push(e)})),await Promise.all(t.map((async e=>{const t=e.track;this.localParticipant.unpublishTrack(t,!1),t.isMuted||((t instanceof Or||t instanceof Pr)&&!t.isUserProvided&&(c.debug("restarting existing track",{track:e.trackSid}),await t.restartTrack()),await this.localParticipant.publishTrack(t,e.options))})))},this.handleParticipantUpdates=e=>{e.forEach((e=>{if(e.sid===this.localParticipant.sid||e.identity===this.localParticipant.identity)return void this.localParticipant.updateInfo(e);const t=this.identityToSid.get(e.identity);t&&t!==e.sid&&this.handleParticipantDisconnected(t,this.participants.get(t));let n=this.participants.get(e.sid);const r=!n;n=this.getOrCreateParticipant(e.sid,e),e.state===Je.DISCONNECTED?this.handleParticipantDisconnected(e.sid,n):r?this.emitWhenConnected(Nn.ParticipantConnected,n):n.updateInfo(e)}))},this.handleActiveSpeakersUpdate=e=>{const t=[],n={};e.forEach((e=>{if(n[e.sid]=!0,e.sid===this.localParticipant.sid)this.localParticipant.audioLevel=e.level,this.localParticipant.setIsSpeaking(!0),t.push(this.localParticipant);else{const n=this.participants.get(e.sid);n&&(n.audioLevel=e.level,n.setIsSpeaking(!0),t.push(n))}})),n[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.participants.forEach((e=>{n[e.sid]||(e.audioLevel=0,e.setIsSpeaking(!1))})),this.activeSpeakers=t,this.emitWhenConnected(Nn.ActiveSpeakersChanged,t)},this.handleSpeakersChanged=e=>{const t=new Map;this.activeSpeakers.forEach((e=>{t.set(e.sid,e)})),e.forEach((e=>{let n=this.participants.get(e.sid);e.sid===this.localParticipant.sid&&(n=this.localParticipant),n&&(n.audioLevel=e.level,n.setIsSpeaking(e.active),e.active?t.set(e.sid,n):t.delete(e.sid))}));const n=Array.from(t.values());n.sort(((e,t)=>t.audioLevel-e.audioLevel)),this.activeSpeakers=n,this.emitWhenConnected(Nn.ActiveSpeakersChanged,n)},this.handleStreamStateUpdate=e=>{e.streamStates.forEach((e=>{const t=this.participants.get(e.participantSid);if(!t)return;const n=t.getTrackPublication(e.trackSid);n&&n.track&&(n.track.streamState=wr.streamStateFromProto(e.state),t.emit(Ln.TrackStreamStateChanged,n,n.track.streamState),this.emitWhenConnected(Nn.TrackStreamStateChanged,n,n.track.streamState,t))}))},this.handleSubscriptionPermissionUpdate=e=>{const t=this.participants.get(e.participantSid);if(!t)return;const n=t.getTrackPublication(e.trackSid);n&&n.setAllowed(e.allowed)},this.handleDataPacket=(e,t)=>{const n=this.participants.get(e.participantSid);this.emit(Nn.DataReceived,e.payload,n,t),null===n||void 0===n||n.emit(Ln.DataReceived,e.payload,t)},this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(Nn.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=e=>{c.warn("could not playback audio",e),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(Nn.AudioPlaybackStatusChanged,!1))},this.handleDeviceChange=async()=>{this.emit(Nn.MediaDevicesChanged)},this.handleRoomUpdate=e=>{this.metadata=e.metadata,this.emitWhenConnected(Nn.RoomMetadataChanged,e.metadata)},this.handleConnectionQualityUpdate=e=>{e.updates.forEach((e=>{if(e.participantSid===this.localParticipant.sid)return void this.localParticipant.setConnectionQuality(e.quality);const t=this.participants.get(e.participantSid);t&&t.setConnectionQuality(e.quality)}))},this.onLocalParticipantMetadataChanged=e=>{this.emit(Nn.ParticipantMetadataChanged,e,this.localParticipant)},this.onLocalTrackMuted=e=>{this.emit(Nn.TrackMuted,e,this.localParticipant)},this.onLocalTrackUnmuted=e=>{this.emit(Nn.TrackUnmuted,e,this.localParticipant)},this.onLocalTrackPublished=e=>{this.emit(Nn.LocalTrackPublished,e,this.localParticipant)},this.onLocalTrackUnpublished=e=>{this.emit(Nn.LocalTrackUnpublished,e,this.localParticipant)},this.onLocalConnectionQualityChanged=e=>{this.emit(Nn.ConnectionQualityChanged,e,this.localParticipant)},this.onMediaDevicesError=e=>{this.emit(Nn.MediaDevicesError,e)},this.onLocalParticipantPermissionsChanged=e=>{this.emit(Nn.ParticipantPermissionsChanged,e,this.localParticipant)},this.participants=new Map,this.identityToSid=new Map,this.options=e||{},this.options.audioCaptureDefaults=Ht(Ht({},Ua),null===e||void 0===e?void 0:e.audioCaptureDefaults),this.options.videoCaptureDefaults=Ht(Ht({},Ha),null===e||void 0===e?void 0:e.videoCaptureDefaults),this.options.publishDefaults=Ht(Ht({},Fa),null===e||void 0===e?void 0:e.publishDefaults),this.createEngine(),this.localParticipant=new oi("","",this.engine,this.options)}createEngine(){this.engine||(this.engine=new La(this.options),this.engine.client.onParticipantUpdate=this.handleParticipantUpdates,this.engine.client.onRoomUpdate=this.handleRoomUpdate,this.engine.client.onSpeakersChanged=this.handleSpeakersChanged,this.engine.client.onStreamStateUpdate=this.handleStreamStateUpdate,this.engine.client.onSubscriptionPermissionUpdate=this.handleSubscriptionPermissionUpdate,this.engine.client.onConnectionQuality=this.handleConnectionQualityUpdate,this.engine.on(jn.MediaTrackAdded,((e,t,n)=>{this.onTrackAdded(e,t,n)})).on(jn.Disconnected,(e=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,e)})).on(jn.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(jn.DataPacketReceived,this.handleDataPacket).on(jn.Resuming,(()=>{this.setAndEmitConnectionState(za.Reconnecting)&&this.emit(Nn.Reconnecting)})).on(jn.Resumed,(()=>{this.setAndEmitConnectionState(za.Connected),this.emit(Nn.Reconnected),this.updateSubscriptions()})).on(jn.SignalResumed,(()=>{this.state===za.Reconnecting&&this.sendSyncState()})).on(jn.Restarting,this.handleRestarting).on(jn.Restarted,this.handleRestarted),this.localParticipant&&(this.localParticipant.engine=this.engine))}static getLocalDevices(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return nr.getInstance().getDevices(e,t)}getParticipantByIdentity(e){if(this.localParticipant.identity===e)return this.localParticipant;const t=this.identityToSid.get(e);return t?this.participants.get(t):void 0}simulateScenario(e){let t,n=()=>{};switch(e){case"signal-reconnect":this.engine.client.close(),this.engine.client.onClose&&this.engine.client.onClose("simulate disconnect");break;case"speaker":t=Cn.fromPartial({speakerUpdate:3});break;case"node-failure":t=Cn.fromPartial({nodeFailure:!0});break;case"server-leave":t=Cn.fromPartial({serverLeave:!0});break;case"migration":t=Cn.fromPartial({migration:!0});break;case"switch-candidate":t=Cn.fromPartial({switchCandidateProtocol:1}),n=()=>{var e;null===(e=this.engine.publisher)||void 0===e||e.createAndSendOffer({iceRestart:!0})}}t&&(this.engine.client.sendSimulateScenario(t),n())}async startAudio(){this.acquireAudioContext();const e=[];this.participants.forEach((t=>{t.audioTracks.forEach((t=>{t.track&&t.track.attachedElements.forEach((t=>{e.push(t)}))}))}));try{await Promise.all(e.map((e=>e.play()))),this.handleAudioPlaybackStarted()}catch(t){throw this.handleAudioPlaybackFailed(t),t}}get canPlaybackAudio(){return this.audioEnabled}async switchActiveDevice(e,t){if("audioinput"===e){const e=Array.from(this.localParticipant.audioTracks.values()).filter((e=>e.source===wr.Source.Microphone));await Promise.all(e.map((e=>{var n;return null===(n=e.audioTrack)||void 0===n?void 0:n.setDeviceId(t)}))),this.options.audioCaptureDefaults.deviceId=t}else if("videoinput"===e){const e=Array.from(this.localParticipant.videoTracks.values()).filter((e=>e.source===wr.Source.Camera));await Promise.all(e.map((e=>{var n;return null===(n=e.videoTrack)||void 0===n?void 0:n.setDeviceId(t)}))),this.options.videoCaptureDefaults.deviceId=t}else if("audiooutput"===e){const e=[];this.participants.forEach((t=>{t.audioTracks.forEach((t=>{t.isSubscribed&&t.track&&t.track.attachedElements.forEach((t=>{e.push(t)}))}))})),await Promise.all(e.map((async e=>{"setSinkId"in e&&await e.setSinkId(t)})))}}recreateEngine(){this.engine.close(),this.engine=void 0,this.participants.clear(),this.createEngine()}onTrackAdded(e,t,n){if(this.connectFuture)return void this.connectFuture.promise.then((()=>{this.onTrackAdded(e,t,n)}));if(this.state===za.Disconnected)return void c.warn("skipping incoming track after Room disconnected");const r=function(e){const t=e.split("|");return t.length>1?[t[0],e.substr(t[0].length+1)]:[e,""]}(t.id),i=r[0];let a=r[1];if(a&&""!==a||(a=e.id),i===this.localParticipant.sid)return void c.warn("tried to create RemoteParticipant for local participant");const o=this.getOrCreateParticipant(i);let s;this.options.adaptiveStream&&(s="object"===typeof this.options.adaptiveStream?this.options.adaptiveStream:{}),o.addSubscribedMediaTrack(e,a,t,n,s)}handleDisconnect(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;var n;this.state!==za.Disconnected&&(this.participants.forEach((e=>{e.tracks.forEach((t=>{e.unpublishTrack(t.trackSid)}))})),this.localParticipant.off(Ln.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(Ln.TrackMuted,this.onLocalTrackMuted).off(Ln.TrackUnmuted,this.onLocalTrackUnmuted).off(Ln.LocalTrackPublished,this.onLocalTrackPublished).off(Ln.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(Ln.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(Ln.MediaDevicesError,this.onMediaDevicesError).off(Ln.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.tracks.forEach((t=>{var n,r;t.track&&this.localParticipant.unpublishTrack(t.track,e),e&&(null===(n=t.track)||void 0===n||n.detach(),null===(r=t.track)||void 0===r||r.stop())})),this.localParticipant.tracks.clear(),this.localParticipant.videoTracks.clear(),this.localParticipant.audioTracks.clear(),this.participants.clear(),this.activeSpeakers=[],this.audioContext&&(this.audioContext.close(),this.audioContext=void 0),$n()&&(window.removeEventListener("beforeunload",this.onBeforeUnload),null===(n=navigator.mediaDevices)||void 0===n||n.removeEventListener("devicechange",this.handleDeviceChange)),this.setAndEmitConnectionState(za.Disconnected),this.emit(Nn.Disconnected,t))}handleParticipantDisconnected(e,t){this.participants.delete(e),t&&(this.identityToSid.delete(t.identity),t.tracks.forEach((e=>{t.unpublishTrack(e.trackSid,!0)})),this.emitWhenConnected(Nn.ParticipantDisconnected,t))}acquireAudioContext(){this.audioContext&&this.audioContext.close();const e=Cr();e&&(this.audioContext=e)}createParticipant(e,t){let n;return n=t?ai.fromParticipantInfo(this.engine.client,t):new ai(this.engine.client,e,""),n}getOrCreateParticipant(e,t){if(this.participants.has(e))return this.participants.get(e);const n=this.createParticipant(e,t);return this.participants.set(e,n),t&&this.identityToSid.set(t.identity,t.sid),n.on(Ln.TrackPublished,(e=>{this.emitWhenConnected(Nn.TrackPublished,e,n)})).on(Ln.TrackSubscribed,((e,t)=>{e.kind===wr.Kind.Audio&&(e.on(Bn.AudioPlaybackStarted,this.handleAudioPlaybackStarted),e.on(Bn.AudioPlaybackFailed,this.handleAudioPlaybackFailed)),this.emit(Nn.TrackSubscribed,e,t,n)})).on(Ln.TrackUnpublished,(e=>{this.emitWhenConnected(Nn.TrackUnpublished,e,n)})).on(Ln.TrackUnsubscribed,((e,t)=>{this.emit(Nn.TrackUnsubscribed,e,t,n)})).on(Ln.TrackSubscriptionFailed,(e=>{this.emit(Nn.TrackSubscriptionFailed,e,n)})).on(Ln.TrackMuted,(e=>{this.emitWhenConnected(Nn.TrackMuted,e,n)})).on(Ln.TrackUnmuted,(e=>{this.emitWhenConnected(Nn.TrackUnmuted,e,n)})).on(Ln.ParticipantMetadataChanged,(e=>{this.emitWhenConnected(Nn.ParticipantMetadataChanged,e,n)})).on(Ln.ConnectionQualityChanged,(e=>{this.emitWhenConnected(Nn.ConnectionQualityChanged,e,n)})).on(Ln.ParticipantPermissionsChanged,(e=>{this.emitWhenConnected(Nn.ParticipantPermissionsChanged,e,n)})).on(Ln.TrackSubscriptionPermissionChanged,((e,t)=>{this.emitWhenConnected(Nn.TrackSubscriptionPermissionChanged,e,t,n)})),t&&n.updateInfo(t),n}sendSyncState(){var e;if(void 0===this.engine.subscriber||null===this.engine.subscriber.pc.localDescription)return;const t=this.engine.subscriber.pc.localDescription,n=(null===(e=this.connOptions)||void 0===e?void 0:e.autoSubscribe)||!1,r=new Array;this.participants.forEach((e=>{e.tracks.forEach((e=>{e.isSubscribed!==n&&r.push(e.trackSid)}))})),this.engine.client.sendSyncState({answer:ha({sdp:t.sdp,type:t.type}),subscription:{trackSids:r,subscribe:!n,participantTracks:[]},publishTracks:this.localParticipant.publishedTracksInfo(),dataChannels:this.localParticipant.dataChannelsInfo()})}updateSubscriptions(){for(const e of this.participants.values())for(const t of e.videoTracks.values())t.isSubscribed&&t instanceof ii&&t.emitTrackUpdate()}setAndEmitConnectionState(e,t){if(e===this.state)return!1;switch(e){case za.Connecting:case za.Reconnecting:this.connectFuture||(this.connectFuture=new Jn);break;case za.Connected:this.connectFuture&&(this.connectFuture.resolve(),this.connectFuture=void 0);break;case za.Disconnected:this.connectFuture&&(null!==t&&void 0!==t||(t=new Error("disconnected from Room")),this.connectFuture.reject(t),this.connectFuture=void 0)}return this.state=e,this.emit(Nn.ConnectionStateChanged,this.state),!0}emitWhenConnected(e){if(this.state===za.Connected){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.emit(e,...n)}return!1}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return c.debug("room event",{event:e,args:n}),super.emit(e,...n)}}async function $a(e){var t,n;null!==e&&void 0!==e||(e={}),null!==(t=e.audio)&&void 0!==t||(e.audio=!0),null!==(n=e.video)&&void 0!==n||(e.video=!0);const r=Er(Tr(e,Ua,Ha)),i=await navigator.mediaDevices.getUserMedia(r);return i.getTracks().map((t=>{const n="audio"===t.kind;let a;n?e.audio:e.video;const o=n?r.audio:r.video;"boolean"!==typeof o&&(a=o);const s=qr(t,a);return s.kind===wr.Kind.Video?s.source=wr.Source.Camera:s.kind===wr.Kind.Audio&&(s.source=wr.Source.Microphone),s.mediaStream=i,s}))}async function Ga(e){return(await $a({audio:!1,video:e}))[0]}async function Wa(e){var t;void 0===e&&(e={}),void 0===e.resolution&&(e.resolution=zr.h1080.resolution);let n=!0;e.resolution&&(n={width:e.resolution.width,height:e.resolution.height});const r=await navigator.mediaDevices.getDisplayMedia({audio:null!==(t=e.audio)&&void 0!==t&&t,video:n}),i=r.getVideoTracks();if(0===i.length)throw new An("no video track found");const a=new Pr(i[0],void 0,!1);a.source=wr.Source.ScreenShare;const o=[a];if(r.getAudioTracks().length>0){const e=new Or(r.getAudioTracks()[0],void 0,!1);e.source=wr.Source.ScreenShareAudio,o.push(e)}return o}},27384:(e,t,n)=>{"use strict";n.d(t,{PD:()=>T});var r={};function i(e){let t=null;return()=>(null==t&&(t=e()),t)}n.r(r),n.d(r,{FILE:()=>s,HTML:()=>c,TEXT:()=>u,URL:()=>l});class a{enter(e){const t=this.entered.length;return this.entered=function(e,t){const n=new Set,r=e=>n.add(e);e.forEach(r),t.forEach(r);const i=[];return n.forEach((e=>i.push(e))),i}(this.entered.filter((t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e)))),[e]),0===t&&this.entered.length>0}leave(e){const t=this.entered.length;var n,r;return this.entered=(n=this.entered.filter(this.isNodeInDocument),r=e,n.filter((e=>e!==r))),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class o{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})}))}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach((n=>{const r=this.config.exposeProperties[n];null!=r&&(t[n]={value:r(e,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const s="__NATIVE_FILE__",l="__NATIVE_URL__",u="__NATIVE_TEXT__",c="__NATIVE_HTML__";function d(e,t,n){const r=t.reduce(((t,n)=>t||e.getData(n)),"");return null!=r?r:n}const f={[s]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[c]:{exposeProperties:{html:(e,t)=>d(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[l]:{exposeProperties:{urls:(e,t)=>d(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[u]:{exposeProperties:{text:(e,t)=>d(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function p(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(f).filter((e=>{const n=f[e];return!!(null===n||void 0===n?void 0:n.matchesTypes)&&n.matchesTypes.some((e=>t.indexOf(e)>-1))}))[0]||null}const h=i((()=>/firefox/i.test(navigator.userAgent))),m=i((()=>Boolean(window.safari)));class g{interpolate(e){const{xs:t,ys:n,c1s:r,c2s:i,c3s:a}=this;let o=t.length-1;if(e===t[o])return n[o];let s,l=0,u=a.length-1;for(;l<=u;){s=Math.floor(.5*(l+u));const r=t[s];if(r<e)l=s+1;else{if(!(r>e))return n[s];u=s-1}}o=Math.max(0,u);const c=e-t[o],d=c*c;return n[o]+r[o]*c+i[o]*d+a[o]*c*d}constructor(e,t){const{length:n}=e,r=[];for(let p=0;p<n;p++)r.push(p);r.sort(((t,n)=>e[t]<e[n]?-1:1));const i=[],a=[],o=[];let s,l;for(let p=0;p<n-1;p++)s=e[p+1]-e[p],l=t[p+1]-t[p],a.push(s),i.push(l),o.push(l/s);const u=[o[0]];for(let p=0;p<a.length-1;p++){const e=o[p],t=o[p+1];if(e*t<=0)u.push(0);else{s=a[p];const n=a[p+1],r=s+n;u.push(3*r/((r+n)/e+(r+s)/t))}}u.push(o[o.length-1]);const c=[],d=[];let f;for(let p=0;p<u.length-1;p++){f=o[p];const e=u[p],t=1/a[p],n=e+u[p+1]-f-f;c.push((f-e-n)*t),d.push(n*t*t)}this.xs=e,this.ys=t,this.c1s=u,this.c2s=c,this.c3s=d}}function v(e){const t=1===e.nodeType?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function y(e){return{x:e.clientX,y:e.clientY}}function b(e,t,n,r,i){const a="IMG"===(o=t).nodeName&&(h()||!(null===(s=document.documentElement)||void 0===s?void 0:s.contains(o)));var o,s;const l=v(a?e:t),u={x:n.x-l.x,y:n.y-l.y},{offsetWidth:c,offsetHeight:d}=e,{anchorX:f,anchorY:p}=r,{dragPreviewWidth:y,dragPreviewHeight:b}=function(e,t,n,r){let i=e?t.width:n,a=e?t.height:r;return m()&&e&&(a/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:a}}(a,t,c,d),{offsetX:w,offsetY:S}=i,_=0===S||S;return{x:0===w||w?w:new g([0,.5,1],[u.x,u.x/c*y,u.x+y-c]).interpolate(f),y:_?S:(()=>{let e=new g([0,.5,1],[u.y,u.y/d*b,u.y+b-d]).interpolate(p);return m()&&a&&(e+=(window.devicePixelRatio-1)*b),e})()}}class w{get window(){return this.globalContext?this.globalContext:"undefined"!==typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}class x{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var t;void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);const r=t=>this.handleDragStart(t,e),i=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",r),t.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",r),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const n=t=>this.handleDragEnter(t,e),r=t=>this.handleDragOver(t,e),i=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",r),t.addEventListener("drop",i),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",r),t.removeEventListener("drop",i)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return _({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return _({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(r).some((t=>r[t]===e))}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){const n=f[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new o(n);return r.loadDataTransfer(t),r}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var e;if(this.currentDragSourceNode=null,this.rootElement)null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0);return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&v(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>Boolean(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{const e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!==typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!==typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;const{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;const n=y(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:n});const{dataTransfer:r}=e,i=p(r);if(this.monitor.isDragging()){if(r&&"function"===typeof r.setDragImage){const e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),i=this.sourcePreviewNodes.get(e)||t;if(i){const{anchorX:e,anchorY:a,offsetX:o,offsetY:s}=this.getCurrentSourcePreviewNodeOptions(),l=b(t,i,n,{anchorX:e,anchorY:a},{offsetX:o,offsetY:s});r.setDragImage(i,l.x,l.y)}}try{null===r||void 0===r||r.setData("application/json",{})}catch(a){}this.setCurrentDragSourceNode(e.target);const{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(i)this.beginDragNativeItem(i);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{var t;(this.dragEnterTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;const{dataTransfer:n}=e,r=p(n);r&&this.beginDragNativeItem(r,n)},this.handleTopDragEnter=e=>{const{dragEnterTargetIds:t}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:y(e)});t.some((e=>this.monitor.canDropOnTarget(e)))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=e=>{var t;(this.dragOverTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=e=>{const{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));this.altKeyPressed=e.altKey,this.lastClientOffset=y(e),this.scheduleHover(t);(t||[]).some((e=>this.monitor.canDropOnTarget(e)))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault();this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=e=>{var t;(this.dropTargetIds=[],this.isDraggingNativeItem())?(e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):p(e.dataTransfer)&&e.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{const{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:y(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{const t=e.target;"function"===typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new w(t,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new a(this.isNodeInDocument)}}const T=function(e,t,n){return new x(e,t,n)}},82667:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r=(0,n(67294).createContext)({dragDropManager:void 0})},12405:(e,t,n)=>{"use strict";n.d(t,{W:()=>fe});var r=n(85893),i=n(97779),a=n(14912);function o(e){return"object"===typeof e}const s="dnd-core/INIT_COORDS",l="dnd-core/BEGIN_DRAG",u="dnd-core/PUBLISH_DRAG_SOURCE",c="dnd-core/HOVER",d="dnd-core/DROP",f="dnd-core/END_DRAG";function p(e,t){return{type:s,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const h={type:s,payload:{clientOffset:null,sourceClientOffset:null}};function m(e){return function(t=[],n={publishSource:!0}){const{publishSource:r=!0,clientOffset:i,getSourceClientOffset:s}=n,u=e.getMonitor(),c=e.getRegistry();e.dispatch(p(i)),function(e,t,n){(0,a.k)(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){(0,a.k)(n.getSource(e),"Expected sourceIds to be registered.")}))}(t,u,c);const d=function(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,u);if(null==d)return void e.dispatch(h);let f=null;if(i){if(!s)throw new Error("getSourceClientOffset must be defined");!function(e){(0,a.k)("function"===typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(s),f=s(d)}e.dispatch(p(i,f));const m=c.getSource(d).beginDrag(u,d);if(null==m)return;!function(e){(0,a.k)(o(e),"Item must be an object.")}(m),c.pinSource(d);const g=c.getSourceType(d);return{type:l,payload:{itemType:g,item:m,sourceId:d,clientOffset:i||null,sourceClientOffset:f||null,isSourcePublic:!!r}}}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}function y(e){return function(t={}){const n=e.getMonitor(),r=e.getRegistry();!function(e){(0,a.k)(e.isDragging(),"Cannot call drop while not dragging."),(0,a.k)(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n);const i=function(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n);i.forEach(((i,s)=>{const l=function(e,t,n,r){const i=n.getTarget(e);let s=i?i.drop(r,e):void 0;(function(e){(0,a.k)("undefined"===typeof e||o(e),"Drop result must either be an object or undefined.")})(s),"undefined"===typeof s&&(s=0===t?{}:r.getDropResult());return s}(i,s,r,n),u={type:d,payload:{dropResult:v({},t,l)}};e.dispatch(u)}))}}function b(e){return function(){const t=e.getMonitor(),n=e.getRegistry();!function(e){(0,a.k)(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);const r=t.getSourceId();if(null!=r){n.getSource(r,!0).endDrag(t,r),n.unpinSource()}return{type:f}}}function w(e,t){return null===t?null===e:Array.isArray(e)?e.some((e=>e===t)):e===t}function S(e){return function(t,{clientOffset:n}={}){!function(e){(0,a.k)(Array.isArray(e),"Expected targetIds to be an array.")}(t);const r=t.slice(0),i=e.getMonitor(),o=e.getRegistry();return function(e,t,n){for(let r=e.length-1;r>=0;r--){const i=e[r];w(t.getTargetType(i),n)||e.splice(r,1)}}(r,o,i.getItemType()),function(e,t,n){(0,a.k)(t.isDragging(),"Cannot call hover while not dragging."),(0,a.k)(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const t=e[r];(0,a.k)(e.lastIndexOf(t)===r,"Expected targetIds to be unique in the passed array.");const i=n.getTarget(t);(0,a.k)(i,"Expected targetIds to be registered.")}}(r,i,o),function(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}(r,i,o),{type:c,payload:{targetIds:r,clientOffset:n||null}}}}function _(e){return function(){if(e.getMonitor().isDragging())return{type:u}}}class x{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;const n=function(e){return{beginDrag:m(e),publishDragSource:_(e),hover:S(e),drop:y(e),endDrag:b(e)}}(this);return Object.keys(n).reduce(((r,i)=>{const a=n[i];var o;return r[i]=(o=a,(...n)=>{const r=o.apply(e,n);"undefined"!==typeof r&&t(r)}),r}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function T(e,t){return{x:e.x-t.x,y:e.y-t.y}}const k=[],E=[];k.__IS_NONE__=!0,E.__IS_ALL__=!0;class C{subscribeToStateChange(e,t={}){const{handlerIds:n}=t;(0,a.k)("function"===typeof e,"listener must be a function."),(0,a.k)("undefined"===typeof n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId;return this.store.subscribe((()=>{const t=this.store.getState(),i=t.stateId;try{const a=i===r||i===r+1&&!function(e,t){return e!==k&&(e===E||"undefined"===typeof t||(n=e,t.filter((e=>n.indexOf(e)>-1))).length>0);var n}(t.dirtyHandlerIds,n);a||e()}finally{r=i}}))}subscribeToOffsetChange(e){(0,a.k)("function"===typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe((()=>{const n=this.store.getState().dragOffset;n!==t&&(t=n,e())}))}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return(0,a.k)(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if((0,a.k)(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;return w(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if((0,a.k)(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;return this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const r=this.registry.getTargetType(e),i=this.getItemType();if(i&&!w(r,i))return!1;const a=this.getTargetIds();if(!a.length)return!1;const o=a.indexOf(e);return n?o===a.length-1:o>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return t&&n&&r?T((a=r,{x:(i=t).x+a.x,y:i.y+a.y}),n):null;var i,a}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){const{clientOffset:t,initialClientOffset:n}=e;return t&&n?T(t,n):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const O="undefined"!==typeof global?global:self,P=O.MutationObserver||O.WebKitMutationObserver;function I(e){return function(){const t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}const A="function"===typeof P?function(e){let t=1;const n=new P(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}:I;class D{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const M=new class{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,n=e.length-this.index;t<n;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=A(this.flush),this.requestErrorThrow=I((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},R=new class{create(e){const t=this.freeTasks,n=t.length?t.pop():new D(this.onError,(e=>t[t.length]=e));return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}(M.registerPendingError);const N="dnd-core/ADD_SOURCE",L="dnd-core/ADD_TARGET",j="dnd-core/REMOVE_SOURCE",B="dnd-core/REMOVE_TARGET";function F(e,t){t&&Array.isArray(e)?e.forEach((e=>F(e,!1))):(0,a.k)("string"===typeof e||"symbol"===typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var U;!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(U||(U={}));let H=0;function z(e){const t=(H++).toString();switch(e){case U.SOURCE:return`S${t}`;case U.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function V(e){switch(e[0]){case"S":return U.SOURCE;case"T":return U.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function $(e,t){const n=e.entries();let r=!1;do{const{done:e,value:[,i]}=n.next();if(i===t)return!0;r=!!e}while(!r);return!1}class G{addSource(e,t){F(e),function(e){(0,a.k)("function"===typeof e.canDrag,"Expected canDrag to be a function."),(0,a.k)("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),(0,a.k)("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(t);const n=this.addHandler(U.SOURCE,e,t);return this.store.dispatch(function(e){return{type:N,payload:{sourceId:e}}}(n)),n}addTarget(e,t){F(e,!0),function(e){(0,a.k)("function"===typeof e.canDrop,"Expected canDrop to be a function."),(0,a.k)("function"===typeof e.hover,"Expected hover to be a function."),(0,a.k)("function"===typeof e.drop,"Expected beginDrag to be a function.")}(t);const n=this.addHandler(U.TARGET,e,t);return this.store.dispatch(function(e){return{type:L,payload:{targetId:e}}}(n)),n}containsHandler(e){return $(this.dragSources,e)||$(this.dropTargets,e)}getSource(e,t=!1){(0,a.k)(this.isSourceId(e),"Expected a valid source ID.");return t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return(0,a.k)(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return(0,a.k)(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return(0,a.k)(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return V(e)===U.SOURCE}isTargetId(e){return V(e)===U.TARGET}removeSource(e){var t;(0,a.k)(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:j,payload:{sourceId:e}}}(e)),t=()=>{this.dragSources.delete(e),this.types.delete(e)},M.enqueueTask(R.create(t))}removeTarget(e){(0,a.k)(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:B,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);(0,a.k)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){(0,a.k)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const r=z(e);return this.types.set(r,t),e===U.SOURCE?this.dragSources.set(r,n):e===U.TARGET&&this.dropTargets.set(r,n),r}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const W=(e,t)=>e===t;function q(e=k,t){switch(t.type){case c:break;case N:case L:case B:case j:return k;default:return E}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,i=function(e,t){const n=new Map,r=e=>{n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);const i=[];return n.forEach(((e,t)=>{1===e&&i.push(t)})),i}(n,r);if(!(i.length>0||!function(e,t,n=W){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(n,r)))return k;const a=r[r.length-1],o=n[n.length-1];return a!==o&&(a&&i.push(a),o&&i.push(o)),i}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const K={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function X(e=K,t){const{payload:n}=t;switch(t.type){case s:case l:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case c:return r=e.clientOffset,i=n.clientOffset,!r&&!i||r&&i&&r.x===i.x&&r.y===i.y?e:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Z(e,t,n[t])}))}return e}({},e,{clientOffset:n.clientOffset});case f:case d:return K;default:return e}var r,i}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Y(e,t,n[t])}))}return e}const J={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function ee(e=J,t){const{payload:n}=t;switch(t.type){case l:return Q({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case u:return Q({},e,{isSourcePublic:!0});case c:return Q({},e,{targetIds:n.targetIds});case B:return-1===e.targetIds.indexOf(n.targetId)?e:Q({},e,{targetIds:(r=e.targetIds,i=n.targetId,r.filter((e=>e!==i)))});case d:return Q({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case f:return Q({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var r,i}function te(e=0,t){switch(t.type){case N:case L:return e+1;case j:case B:return e-1;default:return e}}function ne(e=0){return e+1}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){re(e,t,n[t])}))}return e}function ae(e={},t){return{dirtyHandlerIds:q(e.dirtyHandlerIds,{type:t.type,payload:ie({},t.payload,{prevTargetIds:(n=e,r="dragOperation.targetIds",i=[],r.split(".").reduce(((e,t)=>e&&e[t]?e[t]:i||null),n))})}),dragOffset:X(e.dragOffset,t),refCount:te(e.refCount,t),dragOperation:ee(e.dragOperation,t),stateId:ne(e.stateId)};var n,r,i}function oe(e,t,n={},r=!1){const a=function(e){const t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return(0,i.MT)(ae,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(r),o=new C(a,new G(a)),s=new x(a,o),l=e(s,t,n);return s.receiveBackend(l),s}var se=n(67294),le=n(82667);function ue(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let ce=0;const de=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var fe=(0,se.memo)((function(e){var{children:t}=e,n=ue(e,["children"]);const[i,a]=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}const t=function(e,t=pe(),n,r){const i=t;i[de]||(i[de]={dragDropManager:oe(e,t,n,r)});return i[de]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(n);return(0,se.useEffect)((()=>{if(a){const e=pe();return++ce,()=>{0===--ce&&(e[de]=null)}}}),[]),(0,r.jsx)(le.L.Provider,{value:i,children:t})}));function pe(){return"undefined"!==typeof global?global:window}},89258:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(64063),i=n(67294),a=n(66618);function o(e,t,n){const[o,s]=function(e,t,n){const[o,s]=(0,i.useState)((()=>t(e))),l=(0,i.useCallback)((()=>{const i=t(e);r(o,i)||(s(i),n&&n())}),[o,e,n]);return(0,a.L)(l),[o,l]}(e,t,n);return(0,a.L)((function(){const t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(s,{handlerIds:[t]})}),[e,s]),o}function s(e,t,n){return o(t,e||(()=>({})),(()=>n.reconnect()))}},86487:(e,t,n)=>{"use strict";n.d(t,{c:()=>S});var r=n(14912),i=n(89258),a=n(72203),o=n(67294);function s(e){return(0,o.useMemo)((()=>e.hooks.dragSource()),[e])}function l(e){return(0,o.useMemo)((()=>e.hooks.dragPreview()),[e])}var u=n(46580),c=n(98697),d=n(41317);class f{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();n&&this.disconnectDragPreview(),this.handlerId&&(t?n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions)):this.lastConnectedDragPreview=t)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!(0,u.w)(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!(0,u.w)(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=(0,d.p)({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,(0,c.d)(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,(0,c.d)(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}var p=n(5109),h=n(66618);let m=!1,g=!1;class v{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){(0,r.k)(!m,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return m=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{m=!1}}isDragging(){if(!this.sourceId)return!1;(0,r.k)(!g,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return g=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{g=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}var y=n(55872);class b{beginDrag(){const e=this.spec,t=this.monitor;let n=null;return n="object"===typeof e.item?e.item:"function"===typeof e.item?e.item(t):{},null!==n&&void 0!==n?n:null}canDrag(){const e=this.spec,t=this.monitor;return"boolean"===typeof e.canDrag?e.canDrag:"function"!==typeof e.canDrag||e.canDrag(t)}isDragging(e,t){const n=this.spec,r=this.monitor,{isDragging:i}=n;return i?i(r):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:r}=e;r&&r(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}function w(e,t,n){const i=(0,p.N)(),a=function(e,t,n){const r=(0,o.useMemo)((()=>new b(e,t,n)),[t,n]);return(0,o.useEffect)((()=>{r.spec=e}),[e]),r}(e,t,n),s=function(e){return(0,o.useMemo)((()=>{const t=e.type;return(0,r.k)(null!=t,"spec.type must be defined"),t}),[e])}(e);(0,h.L)((function(){if(null!=s){const[e,r]=(0,y.w)(s,a,i);return t.receiveHandlerId(e),n.receiveHandlerId(e),r}}),[i,t,n,a,s])}function S(e,t){const n=(0,a.w)(e,t);(0,r.k)(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const u=function(){const e=(0,p.N)();return(0,o.useMemo)((()=>new v(e)),[e])}(),c=function(e,t){const n=(0,p.N)(),r=(0,o.useMemo)((()=>new f(n.getBackend())),[n]);return(0,h.L)((()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource())),[r,e]),(0,h.L)((()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview())),[r,t]),r}(n.options,n.previewOptions);return w(n,u,c),[(0,i.J)(n.collect,u,c),s(c),l(c)]}},5109:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var r=n(14912),i=n(67294),a=n(82667);function o(){const{dragDropManager:e}=(0,i.useContext)(a.L);return(0,r.k)(null!=e,"Expected drag drop context"),e}},60994:(e,t,n)=>{"use strict";n.d(t,{L:()=>b});var r=n(89258),i=n(72203),a=n(67294);function o(e){return(0,a.useMemo)((()=>e.hooks.dropTarget()),[e])}var s=n(46580),l=n(98697),u=n(41317);class c{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!(0,s.w)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=(0,u.p)({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,(0,l.d)(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}var d=n(5109),f=n(66618);var p=n(14912);let h=!1;class m{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;(0,p.k)(!h,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return h=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{h=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}var g=n(55872);class v{canDrop(){const e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function y(e,t,n){const r=(0,d.N)(),i=function(e,t){const n=(0,a.useMemo)((()=>new v(e,t)),[t]);return(0,a.useEffect)((()=>{n.spec=e}),[e]),n}(e,t),o=function(e){const{accept:t}=e;return(0,a.useMemo)((()=>((0,p.k)(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t])),[t])}(e);(0,f.L)((function(){const[e,a]=(0,g.n)(o,i,r);return t.receiveHandlerId(e),n.receiveHandlerId(e),a}),[r,t,i,n,o.map((e=>e.toString())).join("|")])}function b(e,t){const n=(0,i.w)(e,t),s=function(){const e=(0,d.N)();return(0,a.useMemo)((()=>new m(e)),[e])}(),l=function(e){const t=(0,d.N)(),n=(0,a.useMemo)((()=>new c(t.getBackend())),[t]);return(0,f.L)((()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget())),[e]),n}(n.options);return y(n,s,l),[(0,r.J)(n.collect,s,l),o(l)]}},66618:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var r=n(67294);const i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},72203:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var r=n(67294);function i(e,t){const n=[...t||[]];return null==t&&"function"!==typeof e&&n.push(e),(0,r.useMemo)((()=>"function"===typeof e?e():e),n)}},98697:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}n.d(t,{d:()=>r})},55872:(e,t,n)=>{"use strict";function r(e,t,n){const r=n.getRegistry(),i=r.addTarget(e,t);return[i,()=>r.removeTarget(i)]}function i(e,t,n){const r=n.getRegistry(),i=r.addSource(e,t);return[i,()=>r.removeSource(i)]}n.d(t,{n:()=>r,w:()=>i})},41317:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var r=n(14912),i=n(67294);function a(e){return(t=null,n=null)=>{if(!(0,i.isValidElement)(t)){const r=t;return e(r,n),r}const a=t;!function(e){if("string"===typeof e.type)return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(a);return function(e,t){const n=e.ref;return(0,r.k)("string"!==typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,i.cloneElement)(e,{ref:e=>{s(n,e),s(t,e)}}):(0,i.cloneElement)(e,{ref:t})}(a,n?t=>e(t,n):e)}}function o(e){const t={};return Object.keys(e).forEach((n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const e=a(r);t[n]=()=>e}})),t}function s(e,t){"function"===typeof e?e(t):e.current=t}},96042:(e,t,n)=>{"use strict";n.d(t,{Ix:()=>O,Am:()=>j});var r=n(67294);function i(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const a=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=i(e))&&(r&&(r+=" "),r+=t);return r};function o(e){return"number"==typeof e&&!isNaN(e)}function s(e){return"boolean"==typeof e}function l(e){return"string"==typeof e}function u(e){return"function"==typeof e}function c(e){return l(e)||u(e)?e:null}function d(e){return 0===e||e}function f(e){return(0,r.isValidElement)(e)||l(e)||u(e)||o(e)}const p={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},h={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function m(e){let{enter:t,exit:n,appendPosition:i=!1,collapse:a=!0,collapseDuration:o=300}=e;return function(e){let{children:s,position:l,preventExitTransition:u,done:c,nodeRef:d,isIn:f}=e;const p=i?t+"--"+l:t,h=i?n+"--"+l:n,m=(0,r.useRef)(),g=(0,r.useRef)(0);function v(e){if(e.target!==d.current)return;const t=d.current;t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",v),t.removeEventListener("animationcancel",v),0===g.current&&"animationcancel"!==e.type&&(t.className=m.current)}function y(){const e=d.current;e.removeEventListener("animationend",y),a?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,c,o):c()}return(0,r.useLayoutEffect)((()=>{!function(){const e=d.current;m.current=e.className,e.className+=" "+p,e.addEventListener("animationend",v),e.addEventListener("animationcancel",v)}()}),[]),(0,r.useEffect)((()=>{f||(u?y():function(){g.current=1;const e=d.current;e.className+=" "+h,e.addEventListener("animationend",y)}())}),[f]),r.createElement(r.Fragment,null,s)}}function g(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}const v={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter((e=>e!==t));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach((t=>{const n=setTimeout((()=>{t(...[].slice.call(arguments,1))}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)}))}},y=e=>{let{theme:t,type:n,...i}=e;return r.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-"+n+")",...i})},b={info:function(e){return r.createElement(y,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(y,{...e},r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(y,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(y,{...e},r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function w(e){const[,t]=(0,r.useReducer)((e=>e+1),0),[n,i]=(0,r.useState)([]),a=(0,r.useRef)(null),p=(0,r.useRef)(new Map).current,h=e=>-1!==n.indexOf(e),m=(0,r.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:h,getToast:e=>p.get(e)}).current;function y(e){let{containerId:t}=e;const{limit:n}=m.props;!n||t&&m.containerId!==t||(m.count-=m.queue.length,m.queue=[])}function w(e){i((t=>d(e)?t.filter((t=>t!==e)):[]))}function S(){const{toastContent:e,toastProps:t,staleId:n}=m.queue.shift();x(e,t,n)}function _(e,n){let{delay:i,staleId:h,...y}=n;if(!f(e)||function(e){return!a.current||m.props.enableMultiContainer&&e.containerId!==m.props.containerId||p.has(e.toastId)&&null==e.updateId}(y))return;const{toastId:_,updateId:T,data:k}=y,{props:E}=m,C=()=>w(_),O=null==T;O&&m.count++;const P={toastId:_,updateId:T,data:k,containerId:y.containerId,isLoading:y.isLoading,theme:y.theme||E.theme,icon:null!=y.icon?y.icon:E.icon,isIn:!1,key:y.key||m.toastKey++,type:y.type,closeToast:C,closeButton:y.closeButton,rtl:E.rtl,position:y.position||E.position,transition:y.transition||E.transition,className:c(y.className||E.toastClassName),bodyClassName:c(y.bodyClassName||E.bodyClassName),style:y.style||E.toastStyle,bodyStyle:y.bodyStyle||E.bodyStyle,onClick:y.onClick||E.onClick,pauseOnHover:s(y.pauseOnHover)?y.pauseOnHover:E.pauseOnHover,pauseOnFocusLoss:s(y.pauseOnFocusLoss)?y.pauseOnFocusLoss:E.pauseOnFocusLoss,draggable:s(y.draggable)?y.draggable:E.draggable,draggablePercent:y.draggablePercent||E.draggablePercent,draggableDirection:y.draggableDirection||E.draggableDirection,closeOnClick:s(y.closeOnClick)?y.closeOnClick:E.closeOnClick,progressClassName:c(y.progressClassName||E.progressClassName),progressStyle:y.progressStyle||E.progressStyle,autoClose:!y.isLoading&&(I=y.autoClose,A=E.autoClose,!1===I||o(I)&&I>0?I:A),hideProgressBar:s(y.hideProgressBar)?y.hideProgressBar:E.hideProgressBar,progress:y.progress,role:y.role||E.role,deleteToast(){const e=g(p.get(_),"removed");p.delete(_),v.emit(4,e);const n=m.queue.length;if(m.count=d(_)?m.count-1:m.count-m.displayedToast,m.count<0&&(m.count=0),n>0){const e=d(_)?1:m.props.limit;if(1===n||1===e)m.displayedToast++,S();else{const t=e>n?n:e;m.displayedToast=t;for(let e=0;e<t;e++)S()}}else t()}};var I,A;P.iconOut=function(e){let{theme:t,type:n,isLoading:i,icon:a}=e,s=null;const c={theme:t,type:n};return!1===a||(u(a)?s=a(c):(0,r.isValidElement)(a)?s=(0,r.cloneElement)(a,c):l(a)||o(a)?s=a:i?s=b.spinner():(e=>e in b)(n)&&(s=b[n](c))),s}(P),u(y.onOpen)&&(P.onOpen=y.onOpen),u(y.onClose)&&(P.onClose=y.onClose),P.closeButton=E.closeButton,!1===y.closeButton||f(y.closeButton)?P.closeButton=y.closeButton:!0===y.closeButton&&(P.closeButton=!f(E.closeButton)||E.closeButton);let D=e;(0,r.isValidElement)(e)&&!l(e.type)?D=(0,r.cloneElement)(e,{closeToast:C,toastProps:P,data:k}):u(e)&&(D=e({closeToast:C,toastProps:P,data:k})),E.limit&&E.limit>0&&m.count>E.limit&&O?m.queue.push({toastContent:D,toastProps:P,staleId:h}):o(i)?setTimeout((()=>{x(D,P,h)}),i):x(D,P,h)}function x(e,t,n){const{toastId:r}=t;n&&p.delete(n);const a={content:e,props:t};p.set(r,a),i((e=>[...e,r].filter((e=>e!==n)))),v.emit(4,g(a,null==a.props.updateId?"added":"updated"))}return(0,r.useEffect)((()=>(m.containerId=e.containerId,v.cancelEmit(3).on(0,_).on(1,(e=>a.current&&w(e))).on(5,y).emit(2,m),()=>v.emit(3,m))),[]),(0,r.useEffect)((()=>{m.props=e,m.isToastActive=h,m.displayedToast=n.length})),{getToastToRender:function(t){const n=new Map,r=Array.from(p.values());return e.newestOnTop&&r.reverse(),r.forEach((e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},containerRef:a,isToastActive:h}}function S(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function _(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function x(e){const[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!1),o=(0,r.useRef)(null),s=(0,r.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,r.useRef)(e),{autoClose:c,pauseOnHover:d,closeToast:f,onClick:p,closeOnClick:h}=e;function m(t){if(e.draggable){s.didMove=!1,document.addEventListener("mousemove",b),document.addEventListener("mouseup",w),document.addEventListener("touchmove",b),document.addEventListener("touchend",w);const n=o.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=n.getBoundingClientRect(),n.style.transition="",s.x=S(t.nativeEvent),s.y=_(t.nativeEvent),"x"===e.draggableDirection?(s.start=s.x,s.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(s.start=s.y,s.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function g(){if(s.boundingRect){const{top:t,bottom:n,left:r,right:i}=s.boundingRect;e.pauseOnHover&&s.x>=r&&s.x<=i&&s.y>=t&&s.y<=n?y():v()}}function v(){n(!0)}function y(){n(!1)}function b(n){const r=o.current;s.canDrag&&r&&(s.didMove=!0,t&&y(),s.x=S(n),s.y=_(n),s.delta="x"===e.draggableDirection?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),r.style.transform="translate"+e.draggableDirection+"("+s.delta+"px)",r.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function w(){document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",w);const t=o.current;if(s.canDrag&&s.didMove&&t){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return a(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}(0,r.useEffect)((()=>{l.current=e})),(0,r.useEffect)((()=>(o.current&&o.current.addEventListener("d",v,{once:!0}),u(e.onOpen)&&e.onOpen((0,r.isValidElement)(e.children)&&e.children.props),()=>{const e=l.current;u(e.onClose)&&e.onClose((0,r.isValidElement)(e.children)&&e.children.props)})),[]),(0,r.useEffect)((()=>(e.pauseOnFocusLoss&&(document.hasFocus()||y(),window.addEventListener("focus",v),window.addEventListener("blur",y)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",v),window.removeEventListener("blur",y))})),[e.pauseOnFocusLoss]);const x={onMouseDown:m,onTouchStart:m,onMouseUp:g,onTouchEnd:g};return c&&d&&(x.onMouseEnter=y,x.onMouseLeave=v),h&&(x.onClick=e=>{p&&p(e),s.canCloseOnClick&&f()}),{playToast:v,pauseToast:y,isRunning:t,preventExitTransition:i,toastRef:o,eventHandlers:x}}function T(e){let{closeToast:t,theme:n,ariaLabel:i="close"}=e;return r.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":i},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function k(e){let{delay:t,isRunning:n,closeToast:i,type:o,hide:s,className:l,style:c,controlledProgress:d,progress:f,rtl:p,isIn:h,theme:m}=e;const g={...c,animationDuration:t+"ms",animationPlayState:n?"running":"paused",opacity:s?0:1};d&&(g.transform="scaleX("+f+")");const v=a("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+m,"Toastify__progress-bar--"+o,{"Toastify__progress-bar--rtl":p}),y=u(l)?l({rtl:p,type:o,defaultClassName:v}):a(v,l);return r.createElement("div",{role:"progressbar","aria-hidden":s?"true":"false","aria-label":"notification timer",className:y,style:g,[d&&f>=1?"onTransitionEnd":"onAnimationEnd"]:d&&f<1?null:()=>{h&&i()}})}k.defaultProps={type:h.DEFAULT,hide:!1};const E=e=>{const{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:o}=x(e),{closeButton:s,children:l,autoClose:c,onClick:d,type:f,hideProgressBar:p,closeToast:h,transition:m,position:g,className:v,style:y,bodyClassName:b,bodyStyle:w,progressClassName:S,progressStyle:_,updateId:E,role:C,progress:O,rtl:P,toastId:I,deleteToast:A,isIn:D,isLoading:M,iconOut:R,theme:N}=e,L=a("Toastify__toast","Toastify__toast-theme--"+N,"Toastify__toast--"+f,{"Toastify__toast--rtl":P}),j=u(v)?v({rtl:P,position:g,type:f,defaultClassName:L}):a(L,v),B=!!O,F={closeToast:h,type:f,theme:N};let U=null;return!1===s||(U=u(s)?s(F):r.isValidElement(s)?r.cloneElement(s,F):T(F)),r.createElement(m,{isIn:D,done:A,position:g,preventExitTransition:n,nodeRef:i},r.createElement("div",{id:I,onClick:d,className:j,...o,style:y,ref:i},r.createElement("div",{...D&&{role:C},className:u(b)?b({type:f}):a("Toastify__toast-body",b),style:w},null!=R&&r.createElement("div",{className:a("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},R),r.createElement("div",null,l)),U,(c||B)&&r.createElement(k,{...E&&!B?{key:"pb-"+E}:{},rtl:P,theme:N,delay:c,isRunning:t,isIn:D,closeToast:h,hide:p,type:f,style:_,className:S,controlledProgress:B,progress:O})))},C=m({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),O=(m({enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0}),m({enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"}),m({enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"}),(0,r.forwardRef)(((e,t)=>{const{getToastToRender:n,containerRef:i,isToastActive:o}=w(e),{className:s,style:l,rtl:d,containerId:f}=e;function p(e){const t=a("Toastify__toast-container","Toastify__toast-container--"+e,{"Toastify__toast-container--rtl":d});return u(s)?s({position:e,rtl:d,defaultClassName:t}):a(t,c(s))}return(0,r.useEffect)((()=>{t&&(t.current=i.current)}),[]),r.createElement("div",{ref:i,className:"Toastify",id:f},n(((e,t)=>{const n=t.length?{...l}:{...l,pointerEvents:"none"};return r.createElement("div",{className:p(e),style:n,key:"container-"+e},t.map(((e,n)=>{let{content:i,props:a}=e;return r.createElement(E,{...a,isIn:o(a.toastId),style:{...a.style,"--nth":n+1,"--len":t.length},key:"toast-"+a.key},i)})))})))})));O.displayName="ToastContainer",O.defaultProps={position:p.TOP_RIGHT,transition:C,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:T,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let P,I=new Map,A=[];function D(){return Math.random().toString(36).substring(2,9)}function M(e){return e&&(l(e.toastId)||o(e.toastId))?e.toastId:D()}function R(e,t){return I.size>0?v.emit(0,e,t):A.push({content:e,options:t}),t.toastId}function N(e,t){return{...t,type:t&&t.type||e,toastId:M(t)}}function L(e){return(t,n)=>R(t,N(e,n))}function j(e,t){return R(e,N(h.DEFAULT,t))}j.loading=(e,t)=>R(e,N(h.DEFAULT,{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),j.promise=function(e,t,n){let r,{pending:i,error:a,success:o}=t;i&&(r=l(i)?j.loading(i,n):j.loading(i.render,{...n,...i}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},c=(e,t,i)=>{if(null==t)return void j.dismiss(r);const a={type:e,...s,...n,data:i},o=l(t)?{render:t}:t;return r?j.update(r,{...a,...o}):j(o.render,{...a,...o}),i},d=u(e)?e():e;return d.then((e=>c("success",o,e))).catch((e=>c("error",a,e))),d},j.success=L(h.SUCCESS),j.info=L(h.INFO),j.error=L(h.ERROR),j.warning=L(h.WARNING),j.warn=j.warning,j.dark=(e,t)=>R(e,N(h.DEFAULT,{theme:"dark",...t})),j.dismiss=e=>v.emit(1,e),j.clearWaitingQueue=function(e){return void 0===e&&(e={}),v.emit(5,e)},j.isActive=e=>{let t=!1;return I.forEach((n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},j.update=function(e,t){void 0===t&&(t={}),setTimeout((()=>{const n=function(e,t){let{containerId:n}=t;const r=I.get(n||P);return r?r.getToast(e):null}(e,t);if(n){const{props:r,content:i}=n,a={...r,...t,toastId:t.toastId||e,updateId:D()};a.toastId!==e&&(a.staleId=e);const o=a.render||i;delete a.render,R(o,a)}}),0)},j.done=e=>{j.update(e,{progress:1})},j.onChange=e=>(v.on(4,e),()=>{v.off(4,e)}),j.POSITION=p,j.TYPE=h,v.on(2,(e=>{P=e.containerId||e,I.set(P,e),A.forEach((e=>{v.emit(0,e.content,e.options)})),A=[]})).on(3,(e=>{I.delete(e.containerId||e),0===I.size&&v.off(0).off(1).off(5)}))},33600:e=>{"use strict";e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},59323:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\u{1d504}","afr":"\u{1d51e}","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1d538}","aopf":"\u{1d552}","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\u{1d49c}","ascr":"\u{1d4b6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\u{1d505}","bfr":"\u{1d51f}","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\u{1d539}","bopf":"\u{1d553}","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\u{1d4b7}","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\u{1d520}","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\u{1d554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\u{1d49e}","cscr":"\u{1d4b8}","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\u{1d507}","dfr":"\u{1d521}","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\u{1d53b}","dopf":"\u{1d555}","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\u{1d49f}","dscr":"\u{1d4b9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1d508}","efr":"\u{1d522}","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1d53c}","eopf":"\u{1d556}","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\u{1d509}","ffr":"\u{1d523}","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\u{1d53d}","fopf":"\u{1d557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\u{1d4bb}","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\u{1d50a}","gfr":"\u{1d524}","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\u{1d53e}","gopf":"\u{1d558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\u{1d4a2}","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\u{1d525}","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\u{1d559}","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1d4bd}","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\u{1d526}","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\u{1d540}","iopf":"\u{1d55a}","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\u{1d4be}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1d50d}","jfr":"\u{1d527}","jmath":"\u0237","Jopf":"\u{1d541}","jopf":"\u{1d55b}","Jscr":"\u{1d4a5}","jscr":"\u{1d4bf}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\u{1d50e}","kfr":"\u{1d528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\u{1d542}","kopf":"\u{1d55c}","Kscr":"\u{1d4a6}","kscr":"\u{1d4c0}","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\u{1d50f}","lfr":"\u{1d529}","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\u{1d543}","lopf":"\u{1d55d}","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\u{1d4c1}","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\u{1d510}","mfr":"\u{1d52a}","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\u{1d544}","mopf":"\u{1d55e}","mp":"\u2213","mscr":"\u{1d4c2}","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1d511}","nfr":"\u{1d52b}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\u{1d55f}","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\u{1d4a9}","nscr":"\u{1d4c3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\u{1d512}","ofr":"\u{1d52c}","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\u{1d546}","oopf":"\u{1d560}","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\u{1d4aa}","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\u{1d513}","pfr":"\u{1d52d}","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\u{1d561}","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\u{1d4ab}","pscr":"\u{1d4c5}","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\u{1d514}","qfr":"\u{1d52e}","qint":"\u2a0c","qopf":"\u{1d562}","Qopf":"\u211a","qprime":"\u2057","Qscr":"\u{1d4ac}","qscr":"\u{1d4c6}","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\u{1d52f}","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\u{1d563}","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\u{1d4c7}","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1d516}","sfr":"\u{1d530}","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\u{1d54a}","sopf":"\u{1d564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\u{1d4ae}","sscr":"\u{1d4c8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\u{1d517}","tfr":"\u{1d531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\u{1d54b}","topf":"\u{1d565}","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\u{1d4af}","tscr":"\u{1d4c9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\u{1d518}","ufr":"\u{1d532}","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1d54c}","uopf":"\u{1d566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\u{1d4b0}","uscr":"\u{1d4ca}","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\u{1d519}","vfr":"\u{1d533}","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\u{1d54d}","vopf":"\u{1d567}","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\u{1d4b1}","vscr":"\u{1d4cb}","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1d51a}","wfr":"\u{1d534}","Wopf":"\u{1d54e}","wopf":"\u{1d568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1d4b2}","wscr":"\u{1d4cc}","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\u{1d51b}","xfr":"\u{1d535}","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\u{1d54f}","xopf":"\u{1d569}","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\u{1d4b3}","xscr":"\u{1d4cd}","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\u{1d51c}","yfr":"\u{1d536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1d550}","yopf":"\u{1d56a}","Yscr":"\u{1d4b4}","yscr":"\u{1d4ce}","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\u{1d537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\u{1d56b}","Zopf":"\u2124","Zscr":"\u{1d4b5}","zscr":"\u{1d4cf}","zwj":"\u200d","zwnj":"\u200c"}')},29591:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","AElig":"\xc6","aelig":"\xe6","Agrave":"\xc0","agrave":"\xe0","amp":"&","AMP":"&","Aring":"\xc5","aring":"\xe5","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","brvbar":"\xa6","Ccedil":"\xc7","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","COPY":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","Eacute":"\xc9","eacute":"\xe9","Ecirc":"\xca","ecirc":"\xea","Egrave":"\xc8","egrave":"\xe8","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","GT":">","Iacute":"\xcd","iacute":"\xed","Icirc":"\xce","icirc":"\xee","iexcl":"\xa1","Igrave":"\xcc","igrave":"\xec","iquest":"\xbf","Iuml":"\xcf","iuml":"\xef","laquo":"\xab","lt":"<","LT":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","Ntilde":"\xd1","ntilde":"\xf1","Oacute":"\xd3","oacute":"\xf3","Ocirc":"\xd4","ocirc":"\xf4","Ograve":"\xd2","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","Oslash":"\xd8","oslash":"\xf8","Otilde":"\xd5","otilde":"\xf5","Ouml":"\xd6","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","QUOT":"\\"","raquo":"\xbb","reg":"\xae","REG":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","THORN":"\xde","thorn":"\xfe","times":"\xd7","Uacute":"\xda","uacute":"\xfa","Ucirc":"\xdb","ucirc":"\xfb","Ugrave":"\xd9","ugrave":"\xf9","uml":"\xa8","Uuml":"\xdc","uuml":"\xfc","Yacute":"\xdd","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},2586:e=>{"use strict";e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')}}]);